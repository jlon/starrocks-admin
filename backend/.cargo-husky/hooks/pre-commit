#!/usr/bin/env bash
# Git pre-commit hook for Rust backend
# Auto-format code before commit

set -e

echo "[pre-commit] Running Rust pre-commit checks..."

# Auto-format code
echo "[pre-commit] Formatting code..."
cargo fmt --all

# Stage formatted files
git diff --name-only --cached | grep '\.rs$' | xargs git add

echo "[pre-commit] Code formatted successfully!"

