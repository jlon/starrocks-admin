(self.webpackChunkngx_admin_demo=self.webpackChunkngx_admin_demo||[]).push([[865],{99865:(j,U,i)=>{"use strict";i.r(U),i.d(U,{StarRocksModule:()=>xn});var T=i(24006),w=i(45016),t=i(94650),M=i(36895),I=i(8929),D=i(56498),b=i(98723),y=i(27221),h=i(24850),n=i(72986);function e(Q,G,P,K){var Bt,tt=arguments.length,ot=tt<3?G:null===K?K=Object.getOwnPropertyDescriptor(G,P):K;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ot=Reflect.decorate(Q,G,P,K);else for(var oe=Q.length-1;oe>=0;oe--)(Bt=Q[oe])&&(ot=(tt<3?Bt(ot):tt>3?Bt(G,P,ot):Bt(G,P))||ot);return tt>3&&ot&&Object.defineProperty(G,P,ot),ot}function s(Q,G){return function(P,K){G(P,K,Q)}}function r(Q,G){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Q,G)}var $=i(80529);function Y(Q,G){if(1&Q&&(t.TgZ(0,"span",2),t._uU(1),t.qZA()),2&Q){const P=G.$implicit,K=t.oxw();t.Q6J("ngClass",P.isMatch?K.matchClass:null),t.xp6(1),t.Oqu(P.text)}}const V=function(Q,G){return{"completer-title":Q,"completer-description":G}},z=["ctrInput"];function k(Q,G){if(1&Q&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&Q){const P=t.oxw(3);t.xp6(1),t.Oqu(P._textSearching)}}function X(Q,G){if(1&Q&&(t.TgZ(0,"div",11),t._uU(1),t.qZA()),2&Q){const P=t.oxw(3);t.xp6(1),t.Oqu(P._textNoResults)}}function q(Q,G){if(1&Q&&t._UZ(0,"img",21),2&Q){const P=t.oxw(2).$implicit;t.s9C("src",P.image,t.LSH)}}function et(Q,G){1&Q&&t._UZ(0,"div",22)}function rt(Q,G){if(1&Q&&(t.TgZ(0,"div",18),t.YNc(1,q,1,1,"img",19),t.YNc(2,et,1,0,"div",20),t.qZA()),2&Q){const P=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",""!=P.image),t.xp6(1),t.Q6J("ngIf",""===P.image)}}function it(Q,G){if(1&Q&&t._UZ(0,"completer-list-item",23),2&Q){const P=t.oxw().$implicit,K=t.oxw(3);t.Q6J("text",P.description)("matchClass",K.matchClass)("searchStr",K.searchStr)("type","description")}}const lt=function(Q){return{"completer-item-text-image":Q}};function dt(Q,G){if(1&Q&&(t.TgZ(0,"div",12)(1,"div",13),t.YNc(2,rt,3,2,"div",14),t.TgZ(3,"div",15),t._UZ(4,"completer-list-item",16),t.YNc(5,it,1,4,"completer-list-item",17),t.qZA()()()),2&Q){const P=G.$implicit,K=G.index,tt=t.oxw(3);t.xp6(1),t.Q6J("ctrRow",K)("dataItem",P),t.xp6(1),t.Q6J("ngIf",P.image||""===P.image),t.xp6(1),t.Q6J("ngClass",t.VKq(9,lt,P.image||""===P.image)),t.xp6(1),t.Q6J("text",P.title)("matchClass",tt.matchClass)("searchStr",tt.searchStr)("type","title"),t.xp6(1),t.Q6J("ngIf",P.description&&""!=P.description)}}function ht(Q,G){if(1&Q&&(t.TgZ(0,"div",6),t.YNc(1,k,2,1,"div",7),t.YNc(2,X,2,1,"div",8),t.YNc(3,dt,6,11,"div",9),t.qZA()),2&Q){const P=t.oxw(),K=P.searching,tt=P.results,ot=t.oxw();t.xp6(1),t.Q6J("ngIf",K&&ot.displaySearching),t.xp6(1),t.Q6J("ngIf",!(K||tt&&0!==(null==tt?null:tt.length))),t.xp6(1),t.Q6J("ngForOf",tt)}}function gt(Q,G){if(1&Q&&(t.TgZ(0,"div",4),t.YNc(1,ht,4,3,"div",5),t.qZA()),2&Q){const P=G.results,K=G.searching,tt=G.searchInitialized,ot=G.isOpen,Bt=t.oxw();t.xp6(1),t.Q6J("ngIf",tt&&ot&&((null==P?null:P.length)>0||Bt.displayNoResults&&!K||K&&Bt.displaySearching))}}function yt(Q){return typeof Q>"u"||null===Q}class Tt extends I.xQ{constructor(){super(),this._searchFields=null,this._titleField=null,this._descriptionField=void 0,this._imageField=void 0}cancel(){}searchFields(G){return this._searchFields=G,this}titleField(G){return this._titleField=G,this}descriptionField(G){return this._descriptionField=G,this}imageField(G){return this._imageField=G,this}convertToItem(G){let K,P=null,tt=null;return K=this._titleField?this.extractTitle(G):G,"string"!=typeof K&&(K=JSON.stringify(K)),this._descriptionField&&(tt=this.extractValue(G,this._descriptionField)),this._imageField&&(P=this.extractValue(G,this._imageField)),yt(K)?null:{description:tt,image:P,originalObject:G,title:K}}extractMatches(G,P){let K=[];const tt=this._searchFields?this._searchFields.split(","):null;return K=null!=this._searchFields&&""!==P?G.filter(ot=>(tt?this.extractBySearchFields(tt,ot):[ot]).some(oe=>oe.toString().toLowerCase().indexOf(P.toString().toLowerCase())>=0)):G,K}extractTitle(G){return this._titleField?this._titleField.split(",").map(P=>this.extractValue(G,P)).reduce((P,K)=>P?`${P} ${K}`:K):""}extractValue(G,P){let K,tt;if(P)for(P of(K=P.split("."),tt=G,K))tt&&(tt=tt[P]);else tt=G;return tt}processResults(G){let P;const K=[];if(G&&G.length>0)for(P=0;P<G.length;P++){const tt=this.convertToItem(G[P]);tt&&K.push(tt)}return K}extractBySearchFields(G,P){return G.map(K=>this.extractValue(P,K)).filter(K=>!!K)}}class Pt extends Tt{constructor(){super(),this.dataSourceChange=new t.vpe,this._data=[],this.savedTerm=null}data(G){return G instanceof D.y?G.pipe((0,y.K)(()=>[])).subscribe(K=>{this._data=K,this.savedTerm&&this.search(this.savedTerm),this.dataSourceChange.emit()}):this._data=G,this.dataSourceChange.emit(),this}search(G){if(this._data){this.savedTerm=null;const P=this.extractMatches(this._data,G);this.next(this.processResults(P))}else this.savedTerm=G}convertToItem(G){return super.convertToItem(G)}}class Zt extends Tt{constructor(G){super(),this.http=G,this.dataSourceChange=new t.vpe,this._remoteUrl=null,this.remoteSearch=null,this._urlFormater=null,this._dataField=null}remoteUrl(G){return this._remoteUrl=G,this.dataSourceChange.emit(),this}urlFormater(G){this._urlFormater=G}dataField(G){this._dataField=G}requestOptions(G){this._requestOptions=G}search(G){this.cancel();let P="";P=this._urlFormater?this._urlFormater(G):this._remoteUrl+encodeURIComponent(G),this.remoteSearch=this.http.get(P,Object.assign({},this._requestOptions)).pipe((0,h.U)(K=>{const tt=this.extractValue(K,this._dataField);return this.extractMatches(tt,G)}),(0,y.K)(()=>[])).subscribe(K=>{const tt=this.processResults(K);this.next(tt)})}cancel(){this.remoteSearch&&this.remoteSearch.unsubscribe()}convertToItem(G){return super.convertToItem(G)}}let Vt=class{create(){return new Pt}};Vt.\u0275fac=function(G){return new(G||Vt)},Vt.\u0275prov=t.Yz7({token:Vt,factory:function(Q){return Vt.\u0275fac(Q)}});let ft=class{constructor(G){this.http=G}create(){return new Zt(this.http)}};ft.\u0275fac=function(G){return new(G||ft)(t.LFG($.eN))},ft.\u0275prov=t.Yz7({token:ft,factory:function(Q){return ft.\u0275fac(Q)}}),ft=e([r("design:paramtypes",[$.eN])],ft);let xt=class{constructor(G,P){this.localDataFactory=G,this.remoteDataFactory=P}local(G,P="",K=""){return this.localDataFactory.create().data(G).searchFields(P).titleField(K)}remote(G,P="",K=""){return this.remoteDataFactory.create().remoteUrl(G).searchFields(P).titleField(K)}};xt.\u0275fac=function(G){return new(G||xt)(t.LFG(Vt),t.LFG(ft))},xt.\u0275prov=t.Yz7({token:xt,factory:function(Q){return xt.\u0275fac(Q)}}),xt=e([r("design:paramtypes",[Vt,ft])],xt);let wt=class{constructor(){this.selected=new t.vpe,this.highlighted=new t.vpe,this.opened=new t.vpe,this.dataSourceChange=new t.vpe,this.list=null,this.dropdown=null,this._hasHighlighted=!1,this._hasSelected=!1,this._cancelBlur=!1,this._isOpen=!1,this._autoHighlightIndex=null}registerList(G){this.list=G}registerDropdown(G){this.dropdown=G}onHighlighted(G){this.highlighted.emit(G),this._hasHighlighted=!!G}onSelected(G,P=!0){this.selected.emit(G),G&&(this._hasSelected=!0),P&&this.clear()}onDataSourceChange(){this.hasSelected&&(this.selected.emit(null),this._hasSelected=!1),this.dataSourceChange.emit()}search(G){this._hasSelected&&(this.selected.emit(null),this._hasSelected=!1),this.list&&this.list.search(G)}clear(){this._hasHighlighted=!1,this.isOpen=!1,this.dropdown&&this.dropdown.clear(),this.list&&this.list.clear()}selectCurrent(){this.dropdown&&this.dropdown.selectCurrent()}nextRow(){this.dropdown&&this.dropdown.nextRow()}prevRow(){this.dropdown&&this.dropdown.prevRow()}hasHighlighted(){return this._hasHighlighted}cancelBlur(G){this._cancelBlur=G}isCancelBlur(){return this._cancelBlur}open(){!this._isOpen&&this.list&&(this.isOpen=!0,this.list.open())}get isOpen(){return this._isOpen}set isOpen(G){this._isOpen=G,this.opened.emit(this._isOpen),this.list&&this.list.isOpen(G)}get autoHighlightIndex(){return this._autoHighlightIndex}set autoHighlightIndex(G){this._autoHighlightIndex=G,this.dropdown&&this.dropdown.highlightRow(this._autoHighlightIndex)}get hasSelected(){return this._hasSelected}};wt.\u0275fac=function(G){return new(G||wt)},wt.\u0275dir=t.lG2({type:wt,selectors:[["","ctrCompleter",""]],outputs:{selected:"selected",highlighted:"highlighted",opened:"opened",dataSourceChange:"dataSourceChange"}}),e([(0,t.r_U)(),r("design:type",Object)],wt.prototype,"selected",void 0),e([(0,t.r_U)(),r("design:type",Object)],wt.prototype,"highlighted",void 0),e([(0,t.r_U)(),r("design:type",Object)],wt.prototype,"opened",void 0),e([(0,t.r_U)(),r("design:type",Object)],wt.prototype,"dataSourceChange",void 0);class Nt{constructor(G,P){this.row=G,this.index=P}}let Ot=class{constructor(G,P,K){this.completer=G,this.el=P,this.zone=K,this.rows=[],this.isScrollOn=!1,this._rowMouseDown=!1,this.completer.registerDropdown(this)}ngOnDestroy(){this.completer.registerDropdown(null)}ngAfterViewInit(){const G=getComputedStyle(this.el.nativeElement),P=this.completer.autoHighlightIndex;this.isScrollOn=!!G.maxHeight&&"auto"===G.overflowY,P&&this.zone.run(()=>{this.highlightRow(P)})}onMouseDown(G){this._rowMouseDown?this._rowMouseDown=!1:(this.completer.cancelBlur(!0),this.zone.run(()=>{this.completer.cancelBlur(!1)}))}registerRow(G){const P=this.rows.findIndex(K=>K.index===G.index);P>=0?this.rows[P]=G:this.rows.push(G)}unregisterRow(G){const P=this.rows.findIndex(K=>K.index===G);this.rows.splice(P,1),this.currHighlighted&&G===this.currHighlighted.index&&this.highlightRow(null)}highlightRow(G){const P=this.rows.find(K=>K.index===G);if(yt(G)||G<0)return this.currHighlighted&&this.currHighlighted.row.setHighlighted(!1),this.currHighlighted=void 0,void this.completer.onHighlighted(null);if(P&&(this.currHighlighted&&this.currHighlighted.row.setHighlighted(!1),this.currHighlighted=P,this.currHighlighted.row.setHighlighted(!0),this.completer.onHighlighted(this.currHighlighted.row.getDataItem()),this.isScrollOn&&this.currHighlighted)){const K=this.dropdownRowTop();if(!K)return;if(K<0)this.dropdownScrollTopTo(K-1);else{const tt=this.currHighlighted.row.getNativeElement();this.dropdownHeight()<tt.getBoundingClientRect().bottom&&(this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(tt)),this.el.nativeElement.getBoundingClientRect().bottom-this.dropdownRowOffsetHeight(tt)<tt.getBoundingClientRect().top&&this.dropdownScrollTopTo(tt.getBoundingClientRect().top-(this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).paddingTop,10))))}}}clear(){this.rows=[]}onSelected(G){this.completer.onSelected(G)}rowMouseDown(){this._rowMouseDown=!0}selectCurrent(){this.currHighlighted&&this.currHighlighted.row?this.onSelected(this.currHighlighted.row.getDataItem()):this.rows.length>0&&this.onSelected(this.rows[0].row.getDataItem())}nextRow(){let G=0;this.currHighlighted&&(G=this.currHighlighted.index+1),this.highlightRow(G)}prevRow(){let G=-1;this.currHighlighted&&(G=this.currHighlighted.index-1),this.highlightRow(G)}dropdownScrollTopTo(G){this.el.nativeElement.scrollTop=this.el.nativeElement.scrollTop+G}dropdownRowTop(){if(this.currHighlighted)return this.currHighlighted.row.getNativeElement().getBoundingClientRect().top-(this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).paddingTop,10))}dropdownHeight(){return this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).maxHeight,10)}dropdownRowOffsetHeight(G){const P=getComputedStyle(G.parentElement);return G.parentElement.offsetHeight+parseInt(P.marginTop,10)+parseInt(P.marginBottom,10)}};Ot.\u0275fac=function(G){return new(G||Ot)(t.Y36(wt,1),t.Y36(t.SBq),t.Y36(t.R0b))},Ot.\u0275dir=t.lG2({type:Ot,selectors:[["","ctrDropdown",""]],hostBindings:function(G,P){1&G&&t.NdJ("mousedown",function(tt){return P.onMouseDown(tt)})}}),e([(0,t.L6J)("mousedown",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],Ot.prototype,"onMouseDown",null),Ot=e([s(0,(0,t.AA_)()),r("design:paramtypes",[wt,t.SBq,t.R0b])],Ot);let he=class{constructor(G,P,K){this.completer=G,this.ngModel=P,this.el=K,this.clearSelected=!1,this.clearUnselected=!1,this.overrideSuggested=!1,this.fillHighlighted=!0,this.openOnFocus=!1,this.openOnClick=!1,this.selectOnClick=!1,this.selectOnFocus=!1,this.ngModelChange=new t.vpe,this._searchStr="",this._displayStr="",this.blurTimer=null,this.completer.selected.subscribe(tt=>{tt&&(this.searchStr=this.clearSelected?"":tt.title,this.ngModelChange.emit(this.searchStr))}),this.completer.highlighted.subscribe(tt=>{this.fillHighlighted&&(tt?(this._displayStr=tt.title,this.ngModelChange.emit(tt.title)):(this._displayStr=this.searchStr,this.ngModelChange.emit(this.searchStr)))}),this.completer.dataSourceChange.subscribe(()=>{this.completer.search(this.searchStr)}),this.ngModel.valueChanges&&this.ngModel.valueChanges.subscribe(tt=>{!yt(tt)&&this._displayStr!==tt&&(this.searchStr!==tt&&this.completer.search(tt),this.searchStr=tt)})}keyupHandler(G){37===G.keyCode||39===G.keyCode||9===G.keyCode||(38===G.keyCode||13===G.keyCode?G.preventDefault():40===G.keyCode?(G.preventDefault(),this.completer.search(this.searchStr)):27===G.keyCode&&this.completer.isOpen&&(this.restoreSearchValue(),this.completer.clear(),G.stopPropagation(),G.preventDefault()))}pasteHandler(G){this.completer.open()}keydownHandler(G){const P=G.keyCode||G.which;13===P?(this.completer.hasHighlighted()&&G.preventDefault(),this.handleSelection()):40===P?(G.preventDefault(),this.completer.open(),this.completer.nextRow()):38===P?(G.preventDefault(),this.completer.prevRow()):9===P?this.handleSelection():8===P?this.completer.open():27===P?(G.preventDefault(),this.completer.isOpen&&G.stopPropagation()):0!==P&&16!==P&&20!==P&&(P<=112||P>=123)&&!G.ctrlKey&&!G.metaKey&&!G.altKey&&this.completer.open()}onBlur(G){this.completer.isCancelBlur()?setTimeout(()=>{this.el.nativeElement.focus()},0):this.completer.isOpen&&(this.blurTimer=(0,b.H)(200).pipe((0,n.q)(1)).subscribe(()=>this.doBlur()))}onfocus(){this.blurTimer&&(this.blurTimer.unsubscribe(),this.blurTimer=null),this.selectOnFocus&&this.el.nativeElement.select(),this.openOnFocus&&this.completer.open()}onClick(G){this.selectOnClick&&this.el.nativeElement.select(),this.openOnClick&&(this.completer.isOpen?this.completer.clear():this.completer.open())}get searchStr(){return this._searchStr}set searchStr(G){this._searchStr=G,this._displayStr=G}handleSelection(){this.completer.hasHighlighted()?(this._searchStr="",this.completer.selectCurrent()):this.overrideSuggested?this.completer.onSelected({title:this.searchStr,originalObject:null}):(this.clearUnselected&&!this.completer.hasSelected&&(this.searchStr="",this.ngModelChange.emit(this.searchStr)),this.completer.clear())}restoreSearchValue(){this.fillHighlighted&&this._displayStr!==this.searchStr&&(this._displayStr=this.searchStr,this.ngModelChange.emit(this.searchStr))}doBlur(){this.blurTimer&&(this.blurTimer.unsubscribe(),this.blurTimer=null),this.overrideSuggested?this.completer.onSelected({title:this.searchStr,originalObject:null}):this.clearUnselected&&!this.completer.hasSelected?(this.searchStr="",this.ngModelChange.emit(this.searchStr)):this.restoreSearchValue(),this.completer.clear()}};he.\u0275fac=function(G){return new(G||he)(t.Y36(wt,1),t.Y36(T.On),t.Y36(t.SBq))},he.\u0275dir=t.lG2({type:he,selectors:[["","ctrInput",""]],hostBindings:function(G,P){1&G&&t.NdJ("keyup",function(tt){return P.keyupHandler(tt)})("paste",function(tt){return P.pasteHandler(tt)})("keydown",function(tt){return P.keydownHandler(tt)})("blur",function(tt){return P.onBlur(tt)})("focus",function(){return P.onfocus()})("click",function(tt){return P.onClick(tt)})},inputs:{clearSelected:"clearSelected",clearUnselected:"clearUnselected",overrideSuggested:"overrideSuggested",fillHighlighted:"fillHighlighted",openOnFocus:"openOnFocus",openOnClick:"openOnClick",selectOnClick:"selectOnClick",selectOnFocus:"selectOnFocus"},outputs:{ngModelChange:"ngModelChange"}}),e([(0,t.IIB)("clearSelected"),r("design:type",Object)],he.prototype,"clearSelected",void 0),e([(0,t.IIB)("clearUnselected"),r("design:type",Object)],he.prototype,"clearUnselected",void 0),e([(0,t.IIB)("overrideSuggested"),r("design:type",Object)],he.prototype,"overrideSuggested",void 0),e([(0,t.IIB)("fillHighlighted"),r("design:type",Object)],he.prototype,"fillHighlighted",void 0),e([(0,t.IIB)("openOnFocus"),r("design:type",Object)],he.prototype,"openOnFocus",void 0),e([(0,t.IIB)("openOnClick"),r("design:type",Object)],he.prototype,"openOnClick",void 0),e([(0,t.IIB)("selectOnClick"),r("design:type",Object)],he.prototype,"selectOnClick",void 0),e([(0,t.IIB)("selectOnFocus"),r("design:type",Object)],he.prototype,"selectOnFocus",void 0),e([(0,t.r_U)(),r("design:type",t.vpe)],he.prototype,"ngModelChange",void 0),e([(0,t.L6J)("keyup",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],he.prototype,"keyupHandler",null),e([(0,t.L6J)("paste",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],he.prototype,"pasteHandler",null),e([(0,t.L6J)("keydown",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],he.prototype,"keydownHandler",null),e([(0,t.L6J)("blur",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],he.prototype,"onBlur",null),e([(0,t.L6J)("focus",[]),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],he.prototype,"onfocus",null),e([(0,t.L6J)("click",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],he.prototype,"onClick",null),he=e([s(0,(0,t.AA_)()),r("design:paramtypes",[wt,T.On,t.SBq])],he);class Ie{constructor(G,P,K,tt){this.results=G,this.searching=P,this.searchInitialized=K,this.isOpen=tt}}let we=class{constructor(G,P,K,tt,ot){this.completer=G,this.templateRef=P,this.viewContainer=K,this.cd=tt,this.zone=ot,this.ctrListMinSearchLength=3,this.ctrListPause=10,this.ctrListAutoMatch=!1,this.ctrListAutoHighlight=!1,this.ctrListDisplaySearching=!0,this._dataService=null,this.term=null,this.searchTimer=null,this.clearTimer=null,this.ctx=new Ie([],!1,!1,!1),this._initialValue=null,this.viewRef=null}ngOnInit(){this.completer.registerList(this),this.viewRef=this.viewContainer.createEmbeddedView(this.templateRef,new Ie([],!1,!1,!1))}set dataService(G){this._dataService=G,this.dataServiceSubscribe()}set initialValue(G){this._dataService&&"function"==typeof this._dataService.convertToItem?this.zone.run(()=>{const P=this._dataService&&this._dataService.convertToItem(G);P&&this.completer.onSelected(P,!1)}):this._dataService||(this._initialValue=G)}search(G){!yt(G)&&G.length>=this.ctrListMinSearchLength&&this.term!==G?(this.searchTimer&&(this.searchTimer.unsubscribe(),this.searchTimer=null),this.ctx.searching||(this.ctrListDisplaySearching&&(this.ctx.results=[]),this.ctx.searching=!0,this.ctx.searchInitialized=!0,this.refreshTemplate()),this.clearTimer&&this.clearTimer.unsubscribe(),this.searchTimer=(0,b.H)(this.ctrListPause).pipe((0,n.q)(1)).subscribe(()=>{this.searchTimerComplete(G)})):!yt(G)&&G.length<this.ctrListMinSearchLength&&(this.clear(),this.term="")}clear(){this.searchTimer&&this.searchTimer.unsubscribe(),this.clearTimer=(0,b.H)(50).pipe((0,n.q)(1)).subscribe(()=>{this._clear()})}open(){this.ctx.searchInitialized||this.search(""),this.refreshTemplate()}isOpen(G){this.ctx.isOpen=G}_clear(){this.searchTimer&&(this.searchTimer.unsubscribe(),this.searchTimer=null),this.dataService&&this.dataService.cancel(),this.viewContainer.clear(),this.viewRef=null}searchTimerComplete(G){yt(G)||G.length<this.ctrListMinSearchLength?this.ctx.searching=!1:(this.term=G,this._dataService&&this._dataService.search(G))}refreshTemplate(){this.viewRef?this.viewRef.destroyed||(this.viewRef.context.isOpen=this.ctx.isOpen,this.viewRef.context.results=this.ctx.results,this.viewRef.context.searching=this.ctx.searching,this.viewRef.context.searchInitialized=this.ctx.searchInitialized,this.viewRef.detectChanges()):this.viewRef=this.viewContainer.createEmbeddedView(this.templateRef,this.ctx),this.cd.markForCheck()}getBestMatchIndex(){if(!this.ctx.results||!this.term)return null;let G=this.ctx.results.findIndex(P=>P.title.toLowerCase()===this.term.toLocaleLowerCase());return G<0&&(G=this.ctx.results.findIndex(P=>P.title.toLowerCase().startsWith(this.term.toLocaleLowerCase()))),G<0&&(G=this.ctx.results.findIndex(P=>P.title.toLowerCase().includes(this.term.toLocaleLowerCase()))),G<0?null:G}dataServiceSubscribe(){this._dataService&&(this._dataService.subscribe(G=>{this.ctx.searchInitialized=!0,this.ctx.searching=!1,this.ctx.results=G,this.ctrListAutoMatch&&G&&1===G.length&&G[0].title&&!yt(this.term)&&G[0].title.toLocaleLowerCase()===this.term.toLocaleLowerCase()?this.completer.onSelected(G[0]):(this.refreshTemplate(),this.ctrListAutoHighlight&&(this.completer.autoHighlightIndex=this.getBestMatchIndex()))},G=>(console.error(G),console.error("Unexpected error in dataService: errors should be handled by the dataService Observable"),[])),this._dataService.dataSourceChange&&this._dataService.dataSourceChange.subscribe(()=>{this.term=null,this.ctx.searchInitialized=!1,this.ctx.searching=!1,this.ctx.results=[],this.refreshTemplate(),this.completer.onDataSourceChange()}))}};we.\u0275fac=function(G){return new(G||we)(t.Y36(wt,1),t.Y36(t.Rgc),t.Y36(t.s_b),t.Y36(t.sBO),t.Y36(t.R0b))},we.\u0275dir=t.lG2({type:we,selectors:[["","ctrList",""]],inputs:{ctrListMinSearchLength:"ctrListMinSearchLength",ctrListPause:"ctrListPause",ctrListAutoMatch:"ctrListAutoMatch",ctrListAutoHighlight:"ctrListAutoHighlight",ctrListDisplaySearching:"ctrListDisplaySearching",dataService:["ctrList","dataService"],initialValue:["ctrListInitialValue","initialValue"]}}),e([(0,t.IIB)(),r("design:type",Object)],we.prototype,"ctrListMinSearchLength",void 0),e([(0,t.IIB)(),r("design:type",Object)],we.prototype,"ctrListPause",void 0),e([(0,t.IIB)(),r("design:type",Object)],we.prototype,"ctrListAutoMatch",void 0),e([(0,t.IIB)(),r("design:type",Object)],we.prototype,"ctrListAutoHighlight",void 0),e([(0,t.IIB)(),r("design:type",Object)],we.prototype,"ctrListDisplaySearching",void 0),e([(0,t.IIB)("ctrList"),r("design:type",Object),r("design:paramtypes",[Object])],we.prototype,"dataService",null),e([(0,t.IIB)("ctrListInitialValue"),r("design:type",Object),r("design:paramtypes",[Object])],we.prototype,"initialValue",null),we=e([s(0,(0,t.AA_)()),r("design:paramtypes",[wt,t.Rgc,t.s_b,t.sBO,t.R0b])],we);let Ae=class{constructor(G,P,K){this.el=G,this.renderer=P,this.dropdown=K,this.selected=!1,this._rowIndex=0,this._item=null}ngOnDestroy(){this._rowIndex&&this.dropdown.unregisterRow(this._rowIndex)}set ctrRow(G){this._rowIndex=G,this.dropdown.registerRow(new Nt(this,this._rowIndex))}set dataItem(G){this._item=G}onClick(G){this.dropdown.onSelected(this._item)}onMouseEnter(G){this.dropdown.highlightRow(this._rowIndex)}onMouseDown(G){this.dropdown.rowMouseDown()}setHighlighted(G){this.selected=G,this.selected?this.renderer.addClass(this.el.nativeElement,"completer-selected-row"):this.renderer.removeClass(this.el.nativeElement,"completer-selected-row")}getNativeElement(){return this.el.nativeElement}getDataItem(){return this._item}};Ae.\u0275fac=function(G){return new(G||Ae)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(Ot,1))},Ae.\u0275dir=t.lG2({type:Ae,selectors:[["","ctrRow",""]],hostBindings:function(G,P){1&G&&t.NdJ("click",function(tt){return P.onClick(tt)})("mouseenter",function(tt){return P.onMouseEnter(tt)})("mousedown",function(tt){return P.onMouseDown(tt)})},inputs:{ctrRow:"ctrRow",dataItem:"dataItem"}}),e([(0,t.IIB)(),r("design:type",Number),r("design:paramtypes",[Number])],Ae.prototype,"ctrRow",null),e([(0,t.IIB)(),r("design:type",Object),r("design:paramtypes",[Object])],Ae.prototype,"dataItem",null),e([(0,t.L6J)("click",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],Ae.prototype,"onClick",null),e([(0,t.L6J)("mouseenter",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],Ae.prototype,"onMouseEnter",null),e([(0,t.L6J)("mousedown",["$event"]),r("design:type",Function),r("design:paramtypes",[Object]),r("design:returntype",void 0)],Ae.prototype,"onMouseDown",null),Ae=e([s(2,(0,t.AA_)()),r("design:paramtypes",[t.SBq,t.Qsj,Ot])],Ae);let Oe=class{constructor(){this.text="",this.searchStr="",this.matchClass="",this.type="",this.parts=[]}ngOnInit(){if(!this.searchStr)return void this.parts.push({isMatch:!1,text:this.text});const G=this.text.toLowerCase();let P=G.indexOf(this.searchStr.toLowerCase()),K=0;for(;P>=0;){const tt=this.text.slice(P,P+this.searchStr.length);if(0===P)this.parts.push({isMatch:!0,text:tt}),K+=this.searchStr.length;else if(P>0){const ot=this.text.slice(K,P);this.parts.push({isMatch:!1,text:ot}),this.parts.push({isMatch:!0,text:tt}),K+=this.searchStr.length+ot.length}P=G.indexOf(this.searchStr.toLowerCase(),K)}K<this.text.length&&this.parts.push({isMatch:!1,text:this.text.slice(K,this.text.length)})}};Oe.\u0275fac=function(G){return new(G||Oe)},Oe.\u0275cmp=t.Xpm({type:Oe,selectors:[["completer-list-item"]],inputs:{text:"text",searchStr:"searchStr",matchClass:"matchClass",type:"type"},decls:2,vars:5,consts:[[1,"completer-list-item-holder",3,"ngClass"],["class","completer-list-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"completer-list-item",3,"ngClass"]],template:function(G,P){1&G&&(t.TgZ(0,"span",0),t.YNc(1,Y,2,2,"span",1),t.qZA()),2&G&&(t.Q6J("ngClass",t.WLB(2,V,"title"===P.type,"description"===P.type)),t.xp6(1),t.Q6J("ngForOf",P.parts))},dependencies:[M.mk,M.sg],encapsulation:2}),e([(0,t.IIB)(),r("design:type",String)],Oe.prototype,"text",void 0),e([(0,t.IIB)(),r("design:type",String)],Oe.prototype,"searchStr",void 0),e([(0,t.IIB)(),r("design:type",String)],Oe.prototype,"matchClass",void 0),e([(0,t.IIB)(),r("design:type",String)],Oe.prototype,"type",void 0);const rr=()=>{},vr={multi:!0,provide:T.JU,useExisting:(0,t.Gpc)(()=>ae)};let ae=class{constructor(G,P){this.completerService=G,this.cdr=P,this.inputName="",this.inputId="",this.pause=10,this.minSearchLength=3,this.maxChars=524288,this.overrideSuggested=!1,this.clearSelected=!1,this.clearUnselected=!1,this.fillHighlighted=!0,this.placeholder="",this.autoMatch=!1,this.disableInput=!1,this.autofocus=!1,this.openOnFocus=!1,this.openOnClick=!1,this.selectOnClick=!1,this.selectOnFocus=!1,this.autoHighlight=!1,this.selected=new t.vpe,this.highlighted=new t.vpe,this.blurEvent=new t.vpe,this.click=new t.vpe,this.focusEvent=new t.vpe,this.opened=new t.vpe,this.keyup=new t.vpe,this.keydown=new t.vpe,this.control=new T.NI(""),this.displaySearching=!0,this.displayNoResults=!0,this._textNoResults="No results found",this._textSearching="Searching...",this._onTouchedCallback=rr,this._onChangeCallback=rr,this._focus=!1,this._open=!1,this._searchStr=""}get value(){return this.searchStr}set value(G){G!==this.searchStr&&(this.searchStr=G),this._onChangeCallback(G)}get searchStr(){return this._searchStr}set searchStr(G){this._searchStr="string"==typeof G||yt(G)?G:JSON.stringify(G)}ngAfterViewInit(){this.autofocus&&(this._focus=!0),this.completer&&(this.completer.selected.subscribe(G=>{this.selected.emit(G)}),this.completer.highlighted.subscribe(G=>{this.highlighted.emit(G)}),this.completer.opened.subscribe(G=>{this._open=G,this.opened.emit(G)}))}ngAfterViewChecked(){this._focus&&setTimeout(()=>{this.ctrInput&&(this.ctrInput.nativeElement.focus(),this._focus=!1)},0)}onTouched(){this._onTouchedCallback()}writeValue(G){this.searchStr=G}registerOnChange(G){this._onChangeCallback=G}registerOnTouched(G){this._onTouchedCallback=G}setDisabledState(G){this.disableInput=G}set datasource(G){G&&(this.dataService=G instanceof Array?this.completerService.local(G):"string"==typeof G?this.completerService.remote(G):G)}set textNoResults(G){this._textNoResults!==G&&(this._textNoResults=G,this.displayNoResults=!!this._textNoResults&&"false"!==this._textNoResults)}set textSearching(G){this._textSearching!==G&&(this._textSearching=G,this.displaySearching=!!this._textSearching&&"false"!==this._textSearching)}onBlur(){this.blurEvent.emit(),this.onTouched(),this.cdr.detectChanges()}onFocus(){this.focusEvent.emit(),this.onTouched()}onClick(G){this.click.emit(G),this.onTouched()}onKeyup(G){this.keyup.emit(G),G.stopPropagation()}onKeydown(G){this.keydown.emit(G),G.stopPropagation()}onChange(G){this.value=G}open(){this.completer&&this.completer.open()}close(){this.completer&&this.completer.clear()}focus(){this.ctrInput?this.ctrInput.nativeElement.focus():this._focus=!0}blur(){this.ctrInput?this.ctrInput.nativeElement.blur():this._focus=!1}isOpen(){return this._open}};var ar;ae.\u0275fac=function(G){return new(G||ae)(t.Y36(xt),t.Y36(t.sBO))},ae.\u0275cmp=t.Xpm({type:ae,selectors:[["ng2-completer"]],viewQuery:function(G,P){if(1&G&&(t.Gf(wt,5),t.Gf(z,5)),2&G){let K;t.iGM(K=t.CRH())&&(P.completer=K.first),t.iGM(K=t.CRH())&&(P.ctrInput=K.first)}},inputs:{inputName:"inputName",inputId:"inputId",pause:"pause",minSearchLength:"minSearchLength",maxChars:"maxChars",overrideSuggested:"overrideSuggested",clearSelected:"clearSelected",clearUnselected:"clearUnselected",fillHighlighted:"fillHighlighted",placeholder:"placeholder",autoMatch:"autoMatch",disableInput:"disableInput",autofocus:"autofocus",openOnFocus:"openOnFocus",openOnClick:"openOnClick",selectOnClick:"selectOnClick",selectOnFocus:"selectOnFocus",autoHighlight:"autoHighlight",datasource:"datasource",dataService:"dataService",textNoResults:"textNoResults",textSearching:"textSearching",matchClass:"matchClass",fieldTabindex:"fieldTabindex",inputClass:"inputClass",initialValue:"initialValue"},outputs:{selected:"selected",highlighted:"highlighted",blurEvent:"blur",click:"click",focusEvent:"focus",opened:"opened",keyup:"keyup",keydown:"keydown"},features:[t._Bn([vr])],decls:4,vars:23,consts:[["ctrCompleter","",1,"completer-holder"],["type","search","ctrInput","","autocomplete","off","autocorrect","off","autocapitalize","off",1,"completer-input",3,"ngClass","ngModel","placeholder","tabindex","disabled","clearSelected","clearUnselected","overrideSuggested","openOnFocus","fillHighlighted","openOnClick","selectOnClick","selectOnFocus","ngModelChange","blur","focus","keyup","keydown","click"],["ctrInput",""],["class","completer-dropdown-holder",4,"ctrList","ctrListMinSearchLength","ctrListPause","ctrListAutoMatch","ctrListInitialValue","ctrListAutoHighlight","ctrListDisplaySearching"],[1,"completer-dropdown-holder"],["class","completer-dropdown","ctrDropdown","",4,"ngIf"],["ctrDropdown","",1,"completer-dropdown"],["class","completer-searching",4,"ngIf"],["class","completer-no-results",4,"ngIf"],["class","completer-row-wrapper",4,"ngFor","ngForOf"],[1,"completer-searching"],[1,"completer-no-results"],[1,"completer-row-wrapper"],[1,"completer-row",3,"ctrRow","dataItem"],["class","completer-image-holder",4,"ngIf"],[1,"completer-item-text",3,"ngClass"],[1,"completer-title",3,"text","matchClass","searchStr","type"],["class","completer-description",3,"text","matchClass","searchStr","type",4,"ngIf"],[1,"completer-image-holder"],["class","completer-image",3,"src",4,"ngIf"],["class","completer-image-default",4,"ngIf"],[1,"completer-image",3,"src"],[1,"completer-image-default"],[1,"completer-description",3,"text","matchClass","searchStr","type"]],template:function(G,P){1&G&&(t.TgZ(0,"div",0)(1,"input",1,2),t.NdJ("ngModelChange",function(tt){return P.searchStr=tt})("ngModelChange",function(tt){return P.onChange(tt)})("blur",function(){return P.onBlur()})("focus",function(){return P.onFocus()})("keyup",function(tt){return P.onKeyup(tt)})("keydown",function(tt){return P.onKeydown(tt)})("click",function(tt){return P.onClick(tt)}),t.qZA(),t.YNc(3,gt,2,1,"div",3),t.qZA()),2&G&&(t.xp6(1),t.Q6J("ngClass",P.inputClass)("ngModel",P.searchStr)("placeholder",P.placeholder)("tabindex",P.fieldTabindex)("disabled",P.disableInput)("clearSelected",P.clearSelected)("clearUnselected",P.clearUnselected)("overrideSuggested",P.overrideSuggested)("openOnFocus",P.openOnFocus)("fillHighlighted",P.fillHighlighted)("openOnClick",P.openOnClick)("selectOnClick",P.selectOnClick)("selectOnFocus",P.selectOnFocus),t.uIk("id",P.inputId.length>0?P.inputId:null)("name",P.inputName)("maxlength",P.maxChars),t.xp6(2),t.Q6J("ctrList",P.dataService)("ctrListMinSearchLength",P.minSearchLength)("ctrListPause",P.pause)("ctrListAutoMatch",P.autoMatch)("ctrListInitialValue",P.initialValue)("ctrListAutoHighlight",P.autoHighlight)("ctrListDisplaySearching",P.displaySearching))},dependencies:[M.mk,M.sg,M.O5,T.Fj,T.JJ,T.nD,T.On,Oe,wt,Ot,he,we,Ae],styles:['.completer-dropdown[_ngcontent-%COMP%] {\n        border-color: #ececec;\n        border-width: 1px;\n        border-style: solid;\n        border-radius: 2px;\n        width: 250px;\n        padding: 6px;\n        cursor: pointer;\n        z-index: 9999;\n        position: absolute;\n        margin-top: -6px;\n        background-color: #ffffff;\n    }\n\n    .completer-row[_ngcontent-%COMP%] {\n        padding: 5px;\n        color: #000000;\n        margin-bottom: 4px;\n        clear: both;\n        display: inline-block;\n        width: 103%;\n    }\n\n    .completer-selected-row[_ngcontent-%COMP%] {\n        background-color: lightblue;\n        color: #ffffff;\n    }\n\n    .completer-description[_ngcontent-%COMP%] {\n        font-size: 14px;\n    }\n\n    .completer-image-default[_ngcontent-%COMP%] {\n        width: 16px;\n        height: 16px;\n        background-image: url("demo/res/img/default.png");\n    }\n\n    .completer-image-holder[_ngcontent-%COMP%] {\n        float: left;\n        width: 10%;\n    }\n    .completer-item-text-image[_ngcontent-%COMP%] {\n        float: right;\n        width: 90%;\n    }']}),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"dataService",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"inputName",void 0),e([(0,t.IIB)(),r("design:type",String)],ae.prototype,"inputId",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"pause",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"minSearchLength",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"maxChars",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"overrideSuggested",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"clearSelected",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"clearUnselected",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"fillHighlighted",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"placeholder",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"matchClass",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"fieldTabindex",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"autoMatch",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"disableInput",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"inputClass",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"autofocus",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"openOnFocus",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"openOnClick",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"selectOnClick",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"selectOnFocus",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"initialValue",void 0),e([(0,t.IIB)(),r("design:type",Object)],ae.prototype,"autoHighlight",void 0),e([(0,t.r_U)(),r("design:type",Object)],ae.prototype,"selected",void 0),e([(0,t.r_U)(),r("design:type",Object)],ae.prototype,"highlighted",void 0),e([(0,t.r_U)("blur"),r("design:type",Object)],ae.prototype,"blurEvent",void 0),e([(0,t.r_U)(),r("design:type",Object)],ae.prototype,"click",void 0),e([(0,t.r_U)("focus"),r("design:type",Object)],ae.prototype,"focusEvent",void 0),e([(0,t.r_U)(),r("design:type",Object)],ae.prototype,"opened",void 0),e([(0,t.r_U)(),r("design:type",t.vpe)],ae.prototype,"keyup",void 0),e([(0,t.r_U)(),r("design:type",t.vpe)],ae.prototype,"keydown",void 0),e([(0,t.i9L)(wt,{static:!1}),r("design:type",Object)],ae.prototype,"completer",void 0),e([(0,t.i9L)("ctrInput",{static:!1}),r("design:type",Object)],ae.prototype,"ctrInput",void 0),e([(0,t.IIB)(),r("design:type",Object),r("design:paramtypes",[Object])],ae.prototype,"datasource",null),e([(0,t.IIB)(),r("design:type",String),r("design:paramtypes",[String])],ae.prototype,"textNoResults",null),e([(0,t.IIB)(),r("design:type",String),r("design:paramtypes",[String])],ae.prototype,"textSearching",null),ae=e([r("design:paramtypes",[xt,t.sBO])],ae);const Je=[xt,Vt,ft];let He=ar=class{static forRoot(){return{ngModule:ar,providers:Je}}static forChild(){return{ngModule:ar,providers:Je}}};He.\u0275fac=function(G){return new(G||He)},He.\u0275mod=t.oAB({type:He}),He.\u0275inj=t.cJS({providers:Je,imports:[M.ez,T.u5]});var tr=i(17489),pt=i(80013),Mt=i(75778),kt=i(31307),Ht=i(7625);function Qt(Q,G){if(1&Q&&t._UZ(0,"table-cell-view-mode",2),2&Q){const P=t.oxw();t.Q6J("cell",P.cell)}}function ce(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"table-cell-edit-mode",3),t.NdJ("edited",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onEdited(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("cell",P.cell)("inputClass",P.inputClass)}}const Re=["dynamicTarget"];function De(Q,G){}function ke(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"select-editor",5),t.NdJ("onClick",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onClick(tt))})("onEdited",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onEdited(tt))})("onStopEditing",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.onStopEditing())}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("cell",P.cell)("inputClass",P.inputClass)}}function je(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"textarea-editor",5),t.NdJ("onClick",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onClick(tt))})("onEdited",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onEdited(tt))})("onStopEditing",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.onStopEditing())}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("cell",P.cell)("inputClass",P.inputClass)}}function or(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"checkbox-editor",6),t.NdJ("onClick",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onClick(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("cell",P.cell)("inputClass",P.inputClass)}}function zr(Q,G){if(1&Q&&t._UZ(0,"completer-editor",7),2&Q){const P=t.oxw();t.Q6J("cell",P.cell)}}function Dr(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"input-editor",5),t.NdJ("onClick",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onClick(tt))})("onEdited",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onEdited(tt))})("onStopEditing",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.onStopEditing())}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("cell",P.cell)("inputClass",P.inputClass)}}function mr(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"table-cell-custom-editor",3),t.NdJ("edited",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onEdited(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("cell",P.cell)("inputClass",P.inputClass)}}function qr(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"table-cell-default-editor",3),t.NdJ("edited",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onEdited(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("cell",P.cell)("inputClass",P.inputClass)}}const _r="[_nghost-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{line-height:normal;padding:.375em .75em;width:100%}";function vn(Q,G){if(1&Q&&(t.TgZ(0,"option",2),t._uU(1),t.qZA()),2&Q){const P=G.$implicit,K=t.oxw();t.Q6J("value",P.value)("selected",P.value===K.cell.getValue()),t.xp6(1),t.hij("",P.title," ")}}function Zn(Q,G){}function ai(Q,G){if(1&Q&&t._UZ(0,"custom-view-component",4),2&Q){const P=t.oxw();t.Q6J("cell",P.cell)}}function oi(Q,G){if(1&Q&&t._UZ(0,"div",5),2&Q){const P=t.oxw();t.Q6J("innerHTML",P.cell.getValue(),t.oJD)}}function si(Q,G){if(1&Q&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&Q){const P=t.oxw();t.xp6(1),t.Oqu(P.cell.getValue())}}function li(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"custom-table-filter",4),t.NdJ("filter",function(tt){t.CHM(P);const ot=t.oxw(2);return t.KtG(ot.onFilter(tt))}),t.qZA()}if(2&Q){const P=t.oxw(2);t.Q6J("query",P.query)("column",P.column)("source",P.source)("inputClass",P.inputClass)}}function Hi(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"default-table-filter",4),t.NdJ("filter",function(tt){t.CHM(P);const ot=t.oxw(2);return t.KtG(ot.onFilter(tt))}),t.qZA()}if(2&Q){const P=t.oxw(2);t.Q6J("query",P.query)("column",P.column)("source",P.source)("inputClass",P.inputClass)}}function ki(Q,G){if(1&Q&&(t.TgZ(0,"div",1),t.YNc(1,li,1,4,"custom-table-filter",2),t.YNc(2,Hi,1,4,"default-table-filter",3),t.qZA()),2&Q){const P=t.oxw();t.Q6J("ngSwitch",P.column.getFilterType()),t.xp6(1),t.Q6J("ngSwitchCase","custom")}}function Vi(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"select-filter",3),t.NdJ("filter",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onFilter(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("query",P.query)("ngClass",P.inputClass)("column",P.column)}}function Ui(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"checkbox-filter",3),t.NdJ("filter",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onFilter(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("query",P.query)("ngClass",P.inputClass)("column",P.column)}}function ui(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"completer-filter",3),t.NdJ("filter",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onFilter(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("query",P.query)("ngClass",P.inputClass)("column",P.column)}}function Mn(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"input-filter",3),t.NdJ("filter",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onFilter(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("query",P.query)("ngClass",P.inputClass)("column",P.column)}}function mt(Q,G){}function Dt(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"a",2),t.NdJ("click",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.resetFilter(tt))}),t._uU(1),t.qZA()}if(2&Q){const P=t.oxw();let K;t.xp6(1),t.Oqu((null==(K=P.column.getFilterConfig())?null:K.resetText)||"reset")}}const Ut=["inputControl"];function Kt(Q,G){if(1&Q&&(t.TgZ(0,"option",4),t._uU(1),t.qZA()),2&Q){const P=G.$implicit;t.Q6J("value",P.value),t.xp6(1),t.hij(" ",P.title," ")}}function $t(Q,G){if(1&Q&&(t.TgZ(0,"span",14),t._uU(1),t.TgZ(2,"span",7),t._uU(3,"(current)"),t.qZA()()),2&Q){const P=t.oxw().$implicit;t.xp6(1),t.hij("",P," ")}}function jt(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"a",15),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw().$implicit,ot=t.oxw(2);return t.KtG(ot.paginate(tt))}),t._uU(1),t.qZA()}if(2&Q){const P=t.oxw().$implicit;t.xp6(1),t.Oqu(P)}}const ee=function(Q){return{active:Q}};function le(Q,G){if(1&Q&&(t.TgZ(0,"li",4),t.YNc(1,$t,4,1,"span",12),t.YNc(2,jt,2,1,"a",13),t.qZA()),2&Q){const P=G.$implicit,K=t.oxw(2);t.Q6J("ngClass",t.VKq(3,ee,K.getPage()==P)),t.xp6(1),t.Q6J("ngIf",K.getPage()==P),t.xp6(1),t.Q6J("ngIf",K.getPage()!=P)}}const re=function(Q){return{disabled:Q}};function pe(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"nav",2)(1,"ul",3)(2,"li",4)(3,"a",5),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw();return t.KtG(1!=tt.getPage()&&tt.paginate(1))}),t.TgZ(4,"span",6),t._uU(5,"\xab"),t.qZA(),t.TgZ(6,"span",7),t._uU(7,"First"),t.qZA()()(),t.TgZ(8,"li",4)(9,"a",8),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw();return t.KtG(1!=tt.getPage()&&tt.prev())}),t.TgZ(10,"span",6),t._uU(11,"<"),t.qZA(),t.TgZ(12,"span",7),t._uU(13,"Prev"),t.qZA()()(),t.YNc(14,le,3,5,"li",9),t.TgZ(15,"li",4)(16,"a",10),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.getPage()!=tt.getLast()&&tt.next())}),t.TgZ(17,"span",6),t._uU(18,">"),t.qZA(),t.TgZ(19,"span",7),t._uU(20,"Next"),t.qZA()()(),t.TgZ(21,"li",4)(22,"a",11),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.getPage()!=tt.getLast()&&tt.paginate(tt.getLast()))}),t.TgZ(23,"span",6),t._uU(24,"\xbb"),t.qZA(),t.TgZ(25,"span",7),t._uU(26,"Last"),t.qZA()()()()()}if(2&Q){const P=t.oxw();t.xp6(2),t.Q6J("ngClass",t.VKq(5,re,1==P.getPage())),t.xp6(6),t.Q6J("ngClass",t.VKq(7,re,1==P.getPage())),t.xp6(6),t.Q6J("ngForOf",P.getPages()),t.xp6(1),t.Q6J("ngClass",t.VKq(9,re,P.getPage()==P.getLast())),t.xp6(6),t.Q6J("ngClass",t.VKq(11,re,P.getPage()==P.getLast()))}}function be(Q,G){if(1&Q&&(t.TgZ(0,"option",20),t._uU(1),t.qZA()),2&Q){const P=G.$implicit;t.Q6J("value",P),t.xp6(1),t.Oqu(P)}}function Te(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"nav",16)(1,"label",17),t._uU(2," Per Page: "),t.qZA(),t.TgZ(3,"select",18),t.NdJ("change",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onChangePerPage(tt))})("ngModelChange",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.currentPerPage=tt)}),t.YNc(4,be,2,2,"option",19),t.qZA()()}if(2&Q){const P=t.oxw();t.xp6(3),t.Q6J("ngModel",P.currentPerPage),t.xp6(1),t.Q6J("ngForOf",P.perPageSelect)}}const Qe=["ng2-st-tbody",""];function Ze(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"td",6),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw().$implicit,ot=t.oxw();return t.KtG(ot.multipleSelectRow.emit(tt))}),t._UZ(1,"input",7),t.qZA()}if(2&Q){const P=t.oxw().$implicit;t.xp6(1),t.Q6J("ngModel",P.isSelected)}}function qe(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"td",8)(1,"ng2-st-tbody-custom",9),t.NdJ("custom",function(tt){t.CHM(P);const ot=t.oxw(2);return t.KtG(ot.custom.emit(tt))}),t.qZA(),t.TgZ(2,"ng2-st-tbody-edit-delete",10),t.NdJ("edit",function(){t.CHM(P);const tt=t.oxw().$implicit,ot=t.oxw();return t.KtG(ot.edit.emit(tt))})("delete",function(){t.CHM(P);const tt=t.oxw().$implicit,ot=t.oxw();return t.KtG(ot.delete.emit(tt))})("editRowSelect",function(tt){t.CHM(P);const ot=t.oxw(2);return t.KtG(ot.editRowSelect.emit(tt))}),t.qZA()()}if(2&Q){const P=t.oxw().$implicit,K=t.oxw();t.xp6(1),t.Q6J("grid",K.grid)("row",P)("source",K.source),t.xp6(1),t.Q6J("grid",K.grid)("deleteConfirm",K.deleteConfirm)("editConfirm",K.editConfirm)("row",P)("source",K.source)}}function yr(Q,G){if(1&Q&&(t.TgZ(0,"td",8),t._UZ(1,"ng2-st-tbody-create-cancel",11),t.qZA()),2&Q){const P=t.oxw().$implicit,K=t.oxw();t.xp6(1),t.Q6J("grid",K.grid)("row",P)("editConfirm",K.editConfirm)}}function gn(Q,G){if(1&Q&&(t.TgZ(0,"td"),t._UZ(1,"ng2-smart-table-cell",12),t.qZA()),2&Q){const P=G.$implicit,K=t.oxw().$implicit,tt=t.oxw();t.xp6(1),t.Q6J("cell",P)("grid",tt.grid)("row",K)("isNew",!1)("mode",tt.mode)("editConfirm",tt.editConfirm)("inputClass",tt.editInputClass)("isInEditing",K.isInEditing)}}function Cr(Q,G){if(1&Q&&(t.TgZ(0,"td",8),t._UZ(1,"ng2-st-tbody-create-cancel",11),t.qZA()),2&Q){const P=t.oxw().$implicit,K=t.oxw();t.xp6(1),t.Q6J("grid",K.grid)("row",P)("editConfirm",K.editConfirm)}}function pn(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"td",8)(1,"ng2-st-tbody-custom",9),t.NdJ("custom",function(tt){t.CHM(P);const ot=t.oxw(2);return t.KtG(ot.custom.emit(tt))}),t.qZA(),t.TgZ(2,"ng2-st-tbody-edit-delete",10),t.NdJ("edit",function(){t.CHM(P);const tt=t.oxw().$implicit,ot=t.oxw();return t.KtG(ot.edit.emit(tt))})("delete",function(){t.CHM(P);const tt=t.oxw().$implicit,ot=t.oxw();return t.KtG(ot.delete.emit(tt))})("editRowSelect",function(tt){t.CHM(P);const ot=t.oxw(2);return t.KtG(ot.editRowSelect.emit(tt))}),t.qZA()()}if(2&Q){const P=t.oxw().$implicit,K=t.oxw();t.xp6(1),t.Q6J("grid",K.grid)("row",P)("source",K.source),t.xp6(1),t.Q6J("grid",K.grid)("deleteConfirm",K.deleteConfirm)("editConfirm",K.editConfirm)("row",P)("source",K.source)}}const In=function(Q){return{selected:Q}};function tn(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"tr",2),t.NdJ("click",function(){const ot=t.CHM(P).$implicit,Bt=t.oxw();return t.KtG(Bt.userSelectRow.emit(ot))})("mouseover",function(){const ot=t.CHM(P).$implicit,Bt=t.oxw();return t.KtG(Bt.rowHover.emit(ot))}),t.YNc(1,Ze,2,1,"td",3),t.YNc(2,qe,3,8,"td",4),t.YNc(3,yr,2,3,"td",4),t.YNc(4,gn,2,8,"td",5),t.YNc(5,Cr,2,3,"td",4),t.YNc(6,pn,3,8,"td",4),t.qZA()}if(2&Q){const P=G.$implicit,K=t.oxw();t.Q6J("className",K.rowClassFunction(P))("ngClass",t.VKq(8,In,P.isSelected)),t.xp6(1),t.Q6J("ngIf",K.isMultiSelectVisible),t.xp6(1),t.Q6J("ngIf",!P.isInEditing&&K.showActionColumnLeft),t.xp6(1),t.Q6J("ngIf",P.isInEditing&&K.showActionColumnLeft),t.xp6(1),t.Q6J("ngForOf",K.getVisibleCells(P.cells)),t.xp6(1),t.Q6J("ngIf",P.isInEditing&&K.showActionColumnRight),t.xp6(1),t.Q6J("ngIf",!P.isInEditing&&K.showActionColumnRight)}}function ha(Q,G){if(1&Q&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA()()),2&Q){const P=t.oxw();t.xp6(1),t.uIk("colspan",P.tableColumnsCount),t.xp6(1),t.hij(" ",P.noDataMessage," ")}}function uo(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"a",2),t.NdJ("click",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onEdit(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("innerHTML",P.editRowButtonContent,t.oJD)}}function co(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"a",3),t.NdJ("click",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onDelete(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("innerHTML",P.deleteRowButtonContent,t.oJD)}}function ho(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"a",1),t.NdJ("click",function(tt){const Bt=t.CHM(P).$implicit,oe=t.oxw();return t.KtG(oe.onCustom(Bt,tt))}),t.qZA()}2&Q&&t.Q6J("innerHTML",G.$implicit.title,t.oJD)}const da=["ng2-st-thead",""];function fo(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"tr",3),t.NdJ("sort",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.sort.emit(tt))})("selectAllRows",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.selectAllRows.emit(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("grid",P.grid)("isAllSelected",P.isAllSelected)("source",P.source)}}function vo(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"tr",4),t.NdJ("create",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.create.emit(tt))})("filter",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.filter.emit(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("grid",P.grid)("source",P.source)}}function go(Q,G){if(1&Q&&t._UZ(0,"tr",5),2&Q){const P=t.oxw();t.Q6J("grid",P.grid)("createConfirm",P.createConfirm)}}const po=["ng2-st-actions-title",""],Zi=["ng2-st-add-button",""];function mo(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"a",1),t.NdJ("click",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onAdd(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("innerHTML",P.addNewButtonContent,t.oJD)}}const yo=["ng2-st-checkbox-select-all",""];function xo(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"a",2),t.NdJ("click",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot._sort(tt))}),t._uU(1),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("ngClass",P.currentDirection),t.xp6(1),t.hij(" ",P.column.title," ")}}function _o(Q,G){if(1&Q&&(t.TgZ(0,"span",3),t._uU(1),t.qZA()),2&Q){const P=t.oxw();t.xp6(1),t.Oqu(P.column.title)}}const Co=["ng2-st-thead-filters-row",""];function Xe(Q,G){1&Q&&t._UZ(0,"th")}function Ke(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"th",4),t.NdJ("create",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.create.emit(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("grid",P.grid)}}function So(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"th")(1,"ng2-smart-table-filter",5),t.NdJ("filter",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.filter.emit(tt))}),t.qZA()()}if(2&Q){const P=G.$implicit,K=t.oxw();t.Gre("ng2-smart-th ",P.id,""),t.xp6(1),t.Q6J("source",K.source)("column",P)("inputClass",K.filterInputClass)}}function bo(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"th",6),t.NdJ("create",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.create.emit(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("grid",P.grid)("source",P.source)}}const To=["ng2-st-thead-form-row",""];function wo(Q,G){1&Q&&t._UZ(0,"td")}function Ao(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"td",3)(1,"ng2-st-actions",4),t.NdJ("create",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onCreate(tt))}),t.qZA()()}if(2&Q){const P=t.oxw();t.xp6(1),t.Q6J("grid",P.grid)}}function Mo(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"td")(1,"ng2-smart-table-cell",5),t.NdJ("edited",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onCreate(tt))}),t.qZA()()}if(2&Q){const P=G.$implicit,K=t.oxw();t.xp6(1),t.Q6J("cell",P)("grid",K.grid)("isNew",!0)("createConfirm",K.createConfirm)("inputClass",K.addInputClass)("isInEditing",K.grid.getNewRow().isInEditing)}}function fa(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"td",3)(1,"ng2-st-actions",4),t.NdJ("create",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onCreate(tt))}),t.qZA()()}if(2&Q){const P=t.oxw();t.xp6(1),t.Q6J("grid",P.grid)}}const Io=["ng2-st-thead-titles-row",""];function fr(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"th",3),t.NdJ("click",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.selectAllRows.emit(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("grid",P.grid)("source",P.source)("isAllSelected",P.isAllSelected)}}function va(Q,G){if(1&Q&&t._UZ(0,"th",4),2&Q){const P=t.oxw();t.Q6J("grid",P.grid)}}function Gn(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"th",5)(1,"ng2-st-column-title",6),t.NdJ("sort",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.sort.emit(tt))}),t.qZA()()}if(2&Q){const P=G.$implicit,K=t.oxw();t.Gre("ng2-smart-th ",P.id,""),t.Udp("width",P.width),t.Q6J("ngClass",P.class),t.xp6(1),t.Q6J("source",K.source)("column",P)}}function ga(Q,G){if(1&Q&&t._UZ(0,"th",4),2&Q){const P=t.oxw();t.Q6J("grid",P.grid)}}function Gi(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"thead",4),t.NdJ("create",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.create.emit(tt))})("selectAllRows",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onSelectAllRows(tt))})("sort",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.sort(tt))})("filter",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.filter(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("grid",P.grid)("isAllSelected",P.isAllSelected)("source",P.source)("createConfirm",P.createConfirm)}}function Pr(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"ng2-smart-table-pager",5),t.NdJ("changePage",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.changePage(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("source",P.source)("perPageSelect",P.perPageSelect)}}const Dn=function(...Q){if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];const G=arguments[0];let K,tt;return Array.prototype.slice.call(arguments,1).forEach(ot=>{"object"!=typeof ot||Array.isArray(ot)||Object.keys(ot).forEach(function(Bt){if(tt=G[Bt],K=ot[Bt],K!==G)return"object"!=typeof K||null===K?void(G[Bt]=K):Array.isArray(K)?void(G[Bt]=(0,tr.cloneDeep)(K)):"object"!=typeof tt||null===tt||Array.isArray(tt)?void(G[Bt]=Dn({},K)):void(G[Bt]=Dn(tt,K))})}),G};class ci{constructor(){this.promise=new Promise((G,P)=>{this.resolve=G,this.reject=P})}}function Wi(Q,G){return Math.floor(Q/G)+1}function pa(Q){return Q}let ma=(()=>{class Q{constructor(P,K,tt,ot){this.value=P,this.row=K,this.column=tt,this.dataSet=ot,this.newValue="",this.newValue=P}getColumn(){return this.column}getRow(){return this.row}getValue(){return(this.column.getValuePrepareFunction()instanceof Function?this.column.getValuePrepareFunction():Q.PREPARE).call(null,this.value,this.row.getData(),this)}setValue(P){this.newValue=P}getId(){return this.getColumn().id}getTitle(){return this.getColumn().title}isEditable(){return-1===this.getRow().index?this.getColumn().isAddable:this.getColumn().isEditable}}return Q.PREPARE=pa,Q})();class Sr{constructor(G,P,K){this.index=G,this.data=P,this._dataSet=K,this.isSelected=!1,this.isInEditing=!1,this.cells=[],this.process()}getCell(G){return this.cells.find(P=>P.getColumn()===G)}getCells(){return this.cells}getData(){return this.data}getIsSelected(){return this.isSelected}getNewData(){const G=Object.assign({},this.data);return this.getCells().forEach(P=>G[P.getColumn().id]=P.newValue),G}setData(G){this.data=G,this.process()}process(){this.cells=[],this._dataSet.getColumns().forEach(G=>{const P=this.createCell(G);this.cells.push(P)})}createCell(G){return new ma(typeof this.data[G.id]>"u"?G.settings.defaultValue?G.settings.defaultValue:"":this.data[G.id],this,G,this._dataSet)}}class Do{constructor(G,P,K){this.id=G,this.settings=P,this.dataSet=K,this.title="",this.type="",this.class="",this.width="",this.hide=!1,this.isSortable=!1,this.isEditable=!0,this.isAddable=!0,this.isFilterable=!1,this.sortDirection="",this.defaultSortDirection="",this.editor={type:"",config:{},component:null},this.filter={type:"",config:{},component:null},this.renderComponent=null,this.process()}getOnComponentInitFunction(){return this.onComponentInitFunction}getCompareFunction(){return this.compareFunction}getValuePrepareFunction(){return this.valuePrepareFunction}getFilterFunction(){return this.filterFunction}getConfig(){return this.editor&&this.editor.config}getFilterType(){return this.filter&&this.filter.type}getFilterConfig(){return this.filter&&this.filter.config}process(){this.title=this.settings.title,this.class=this.settings.class,this.width=this.settings.width,this.hide=!!this.settings.hide,this.type=this.prepareType(),this.editor=this.settings.editor,this.filter=this.settings.filter,this.renderComponent=this.settings.renderComponent,this.isFilterable=typeof this.settings.filter>"u"||!!this.settings.filter,this.defaultSortDirection=-1!==["asc","desc"].indexOf(this.settings.sortDirection)?this.settings.sortDirection:"",this.isSortable=typeof this.settings.sort>"u"||!!this.settings.sort,this.isEditable=typeof this.settings.editable>"u"||!!this.settings.editable,this.isAddable=typeof this.settings.addable>"u"||!!this.settings.addable,this.sortDirection=this.prepareSortDirection(),this.compareFunction=this.settings.compareFunction,this.valuePrepareFunction=this.settings.valuePrepareFunction,this.filterFunction=this.settings.filterFunction,this.onComponentInitFunction=this.settings.onComponentInitFunction}prepareType(){return this.settings.type||this.determineType()}prepareSortDirection(){return"desc"===this.settings.sort?"desc":"asc"}determineType(){return"text"}}class Lr{constructor(G=[],P){this.columnSettings=P,this.data=[],this.columns=[],this.rows=[],this.createColumns(P),this.setData(G),this.createNewRow()}setData(G){this.data=G,this.createRows()}getColumns(){return this.columns}getRows(){return this.rows}getFirstRow(){return this.rows[0]}getLastRow(){return this.rows[this.rows.length-1]}findRowByData(G){return this.rows.find(P=>P.getData()===G)}deselectAll(){this.rows.forEach(G=>{G.isSelected=!1}),this.selectedRow=void 0}selectRow(G){const P=G.isSelected;return this.deselectAll(),G.isSelected=!P,this.selectedRow=G,this.selectedRow}multipleSelectRow(G){return G.isSelected=!G.isSelected,this.selectedRow=G,this.selectedRow}selectPreviousRow(){if(this.rows.length>0){let G=this.selectedRow?this.selectedRow.index:0;return G>this.rows.length-1&&(G=this.rows.length-1),this.selectRow(this.rows[G]),this.selectedRow}}selectFirstRow(){if(this.rows.length>0)return this.selectRow(this.rows[0]),this.selectedRow}selectLastRow(){if(this.rows.length>0)return this.selectRow(this.rows[this.rows.length-1]),this.selectedRow}selectRowByIndex(G){const P=this.rows.length;if(0!==P){if(!G)return this.selectFirstRow(),this.selectedRow;if(G>0&&G<P)return this.selectRow(this.rows[G]),this.selectedRow;this.deselectAll()}}willSelectFirstRow(){this.willSelect="first"}willSelectLastRow(){this.willSelect="last"}select(G){if(0!==this.getRows().length)return this.willSelect?("first"===this.willSelect&&this.selectFirstRow(),"last"===this.willSelect&&this.selectLastRow(),this.willSelect=""):this.selectRowByIndex(G),this.selectedRow}createNewRow(){this.newRow=new Sr(-1,{},this),this.newRow.isInEditing=!0}createColumns(G){for(const P in G)G.hasOwnProperty(P)&&this.columns.push(new Do(P,G[P],this))}createRows(){this.rows=[],this.data.forEach((G,P)=>{this.rows.push(new Sr(P,G,this))})}}class Po{constructor(G,P){this.createFormShown=!1,this.onSelectRowSource=new I.xQ,this.onDeselectRowSource=new I.xQ,this.setSettings(P),this.setSource(G)}detach(){this.sourceOnChangedSubscription&&this.sourceOnChangedSubscription.unsubscribe(),this.sourceOnUpdatedSubscription&&this.sourceOnUpdatedSubscription.unsubscribe()}showActionColumn(G){return this.isCurrentActionsPosition(G)&&this.isActionsVisible()}isCurrentActionsPosition(G){return G==this.getSetting("actions.position")}isActionsVisible(){return this.getSetting("actions.add")||this.getSetting("actions.edit")||this.getSetting("actions.delete")||this.getSetting("actions.custom").length}isMultiSelectVisible(){return"multi"===this.getSetting("selectMode")}getNewRow(){return this.dataSet.newRow}setSettings(G){this.settings=G,this.dataSet=new Lr([],this.getSetting("columns")),this.source&&this.source.refresh()}getDataSet(){return this.dataSet}setSource(G){this.source=this.prepareSource(G),this.detach(),this.sourceOnChangedSubscription=this.source.onChanged().subscribe(P=>this.processDataChange(P)),this.sourceOnUpdatedSubscription=this.source.onUpdated().subscribe(P=>{this.dataSet.findRowByData(P).setData(P)})}getSetting(G,P){return function hi(Q={},G,P){const K=G.split(".");let tt=Dn({},Q);return K.forEach(ot=>{tt&&typeof tt[ot]<"u"&&(tt=tt[ot])}),typeof tt>"u"?P:tt}(this.settings,G,P)}getColumns(){return this.dataSet.getColumns()}getRows(){return this.dataSet.getRows()}selectRow(G){this.dataSet.selectRow(G)}multipleSelectRow(G){this.dataSet.multipleSelectRow(G)}onSelectRow(){return this.onSelectRowSource.asObservable()}onDeselectRow(){return this.onDeselectRowSource.asObservable()}edit(G){G.isInEditing=!0}create(G,P){const K=new ci;K.promise.then(tt=>{tt=tt||G.getNewData(),K.resolve.skipAdd?this.createFormShown=!1:this.source.prepend(tt).then(()=>{this.createFormShown=!1,this.dataSet.createNewRow()})}).catch(tt=>{}),this.getSetting("add.confirmCreate")?P.emit({newData:G.getNewData(),source:this.source,confirm:K}):K.resolve()}save(G,P){const K=new ci;K.promise.then(tt=>{tt=tt||G.getNewData(),K.resolve.skipEdit?G.isInEditing=!1:this.source.update(G.getData(),tt).then(()=>{G.isInEditing=!1})}).catch(tt=>{}),this.getSetting("edit.confirmSave")?P.emit({data:G.getData(),newData:G.getNewData(),source:this.source,confirm:K}):K.resolve()}delete(G,P){const K=new ci;K.promise.then(()=>{this.source.remove(G.getData())}).catch(tt=>{}),this.getSetting("delete.confirmDelete")?P.emit({data:G.getData(),source:this.source,confirm:K}):K.resolve()}processDataChange(G){if(this.shouldProcessChange(G)&&(this.dataSet.setData(G.elements),"multi"!==this.getSetting("selectMode"))){const P=this.determineRowToSelect(G);P?this.onSelectRowSource.next(P):this.onDeselectRowSource.next(null)}}shouldProcessChange(G){return-1!==["filter","sort","page","remove","refresh","load","paging"].indexOf(G.action)||-1!==["prepend","append"].indexOf(G.action)&&!this.getSetting("pager.display")}determineRowToSelect(G){if(-1!==["load","page","filter","sort","refresh"].indexOf(G.action))return this.dataSet.select(this.getRowIndexToSelect());if(this.shouldSkipSelection())return null;if("remove"===G.action){if(0!==G.elements.length)return this.dataSet.selectPreviousRow();this.dataSet.willSelectLastRow()}return"append"===G.action&&this.dataSet.willSelectLastRow(),"add"===G.action||"update"===G.action?this.dataSet.selectFirstRow():("prepend"===G.action&&this.dataSet.willSelectFirstRow(),null)}prepareSource(G){const P=this.getInitialSort();return P&&P.field&&P.direction&&G.setSort([P],!1),!0===this.getSetting("pager.display")&&G.setPaging(this.getPageToSelect(G),this.getSetting("pager.perPage"),!1),G.refresh(),G}getInitialSort(){const G={};return this.getColumns().forEach(P=>{P.isSortable&&P.defaultSortDirection&&(G.field=P.id,G.direction=P.defaultSortDirection,G.compare=P.getCompareFunction())}),G}getSelectedRows(){return this.dataSet.getRows().filter(G=>G.isSelected)}selectAllRows(G){this.dataSet.getRows().forEach(P=>P.isSelected=G)}getFirstRow(){return this.dataSet.getFirstRow()}getLastRow(){return this.dataSet.getLastRow()}getSelectionInfo(){const G=this.getSetting("switchPageToSelectedRowPage"),P=Number(this.getSetting("selectedRowIndex",0))||0,{perPage:K,page:tt}=this.getSetting("pager");return{perPage:K,page:tt,selectedRowIndex:P,switchPageToSelectedRowPage:G}}getRowIndexToSelect(){const{switchPageToSelectedRowPage:G,selectedRowIndex:P,perPage:K}=this.getSelectionInfo(),tt=this.source.count();return G&&P<tt&&P>=0?P%K:P}getPageToSelect(G){const{switchPageToSelectedRowPage:P,selectedRowIndex:K,perPage:tt,page:ot}=this.getSelectionInfo();let Bt=Math.max(1,ot);P&&K>=0&&(Bt=Wi(K,tt));const oe=Math.ceil(G.count()/tt);return oe?Math.min(Bt,oe):Bt}shouldSkipSelection(){return Number(this.getSetting("selectedRowIndex"))<0}}let di=(()=>{class Q{constructor(){this.inputClass="",this.mode="inline",this.isInEditing=!1,this.edited=new t.vpe}onEdited(P){this.isNew?this.grid.create(this.grid.getNewRow(),this.createConfirm):this.grid.save(this.row,this.editConfirm)}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["ng2-smart-table-cell"]],inputs:{inputClass:"inputClass",mode:"mode",isInEditing:"isInEditing",grid:"grid",row:"row",editConfirm:"editConfirm",createConfirm:"createConfirm",isNew:"isNew",cell:"cell"},outputs:{edited:"edited"},decls:2,vars:2,consts:[[3,"cell",4,"ngIf"],[3,"cell","inputClass","edited",4,"ngIf"],[3,"cell"],[3,"cell","inputClass","edited"]],template:function(P,K){1&P&&(t.YNc(0,Qt,1,1,"table-cell-view-mode",0),t.YNc(1,ce,1,2,"table-cell-edit-mode",1)),2&P&&(t.Q6J("ngIf",!K.isInEditing),t.xp6(1),t.Q6J("ngIf",K.isInEditing))},dependencies:function(){return[M.O5,$e,Yi]},encapsulation:2}),Q})(),Yr=(()=>{class Q{constructor(){this.inputClass="",this.edited=new t.vpe}onEdited(P){return this.edited.next(P),!1}onStopEditing(){return this.cell.getRow().isInEditing=!1,!1}onClick(P){P.stopPropagation()}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["ng-component"]],inputs:{inputClass:"inputClass",cell:"cell"},outputs:{edited:"edited"},decls:0,vars:0,template:function(P,K){},encapsulation:2}),Q})(),Wn=(()=>{class Q extends Yr{constructor(P){super(),this.resolver=P}ngOnChanges(P){if(this.cell&&!this.customComponent){const K=this.resolver.resolveComponentFactory(this.cell.getColumn().editor.component);this.customComponent=this.dynamicTarget.createComponent(K),this.customComponent.instance.cell=this.cell,this.customComponent.instance.inputClass=this.inputClass,this.customComponent.instance.onStopEditing.subscribe(()=>this.onStopEditing()),this.customComponent.instance.onEdited.subscribe(tt=>this.onEdited(tt)),this.customComponent.instance.onClick.subscribe(tt=>this.onClick(tt))}}ngOnDestroy(){this.customComponent&&this.customComponent.destroy()}}return Q.\u0275fac=function(P){return new(P||Q)(t.Y36(t._Vd))},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["table-cell-custom-editor"]],viewQuery:function(P,K){if(1&P&&t.Gf(Re,7,t.s_b),2&P){let tt;t.iGM(tt=t.CRH())&&(K.dynamicTarget=tt.first)}},features:[t.qOj,t.TTD],decls:2,vars:0,consts:[["dynamicTarget",""]],template:function(P,K){1&P&&t.YNc(0,De,0,0,"ng-template",null,0,t.W1O)},encapsulation:2}),Q})(),fi=(()=>{class Q extends Yr{constructor(){super()}getEditorType(){return this.cell.getColumn().editor&&this.cell.getColumn().editor.type}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["table-cell-default-editor"]],features:[t.qOj],decls:6,vars:5,consts:[[3,"ngSwitch"],[3,"cell","inputClass","onClick","onEdited","onStopEditing",4,"ngSwitchCase"],[3,"cell","inputClass","onClick",4,"ngSwitchCase"],[3,"cell",4,"ngSwitchCase"],[3,"cell","inputClass","onClick","onEdited","onStopEditing",4,"ngSwitchDefault"],[3,"cell","inputClass","onClick","onEdited","onStopEditing"],[3,"cell","inputClass","onClick"],[3,"cell"]],template:function(P,K){1&P&&(t.TgZ(0,"div",0),t.YNc(1,ke,1,2,"select-editor",1),t.YNc(2,je,1,2,"textarea-editor",1),t.YNc(3,or,1,2,"checkbox-editor",2),t.YNc(4,zr,1,1,"completer-editor",3),t.YNc(5,Dr,1,2,"input-editor",4),t.qZA()),2&P&&(t.Q6J("ngSwitch",K.getEditorType()),t.xp6(1),t.Q6J("ngSwitchCase","list"),t.xp6(1),t.Q6J("ngSwitchCase","textarea"),t.xp6(1),t.Q6J("ngSwitchCase","checkbox"),t.xp6(1),t.Q6J("ngSwitchCase","completer"))},dependencies:function(){return[M.RF,M.n9,M.ED,vi,ya,gi,xa,_a]},encapsulation:2}),Q})(),$e=(()=>{class Q{constructor(){this.inputClass="",this.edited=new t.vpe}onEdited(P){return this.edited.next(P),!1}getEditorType(){return this.cell.getColumn().editor&&this.cell.getColumn().editor.type}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["table-cell-edit-mode"]],inputs:{inputClass:"inputClass",cell:"cell"},outputs:{edited:"edited"},decls:3,vars:2,consts:[[3,"ngSwitch"],[3,"cell","inputClass","edited",4,"ngSwitchCase"],[3,"cell","inputClass","edited",4,"ngSwitchDefault"],[3,"cell","inputClass","edited"]],template:function(P,K){1&P&&(t.TgZ(0,"div",0),t.YNc(1,mr,1,2,"table-cell-custom-editor",1),t.YNc(2,qr,1,2,"table-cell-default-editor",2),t.qZA()),2&P&&(t.Q6J("ngSwitch",K.getEditorType()),t.xp6(1),t.Q6J("ngSwitchCase","custom"))},dependencies:[M.RF,M.n9,M.ED,Wn,fi],encapsulation:2}),Q})(),wr=(()=>{class Q{constructor(){this.onStopEditing=new t.vpe,this.onEdited=new t.vpe,this.onClick=new t.vpe}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["ng-component"]],inputs:{cell:"cell",inputClass:"inputClass"},outputs:{onStopEditing:"onStopEditing",onEdited:"onEdited",onClick:"onClick"},decls:0,vars:0,template:function(P,K){},encapsulation:2}),Q})(),vi=(()=>{class Q extends wr{constructor(){super()}onChange(P){const K=this.cell.getColumn().getConfig()&&this.cell.getColumn().getConfig().true||!0,tt=this.cell.getColumn().getConfig()&&this.cell.getColumn().getConfig().false||!1;this.cell.newValue=P.target.checked?K:tt}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["checkbox-editor"]],features:[t.qOj],decls:1,vars:4,consts:[["type","checkbox",1,"form-control",3,"ngClass","name","disabled","checked","click","change"]],template:function(P,K){if(1&P&&(t.TgZ(0,"input",0),t.NdJ("click",function(ot){return K.onClick.emit(ot)})("change",function(ot){return K.onChange(ot)}),t.qZA()),2&P){let tt;t.Q6J("ngClass",K.inputClass)("name",K.cell.getId())("disabled",!K.cell.isEditable())("checked",K.cell.getValue()==((null==(tt=K.cell.getColumn().getConfig())?null:tt.true)||!0))}},dependencies:[M.mk],styles:[_r]}),Q})(),ya=(()=>{class Q extends wr{constructor(P){super(),this.completerService=P,this.completerStr=""}ngOnInit(){if(this.cell.getColumn().editor&&"completer"===this.cell.getColumn().editor.type){const P=this.cell.getColumn().getConfig().completer;P.dataService=this.completerService.local(P.data,P.searchFields,P.titleField),P.dataService.descriptionField(P.descriptionField)}}onEditedCompleter(P){return this.cell.newValue=P.title,!1}}return Q.\u0275fac=function(P){return new(P||Q)(t.Y36(xt))},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["completer-editor"]],features:[t.qOj],decls:1,vars:5,consts:[[3,"ngModel","dataService","minSearchLength","pause","placeholder","ngModelChange","selected"]],template:function(P,K){1&P&&(t.TgZ(0,"ng2-completer",0),t.NdJ("ngModelChange",function(ot){return K.completerStr=ot})("selected",function(ot){return K.onEditedCompleter(ot)}),t.qZA()),2&P&&t.Q6J("ngModel",K.completerStr)("dataService",K.cell.getColumn().getConfig().completer.dataService)("minSearchLength",K.cell.getColumn().getConfig().completer.minSearchLength||0)("pause",K.cell.getColumn().getConfig().completer.pause||0)("placeholder",K.cell.getColumn().getConfig().completer.placeholder||"Start typing...")},dependencies:[T.JJ,T.On,ae],encapsulation:2}),Q})(),gi=(()=>{class Q extends wr{constructor(){super()}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["input-editor"]],features:[t.qOj],decls:1,vars:5,consts:[[1,"form-control",3,"ngClass","ngModel","name","placeholder","disabled","ngModelChange","click","keydown.enter","keydown.esc"]],template:function(P,K){1&P&&(t.TgZ(0,"input",0),t.NdJ("ngModelChange",function(ot){return K.cell.newValue=ot})("click",function(ot){return K.onClick.emit(ot)})("keydown.enter",function(ot){return K.onEdited.emit(ot)})("keydown.esc",function(){return K.onStopEditing.emit()}),t.qZA()),2&P&&t.Q6J("ngClass",K.inputClass)("ngModel",K.cell.newValue)("name",K.cell.getId())("placeholder",K.cell.getTitle())("disabled",!K.cell.isEditable())},dependencies:[M.mk,T.Fj,T.JJ,T.On],styles:[_r]}),Q})(),xa=(()=>{class Q extends wr{constructor(){super()}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["select-editor"]],features:[t.qOj],decls:2,vars:5,consts:[[1,"form-control",3,"ngClass","ngModel","name","disabled","ngModelChange","click","keydown.enter","keydown.esc"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(P,K){if(1&P&&(t.TgZ(0,"select",0),t.NdJ("ngModelChange",function(ot){return K.cell.newValue=ot})("click",function(ot){return K.onClick.emit(ot)})("keydown.enter",function(ot){return K.onEdited.emit(ot)})("keydown.esc",function(){return K.onStopEditing.emit()}),t.YNc(1,vn,2,3,"option",1),t.qZA()),2&P){let tt;t.Q6J("ngClass",K.inputClass)("ngModel",K.cell.newValue)("name",K.cell.getId())("disabled",!K.cell.isEditable()),t.xp6(1),t.Q6J("ngForOf",null==(tt=K.cell.getColumn().getConfig())?null:tt.list)}},dependencies:[M.mk,M.sg,T.YN,T.Kr,T.EJ,T.JJ,T.On],encapsulation:2}),Q})(),_a=(()=>{class Q extends wr{constructor(){super()}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["textarea-editor"]],features:[t.qOj],decls:2,vars:5,consts:[[1,"form-control",3,"ngClass","ngModel","name","disabled","placeholder","ngModelChange","click","keydown.enter","keydown.esc"]],template:function(P,K){1&P&&(t.TgZ(0,"textarea",0),t.NdJ("ngModelChange",function(ot){return K.cell.newValue=ot})("click",function(ot){return K.onClick.emit(ot)})("keydown.enter",function(ot){return K.onEdited.emit(ot)})("keydown.esc",function(){return K.onStopEditing.emit()}),t._uU(1,"    "),t.qZA()),2&P&&t.Q6J("ngClass",K.inputClass)("ngModel",K.cell.newValue)("name",K.cell.getId())("disabled",!K.cell.isEditable())("placeholder",K.cell.getTitle())},dependencies:[M.mk,T.Fj,T.JJ,T.On],styles:[_r]}),Q})(),Ca=(()=>{class Q{constructor(P){this.resolver=P}ngOnInit(){this.cell&&!this.customComponent&&(this.createCustomComponent(),this.callOnComponentInit(),this.patchInstance())}ngOnDestroy(){this.customComponent&&this.customComponent.destroy()}createCustomComponent(){const P=this.resolver.resolveComponentFactory(this.cell.getColumn().renderComponent);this.customComponent=this.dynamicTarget.createComponent(P)}callOnComponentInit(){const P=this.cell.getColumn().getOnComponentInitFunction();P&&P(this.customComponent.instance)}patchInstance(){Object.assign(this.customComponent.instance,this.getPatch())}getPatch(){return{value:this.cell.getValue(),rowData:this.cell.getRow().getData()}}}return Q.\u0275fac=function(P){return new(P||Q)(t.Y36(t._Vd))},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["custom-view-component"]],viewQuery:function(P,K){if(1&P&&t.Gf(Re,7,t.s_b),2&P){let tt;t.iGM(tt=t.CRH())&&(K.dynamicTarget=tt.first)}},inputs:{cell:"cell"},decls:2,vars:0,consts:[["dynamicTarget",""]],template:function(P,K){1&P&&t.YNc(0,Zn,0,0,"ng-template",null,0,t.W1O)},encapsulation:2}),Q})(),Yi=(()=>{class Q{}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["table-cell-view-mode"]],inputs:{cell:"cell"},decls:4,vars:3,consts:[[3,"ngSwitch"],[3,"cell",4,"ngSwitchCase"],[3,"innerHTML",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"cell"],[3,"innerHTML"]],template:function(P,K){1&P&&(t.TgZ(0,"div",0),t.YNc(1,ai,1,1,"custom-view-component",1),t.YNc(2,oi,1,1,"div",2),t.YNc(3,si,2,1,"div",3),t.qZA()),2&P&&(t.Q6J("ngSwitch",K.cell.getColumn().type),t.xp6(1),t.Q6J("ngSwitchCase","custom"),t.xp6(1),t.Q6J("ngSwitchCase","html"))},dependencies:[M.RF,M.n9,M.ED,Ca],encapsulation:2,changeDetection:0}),Q})(),sn=(()=>{class Q{}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275mod=t.oAB({type:Q}),Q.\u0275inj=t.cJS({imports:[M.ez,T.u5,He]}),Q})();class Sa{constructor(){this.onChangedSource=new I.xQ,this.onAddedSource=new I.xQ,this.onUpdatedSource=new I.xQ,this.onRemovedSource=new I.xQ}refresh(){this.emitOnChanged("refresh")}load(G){return this.emitOnChanged("load"),Promise.resolve()}onChanged(){return this.onChangedSource.asObservable()}onAdded(){return this.onAddedSource.asObservable()}onUpdated(){return this.onUpdatedSource.asObservable()}onRemoved(){return this.onRemovedSource.asObservable()}prepend(G){return this.emitOnAdded(G),this.emitOnChanged("prepend"),Promise.resolve()}append(G){return this.emitOnAdded(G),this.emitOnChanged("append"),Promise.resolve()}add(G){return this.emitOnAdded(G),this.emitOnChanged("add"),Promise.resolve()}remove(G){return this.emitOnRemoved(G),this.emitOnChanged("remove"),Promise.resolve()}update(G,P){return this.emitOnUpdated(G),this.emitOnChanged("update"),Promise.resolve()}empty(){return this.emitOnChanged("empty"),Promise.resolve()}setSort(G,P){P&&this.emitOnChanged("sort")}setFilter(G,P,K){K&&this.emitOnChanged("filter")}addFilter(G,P,K){K&&this.emitOnChanged("filter")}setPaging(G,P,K){K&&this.emitOnChanged("paging")}setPage(G,P){P&&this.emitOnChanged("page")}emitOnRemoved(G){this.onRemovedSource.next(G)}emitOnUpdated(G){this.onUpdatedSource.next(G)}emitOnAdded(G){this.onAddedSource.next(G)}emitOnChanged(G){this.getElements().then(P=>this.onChangedSource.next({action:G,elements:P,paging:this.getPaging(),filter:this.getFilter(),sort:this.getSort()}))}}let Yn=(()=>{class Q{constructor(){this.inputClass="",this.filter=new t.vpe,this.query=""}onFilter(P){this.source.addFilter({field:this.column.id,search:P,filter:this.column.getFilterFunction()})}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["ng-component"]],inputs:{inputClass:"inputClass",column:"column",source:"source"},outputs:{filter:"filter"},decls:0,vars:0,template:function(P,K){},encapsulation:2}),Q})(),Qi=(()=>{class Q extends Yn{constructor(){super(...arguments),this.query=""}ngOnChanges(P){P.source&&(P.source.firstChange||this.dataChangedSub.unsubscribe(),this.dataChangedSub=this.source.onChanged().subscribe(K=>{const tt=this.source.getFilter();tt&&tt.filters&&0===tt.filters.length?this.query="":tt&&tt.filters&&tt.filters.length>0&&tt.filters.forEach((ot,Bt)=>{ot.field==this.column.id&&(this.query=ot.search)})}))}}return Q.\u0275fac=function(){let G;return function(K){return(G||(G=t.n5z(Q)))(K||Q)}}(),Q.\u0275cmp=t.Xpm({type:Q,selectors:[["ng2-smart-table-filter"]],features:[t.qOj,t.TTD],decls:1,vars:1,consts:[["class","ng2-smart-filter",3,"ngSwitch",4,"ngIf"],[1,"ng2-smart-filter",3,"ngSwitch"],[3,"query","column","source","inputClass","filter",4,"ngSwitchCase"],[3,"query","column","source","inputClass","filter",4,"ngSwitchDefault"],[3,"query","column","source","inputClass","filter"]],template:function(P,K){1&P&&t.YNc(0,ki,3,2,"div",0),2&P&&t.Q6J("ngIf",K.column.isFilterable)},dependencies:function(){return[M.O5,M.RF,M.n9,M.ED,pi,mi]},styles:["[_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     input, [_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     select{font-weight:400;line-height:normal;padding:.375em .75em;width:100%}[_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     input[type=search]{box-sizing:inherit}[_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     .completer-dropdown-holder, [_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     a{font-weight:400}"]}),Q})(),pi=(()=>{class Q extends Yn{}return Q.\u0275fac=function(){let G;return function(K){return(G||(G=t.n5z(Q)))(K||Q)}}(),Q.\u0275cmp=t.Xpm({type:Q,selectors:[["default-table-filter"]],inputs:{query:"query"},features:[t.qOj],decls:5,vars:4,consts:[[3,"ngSwitch"],[3,"query","ngClass","column","filter",4,"ngSwitchCase"],[3,"query","ngClass","column","filter",4,"ngSwitchDefault"],[3,"query","ngClass","column","filter"]],template:function(P,K){1&P&&(t.ynx(0,0),t.YNc(1,Vi,1,3,"select-filter",1),t.YNc(2,Ui,1,3,"checkbox-filter",1),t.YNc(3,ui,1,3,"completer-filter",1),t.YNc(4,Mn,1,3,"input-filter",2),t.BQk()),2&P&&(t.Q6J("ngSwitch",K.column.getFilterType()),t.xp6(1),t.Q6J("ngSwitchCase","list"),t.xp6(1),t.Q6J("ngSwitchCase","checkbox"),t.xp6(1),t.Q6J("ngSwitchCase","completer"))},dependencies:function(){return[M.mk,M.RF,M.n9,M.ED,ba,yi,xi,Ta]},encapsulation:2}),Q})(),mi=(()=>{class Q extends Yn{constructor(P){super(),this.resolver=P}ngOnChanges(P){if(this.column&&!this.customComponent){const K=this.resolver.resolveComponentFactory(this.column.filter.component);this.customComponent=this.dynamicTarget.createComponent(K),this.customComponent.instance.query=this.query,this.customComponent.instance.column=this.column,this.customComponent.instance.source=this.source,this.customComponent.instance.inputClass=this.inputClass,this.customComponent.instance.filter.subscribe(tt=>this.onFilter(tt))}this.customComponent&&this.customComponent.instance.ngOnChanges(P)}ngOnDestroy(){this.customComponent&&this.customComponent.destroy()}}return Q.\u0275fac=function(P){return new(P||Q)(t.Y36(t._Vd))},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["custom-table-filter"]],viewQuery:function(P,K){if(1&P&&t.Gf(Re,7,t.s_b),2&P){let tt;t.iGM(tt=t.CRH())&&(K.dynamicTarget=tt.first)}},inputs:{query:"query"},features:[t.qOj,t.TTD],decls:2,vars:0,consts:[["dynamicTarget",""]],template:function(P,K){1&P&&t.YNc(0,mt,0,0,"ng-template",null,0,t.W1O)},encapsulation:2}),Q})(),Pn=(()=>{class Q{constructor(){this.delay=300,this.filter=new t.vpe}ngOnDestroy(){this.changesSubscription&&this.changesSubscription.unsubscribe()}setFilter(){this.filter.emit(this.query)}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["ng-component"]],inputs:{query:"query",inputClass:"inputClass",column:"column"},outputs:{filter:"filter"},decls:0,vars:0,template:function(P,K){},encapsulation:2}),Q})(),ba=(()=>{class Q extends Pn{constructor(){super(),this.filterActive=!1,this.inputControl=new T.NI}ngOnInit(){this.changesSubscription=this.inputControl.valueChanges.pipe((0,pt.b)(this.delay)).subscribe(P=>{this.filterActive=!0;const K=this.column.getFilterConfig()&&this.column.getFilterConfig().true||!0,tt=this.column.getFilterConfig()&&this.column.getFilterConfig().false||!1;this.query=P?K:tt,this.setFilter()})}resetFilter(P){P.preventDefault(),this.query="",this.inputControl.setValue(!1,{emitEvent:!1}),this.filterActive=!1,this.setFilter()}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["checkbox-filter"]],features:[t.qOj],decls:2,vars:3,consts:[["type","checkbox",1,"form-control",3,"formControl","ngClass"],["href","#",3,"click",4,"ngIf"],["href","#",3,"click"]],template:function(P,K){1&P&&(t._UZ(0,"input",0),t.YNc(1,Dt,2,1,"a",1)),2&P&&(t.Q6J("formControl",K.inputControl)("ngClass",K.inputClass),t.xp6(1),t.Q6J("ngIf",K.filterActive))},dependencies:[M.mk,M.O5,T.Wl,T.JJ,T.oH],encapsulation:2}),Q})(),yi=(()=>{class Q extends Pn{constructor(P){super(),this.completerService=P,this.completerContent=new I.xQ}ngOnInit(){const P=this.column.getFilterConfig().completer;P.dataService=this.completerService.local(P.data,P.searchFields,P.titleField),P.dataService.descriptionField(P.descriptionField),this.changesSubscription=this.completerContent.pipe((0,h.U)(K=>K&&K.title||K||""),(0,Mt.x)(),(0,pt.b)(this.delay)).subscribe(K=>{this.query=K,this.setFilter()})}inputTextChanged(P){""===P&&this.completerContent.next(P)}}return Q.\u0275fac=function(P){return new(P||Q)(t.Y36(xt))},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["completer-filter"]],features:[t.qOj],decls:1,vars:5,consts:[[3,"ngModel","dataService","minSearchLength","pause","placeholder","ngModelChange","selected"]],template:function(P,K){1&P&&(t.TgZ(0,"ng2-completer",0),t.NdJ("ngModelChange",function(ot){return K.query=ot})("ngModelChange",function(ot){return K.inputTextChanged(ot)})("selected",function(ot){return K.completerContent.next(ot)}),t.qZA()),2&P&&t.Q6J("ngModel",K.query)("dataService",K.column.getFilterConfig().completer.dataService)("minSearchLength",K.column.getFilterConfig().completer.minSearchLength||0)("pause",K.column.getFilterConfig().completer.pause||0)("placeholder",K.column.getFilterConfig().completer.placeholder||"Start typing...")},dependencies:[T.JJ,T.On,ae],encapsulation:2}),Q})(),xi=(()=>{class Q extends Pn{constructor(){super(),this.inputControl=new T.NI}ngOnInit(){this.query&&this.inputControl.setValue(this.query),this.inputControl.valueChanges.pipe((0,Mt.x)(),(0,pt.b)(this.delay)).subscribe(P=>{this.query=this.inputControl.value,this.setFilter()})}ngOnChanges(P){P.query&&this.inputControl.setValue(this.query)}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["input-filter"]],features:[t.qOj,t.TTD],decls:1,vars:3,consts:[["type","text",1,"form-control",3,"ngClass","formControl","placeholder"]],template:function(P,K){1&P&&t._UZ(0,"input",0),2&P&&(t.s9C("placeholder",K.column.title),t.Q6J("ngClass",K.inputClass)("formControl",K.inputControl))},dependencies:[M.mk,T.Fj,T.JJ,T.oH],encapsulation:2}),Q})(),Ta=(()=>{class Q extends Pn{constructor(){super()}ngOnInit(){this.inputControl.valueChanges.pipe((0,kt.T)(1),(0,Mt.x)(),(0,pt.b)(this.delay)).subscribe(P=>this.setFilter())}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["select-filter"]],viewQuery:function(P,K){if(1&P&&t.Gf(Ut,7,T.a5),2&P){let tt;t.iGM(tt=t.CRH())&&(K.inputControl=tt.first)}},features:[t.qOj],decls:5,vars:4,consts:[[1,"form-control",3,"ngClass","ngModel","ngModelChange"],["inputControl",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(P,K){1&P&&(t.TgZ(0,"select",0,1),t.NdJ("ngModelChange",function(ot){return K.query=ot}),t.TgZ(2,"option",2),t._uU(3),t.qZA(),t.YNc(4,Kt,2,2,"option",3),t.qZA()),2&P&&(t.Q6J("ngClass",K.inputClass)("ngModel",K.query),t.xp6(3),t.Oqu(K.column.getFilterConfig().selectText),t.xp6(1),t.Q6J("ngForOf",K.column.getFilterConfig().list))},dependencies:[M.mk,M.sg,T.YN,T.Kr,T.EJ,T.JJ,T.On],encapsulation:2}),Q})(),br=(()=>{class Q{}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275mod=t.oAB({type:Q}),Q.\u0275inj=t.cJS({imports:[M.ez,T.u5,T.UX,He]}),Q})(),Ki=(()=>{class Q{constructor(){this.perPageSelect=[],this.changePage=new t.vpe,this.count=0}ngOnChanges(P){P.source&&(P.source.firstChange||this.dataChangedSub.unsubscribe(),this.dataChangedSub=this.source.onChanged().subscribe(K=>{this.page=this.source.getPaging().page,this.perPage=this.source.getPaging().perPage,this.currentPerPage=this.perPage,this.count=this.source.count(),this.isPageOutOfBounce()&&this.source.setPage(--this.page),this.processPageChange(K),this.initPages()}))}processPageChange(P){"prepend"===P.action&&this.source.setPage(1),"append"===P.action&&this.source.setPage(this.getLast())}shouldShow(){return this.source.count()>this.perPage}paginate(P){return this.source.setPage(P),this.page=P,this.changePage.emit({page:P}),!1}next(){return this.paginate(this.getPage()+1)}prev(){return this.paginate(this.getPage()-1)}getPage(){return this.page}getPages(){return this.pages}getLast(){return Math.ceil(this.count/this.perPage)}isPageOutOfBounce(){return this.page*this.perPage>=this.count+this.perPage&&this.page>1}initPages(){const P=this.getLast();let K=4;if(K=P<K?P:K,this.pages=[],this.shouldShow()){let tt=Math.ceil(K/2);tt=this.page>=tt?this.page:tt;let ot=tt+Math.floor(K/2);ot=ot>=P?P:ot;for(let oe=ot-K+1;oe<=ot;oe++)this.pages.push(oe)}}onChangePerPage(P){this.currentPerPage&&("string"==typeof this.currentPerPage&&"all"===this.currentPerPage.toLowerCase()?this.source.getPaging().perPage=null:(this.source.getPaging().perPage=1*this.currentPerPage,this.source.refresh()),this.initPages())}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["ng2-smart-table-pager"]],inputs:{perPageSelect:"perPageSelect",source:"source"},outputs:{changePage:"changePage"},features:[t.TTD],decls:2,vars:2,consts:[["class","ng2-smart-pagination-nav",4,"ngIf"],["class","ng2-smart-pagination-per-page",4,"ngIf"],[1,"ng2-smart-pagination-nav"],[1,"ng2-smart-pagination","pagination"],[1,"ng2-smart-page-item","page-item",3,"ngClass"],["href","#","aria-label","First",1,"ng2-smart-page-link","page-link",3,"click"],["aria-hidden","true"],[1,"sr-only"],["href","#","aria-label","Prev",1,"ng2-smart-page-link","page-link","page-link-prev",3,"click"],["class","ng2-smart-page-item page-item",3,"ngClass",4,"ngFor","ngForOf"],["href","#","aria-label","Next",1,"ng2-smart-page-link","page-link","page-link-next",3,"click"],["href","#","aria-label","Last",1,"ng2-smart-page-link","page-link",3,"click"],["class","ng2-smart-page-link page-link",4,"ngIf"],["class","ng2-smart-page-link page-link","href","#",3,"click",4,"ngIf"],[1,"ng2-smart-page-link","page-link"],["href","#",1,"ng2-smart-page-link","page-link",3,"click"],[1,"ng2-smart-pagination-per-page"],["for","per-page"],["id","per-page",3,"ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(P,K){1&P&&(t.YNc(0,pe,27,13,"nav",0),t.YNc(1,Te,5,2,"nav",1)),2&P&&(t.Q6J("ngIf",K.shouldShow()),t.xp6(1),t.Q6J("ngIf",K.perPageSelect&&K.perPageSelect.length>0))},dependencies:[M.mk,M.sg,M.O5,T.YN,T.Kr,T.EJ,T.JJ,T.On],styles:[".ng2-smart-pagination[_ngcontent-%COMP%]{display:inline-flex;font-size:.875em;padding:0}.ng2-smart-pagination[_ngcontent-%COMP%]   .sr-only[_ngcontent-%COMP%]{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.ng2-smart-pagination[_ngcontent-%COMP%]   .ng2-smart-page-item[_ngcontent-%COMP%]{display:inline}.ng2-smart-pagination[_ngcontent-%COMP%]   .page-link-next[_ngcontent-%COMP%], .ng2-smart-pagination[_ngcontent-%COMP%]   .page-link-prev[_ngcontent-%COMP%]{font-size:10px}[_nghost-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   label[_ngcontent-%COMP%], [_nghost-%COMP%]   select[_ngcontent-%COMP%]{margin:1rem 0 1rem 1rem}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{line-height:2.5rem}"]}),Q})(),Jn=(()=>{class Q{}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275mod=t.oAB({type:Q}),Q.\u0275inj=t.cJS({imports:[M.ez,T.u5]}),Q})(),Xi=(()=>{class Q{constructor(){this.save=new t.vpe,this.cancel=new t.vpe,this.edit=new t.vpe,this.delete=new t.vpe,this.custom=new t.vpe,this.edited=new t.vpe,this.userSelectRow=new t.vpe,this.editRowSelect=new t.vpe,this.multipleSelectRow=new t.vpe,this.rowHover=new t.vpe}get tableColumnsCount(){const P=this.isActionAdd||this.isActionEdit||this.isActionDelete?1:0;return this.grid.getColumns().length+P}ngOnChanges(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.mode=this.grid.getSetting("mode"),this.editInputClass=this.grid.getSetting("edit.inputClass"),this.showActionColumnRight=this.grid.showActionColumn("right"),this.isActionAdd=this.grid.getSetting("actions.add"),this.isActionEdit=this.grid.getSetting("actions.edit"),this.isActionDelete=this.grid.getSetting("actions.delete"),this.noDataMessage=this.grid.getSetting("noDataMessage")}getVisibleCells(P){return(P||[]).filter(K=>!K.getColumn().hide)}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["","ng2-st-tbody",""]],inputs:{grid:"grid",source:"source",deleteConfirm:"deleteConfirm",editConfirm:"editConfirm",rowClassFunction:"rowClassFunction"},outputs:{save:"save",cancel:"cancel",edit:"edit",delete:"delete",custom:"custom",edited:"edited",userSelectRow:"userSelectRow",editRowSelect:"editRowSelect",multipleSelectRow:"multipleSelectRow",rowHover:"rowHover"},features:[t.TTD],attrs:Qe,decls:2,vars:2,consts:[["class","ng2-smart-row",3,"className","ngClass","click","mouseover",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"ng2-smart-row",3,"className","ngClass","click","mouseover"],["class","ng2-smart-actions ng2-smart-action-multiple-select",3,"click",4,"ngIf"],["class","ng2-smart-actions",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"ng2-smart-actions","ng2-smart-action-multiple-select",3,"click"],["type","checkbox",1,"form-control",3,"ngModel"],[1,"ng2-smart-actions"],[3,"grid","row","source","custom"],[3,"grid","deleteConfirm","editConfirm","row","source","edit","delete","editRowSelect"],[3,"grid","row","editConfirm"],[3,"cell","grid","row","isNew","mode","editConfirm","inputClass","isInEditing"]],template:function(P,K){1&P&&(t.YNc(0,tn,7,10,"tr",0),t.YNc(1,ha,3,2,"tr",1)),2&P&&(t.Q6J("ngForOf",K.grid.getRows()),t.xp6(1),t.Q6J("ngIf",0==K.grid.getRows().length))},dependencies:function(){return[M.mk,M.sg,M.O5,T.Wl,T.JJ,T.On,di,$i,wa,Aa]},styles:["[_nghost-%COMP%]   .ng2-smart-row.selected[_ngcontent-%COMP%]{background:rgba(0,0,0,.05)}[_nghost-%COMP%]   .ng2-smart-row[_ngcontent-%COMP%]   .ng2-smart-actions.ng2-smart-action-multiple-select[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]     ng2-st-tbody-create-cancel a:first-child, [_nghost-%COMP%]     ng2-st-tbody-edit-delete a:first-child{margin-right:.25rem}"]}),Q})(),$i=(()=>{class Q{onSave(P){P.preventDefault(),P.stopPropagation(),this.grid.save(this.row,this.editConfirm)}onCancelEdit(P){P.preventDefault(),P.stopPropagation(),this.row.isInEditing=!1}ngOnChanges(){this.saveButtonContent=this.grid.getSetting("edit.saveButtonContent"),this.cancelButtonContent=this.grid.getSetting("edit.cancelButtonContent")}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["ng2-st-tbody-create-cancel"]],inputs:{grid:"grid",row:"row",editConfirm:"editConfirm"},features:[t.TTD],decls:2,vars:2,consts:[["href","#",1,"ng2-smart-action","ng2-smart-action-edit-save",3,"innerHTML","click"],["href","#",1,"ng2-smart-action","ng2-smart-action-edit-cancel",3,"innerHTML","click"]],template:function(P,K){1&P&&(t.TgZ(0,"a",0),t.NdJ("click",function(ot){return K.onSave(ot)}),t.qZA(),t.TgZ(1,"a",1),t.NdJ("click",function(ot){return K.onCancelEdit(ot)}),t.qZA()),2&P&&(t.Q6J("innerHTML",K.saveButtonContent,t.oJD),t.xp6(1),t.Q6J("innerHTML",K.cancelButtonContent,t.oJD))},encapsulation:2}),Q})(),wa=(()=>{class Q{constructor(){this.edit=new t.vpe,this.delete=new t.vpe,this.editRowSelect=new t.vpe}onEdit(P){P.preventDefault(),P.stopPropagation(),this.editRowSelect.emit(this.row),"external"===this.grid.getSetting("mode")?this.edit.emit({data:this.row.getData(),source:this.source}):this.grid.edit(this.row)}onDelete(P){P.preventDefault(),P.stopPropagation(),"external"===this.grid.getSetting("mode")?this.delete.emit({data:this.row.getData(),source:this.source}):this.grid.delete(this.row,this.deleteConfirm)}ngOnChanges(){this.isActionEdit=this.grid.getSetting("actions.edit"),this.isActionDelete=this.grid.getSetting("actions.delete"),this.editRowButtonContent=this.grid.getSetting("edit.editButtonContent"),this.deleteRowButtonContent=this.grid.getSetting("delete.deleteButtonContent")}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["ng2-st-tbody-edit-delete"]],inputs:{grid:"grid",row:"row",source:"source",deleteConfirm:"deleteConfirm",editConfirm:"editConfirm"},outputs:{edit:"edit",delete:"delete",editRowSelect:"editRowSelect"},features:[t.TTD],decls:2,vars:2,consts:[["href","#","class","ng2-smart-action ng2-smart-action-edit-edit",3,"innerHTML","click",4,"ngIf"],["href","#","class","ng2-smart-action ng2-smart-action-delete-delete",3,"innerHTML","click",4,"ngIf"],["href","#",1,"ng2-smart-action","ng2-smart-action-edit-edit",3,"innerHTML","click"],["href","#",1,"ng2-smart-action","ng2-smart-action-delete-delete",3,"innerHTML","click"]],template:function(P,K){1&P&&(t.YNc(0,uo,1,1,"a",0),t.YNc(1,co,1,1,"a",1)),2&P&&(t.Q6J("ngIf",K.isActionEdit),t.xp6(1),t.Q6J("ngIf",K.isActionDelete))},dependencies:[M.O5],encapsulation:2,changeDetection:0}),Q})(),Aa=(()=>{class Q{constructor(){this.custom=new t.vpe}onCustom(P,K){K.preventDefault(),K.stopPropagation(),this.custom.emit({action:P.name,data:this.row.getData(),source:this.source})}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["ng2-st-tbody-custom"]],inputs:{grid:"grid",row:"row",source:"source"},outputs:{custom:"custom"},decls:1,vars:1,consts:[["href","#","class","ng2-smart-action ng2-smart-action-custom-custom",3,"innerHTML","click",4,"ngFor","ngForOf"],["href","#",1,"ng2-smart-action","ng2-smart-action-custom-custom",3,"innerHTML","click"]],template:function(P,K){1&P&&t.YNc(0,ho,1,1,"a",0),2&P&&t.Q6J("ngForOf",K.grid.getSetting("actions.custom"))},dependencies:[M.sg],encapsulation:2,changeDetection:0}),Q})(),Oo=(()=>{class Q{}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275mod=t.oAB({type:Q}),Q.\u0275inj=t.cJS({imports:[M.ez,T.u5,sn]}),Q})(),Ma=(()=>{class Q{constructor(){this.sort=new t.vpe,this.selectAllRows=new t.vpe,this.create=new t.vpe,this.filter=new t.vpe}ngOnChanges(){this.isHideHeader=this.grid.getSetting("hideHeader"),this.isHideSubHeader=this.grid.getSetting("hideSubHeader")}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["","ng2-st-thead",""]],inputs:{grid:"grid",source:"source",isAllSelected:"isAllSelected",createConfirm:"createConfirm"},outputs:{sort:"sort",selectAllRows:"selectAllRows",create:"create",filter:"filter"},features:[t.TTD],attrs:da,decls:3,vars:3,consts:[["ng2-st-thead-titles-row","","class","ng2-smart-titles",3,"grid","isAllSelected","source","sort","selectAllRows",4,"ngIf"],["ng2-st-thead-filters-row","","class","ng2-smart-filters",3,"grid","source","create","filter",4,"ngIf"],["ng2-st-thead-form-row","",3,"grid","createConfirm",4,"ngIf"],["ng2-st-thead-titles-row","",1,"ng2-smart-titles",3,"grid","isAllSelected","source","sort","selectAllRows"],["ng2-st-thead-filters-row","",1,"ng2-smart-filters",3,"grid","source","create","filter"],["ng2-st-thead-form-row","",3,"grid","createConfirm"]],template:function(P,K){1&P&&(t.YNc(0,fo,1,3,"tr",0),t.YNc(1,vo,1,2,"tr",1),t.YNc(2,go,1,2,"tr",2)),2&P&&(t.Q6J("ngIf",!K.isHideHeader),t.xp6(1),t.Q6J("ngIf",!K.isHideSubHeader),t.xp6(1),t.Q6J("ngIf",K.grid.createFormShown))},dependencies:function(){return[M.O5,Qn,Pa,La]},encapsulation:2}),Q})(),mn=(()=>{class Q{constructor(){this.create=new t.vpe}ngOnChanges(){this.createButtonContent=this.grid.getSetting("add.createButtonContent"),this.cancelButtonContent=this.grid.getSetting("add.cancelButtonContent")}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["ng2-st-actions"]],inputs:{grid:"grid"},outputs:{create:"create"},features:[t.TTD],decls:2,vars:2,consts:[["href","#",1,"ng2-smart-action","ng2-smart-action-add-create",3,"innerHTML","click"],["href","#",1,"ng2-smart-action","ng2-smart-action-add-cancel",3,"innerHTML","click"]],template:function(P,K){1&P&&(t.TgZ(0,"a",0),t.NdJ("click",function(ot){return ot.preventDefault(),K.create.emit(ot)}),t.qZA(),t.TgZ(1,"a",1),t.NdJ("click",function(ot){return ot.preventDefault(),K.grid.createFormShown=!1}),t.qZA()),2&P&&(t.Q6J("innerHTML",K.createButtonContent,t.oJD),t.xp6(1),t.Q6J("innerHTML",K.cancelButtonContent,t.oJD))},encapsulation:2}),Q})(),Ia=(()=>{class Q{constructor(P){this.ref=P}ngAfterViewInit(){this.ref.nativeElement.classList.add("ng2-smart-actions")}ngOnChanges(){this.actionsColumnTitle=this.grid.getSetting("actions.columnTitle")}}return Q.\u0275fac=function(P){return new(P||Q)(t.Y36(t.SBq))},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["","ng2-st-actions-title",""]],inputs:{grid:"grid"},features:[t.TTD],attrs:po,decls:2,vars:1,consts:[[1,"ng2-smart-title"]],template:function(P,K){1&P&&(t.TgZ(0,"div",0),t._uU(1),t.qZA()),2&P&&(t.xp6(1),t.Oqu(K.actionsColumnTitle))},encapsulation:2}),Q})(),Da=(()=>{class Q{constructor(P){this.ref=P,this.create=new t.vpe}ngAfterViewInit(){this.ref.nativeElement.classList.add("ng2-smart-actions-title","ng2-smart-actions-title-add")}ngOnChanges(){this.isActionAdd=this.grid.getSetting("actions.add"),this.addNewButtonContent=this.grid.getSetting("add.addButtonContent")}onAdd(P){P.preventDefault(),P.stopPropagation(),"external"===this.grid.getSetting("mode")?this.create.emit({source:this.source}):this.grid.createFormShown=!0}}return Q.\u0275fac=function(P){return new(P||Q)(t.Y36(t.SBq))},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["","ng2-st-add-button",""]],inputs:{grid:"grid",source:"source"},outputs:{create:"create"},features:[t.TTD],attrs:Zi,decls:1,vars:1,consts:[["href","#","class","ng2-smart-action ng2-smart-action-add-add",3,"innerHTML","click",4,"ngIf"],["href","#",1,"ng2-smart-action","ng2-smart-action-add-add",3,"innerHTML","click"]],template:function(P,K){1&P&&t.YNc(0,mo,1,1,"a",0),2&P&&t.Q6J("ngIf",K.isActionAdd)},dependencies:[M.O5],encapsulation:2}),Q})(),_i=(()=>{class Q{}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["","ng2-st-checkbox-select-all",""]],inputs:{grid:"grid",source:"source",isAllSelected:"isAllSelected"},attrs:yo,decls:1,vars:1,consts:[["type","checkbox",3,"ngModel"]],template:function(P,K){1&P&&t._UZ(0,"input",0),2&P&&t.Q6J("ngModel",K.isAllSelected)},dependencies:[T.Wl,T.JJ,T.On],encapsulation:2}),Q})(),ji=(()=>{class Q{constructor(){this.sort=new t.vpe}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["ng2-st-column-title"]],inputs:{column:"column",source:"source"},outputs:{sort:"sort"},decls:2,vars:2,consts:[[1,"ng2-smart-title"],[3,"source","column","sort"]],template:function(P,K){1&P&&(t.TgZ(0,"div",0)(1,"ng2-smart-table-title",1),t.NdJ("sort",function(ot){return K.sort.emit(ot)}),t.qZA()()),2&P&&(t.xp6(1),t.Q6J("source",K.source)("column",K.column))},dependencies:function(){return[en]},encapsulation:2}),Q})(),en=(()=>{class Q{constructor(){this.currentDirection="",this.sort=new t.vpe}ngOnChanges(P){P.source&&(P.source.firstChange||this.dataChangedSub.unsubscribe(),this.dataChangedSub=this.source.onChanged().subscribe(K=>{const tt=this.source.getSort();this.currentDirection=tt.length>0&&tt[0].field===this.column.id?tt[0].direction:"",tt.forEach(ot=>{})}))}_sort(P){P.preventDefault(),this.changeSortDirection(),this.source.setSort([{field:this.column.id,direction:this.currentDirection,compare:this.column.getCompareFunction()}]),this.sort.emit(null)}changeSortDirection(){return this.currentDirection=this.currentDirection?"asc"===this.currentDirection?"desc":"asc":this.column.sortDirection,this.currentDirection}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["ng2-smart-table-title"]],inputs:{column:"column",source:"source"},outputs:{sort:"sort"},features:[t.TTD],decls:2,vars:2,consts:[["href","#","class","ng2-smart-sort-link sort",3,"ngClass","click",4,"ngIf"],["class","ng2-smart-sort",4,"ngIf"],["href","#",1,"ng2-smart-sort-link","sort",3,"ngClass","click"],[1,"ng2-smart-sort"]],template:function(P,K){1&P&&(t.YNc(0,xo,2,2,"a",0),t.YNc(1,_o,2,1,"span",1)),2&P&&(t.Q6J("ngIf",K.column.isSortable),t.xp6(1),t.Q6J("ngIf",!K.column.isSortable))},dependencies:[M.mk,M.O5],styles:['a.sort.asc[_ngcontent-%COMP%], a.sort.desc[_ngcontent-%COMP%]{font-weight:700}a.sort.asc[_ngcontent-%COMP%]:after, a.sort.desc[_ngcontent-%COMP%]:after{border:4px solid transparent;border-bottom-color:rgba(0,0,0,.3);content:"";display:inline-block;height:0;margin-bottom:2px;width:0}a.sort.desc[_ngcontent-%COMP%]:after{margin-bottom:-2px;transform:rotate(-180deg)}']}),Q})(),Qn=(()=>{class Q{constructor(){this.create=new t.vpe,this.filter=new t.vpe}ngOnChanges(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.showActionColumnRight=this.grid.showActionColumn("right"),this.filterInputClass=this.grid.getSetting("filter.inputClass")}getVisibleColumns(P){return(P||[]).filter(K=>!K.hide)}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["","ng2-st-thead-filters-row",""]],inputs:{grid:"grid",source:"source"},outputs:{create:"create",filter:"filter"},features:[t.TTD],attrs:Co,decls:4,vars:4,consts:[[4,"ngIf"],["ng2-st-add-button","",3,"grid","create",4,"ngIf"],[3,"class",4,"ngFor","ngForOf"],["ng2-st-add-button","",3,"grid","source","create",4,"ngIf"],["ng2-st-add-button","",3,"grid","create"],[3,"source","column","inputClass","filter"],["ng2-st-add-button","",3,"grid","source","create"]],template:function(P,K){1&P&&(t.YNc(0,Xe,1,0,"th",0),t.YNc(1,Ke,1,1,"th",1),t.YNc(2,So,2,6,"th",2),t.YNc(3,bo,1,2,"th",3)),2&P&&(t.Q6J("ngIf",K.isMultiSelectVisible),t.xp6(1),t.Q6J("ngIf",K.showActionColumnLeft),t.xp6(1),t.Q6J("ngForOf",K.getVisibleColumns(K.grid.getColumns())),t.xp6(1),t.Q6J("ngIf",K.showActionColumnRight))},dependencies:[M.sg,M.O5,Qi,Da],encapsulation:2}),Q})(),Pa=(()=>{class Q{constructor(){this.create=new t.vpe}onCreate(P){P.stopPropagation(),this.grid.create(this.grid.getNewRow(),this.createConfirm)}ngOnChanges(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.showActionColumnRight=this.grid.showActionColumn("right"),this.addInputClass=this.grid.getSetting("add.inputClass")}getVisibleCells(P){return(P||[]).filter(K=>!K.getColumn().hide)}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["","ng2-st-thead-form-row",""]],inputs:{grid:"grid",row:"row",createConfirm:"createConfirm"},outputs:{create:"create"},features:[t.TTD],attrs:To,decls:4,vars:3,consts:[[4,"ngIf"],["class","ng2-smart-actions",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"ng2-smart-actions"],[3,"grid","create"],[3,"cell","grid","isNew","createConfirm","inputClass","isInEditing","edited"]],template:function(P,K){1&P&&(t.YNc(0,wo,1,0,"td",0),t.YNc(1,Ao,2,1,"td",1),t.YNc(2,Mo,2,6,"td",2),t.YNc(3,fa,2,1,"td",1)),2&P&&(t.xp6(1),t.Q6J("ngIf",K.showActionColumnLeft),t.xp6(1),t.Q6J("ngForOf",K.getVisibleCells(K.grid.getNewRow().getCells())),t.xp6(1),t.Q6J("ngIf",K.showActionColumnRight))},dependencies:[M.sg,M.O5,di,mn],encapsulation:2}),Q})(),La=(()=>{class Q{constructor(){this.sort=new t.vpe,this.selectAllRows=new t.vpe}ngOnChanges(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.showActionColumnRight=this.grid.showActionColumn("right")}getVisibleColumns(P){return(P||[]).filter(K=>!K.hide)}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["","ng2-st-thead-titles-row",""]],inputs:{grid:"grid",isAllSelected:"isAllSelected",source:"source"},outputs:{sort:"sort",selectAllRows:"selectAllRows"},features:[t.TTD],attrs:Io,decls:4,vars:4,consts:[["ng2-st-checkbox-select-all","",3,"grid","source","isAllSelected","click",4,"ngIf"],["ng2-st-actions-title","",3,"grid",4,"ngIf"],[3,"class","ngClass","width",4,"ngFor","ngForOf"],["ng2-st-checkbox-select-all","",3,"grid","source","isAllSelected","click"],["ng2-st-actions-title","",3,"grid"],[3,"ngClass"],[3,"source","column","sort"]],template:function(P,K){1&P&&(t.YNc(0,fr,1,3,"th",0),t.YNc(1,va,1,1,"th",1),t.YNc(2,Gn,2,8,"th",2),t.YNc(3,ga,1,1,"th",1)),2&P&&(t.Q6J("ngIf",K.isMultiSelectVisible),t.xp6(1),t.Q6J("ngIf",K.showActionColumnLeft),t.xp6(1),t.Q6J("ngForOf",K.getVisibleColumns(K.grid.getColumns())),t.xp6(1),t.Q6J("ngIf",K.showActionColumnRight))},dependencies:[M.mk,M.sg,M.O5,Ia,_i,ji],encapsulation:2}),Q})(),Ln=(()=>{class Q{}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275mod=t.oAB({type:Q}),Q.\u0275inj=t.cJS({imports:[M.ez,T.u5,br,sn]}),Q})();function Hr(Q,G,P){return G<P?-1*Q:G>P?Q:0}class Oa{static sort(G,P,K,tt){const ot="asc"===K?1:-1,Bt=tt||Hr;return G.sort((oe,ve)=>Bt.call(null,ot,oe[P],ve[P]))}}function Eo(Q,G){return Q.toString().toLowerCase().includes(G.toString().toLowerCase())}class Ea{static filter(G,P,K,tt){const ot=tt||Eo;return G.filter(Bt=>ot.call(null,typeof Bt[P]>"u"||null===Bt[P]?"":Bt[P],K))}}class Ro{static paginate(G,P,K){return G.slice(K*(P-1),K*P)}}class Jr extends Sa{constructor(G=[]){super(),this.data=[],this.filteredAndSorted=[],this.sortConf=[],this.filterConf={filters:[],andOperator:!0},this.pagingConf={},this.data=G}load(G){return this.data=G,super.load(G)}prepend(G){return this.reset(!0),this.data.unshift(G),super.prepend(G)}append(G){return this.reset(!0),this.data.push(G),super.append(G)}add(G){return this.data.push(G),super.add(G)}remove(G){return this.data=this.data.filter(P=>P!==G),super.remove(G)}update(G,P){return new Promise((K,tt)=>{this.find(G).then(ot=>{ot=Dn(ot,P),super.update(ot,P).then(K).catch(tt)}).catch(tt)})}find(G){const P=this.data.find(K=>K===G);return P?Promise.resolve(P):Promise.reject(new Error("Element was not found in the dataset"))}getElements(){const G=this.data.slice(0);return Promise.resolve(this.prepareData(G))}getFilteredAndSorted(){let G=this.data.slice(0);return this.prepareData(G),Promise.resolve(this.filteredAndSorted)}getAll(){const G=this.data.slice(0);return Promise.resolve(G)}reset(G=!1){G?(this.filterConf={filters:[],andOperator:!0},this.sortConf=[],this.pagingConf.page=1):(this.setFilter([],!0,!1),this.setSort([],!1),this.setPage(1))}empty(){return this.data=[],super.empty()}count(){return this.filteredAndSorted.length}setSort(G,P=!0){return null!==G&&(G.forEach(K=>{if(!K.field||typeof K.direction>"u")throw new Error("Sort configuration object is not valid")}),this.sortConf=G),super.setSort(G,P),this}setFilter(G,P=!0,K=!0){return G&&G.length>0?G.forEach(tt=>{this.addFilter(tt,P,!1)}):this.filterConf={filters:[],andOperator:!0},this.filterConf.andOperator=P,this.pagingConf.page=1,super.setFilter(G,P,K),this}addFilter(G,P=!0,K=!0){if(!G.field||typeof G.search>"u")throw new Error("Filter configuration object is not valid");let tt=!1;return this.filterConf.filters.forEach((ot,Bt)=>{ot.field===G.field&&(this.filterConf.filters[Bt]=G,tt=!0)}),tt||this.filterConf.filters.push(G),this.filterConf.andOperator=P,super.addFilter(G,P,K),this}setPaging(G,P,K=!0){return this.pagingConf.page=G,this.pagingConf.perPage=P,super.setPaging(G,P,K),this}setPage(G,P=!0){return this.pagingConf.page=G,super.setPage(G,P),this}getSort(){return this.sortConf}getFilter(){return this.filterConf}getPaging(){return this.pagingConf}prepareData(G){return G=this.filter(G),G=this.sort(G),this.filteredAndSorted=G.slice(0),this.paginate(G)}sort(G){return this.sortConf&&this.sortConf.forEach(P=>{G=Oa.sort(G,P.field,P.direction,P.compare)}),G}filter(G){if(this.filterConf.filters)if(this.filterConf.andOperator)this.filterConf.filters.forEach(P=>{P.search.length>0&&(G=Ea.filter(G,P.field,P.search,P.filter))});else{let P=[];this.filterConf.filters.forEach(K=>{K.search.length>0&&(P=P.concat(Ea.filter(G,K.field,K.search,K.filter)))}),G=P.filter((K,tt,ot)=>ot.indexOf(K)===tt)}return G}paginate(G){return this.pagingConf&&this.pagingConf.page&&this.pagingConf.perPage&&(G=Ro.paginate(G,this.pagingConf.page,this.pagingConf.perPage)),G}}let On=(()=>{class Q{constructor(){this.settings={},this.rowSelect=new t.vpe,this.rowDeselect=new t.vpe,this.userRowSelect=new t.vpe,this.delete=new t.vpe,this.edit=new t.vpe,this.create=new t.vpe,this.custom=new t.vpe,this.deleteConfirm=new t.vpe,this.editConfirm=new t.vpe,this.createConfirm=new t.vpe,this.rowHover=new t.vpe,this.defaultSettings={mode:"inline",selectMode:"single",selectedRowIndex:0,switchPageToSelectedRowPage:!1,hideHeader:!1,hideSubHeader:!1,actions:{columnTitle:"Actions",add:!0,edit:!0,delete:!0,custom:[],position:"left"},filter:{inputClass:""},edit:{inputClass:"",editButtonContent:"Edit",saveButtonContent:"Update",cancelButtonContent:"Cancel",confirmSave:!1},add:{inputClass:"",addButtonContent:"Add New",createButtonContent:"Create",cancelButtonContent:"Cancel",confirmCreate:!1},delete:{deleteButtonContent:"Delete",confirmDelete:!1},attr:{id:"",class:""},noDataMessage:"No data found",columns:{},pager:{display:!0,page:1,perPage:10},rowClassFunction:()=>""},this.isAllSelected=!1,this.destroyed$=new I.xQ}ngOnChanges(P){this.grid?(P.settings&&this.grid.setSettings(this.prepareSettings()),P.source&&(this.source=this.prepareSource(),this.grid.setSource(this.source))):this.initGrid(),this.tableId=this.grid.getSetting("attr.id"),this.tableClass=this.grid.getSetting("attr.class"),this.isHideHeader=this.grid.getSetting("hideHeader"),this.isHideSubHeader=this.grid.getSetting("hideSubHeader"),this.isPagerDisplay=this.grid.getSetting("pager.display"),this.isPagerDisplay=this.grid.getSetting("pager.display"),this.perPageSelect=this.grid.getSetting("pager.perPageSelect"),this.rowClassFunction=this.grid.getSetting("rowClassFunction")}ngOnDestroy(){this.destroyed$.next()}selectRow(P,K=this.grid.getSetting("switchPageToSelectedRowPage")){if(!this.grid)return;if(this.grid.settings.selectedRowIndex=P,this.isIndexOutOfRange(P))return void this.deselectAllRows();if(K){const ot=this.source,Bt=ot.getPaging(),oe=Wi(P,Bt.perPage);if(this.grid.settings.selectedRowIndex=P%=Bt.perPage,oe!==Bt.page)return void ot.setPage(oe)}const tt=this.grid.getRows()[P];tt?this.onSelectRow(tt):this.deselectAllRows()}deselectAllRows(){this.grid.dataSet.deselectAll(),this.emitDeselectRow(null)}editRowSelect(P){"multi"===this.grid.getSetting("selectMode")?this.onMultipleSelectRow(P):this.onSelectRow(P)}onUserSelectRow(P){"multi"!==this.grid.getSetting("selectMode")&&(this.grid.selectRow(P),this.emitUserSelectRow(P),this.emitSelectRow(P))}onRowHover(P){this.rowHover.emit(P)}multipleSelectRow(P){this.grid.multipleSelectRow(P),this.emitUserSelectRow(P),this.emitSelectRow(P)}onSelectAllRows(P){this.isAllSelected=!this.isAllSelected,this.grid.selectAllRows(this.isAllSelected),this.emitUserSelectRow(null),this.emitSelectRow(null)}onSelectRow(P){this.grid.selectRow(P),this.emitSelectRow(P)}onMultipleSelectRow(P){this.emitSelectRow(P)}initGrid(){this.source=this.prepareSource(),this.grid=new Po(this.source,this.prepareSettings()),this.subscribeToOnSelectRow(),this.subscribeToOnDeselectRow()}prepareSource(){return this.source instanceof Sa?this.source:this.source instanceof Array?new Jr(this.source):new Jr}prepareSettings(){return Dn({},this.defaultSettings,this.settings)}changePage(P){this.resetAllSelector()}sort(P){this.resetAllSelector()}filter(P){this.resetAllSelector()}resetAllSelector(){this.isAllSelected=!1}emitUserSelectRow(P){const K=this.grid.getSelectedRows();this.userRowSelect.emit({data:P?P.getData():null,isSelected:P?P.getIsSelected():null,source:this.source,selected:K&&K.length?K.map(tt=>tt.getData()):[]})}emitSelectRow(P){const K={data:P?P.getData():null,isSelected:P?P.getIsSelected():null,source:this.source};this.rowSelect.emit(K),P?.isSelected||this.rowDeselect.emit(K)}emitDeselectRow(P){this.rowDeselect.emit({data:P?P.getData():null,isSelected:P?P.getIsSelected():null,source:this.source})}isIndexOutOfRange(P){var K;const tt=null===(K=this.source)||void 0===K?void 0:K.count();return P<0||"number"==typeof tt&&P>=tt}subscribeToOnSelectRow(){this.onSelectRowSubscription&&this.onSelectRowSubscription.unsubscribe(),this.onSelectRowSubscription=this.grid.onSelectRow().pipe((0,Ht.R)(this.destroyed$)).subscribe(P=>{this.emitSelectRow(P)})}subscribeToOnDeselectRow(){this.onDeselectRowSubscription&&this.onDeselectRowSubscription.unsubscribe(),this.onDeselectRowSubscription=this.grid.onDeselectRow().pipe((0,Ht.R)(this.destroyed$)).subscribe(P=>{this.emitDeselectRow(P)})}}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275cmp=t.Xpm({type:Q,selectors:[["ng2-smart-table"]],inputs:{settings:"settings",source:"source"},outputs:{rowSelect:"rowSelect",rowDeselect:"rowDeselect",userRowSelect:"userRowSelect",delete:"delete",edit:"edit",create:"create",custom:"custom",deleteConfirm:"deleteConfirm",editConfirm:"editConfirm",createConfirm:"createConfirm",rowHover:"rowHover"},features:[t.TTD],decls:4,vars:9,consts:[[3,"id","ngClass"],["ng2-st-thead","",3,"grid","isAllSelected","source","createConfirm","create","selectAllRows","sort","filter",4,"ngIf"],["ng2-st-tbody","",3,"grid","source","deleteConfirm","editConfirm","rowClassFunction","edit","delete","custom","userSelectRow","editRowSelect","multipleSelectRow","rowHover"],[3,"source","perPageSelect","changePage",4,"ngIf"],["ng2-st-thead","",3,"grid","isAllSelected","source","createConfirm","create","selectAllRows","sort","filter"],[3,"source","perPageSelect","changePage"]],template:function(P,K){1&P&&(t.TgZ(0,"table",0),t.YNc(1,Gi,1,4,"thead",1),t.TgZ(2,"tbody",2),t.NdJ("edit",function(ot){return K.edit.emit(ot)})("delete",function(ot){return K.delete.emit(ot)})("custom",function(ot){return K.custom.emit(ot)})("userSelectRow",function(ot){return K.onUserSelectRow(ot)})("editRowSelect",function(ot){return K.editRowSelect(ot)})("multipleSelectRow",function(ot){return K.multipleSelectRow(ot)})("rowHover",function(ot){return K.onRowHover(ot)}),t.qZA()(),t.YNc(3,Pr,1,2,"ng2-smart-table-pager",3)),2&P&&(t.Q6J("id",K.tableId)("ngClass",K.tableClass),t.xp6(1),t.Q6J("ngIf",!K.isHideHeader||!K.isHideSubHeader),t.xp6(1),t.Q6J("grid",K.grid)("source",K.source)("deleteConfirm",K.deleteConfirm)("editConfirm",K.editConfirm)("rowClassFunction",K.rowClassFunction),t.xp6(1),t.Q6J("ngIf",K.isPagerDisplay))},dependencies:[M.mk,M.O5,Ki,Xi,Ma],styles:["[_nghost-%COMP%]{font-size:1rem}[_nghost-%COMP%]     *{box-sizing:border-box}[_nghost-%COMP%]     button, [_nghost-%COMP%]     input, [_nghost-%COMP%]     optgroup, [_nghost-%COMP%]     select, [_nghost-%COMP%]     textarea{color:inherit;font:inherit;margin:0}[_nghost-%COMP%]     table{border-collapse:collapse;border-spacing:0;display:table;line-height:1.5em;max-width:100%;overflow:auto;width:100%;word-break:normal;word-break:keep-all}[_nghost-%COMP%]     table tr th{font-weight:700}[_nghost-%COMP%]     table tr section{font-size:.75em;font-weight:700}[_nghost-%COMP%]     table tr td, [_nghost-%COMP%]     table tr th{font-size:.875em;margin:0;padding:.5em 1em}[_nghost-%COMP%]     a{color:#1e6bb8;text-decoration:none}[_nghost-%COMP%]     a:hover{text-decoration:underline}"]}),Q})(),Ci=(()=>{class Q{}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275mod=t.oAB({type:Q}),Q.\u0275inj=t.cJS({imports:[M.ez,T.u5,T.UX,sn,br,Jn,Oo,Ln]}),Q})();var zt=i(13347),ie=i(21086),_e=i(68896),Ue=i(23753),er=i(87545);class Ge{constructor(G){this._changes=G}static of(G){return new Ge(G)}notEmpty(G){if(this._changes[G]){const P=this._changes[G].currentValue;if(null!=P)return(0,ie.of)(P)}return _e.E}has(G){return this._changes[G]?(0,ie.of)(this._changes[G].currentValue):_e.E}notFirst(G){return this._changes[G]&&!this._changes[G].isFirstChange()?(0,ie.of)(this._changes[G].currentValue):_e.E}notFirstAndEmpty(G){if(this._changes[G]&&!this._changes[G].isFirstChange()){const P=this._changes[G].currentValue;if(null!=P)return(0,ie.of)(P)}return _e.E}}let qi=(()=>{class Q{constructor(P,K){this.el=P,this.ngZone=K,this.autoResize=!0,this.loadingType="default",this.detectEventChanges=!0,this.chartInit=new t.vpe,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.currentOffsetWidth=0,this.currentOffsetHeight=0}ngOnChanges(P){const K=Ge.of(P);K.notFirstAndEmpty("options").subscribe(tt=>this.onOptionsChange(tt)),K.notFirstAndEmpty("merge").subscribe(tt=>this.setOption(tt)),K.has("loading").subscribe(tt=>this.toggleLoading(!!tt)),K.notFirst("theme").subscribe(()=>this.refreshChart())}ngOnInit(){this.resizeSub=(0,Ue.R)(window,"resize").pipe((0,pt.b)(50)).subscribe(()=>{this.autoResize&&window.innerWidth!==this.currentWindowWidth&&(this.currentWindowWidth=window.innerWidth,this.currentOffsetWidth=this.el.nativeElement.offsetWidth,this.currentOffsetHeight=this.el.nativeElement.offsetHeight,this.resize())})}ngOnDestroy(){this.resizeSub&&this.resizeSub.unsubscribe(),this.dispose()}ngDoCheck(){if(this.chart&&this.autoResize){const P=this.el.nativeElement.offsetWidth,K=this.el.nativeElement.offsetHeight;(this.currentOffsetWidth!==P||this.currentOffsetHeight!==K)&&(this.currentOffsetWidth=P,this.currentOffsetHeight=K,this.resize())}}ngAfterViewInit(){setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(P){this.chart&&(P?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading())}setOption(P,K){this.chart&&this.chart.setOption(P,K)}refreshChart(){this.dispose(),this.initChart()}createChart(){this.currentWindowWidth=window.innerWidth,this.currentOffsetWidth=this.el.nativeElement.offsetWidth,this.currentOffsetHeight=this.el.nativeElement.offsetHeight;const P=this.el.nativeElement;if(window&&window.getComputedStyle){const K=window.getComputedStyle(P,null).getPropertyValue("height");(!K||"0px"===K)&&(!P.style.height||"0px"===P.style.height)&&(P.style.height="400px")}return this.ngZone.runOutsideAngular(()=>(0,zt.init)(P,this.theme,this.initOpts))}initChart(){this.onOptionsChange(this.options),this.merge&&this.chart&&this.setOption(this.merge)}onOptionsChange(P){P&&(this.chart||(this.chart=this.createChart(),this.chartInit.emit(this.chart)),this.chart.setOption(this.options,!0))}createLazyEvent(P){return this.chartInit.pipe((0,er.w)(K=>new D.y(tt=>(K.on(P,ot=>this.ngZone.run(()=>tt.next(ot))),()=>K.off(P)))))}}return Q.\u0275fac=function(P){return new(P||Q)(t.Y36(t.SBq),t.Y36(t.R0b))},Q.\u0275dir=t.lG2({type:Q,selectors:[["echarts"],["","echarts",""]],inputs:{autoResize:"autoResize",loadingType:"loadingType",detectEventChanges:"detectEventChanges",options:"options",theme:"theme",loading:"loading",initOpts:"initOpts",merge:"merge",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartPieSelectChanged:"chartPieSelectChanged",chartPieSelected:"chartPieSelected",chartPieUnselected:"chartPieUnselected",chartMapSelectChanged:"chartMapSelectChanged",chartMapSelected:"chartMapSelected",chartMapUnselected:"chartMapUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartFocusNodeAdjacency:"chartFocusNodeAdjacency",chartUnfocusNodeAdjacency:"chartUnfocusNodeAdjacency",chartBrush:"chartBrush",chartBrushSelected:"chartBrushSelected",chartRendered:"chartRendered",chartFinished:"chartFinished"},features:[t.TTD]}),Q})(),No=(()=>{class Q{}return Q.\u0275fac=function(P){return new(P||Q)},Q.\u0275mod=t.oAB({type:Q}),Q.\u0275inj=t.cJS({}),Q})();var Or=i(4337),hr=i(7672),ta=i(61715),kr=i(34300),Vr=i(29222);function Si(Q,G){1&Q&&(t.TgZ(0,"div",8),t._UZ(1,"nb-spinner",9),t.qZA())}function We(Q,G){1&Q&&(t.TgZ(0,"div",10),t._UZ(1,"nb-icon",11),t.TgZ(2,"p",12),t._uU(3,"\u8fd8\u6ca1\u6709\u96c6\u7fa4\uff0c\u70b9\u51fb\u4e0a\u65b9\u6309\u94ae\u6dfb\u52a0"),t.qZA()())}function Fo(Q,G){1&Q&&t._UZ(0,"nb-badge",31)}function Ra(Q,G){if(1&Q&&(t.TgZ(0,"div",22)(1,"small",23),t._uU(2,"\u63cf\u8ff0:"),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA()()),2&Q){const P=t.oxw().$implicit;t.xp6(4),t.Oqu(P.cluster.description)}}function bi(Q,G){1&Q&&t._UZ(0,"nb-badge",33),2&Q&&t.Q6J("text",G.$implicit)}function Bo(Q,G){if(1&Q&&(t.TgZ(0,"div",22)(1,"small",23),t._uU(2,"\u6807\u7b7e:"),t.qZA(),t.TgZ(3,"div"),t.YNc(4,bi,1,1,"nb-badge",32),t.qZA()()),2&Q){const P=t.oxw().$implicit;t.xp6(4),t.Q6J("ngForOf",P.cluster.tags)}}function zo(Q,G){1&Q&&(t.TgZ(0,"div",8),t._UZ(1,"nb-spinner",34),t.qZA())}function Ho(Q,G){if(1&Q&&(t.TgZ(0,"div",36),t._UZ(1,"nb-icon",37),t.TgZ(2,"small"),t._uU(3),t.qZA()()),2&Q){const P=G.$implicit;t.xp6(1),t.Q6J("icon","ok"===P.status?"checkmark-circle-2":"alert-circle")("status","ok"===P.status?"success":"warning"===P.status?"warning":"danger"),t.xp6(2),t.AsE("",P.name,": ",P.message,"")}}function Ti(Q,G){if(1&Q&&(t.TgZ(0,"div",12)(1,"small",23),t._uU(2,"\u5065\u5eb7\u68c0\u67e5:"),t.qZA(),t.YNc(3,Ho,4,4,"div",35),t.qZA()),2&Q){const P=t.oxw().$implicit;t.xp6(3),t.Q6J("ngForOf",P.health.checks)}}function ln(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"div",14)(1,"nb-card",15)(2,"nb-card-header")(3,"div",2)(4,"div",16)(5,"h6",17),t._uU(6),t.qZA(),t.YNc(7,Fo,1,0,"nb-badge",18),t.qZA(),t.TgZ(8,"div",16),t._UZ(9,"nb-badge",19),t.TgZ(10,"button",20),t.NdJ("click",function(){const ot=t.CHM(P).$implicit,Bt=t.oxw(2);return t.KtG(Bt.toggleActiveCluster(ot))}),t._UZ(11,"nb-icon",21),t.qZA()()()(),t.TgZ(12,"nb-card-body")(13,"div",22)(14,"small",23),t._uU(15,"FE \u5730\u5740:"),t.qZA(),t.TgZ(16,"div"),t._uU(17),t.qZA()(),t.YNc(18,Ra,5,1,"div",24),t.YNc(19,Bo,5,1,"div",24),t.YNc(20,zo,2,0,"div",5),t.YNc(21,Ti,4,1,"div",25),t.qZA(),t.TgZ(22,"nb-card-footer")(23,"div",26)(24,"button",27),t.NdJ("click",function(){const ot=t.CHM(P).$implicit,Bt=t.oxw(2);return t.KtG(Bt.navigateToCluster(ot.cluster.id))}),t._uU(25," \u8be6\u60c5 "),t.qZA(),t.TgZ(26,"button",28),t.NdJ("click",function(){const ot=t.CHM(P).$implicit,Bt=t.oxw(2);return t.KtG(Bt.navigateToMonitor(ot.cluster.id))}),t._uU(27," \u76d1\u63a7 "),t.qZA(),t.TgZ(28,"button",29),t.NdJ("click",function(){const ot=t.CHM(P).$implicit,Bt=t.oxw(2);return t.KtG(Bt.navigateToBackends(ot.cluster.id))}),t._uU(29," \u8282\u70b9 "),t.qZA(),t.TgZ(30,"button",30),t.NdJ("click",function(){const ot=t.CHM(P).$implicit,Bt=t.oxw(2);return t.KtG(Bt.navigateToQueries(ot.cluster.id))}),t._uU(31," \u67e5\u8be2 "),t.qZA()()()()()}if(2&Q){const P=G.$implicit,K=t.oxw(2);t.xp6(1),t.Q6J("status",K.getStatusColor(null==P.health?null:P.health.status))("accent",P.isActive?"success":""),t.xp6(5),t.Oqu(P.cluster.name),t.xp6(1),t.Q6J("ngIf",P.isActive),t.xp6(2),t.Q6J("text",(null==P.health?null:P.health.status)||"unknown")("status",K.getStatusColor(null==P.health?null:P.health.status)),t.xp6(1),t.ekj("active-star",P.isActive),t.Q6J("status",P.isActive?"warning":"basic")("nbTooltip",P.isActive?"\u70b9\u51fb\u53d6\u6d88\u6fc0\u6d3b":"\u70b9\u51fb\u8bbe\u4e3a\u5f53\u524d\u96c6\u7fa4"),t.xp6(1),t.Q6J("icon",P.isActive?"star":"star-outline"),t.xp6(6),t.AsE("",P.cluster.fe_host,":",P.cluster.fe_http_port,""),t.xp6(1),t.Q6J("ngIf",P.cluster.description),t.xp6(1),t.Q6J("ngIf",P.cluster.tags&&P.cluster.tags.length>0),t.xp6(1),t.Q6J("ngIf",P.loading),t.xp6(1),t.Q6J("ngIf",!P.loading&&P.health)}}function wi(Q,G){if(1&Q&&(t.TgZ(0,"div",0),t.YNc(1,ln,32,17,"div",13),t.qZA()),2&Q){const P=t.oxw();t.xp6(1),t.Q6J("ngForOf",P.clusters)}}let Na=(()=>{class Q{constructor(P,K,tt,ot){this.clusterService=P,this.clusterContext=K,this.toastrService=tt,this.router=ot,this.clusters=[],this.loading=!0,this.activeCluster=null,this.destroy$=new I.xQ}ngOnInit(){this.clusterContext.activeCluster$.pipe((0,Ht.R)(this.destroy$)).subscribe(P=>{this.activeCluster=P,this.updateActiveStatus()}),this.loadClusters(),(0,ta.F)(3e4).pipe((0,Ht.R)(this.destroy$),(0,er.w)(()=>this.clusterService.listClusters())).subscribe({next:P=>this.updateClusters(P),error:P=>this.handleError(P)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadClusters(){this.loading=!0,this.clusterService.listClusters().subscribe({next:P=>{this.updateClusters(P),this.loadHealthStatus();const K=this.clusterContext.getSavedClusterId();if(console.log("[Dashboard] Saved cluster ID from localStorage:",K),K&&!this.activeCluster){const tt=P.find(ot=>ot.id===K);tt?(console.log("[Dashboard] Restoring saved cluster:",tt),this.clusterContext.setActiveCluster(tt),this.toastrService.success(`\u5df2\u6062\u590d\u6fc0\u6d3b\u96c6\u7fa4: ${tt.name}`,"\u63d0\u793a")):(console.log("[Dashboard] Saved cluster not found, clearing saved ID"),this.clusterContext.clearActiveCluster())}else 1===P.length&&!this.activeCluster&&(console.log("[Dashboard] Auto-activating single cluster:",P[0]),this.clusterContext.setActiveCluster(P[0]),this.toastrService.success(`\u5df2\u81ea\u52a8\u6fc0\u6d3b\u96c6\u7fa4: ${P[0].name}`,"\u63d0\u793a"));this.loading=!1},error:P=>{this.handleError(P),this.loading=!1}})}updateClusters(P){const K=this.activeCluster?.id;this.clusters=P.map(tt=>({cluster:tt,loading:!1,isActive:tt.id===K}))}updateActiveStatus(){const P=this.activeCluster?.id;this.clusters.forEach(K=>{K.isActive=K.cluster.id===P})}toggleActiveCluster(P){this.activeCluster?.id===P.cluster.id?(console.log("[Dashboard] Deactivating cluster:",P.cluster),this.clusterContext.clearActiveCluster(),this.toastrService.info("\u5df2\u53d6\u6d88\u6fc0\u6d3b\u96c6\u7fa4","\u63d0\u793a")):(console.log("[Dashboard] Activating cluster:",P.cluster),this.clusterContext.setActiveCluster(P.cluster),this.toastrService.success(`\u5df2\u6fc0\u6d3b\u96c6\u7fa4: ${P.cluster.name}`,"\u6210\u529f"))}loadHealthStatus(){this.clusters.forEach(P=>{P.loading=!0,this.clusterService.getHealth(P.cluster.id).subscribe({next:K=>{P.health=K,P.loading=!1},error:()=>{P.loading=!1}})})}getStatusColor(P){switch(P){case"healthy":return"success";case"warning":return"warning";case"critical":return"danger";default:return"basic"}}navigateToCluster(P){this.router.navigate(["/pages/starrocks/clusters",P])}navigateToBackends(P){this.router.navigate(["/pages/starrocks/backends",P])}navigateToFrontends(P){this.router.navigate(["/pages/starrocks/frontends",P])}navigateToMonitor(P){this.router.navigate(["/pages/starrocks/monitor",P])}navigateToQueries(P){this.router.navigate(["/pages/starrocks/queries",P])}addCluster(){this.router.navigate(["/pages/starrocks/clusters/new"])}handleError(P){console.error("Error:",P),this.toastrService.danger(P.error?.message||"\u64cd\u4f5c\u5931\u8d25","\u9519\u8bef")}static#t=this.\u0275fac=function(K){return new(K||Q)(t.Y36(kr.W),t.Y36(Vr.d),t.Y36(w.quB),t.Y36(hr.F0))};static#e=this.\u0275cmp=t.Xpm({type:Q,selectors:[["ngx-dashboard"]],decls:14,vars:3,consts:[[1,"row"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center"],["nbButton","","status","primary",3,"click"],["icon","plus-outline"],["class","text-center",4,"ngIf"],["class","text-center p-5",4,"ngIf"],["class","row",4,"ngIf"],[1,"text-center"],["status","primary"],[1,"text-center","p-5"],["icon","cloud-outline","status","basic",2,"font-size","4rem"],[1,"mt-3"],["class","col-md-6 col-lg-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-4","mb-3"],[3,"status","accent"],[1,"d-flex","align-items-center","gap-2"],[1,"mb-0"],["text","\u5f53\u524d\u6fc0\u6d3b","status","success","position","top right",4,"ngIf"],[3,"text","status"],["nbButton","","ghost","","size","small","nbTooltipPlacement","top",3,"status","nbTooltip","click"],[3,"icon"],[1,"mb-2"],[1,"text-muted"],["class","mb-2",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"d-flex","justify-content-between"],["nbButton","","size","small","status","info",3,"click"],["nbButton","","size","small","status","primary",3,"click"],["nbButton","","size","small","status","success",3,"click"],["nbButton","","size","small","status","warning",3,"click"],["text","\u5f53\u524d\u6fc0\u6d3b","status","success","position","top right"],["status","basic","class","me-1",3,"text",4,"ngFor","ngForOf"],["status","basic",1,"me-1",3,"text"],["size","small","status","info"],["class","d-flex align-items-center mt-1",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","mt-1"],[1,"me-1",3,"icon","status"]],template:function(K,tt){1&K&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nb-card")(3,"nb-card-header")(4,"div",2)(5,"h5"),t._uU(6,"StarRocks \u96c6\u7fa4\u6982\u89c8"),t.qZA(),t.TgZ(7,"button",3),t.NdJ("click",function(){return tt.addCluster()}),t._UZ(8,"nb-icon",4),t._uU(9," \u6dfb\u52a0\u96c6\u7fa4 "),t.qZA()()(),t.TgZ(10,"nb-card-body"),t.YNc(11,Si,2,0,"div",5),t.YNc(12,We,4,0,"div",6),t.YNc(13,wi,2,1,"div",7),t.qZA()()()()),2&K&&(t.xp6(11),t.Q6J("ngIf",tt.loading),t.xp6(1),t.Q6J("ngIf",!tt.loading&&0===tt.clusters.length),t.xp6(1),t.Q6J("ngIf",!tt.loading&&tt.clusters.length>0))},dependencies:[M.sg,M.O5,w.DPz,w.fMN,w.jNv,w.Tzq,w.Asz,w.yKW,w.XWE,w.ndF,w.nhe],styles:['[_nghost-%COMP%]{display:block}.active-star[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_sparkle 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_sparkle{0%,to{transform:scale(1) rotate(0);opacity:1}50%{transform:scale(1.3) rotate(180deg);opacity:.7}}nb-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1);border-radius:1rem;overflow:hidden;position:relative;margin-bottom:1rem}nb-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,nb-theme(color-primary-default) 0%,nb-theme(color-success-default) 50%,nb-theme(color-info-default) 100%);opacity:0;transition:opacity .3s ease}nb-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 12px 28px #00000026}nb-card[_ngcontent-%COMP%]:hover:before{opacity:1}nb-card[accent=success][_ngcontent-%COMP%]{border:2px solid nb-theme(color-success-default);box-shadow:0 4px 16px #0f03}nb-card[accent=success][_ngcontent-%COMP%]:before{opacity:1}nb-badge[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;letter-spacing:.5px;transition:all .2s ease}nb-badge[status=success][_ngcontent-%COMP%]{box-shadow:0 2px 8px #00ff004d}nb-badge[status=danger][_ngcontent-%COMP%]{box-shadow:0 2px 8px #ff00004d}nb-badge[status=warning][_ngcontent-%COMP%]{box-shadow:0 2px 8px #ffaa004d}nb-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,nb-theme(background-basic-color-2) 0%,nb-theme(background-basic-color-1) 100%);border-bottom:2px solid nb-theme(border-basic-color-3)}nb-card-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;letter-spacing:-.3px}button[_ngcontent-%COMP%]{transition:all .2s ease}button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.cluster-card[_ngcontent-%COMP%]{transition:transform .2s}.cluster-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_pulse-glow{0%,to{box-shadow:0 0 #007bff00}50%{box-shadow:0 0 20px #007bff80}}']})}return Q})();function Ai(Q,G){1&Q&&(t.TgZ(0,"div",7),t._UZ(1,"nb-spinner",8),t.qZA())}function Fa(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"ng2-smart-table",9),t.NdJ("edit",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onEdit(tt))})("delete",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onDelete(tt))})("userRowSelect",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onRowSelect(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("settings",P.settings)("source",P.source)}}let Ba=(()=>{class Q{constructor(P,K,tt,ot){this.clusterService=P,this.router=K,this.dialogService=tt,this.toastrService=ot,this.source=new Jr,this.loading=!0,this.settings={mode:"external",hideSubHeader:!0,noDataMessage:"\u6682\u65e0\u96c6\u7fa4\u6570\u636e\uff0c\u70b9\u51fb\u4e0a\u65b9\u6309\u94ae\u6dfb\u52a0\u96c6\u7fa4",actions:{columnTitle:"\u64cd\u4f5c",add:!1,edit:!0,delete:!0,position:"right"},edit:{editButtonContent:'<i class="nb-edit"></i>'},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},pager:{display:!0,perPage:10},columns:{id:{title:"ID",type:"number",width:"5%"},name:{title:"\u96c6\u7fa4\u540d\u79f0",type:"string"},fe_host:{title:"FE \u5730\u5740",type:"string"},fe_http_port:{title:"HTTP \u7aef\u53e3",type:"number",width:"10%"},fe_query_port:{title:"\u67e5\u8be2\u7aef\u53e3",type:"number",width:"10%"},username:{title:"\u7528\u6237\u540d",type:"string",width:"10%"},description:{title:"\u63cf\u8ff0",type:"string"},created_at:{title:"\u521b\u5efa\u65f6\u95f4",type:"string",valuePrepareFunction:Bt=>new Date(Bt).toLocaleString("zh-CN")}}}}ngOnInit(){this.loadClusters()}loadClusters(){this.loading=!0,this.clusterService.listClusters().subscribe({next:P=>{this.source.load(P),this.loading=!1},error:P=>{this.toastrService.danger(P.error?.message||"\u52a0\u8f7d\u96c6\u7fa4\u5217\u8868\u5931\u8d25","\u9519\u8bef"),this.loading=!1}})}onCreate(){this.router.navigate(["/pages/starrocks/clusters/new"])}onEdit(P){this.router.navigate(["/pages/starrocks/clusters",P.data.id,"edit"])}onDelete(P){confirm(`\u786e\u5b9a\u8981\u5220\u9664\u96c6\u7fa4 "${P.data.name}" \u5417\uff1f`)&&this.clusterService.deleteCluster(P.data.id).subscribe({next:()=>{this.toastrService.success("\u96c6\u7fa4\u5220\u9664\u6210\u529f","\u6210\u529f"),this.loadClusters()},error:K=>{this.toastrService.danger(K.error?.message||"\u5220\u9664\u96c6\u7fa4\u5931\u8d25","\u9519\u8bef")}})}onRowSelect(P){this.router.navigate(["/pages/starrocks/clusters",P.data.id])}testConnection(P){this.clusterService.testConnection(P.id).subscribe({next:K=>{K.success?this.toastrService.success(K.message,"\u8fde\u63a5\u6210\u529f"):this.toastrService.warning(K.message,"\u8fde\u63a5\u5931\u8d25")},error:K=>{this.toastrService.danger(K.error?.message||"\u6d4b\u8bd5\u8fde\u63a5\u5931\u8d25","\u9519\u8bef")}})}static#t=this.\u0275fac=function(K){return new(K||Q)(t.Y36(kr.W),t.Y36(hr.F0),t.Y36(w.Gln),t.Y36(w.quB))};static#e=this.\u0275cmp=t.Xpm({type:Q,selectors:[["ngx-cluster-list"]],decls:13,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center"],["nbButton","","status","primary",3,"click"],["icon","plus-outline"],["class","text-center",4,"ngIf"],[3,"settings","source","edit","delete","userRowSelect",4,"ngIf"],[1,"text-center"],["status","primary"],[3,"settings","source","edit","delete","userRowSelect"]],template:function(K,tt){1&K&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nb-card")(3,"nb-card-header")(4,"div",2)(5,"h5"),t._uU(6,"\u96c6\u7fa4\u5217\u8868"),t.qZA(),t.TgZ(7,"button",3),t.NdJ("click",function(){return tt.onCreate()}),t._UZ(8,"nb-icon",4),t._uU(9," \u6dfb\u52a0\u96c6\u7fa4 "),t.qZA()()(),t.TgZ(10,"nb-card-body"),t.YNc(11,Ai,2,0,"div",5),t.YNc(12,Fa,1,2,"ng2-smart-table",6),t.qZA()()()()),2&K&&(t.xp6(11),t.Q6J("ngIf",tt.loading),t.xp6(1),t.Q6J("ngIf",!tt.loading))},dependencies:[M.O5,w.DPz,w.fMN,w.Tzq,w.Asz,w.yKW,w.ndF,On],styles:["[_nghost-%COMP%]{display:block}"]})}return Q})();function Mi(Q,G){1&Q&&(t.TgZ(0,"small",36),t._uU(1," \u8bf7\u8f93\u5165\u96c6\u7fa4\u540d\u79f0 "),t.qZA())}function za(Q,G){1&Q&&t._UZ(0,"nb-icon",37)}function Kn(Q,G){1&Q&&t._UZ(0,"nb-icon",38)}let un=(()=>{class Q{constructor(P,K,tt,ot,Bt){this.fb=P,this.clusterService=K,this.router=tt,this.route=ot,this.toastrService=Bt,this.loading=!1,this.isEditMode=!1,this.clusterId=null,this.clusterForm=this.fb.group({name:["",[T.kI.required,T.kI.maxLength(100)]],description:[""],fe_host:["",[T.kI.required]],fe_http_port:[8030,[T.kI.required,T.kI.min(1),T.kI.max(65535)]],fe_query_port:[9030,[T.kI.required,T.kI.min(1),T.kI.max(65535)]],username:["root",[T.kI.required]],password:["",[T.kI.required]],enable_ssl:[!1],connection_timeout:[10,[T.kI.min(1),T.kI.max(300)]],catalog:["default_catalog"],tags:[""]})}ngOnInit(){const P=this.route.snapshot.paramMap.get("id");P&&"new"!==P&&(this.isEditMode=!0,this.clusterId=parseInt(P,10),this.loadCluster())}loadCluster(){this.clusterId&&(this.loading=!0,this.clusterService.getCluster(this.clusterId).subscribe({next:P=>{this.clusterForm.patchValue({name:P.name,description:P.description,fe_host:P.fe_host,fe_http_port:P.fe_http_port,fe_query_port:P.fe_query_port,username:P.username,enable_ssl:P.enable_ssl,connection_timeout:P.connection_timeout,catalog:P.catalog,tags:P.tags.join(", ")}),this.clusterForm.get("password")?.clearValidators(),this.clusterForm.get("password")?.updateValueAndValidity(),this.loading=!1},error:P=>{this.toastrService.danger(P.error?.message||"\u52a0\u8f7d\u96c6\u7fa4\u4fe1\u606f\u5931\u8d25","\u9519\u8bef"),this.loading=!1}}))}onSubmit(){if(this.clusterForm.invalid)return void Object.keys(this.clusterForm.controls).forEach(Bt=>{this.clusterForm.get(Bt)?.markAsTouched()});this.loading=!0;const P=this.clusterForm.value,K=P.tags?P.tags.split(",").map(Bt=>Bt.trim()).filter(Bt=>Bt):[],tt={...P,tags:K};this.isEditMode&&!P.password&&delete tt.password,(this.isEditMode&&this.clusterId?this.clusterService.updateCluster(this.clusterId,tt):this.clusterService.createCluster(tt)).subscribe({next:()=>{this.toastrService.success(this.isEditMode?"\u96c6\u7fa4\u66f4\u65b0\u6210\u529f":"\u96c6\u7fa4\u521b\u5efa\u6210\u529f","\u6210\u529f"),this.router.navigate(["/pages/starrocks/clusters"])},error:Bt=>{this.toastrService.danger(Bt.error?.message||"\u64cd\u4f5c\u5931\u8d25","\u9519\u8bef"),this.loading=!1}})}onCancel(){this.router.navigate(["/pages/starrocks/clusters"])}testConnection(){this.clusterForm.invalid?this.toastrService.warning("\u8bf7\u5148\u586b\u5199\u5b8c\u6574\u7684\u96c6\u7fa4\u4fe1\u606f","\u63d0\u793a"):this.clusterId?(this.loading=!0,this.clusterService.testConnection(this.clusterId).subscribe({next:P=>{P.success?this.toastrService.success(P.message,"\u8fde\u63a5\u6210\u529f"):this.toastrService.warning(P.message,"\u8fde\u63a5\u5931\u8d25"),this.loading=!1},error:P=>{this.toastrService.danger(P.error?.message||"\u6d4b\u8bd5\u8fde\u63a5\u5931\u8d25","\u9519\u8bef"),this.loading=!1}})):this.toastrService.warning("\u8bf7\u5148\u4fdd\u5b58\u96c6\u7fa4\u518d\u6d4b\u8bd5\u8fde\u63a5","\u63d0\u793a")}static#t=this.\u0275fac=function(K){return new(K||Q)(t.Y36(T.qu),t.Y36(kr.W),t.Y36(hr.F0),t.Y36(hr.gz),t.Y36(w.quB))};static#e=this.\u0275cmp=t.Xpm({type:Q,selectors:[["ngx-cluster-form"]],decls:84,vars:14,consts:[[1,"row"],[1,"col-lg-8","offset-lg-2"],[3,"formGroup","ngSubmit"],[1,"col-md-6"],[1,"form-group"],["for","name",1,"label"],["nbInput","","fullWidth","","type","text","id","name","formControlName","name","placeholder","\u8f93\u5165\u96c6\u7fa4\u540d\u79f0",3,"status"],["class","form-text text-danger",4,"ngIf"],["for","catalog",1,"label"],["nbInput","","fullWidth","","type","text","id","catalog","formControlName","catalog","placeholder","default_catalog"],["for","description",1,"label"],["nbInput","","fullWidth","","id","description","formControlName","description","placeholder","\u8f93\u5165\u96c6\u7fa4\u63cf\u8ff0\uff08\u53ef\u9009\uff09","rows","3"],[1,"mt-4"],["for","fe_host",1,"label"],["nbInput","","fullWidth","","type","text","id","fe_host","formControlName","fe_host","placeholder","192.168.1.100",3,"status"],[1,"col-md-3"],["for","fe_http_port",1,"label"],["nbInput","","fullWidth","","type","number","id","fe_http_port","formControlName","fe_http_port","placeholder","8030"],["for","fe_query_port",1,"label"],["nbInput","","fullWidth","","type","number","id","fe_query_port","formControlName","fe_query_port","placeholder","9030"],["for","username",1,"label"],["nbInput","","fullWidth","","type","text","id","username","formControlName","username","placeholder","root",3,"status"],["for","password",1,"label"],["nbInput","","fullWidth","","type","password","id","password","formControlName","password","placeholder","\u8f93\u5165\u5bc6\u7801",3,"status"],["for","connection_timeout",1,"label"],["nbInput","","fullWidth","","type","number","id","connection_timeout","formControlName","connection_timeout","placeholder","10"],["for","tags",1,"label"],["nbInput","","fullWidth","","type","text","id","tags","formControlName","tags","placeholder","\u751f\u4ea7, \u5317\u4eac, \u4e3b\u96c6\u7fa4"],["formControlName","enable_ssl"],[1,"form-actions","mt-4"],["nbButton","","status","primary","type","submit",3,"disabled"],["icon","save-outline",4,"ngIf"],["icon","loader-outline","class","spin",4,"ngIf"],["nbButton","","status","info","type","button",1,"ms-2",3,"disabled","click"],["icon","refresh-outline"],["nbButton","","status","basic","type","button",1,"ms-2",3,"disabled","click"],[1,"form-text","text-danger"],["icon","save-outline"],["icon","loader-outline",1,"spin"]],template:function(K,tt){if(1&K&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nb-card")(3,"nb-card-header")(4,"h5"),t._uU(5),t.qZA()(),t.TgZ(6,"nb-card-body")(7,"form",2),t.NdJ("ngSubmit",function(){return tt.onSubmit()}),t.TgZ(8,"div",0)(9,"div",3)(10,"div",4)(11,"label",5),t._uU(12,"\u96c6\u7fa4\u540d\u79f0 *"),t.qZA(),t._UZ(13,"input",6),t.YNc(14,Mi,2,0,"small",7),t.qZA()(),t.TgZ(15,"div",3)(16,"div",4)(17,"label",8),t._uU(18,"Catalog"),t.qZA(),t._UZ(19,"input",9),t.qZA()()(),t.TgZ(20,"div",4)(21,"label",10),t._uU(22,"\u63cf\u8ff0"),t.qZA(),t._UZ(23,"textarea",11),t.qZA(),t.TgZ(24,"h6",12),t._uU(25,"\u8fde\u63a5\u4fe1\u606f"),t.qZA(),t._UZ(26,"hr"),t.TgZ(27,"div",0)(28,"div",3)(29,"div",4)(30,"label",13),t._uU(31,"FE \u5730\u5740 *"),t.qZA(),t._UZ(32,"input",14),t.qZA()(),t.TgZ(33,"div",15)(34,"div",4)(35,"label",16),t._uU(36,"HTTP \u7aef\u53e3 *"),t.qZA(),t._UZ(37,"input",17),t.qZA()(),t.TgZ(38,"div",15)(39,"div",4)(40,"label",18),t._uU(41,"\u67e5\u8be2\u7aef\u53e3 *"),t.qZA(),t._UZ(42,"input",19),t.qZA()()(),t.TgZ(43,"h6",12),t._uU(44,"\u8ba4\u8bc1\u4fe1\u606f"),t.qZA(),t._UZ(45,"hr"),t.TgZ(46,"div",0)(47,"div",3)(48,"div",4)(49,"label",20),t._uU(50,"\u7528\u6237\u540d *"),t.qZA(),t._UZ(51,"input",21),t.qZA()(),t.TgZ(52,"div",3)(53,"div",4)(54,"label",22),t._uU(55),t.qZA(),t._UZ(56,"input",23),t.qZA()()(),t.TgZ(57,"h6",12),t._uU(58,"\u9ad8\u7ea7\u9009\u9879"),t.qZA(),t._UZ(59,"hr"),t.TgZ(60,"div",0)(61,"div",3)(62,"div",4)(63,"label",24),t._uU(64,"\u8fde\u63a5\u8d85\u65f6\uff08\u79d2\uff09"),t.qZA(),t._UZ(65,"input",25),t.qZA()(),t.TgZ(66,"div",3)(67,"div",4)(68,"label",26),t._uU(69,"\u6807\u7b7e\uff08\u9017\u53f7\u5206\u9694\uff09"),t.qZA(),t._UZ(70,"input",27),t.qZA()()(),t.TgZ(71,"div",4)(72,"nb-checkbox",28),t._uU(73,"\u542f\u7528 SSL"),t.qZA()(),t.TgZ(74,"div",29)(75,"button",30),t.YNc(76,za,1,0,"nb-icon",31),t.YNc(77,Kn,1,0,"nb-icon",32),t._uU(78),t.qZA(),t.TgZ(79,"button",33),t.NdJ("click",function(){return tt.testConnection()}),t._UZ(80,"nb-icon",34),t._uU(81," \u6d4b\u8bd5\u8fde\u63a5 "),t.qZA(),t.TgZ(82,"button",35),t.NdJ("click",function(){return tt.onCancel()}),t._uU(83," \u53d6\u6d88 "),t.qZA()()()()()()()),2&K){let ot,Bt,oe,ve,de;t.xp6(5),t.Oqu(tt.isEditMode?"\u7f16\u8f91\u96c6\u7fa4":"\u6dfb\u52a0\u96c6\u7fa4"),t.xp6(2),t.Q6J("formGroup",tt.clusterForm),t.xp6(6),t.Q6J("status",null!=(ot=tt.clusterForm.get("name"))&&ot.invalid&&null!=(ot=tt.clusterForm.get("name"))&&ot.touched?"danger":"basic"),t.xp6(1),t.Q6J("ngIf",(null==(Bt=tt.clusterForm.get("name"))?null:Bt.invalid)&&(null==(Bt=tt.clusterForm.get("name"))?null:Bt.touched)),t.xp6(18),t.Q6J("status",null!=(oe=tt.clusterForm.get("fe_host"))&&oe.invalid&&null!=(oe=tt.clusterForm.get("fe_host"))&&oe.touched?"danger":"basic"),t.xp6(19),t.Q6J("status",null!=(ve=tt.clusterForm.get("username"))&&ve.invalid&&null!=(ve=tt.clusterForm.get("username"))&&ve.touched?"danger":"basic"),t.xp6(4),t.hij("\u5bc6\u7801 ",tt.isEditMode?"(\u7559\u7a7a\u8868\u793a\u4e0d\u4fee\u6539)":"*",""),t.xp6(1),t.Q6J("status",null!=(de=tt.clusterForm.get("password"))&&de.invalid&&null!=(de=tt.clusterForm.get("password"))&&de.touched?"danger":"basic"),t.xp6(19),t.Q6J("disabled",tt.loading),t.xp6(1),t.Q6J("ngIf",!tt.loading),t.xp6(1),t.Q6J("ngIf",tt.loading),t.xp6(1),t.hij(" ",tt.isEditMode?"\u66f4\u65b0":"\u521b\u5efa"," "),t.xp6(1),t.Q6J("disabled",tt.loading||!tt.isEditMode),t.xp6(3),t.Q6J("disabled",tt.loading)}},dependencies:[T._Y,T.Fj,T.wV,T.JJ,T.JL,T.sg,T.u,M.O5,w.DPz,w.fMN,w.Asz,w.yKW,w.ndF,w.h8i,w.NTf],styles:["[_nghost-%COMP%]{display:block}.form-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return Q})();function Ii(Q,G){if(1&Q&&(t.TgZ(0,"div",17),t._UZ(1,"nb-icon",18),t._uU(2),t.qZA()),2&Q){const P=G.$implicit;t.xp6(1),t.Q6J("icon","ok"===P.status?"checkmark-circle-2":"alert-circle")("status","ok"===P.status?"success":"warning"===P.status?"warning":"danger"),t.xp6(1),t.AsE(" ",P.name,": ",P.message," ")}}function ko(Q,G){if(1&Q&&(t.TgZ(0,"div")(1,"nb-alert",15)(2,"strong"),t._uU(3),t.qZA()(),t.YNc(4,Ii,3,4,"div",16),t.qZA()),2&Q){const P=t.oxw(2);t.xp6(1),t.Q6J("status","healthy"===P.health.status?"success":"warning"===P.health.status?"warning":"danger"),t.xp6(2),t.Oqu(P.health.status),t.xp6(1),t.Q6J("ngForOf",P.health.checks)}}function Vo(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"nb-card")(3,"nb-card-header")(4,"div",4)(5,"h5"),t._uU(6),t.qZA(),t.TgZ(7,"div")(8,"button",5),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.editCluster())}),t._UZ(9,"nb-icon",6),t._uU(10," \u7f16\u8f91 "),t.qZA(),t.TgZ(11,"button",7),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.deleteCluster())}),t._UZ(12,"nb-icon",8),t._uU(13," \u5220\u9664 "),t.qZA()()()(),t.TgZ(14,"nb-card-body")(15,"div",2)(16,"div",9)(17,"h6"),t._uU(18,"\u57fa\u672c\u4fe1\u606f"),t.qZA(),t.TgZ(19,"table",10)(20,"tr")(21,"td"),t._uU(22,"\u96c6\u7fa4\u540d\u79f0:"),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.qZA()(),t.TgZ(25,"tr")(26,"td"),t._uU(27,"\u63cf\u8ff0:"),t.qZA(),t.TgZ(28,"td"),t._uU(29),t.qZA()(),t.TgZ(30,"tr")(31,"td"),t._uU(32,"FE \u5730\u5740:"),t.qZA(),t.TgZ(33,"td"),t._uU(34),t.qZA()(),t.TgZ(35,"tr")(36,"td"),t._uU(37,"\u67e5\u8be2\u7aef\u53e3:"),t.qZA(),t.TgZ(38,"td"),t._uU(39),t.qZA()(),t.TgZ(40,"tr")(41,"td"),t._uU(42,"\u7528\u6237\u540d:"),t.qZA(),t.TgZ(43,"td"),t._uU(44),t.qZA()(),t.TgZ(45,"tr")(46,"td"),t._uU(47,"Catalog:"),t.qZA(),t.TgZ(48,"td"),t._uU(49),t.qZA()(),t.TgZ(50,"tr")(51,"td"),t._uU(52,"\u521b\u5efa\u65f6\u95f4:"),t.qZA(),t.TgZ(53,"td"),t._uU(54),t.ALo(55,"date"),t.qZA()()()(),t.TgZ(56,"div",9)(57,"h6"),t._uU(58,"\u5065\u5eb7\u72b6\u6001"),t.qZA(),t.YNc(59,ko,5,3,"div",11),t.qZA()(),t.TgZ(60,"div",12)(61,"div",3)(62,"h6"),t._uU(63,"\u5feb\u901f\u5bfc\u822a"),t.qZA(),t.TgZ(64,"div",13)(65,"button",14),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.navigateTo("backends"))}),t._uU(66,"Backend \u8282\u70b9"),t.qZA(),t.TgZ(67,"button",14),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.navigateTo("frontends"))}),t._uU(68,"Frontend \u8282\u70b9"),t.qZA(),t.TgZ(69,"button",14),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.navigateTo("queries"))}),t._uU(70,"\u67e5\u8be2\u7ba1\u7406"),t.qZA(),t.TgZ(71,"button",14),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.navigateTo("monitor"))}),t._uU(72,"\u76d1\u63a7\u6307\u6807"),t.qZA()()()()()()()()}if(2&Q){const P=t.oxw();t.xp6(6),t.Oqu(P.cluster.name),t.xp6(18),t.Oqu(P.cluster.name),t.xp6(5),t.Oqu(P.cluster.description||"-"),t.xp6(5),t.AsE("",P.cluster.fe_host,":",P.cluster.fe_http_port,""),t.xp6(5),t.Oqu(P.cluster.fe_query_port),t.xp6(5),t.Oqu(P.cluster.username),t.xp6(5),t.Oqu(P.cluster.catalog),t.xp6(5),t.Oqu(t.xi3(55,10,P.cluster.created_at,"yyyy-MM-dd HH:mm:ss")),t.xp6(5),t.Q6J("ngIf",P.health)}}function Uo(Q,G){1&Q&&(t.TgZ(0,"div",19),t._UZ(1,"nb-spinner",20),t.qZA())}let Di=(()=>{class Q{constructor(P,K,tt,ot){this.clusterService=P,this.route=K,this.router=tt,this.toastrService=ot,this.cluster=null,this.health=null,this.loading=!0,this.clusterId=parseInt(this.route.snapshot.paramMap.get("id")||"0",10)}ngOnInit(){this.loadCluster(),this.loadHealth()}loadCluster(){this.loading=!0,this.clusterService.getCluster(this.clusterId).subscribe({next:P=>{this.cluster=P,this.loading=!1},error:P=>{this.toastrService.danger(P.error?.message||"\u52a0\u8f7d\u96c6\u7fa4\u5931\u8d25","\u9519\u8bef"),this.loading=!1}})}loadHealth(){this.clusterService.getHealth(this.clusterId).subscribe({next:P=>{this.health=P},error:()=>{}})}navigateTo(P){this.router.navigate(["/pages/starrocks",P,this.clusterId])}editCluster(){this.router.navigate(["/pages/starrocks/clusters",this.clusterId,"edit"])}deleteCluster(){confirm(`\u786e\u5b9a\u8981\u5220\u9664\u96c6\u7fa4 "${this.cluster?.name}" \u5417\uff1f`)&&this.clusterService.deleteCluster(this.clusterId).subscribe({next:()=>{this.toastrService.success("\u96c6\u7fa4\u5220\u9664\u6210\u529f","\u6210\u529f"),this.router.navigate(["/pages/starrocks/clusters"])},error:P=>{this.toastrService.danger(P.error?.message||"\u5220\u9664\u5931\u8d25","\u9519\u8bef")}})}static#t=this.\u0275fac=function(K){return new(K||Q)(t.Y36(kr.W),t.Y36(hr.gz),t.Y36(hr.F0),t.Y36(w.quB))};static#e=this.\u0275cmp=t.Xpm({type:Q,selectors:[["ngx-cluster-detail"]],decls:2,vars:2,consts:[["class","row",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center"],["nbButton","","status","info","size","small",1,"me-2",3,"click"],["icon","edit-outline"],["nbButton","","status","danger","size","small",3,"click"],["icon","trash-outline"],[1,"col-md-6"],[1,"table"],[4,"ngIf"],[1,"row","mt-4"],[1,"nav-buttons"],["nbButton","","status","primary",3,"click"],[3,"status"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[3,"icon","status"],[1,"text-center"],["status","primary"]],template:function(K,tt){1&K&&(t.YNc(0,Vo,73,13,"div",0),t.YNc(1,Uo,2,0,"div",1)),2&K&&(t.Q6J("ngIf",!tt.loading&&tt.cluster),t.xp6(1),t.Q6J("ngIf",tt.loading))},dependencies:[M.sg,M.O5,w.DPz,w.fMN,w.Tzq,w.Asz,w.yKW,w.ndF,w.$9b,M.uU],styles:["[_nghost-%COMP%]{display:block}.nav-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:.5rem;margin-bottom:.5rem}.table[_ngcontent-%COMP%]{width:100%}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{font-weight:600;width:150px}"]})}return Q})();var Pi=i(15797);let cn=(()=>{class Q{constructor(P){this.api=P}listBackends(P){return this.api.get(`/clusters/${P}/backends`)}listFrontends(P){return this.api.get(`/clusters/${P}/frontends`)}listQueries(P){return this.api.get(`/clusters/${P}/queries`)}getSystemFunctions(P){return this.api.get(`/clusters/${P}/system`)}getSystemFunctionDetail(P,K){return this.api.get(`/clusters/${P}/system/${K}`)}getSessions(P){return this.api.get(`/clusters/${P}/sessions`)}killSession(P,K){return this.api.delete(`/clusters/${P}/sessions/${K}`)}getVariables(P,K="global",tt){let ot={type:K};return tt&&(ot.filter=tt),this.api.get(`/clusters/${P}/variables`,ot)}updateVariable(P,K,tt){return this.api.put(`/clusters/${P}/variables/${K}`,tt)}listQueryHistory(P,K=10,tt=0){return this.api.get(`/clusters/${P}/queries/history`,{limit:K,offset:tt})}getQueryProfile(P,K){return this.api.get(`/clusters/${P}/queries/${K}/profile`)}executeSQL(P,K,tt){return this.api.post(`/clusters/${P}/queries/execute`,{sql:K,limit:tt})}static#t=this.\u0275fac=function(K){return new(K||Q)(t.LFG(Pi.s))};static#e=this.\u0275prov=t.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"})}return Q})();function Zo(Q,G){1&Q&&(t.TgZ(0,"div",10),t._UZ(1,"nb-spinner",11),t.qZA())}function Ha(Q,G){if(1&Q&&t._UZ(0,"ng2-smart-table",12),2&Q){const P=t.oxw();t.Q6J("settings",P.settings)("source",P.source)}}let Go=(()=>{class Q{constructor(P,K,tt,ot,Bt){this.nodeService=P,this.clusterService=K,this.clusterContext=tt,this.route=ot,this.toastrService=Bt,this.source=new Jr,this.activeCluster=null,this.clusterName="",this.loading=!0,this.autoRefresh=!0,this.destroy$=new I.xQ,this.settings={mode:"external",hideSubHeader:!0,noDataMessage:"\u6682\u65e0Backend\u8282\u70b9\u6570\u636e",actions:!1,pager:{display:!0,perPage:15},columns:{Alive:{title:"\u72b6\u6001",type:"html",width:"8%",valuePrepareFunction:ve=>`<span class="badge badge-${"true"===ve?"success":"danger"}">${"true"===ve?"\u5728\u7ebf":"\u79bb\u7ebf"}</span>`},BackendId:{title:"BE ID",type:"string",width:"8%"},BePort:{title:"BE \u7aef\u53e3",type:"string",width:"10%"},BrpcPort:{title:"BRPC\u7aef\u53e3",type:"string",hide:!0},CpuUsedPct:{title:"CPU \u4f7f\u7528\u7387",type:"html",width:"10%",valuePrepareFunction:ve=>{const de=parseFloat(ve)||0;return`<span class="badge badge-${de>=80?"danger":de>=50?"warning":"success"}">${ve}</span>`}},DataUsedCapacity:{title:"\u5df2\u7528\u5b58\u50a8",type:"string",hide:!0},HeartbeatPort:{title:"\u5fc3\u8df3\u7aef\u53e3",type:"string",width:"10%"},HttpPort:{title:"HTTP\u7aef\u53e3",type:"string",hide:!0},IP:{title:"\u4e3b\u673a",type:"string"},LastHeartbeat:{title:"\u6700\u540e\u5fc3\u8df3",type:"string",hide:!0},LastStartTime:{title:"\u6700\u540e\u542f\u52a8\u65f6\u95f4",type:"string",hide:!0},MaxDiskUsedPct:{title:"\u6700\u5927\u78c1\u76d8\u4f7f\u7528\u7387",type:"string",hide:!0},MemUsedPct:{title:"\u5185\u5b58\u4f7f\u7528\u7387",type:"html",width:"10%",valuePrepareFunction:ve=>{const de=parseFloat(ve)||0;return`<span class="badge badge-${de>=80?"danger":de>=50?"warning":"success"}">${ve}</span>`}},NumRunningQueries:{title:"\u8fd0\u884c\u67e5\u8be2\u6570",type:"html",width:"10%",valuePrepareFunction:ve=>{const de=parseInt(ve)||0;return`<span class="badge badge-${de>=10?"warning":de>=5?"info":"basic"}">${ve}</span>`}},SystemDecommissioned:{title:"\u7cfb\u7edf\u4e0b\u7ebf",type:"string",hide:!0},TabletNum:{title:"Tablet \u6570",type:"html",width:"10%",valuePrepareFunction:ve=>`<span class="badge badge-info">${ve}</span>`},TotalCapacity:{title:"\u603b\u5b58\u50a8",type:"string"},UsedPct:{title:"\u78c1\u76d8\u4f7f\u7528\u7387",type:"html",width:"10%",valuePrepareFunction:ve=>{const de=parseFloat(ve)||0;return`<span class="badge badge-${de>=80?"danger":de>=50?"warning":"success"}">${ve}</span>`}},WarehouseName:{title:"\u4ed3\u5e93\u540d\u79f0",type:"string",hide:!0}}};const oe=parseInt(this.route.snapshot.paramMap.get("clusterId")||"0",10);this.clusterId=oe}ngOnInit(){this.clusterContext.activeCluster$.pipe((0,Ht.R)(this.destroy$)).subscribe(P=>{if(this.activeCluster=P,P){const K=P.id;this.clusterId!==K&&(console.log("[Backends] Active cluster changed, switching from",this.clusterId,"to",K),this.clusterId=K,this.loadClusterInfo(),this.loadBackends())}}),this.clusterId&&this.clusterId>0?(this.loadClusterInfo(),this.loadBackends()):this.clusterContext.hasActiveCluster()||(this.toastrService.warning("\u8bf7\u5148\u5728\u96c6\u7fa4\u6982\u89c8\u9875\u9762\u6fc0\u6d3b\u4e00\u4e2a\u96c6\u7fa4","\u63d0\u793a"),this.loading=!1),(0,ta.F)(1e4).pipe((0,Ht.R)(this.destroy$),(0,er.w)(()=>this.nodeService.listBackends(this.clusterId))).subscribe({next:P=>{this.autoRefresh&&this.source.load(P)},error:P=>console.error("Auto refresh error:",P)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadClusterInfo(){this.clusterService.getCluster(this.clusterId).subscribe({next:P=>{this.clusterName=P.name},error:P=>{console.error("Load cluster error:",P)}})}loadBackends(){this.loading=!0,this.nodeService.listBackends(this.clusterId).subscribe({next:P=>{this.source.load(P),this.loading=!1},error:P=>{this.toastrService.danger(P.error?.message||"\u52a0\u8f7d Backend \u8282\u70b9\u5931\u8d25","\u9519\u8bef"),this.loading=!1}})}toggleAutoRefresh(){this.autoRefresh=!this.autoRefresh,this.autoRefresh?(this.toastrService.info("\u5df2\u542f\u7528\u81ea\u52a8\u5237\u65b0","\u63d0\u793a"),this.loadBackends()):this.toastrService.info("\u5df2\u7981\u7528\u81ea\u52a8\u5237\u65b0","\u63d0\u793a")}static#t=this.\u0275fac=function(K){return new(K||Q)(t.Y36(cn),t.Y36(kr.W),t.Y36(Vr.d),t.Y36(hr.gz),t.Y36(w.quB))};static#e=this.\u0275cmp=t.Xpm({type:Q,selectors:[["ngx-backends"]],decls:17,vars:6,consts:[[1,"row"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center","gap-2"],["nbButton","","status","primary","size","small",3,"click"],["icon","refresh-outline"],["nbButton","","size","small",3,"status","click"],[3,"icon"],["class","text-center",4,"ngIf"],[3,"settings","source",4,"ngIf"],[1,"text-center"],["status","primary"],[3,"settings","source"]],template:function(K,tt){1&K&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nb-card")(3,"nb-card-header")(4,"div",2)(5,"h5"),t._uU(6),t.qZA(),t.TgZ(7,"div",3)(8,"button",4),t.NdJ("click",function(){return tt.loadBackends()}),t._UZ(9,"nb-icon",5),t._uU(10," \u5237\u65b0 "),t.qZA(),t.TgZ(11,"button",6),t.NdJ("click",function(){return tt.toggleAutoRefresh()}),t._UZ(12,"nb-icon",7),t._uU(13),t.qZA()()()(),t.TgZ(14,"nb-card-body"),t.YNc(15,Zo,2,0,"div",8),t.YNc(16,Ha,1,2,"ng2-smart-table",9),t.qZA()()()()),2&K&&(t.xp6(6),t.hij("Backend \u8282\u70b9 - ",tt.clusterName,""),t.xp6(5),t.Q6J("status",tt.autoRefresh?"success":"basic"),t.xp6(1),t.Q6J("icon",tt.autoRefresh?"checkmark-circle-2-outline":"pause-circle-outline"),t.xp6(1),t.hij(" ",tt.autoRefresh?"\u505c\u6b62":"\u81ea\u52a8"," "),t.xp6(2),t.Q6J("ngIf",tt.loading),t.xp6(1),t.Q6J("ngIf",!tt.loading))},dependencies:[M.O5,w.DPz,w.fMN,w.Tzq,w.Asz,w.yKW,w.ndF,On],styles:['[_nghost-%COMP%]{display:block}  .badge{padding:.375rem .75rem;border-radius:.5rem;font-size:.875rem;font-weight:600;display:inline-block;text-align:center;white-space:nowrap;transition:all .2s ease}  .badge.badge-success{background:nb-theme(color-success-default);color:#fff;box-shadow:0 2px 6px #00ff0040}  .badge.badge-warning{background:nb-theme(color-warning-default);color:#fff;box-shadow:0 2px 6px #ffaa0040}  .badge.badge-danger{background:nb-theme(color-danger-default);color:#fff;box-shadow:0 2px 6px #ff000040}  .badge.badge-info{background:nb-theme(color-info-default);color:#fff;box-shadow:0 2px 6px #007bff40}  .badge.badge-basic{background:nb-theme(background-basic-color-3);color:nb-theme(text-basic-color);box-shadow:0 2px 6px #0000001a}  ng2-smart-table table{border-radius:.75rem;overflow:hidden}  ng2-smart-table table thead tr{background:linear-gradient(135deg,nb-theme(background-basic-color-2) 0%,nb-theme(background-basic-color-1) 100%)}  ng2-smart-table table thead tr th{font-weight:700;text-transform:uppercase;letter-spacing:.5px;font-size:.85rem;padding:1rem;border-bottom:2px solid nb-theme(color-primary-default)}  ng2-smart-table table thead tr th:hover{background:nb-theme(background-basic-color-3)}  ng2-smart-table table tbody tr{transition:all .2s ease;position:relative}  ng2-smart-table table tbody tr:before{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;background:linear-gradient(180deg,nb-theme(color-primary-default),nb-theme(color-info-default));transform:scaleY(0);transition:transform .2s ease}  ng2-smart-table table tbody tr:hover{background:nb-theme(background-basic-color-2);transform:scale(1.01);box-shadow:0 2px 8px #0000001a}  ng2-smart-table table tbody tr:hover:before{transform:scaleY(1)}  ng2-smart-table table tbody tr td{padding:.875rem 1rem}nb-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 2px 8px #0000000d;transition:all .3s ease}nb-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 20px #0000001a}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,nb-theme(background-basic-color-2) 0%,nb-theme(background-basic-color-1) 100%);border-bottom:2px solid nb-theme(border-basic-color-3)}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;font-size:1.25rem;letter-spacing:-.5px}']})}return Q})();function Wo(Q,G){1&Q&&(t.TgZ(0,"div",10),t._UZ(1,"nb-spinner",11),t.qZA())}function sr(Q,G){if(1&Q&&t._UZ(0,"ng2-smart-table",12),2&Q){const P=t.oxw();t.Q6J("settings",P.settings)("source",P.source)}}let gr=(()=>{class Q{constructor(P,K,tt,ot,Bt){this.nodeService=P,this.clusterService=K,this.clusterContext=tt,this.route=ot,this.toastrService=Bt,this.source=new Jr,this.activeCluster=null,this.clusterName="",this.loading=!0,this.autoRefresh=!0,this.destroy$=new I.xQ,this.settings={mode:"external",hideSubHeader:!0,noDataMessage:"\u6682\u65e0Frontend\u8282\u70b9\u6570\u636e",actions:!1,pager:{display:!0,perPage:15},columns:{Alive:{title:"\u72b6\u6001",type:"html",width:"8%",valuePrepareFunction:ve=>`<span class="badge badge-${"true"===ve?"success":"danger"}">${"true"===ve?"\u5728\u7ebf":"\u79bb\u7ebf"}</span>`},ClusterId:{title:"\u96c6\u7fa4ID",type:"string",hide:!0},EditLogPort:{title:"EditLog\u7aef\u53e3",type:"string",hide:!0},ErrMsg:{title:"\u9519\u8bef\u4fe1\u606f",type:"string",hide:!0},HttpPort:{title:"HTTP \u7aef\u53e3",type:"string",width:"10%"},IP:{title:"\u4e3b\u673a",type:"string"},Id:{title:"ID",type:"string",hide:!0},IsMaster:{title:"\u662f\u5426 Master",type:"html",width:"10%",valuePrepareFunction:ve=>"true"===ve?'<span class="badge badge-primary">Master</span>':'<span class="badge badge-secondary">Follower</span>'},Join:{title:"Join",type:"string",hide:!0},LastHeartbeat:{title:"\u6700\u540e\u5fc3\u8df3",type:"string",hide:!0},Name:{title:"\u540d\u79f0",type:"string"},QueryPort:{title:"\u67e5\u8be2\u7aef\u53e3",type:"string",width:"10%"},ReplayedJournalId:{title:"ReplayedJournalId",type:"string",hide:!0},Role:{title:"\u89d2\u8272",type:"string",width:"10%"},RpcPort:{title:"RPC\u7aef\u53e3",type:"string",hide:!0},Version:{title:"\u7248\u672c",type:"string"}}};const oe=parseInt(this.route.snapshot.paramMap.get("clusterId")||"0",10);this.clusterId=oe}ngOnInit(){this.clusterContext.activeCluster$.pipe((0,Ht.R)(this.destroy$)).subscribe(P=>{if(this.activeCluster=P,P){const K=P.id;this.clusterId!==K&&(console.log("[Frontends] Active cluster changed, switching from",this.clusterId,"to",K),this.clusterId=K,this.loadClusterInfo(),this.loadFrontends())}}),this.clusterId&&this.clusterId>0?(this.loadClusterInfo(),this.loadFrontends()):this.clusterContext.hasActiveCluster()||(this.toastrService.warning("\u8bf7\u5148\u5728\u96c6\u7fa4\u6982\u89c8\u9875\u9762\u6fc0\u6d3b\u4e00\u4e2a\u96c6\u7fa4","\u63d0\u793a"),this.loading=!1),(0,ta.F)(1e4).pipe((0,Ht.R)(this.destroy$),(0,er.w)(()=>this.nodeService.listFrontends(this.clusterId))).subscribe({next:P=>{this.autoRefresh&&this.source.load(P)}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadClusterInfo(){this.clusterService.getCluster(this.clusterId).subscribe({next:P=>{this.clusterName=P.name}})}loadFrontends(){this.loading=!0,this.nodeService.listFrontends(this.clusterId).subscribe({next:P=>{this.source.load(P),this.loading=!1},error:P=>{this.toastrService.danger(P.error?.message||"\u52a0\u8f7d\u5931\u8d25","\u9519\u8bef"),this.loading=!1}})}toggleAutoRefresh(){this.autoRefresh=!this.autoRefresh}static#t=this.\u0275fac=function(K){return new(K||Q)(t.Y36(cn),t.Y36(kr.W),t.Y36(Vr.d),t.Y36(hr.gz),t.Y36(w.quB))};static#e=this.\u0275cmp=t.Xpm({type:Q,selectors:[["ngx-frontends"]],decls:17,vars:6,consts:[[1,"row"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center","gap-2"],["nbButton","","status","primary","size","small",3,"click"],["icon","refresh-outline"],["nbButton","","size","small",3,"status","click"],[3,"icon"],["class","text-center",4,"ngIf"],[3,"settings","source",4,"ngIf"],[1,"text-center"],["status","primary"],[3,"settings","source"]],template:function(K,tt){1&K&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nb-card")(3,"nb-card-header")(4,"div",2)(5,"h5"),t._uU(6),t.qZA(),t.TgZ(7,"div",3)(8,"button",4),t.NdJ("click",function(){return tt.loadFrontends()}),t._UZ(9,"nb-icon",5),t._uU(10," \u5237\u65b0 "),t.qZA(),t.TgZ(11,"button",6),t.NdJ("click",function(){return tt.toggleAutoRefresh()}),t._UZ(12,"nb-icon",7),t._uU(13),t.qZA()()()(),t.TgZ(14,"nb-card-body"),t.YNc(15,Wo,2,0,"div",8),t.YNc(16,sr,1,2,"ng2-smart-table",9),t.qZA()()()()),2&K&&(t.xp6(6),t.hij("Frontend \u8282\u70b9 - ",tt.clusterName,""),t.xp6(5),t.Q6J("status",tt.autoRefresh?"success":"basic"),t.xp6(1),t.Q6J("icon",tt.autoRefresh?"checkmark-circle-2-outline":"pause-circle-outline"),t.xp6(1),t.hij(" ",tt.autoRefresh?"\u505c\u6b62":"\u81ea\u52a8"," "),t.xp6(2),t.Q6J("ngIf",tt.loading),t.xp6(1),t.Q6J("ngIf",!tt.loading))},dependencies:[M.O5,w.DPz,w.fMN,w.Tzq,w.Asz,w.yKW,w.ndF,On],styles:["[_nghost-%COMP%]{display:block}.gap-2[_ngcontent-%COMP%]{gap:.5rem}  .badge{padding:.25rem .5rem;border-radius:.25rem;font-size:.75rem}  .badge-success{background-color:#28a745;color:#fff}  .badge-danger{background-color:#dc3545;color:#fff}  .badge-primary{background-color:#007bff;color:#fff}  .badge-secondary{background-color:#6c757d;color:#fff}"]})}return Q})();const Yo=["profileDialog"];function Jo(Q,G){if(1&Q&&(t.TgZ(0,"small",46),t._uU(1),t.qZA()),2&Q){const P=t.oxw();t.xp6(1),t.hij(" \u96c6\u7fa4: ",P.activeCluster.name," ")}}function ka(Q,G){if(1&Q&&(t.TgZ(0,"nb-option",47),t._uU(1),t.qZA()),2&Q){const P=G.$implicit;t.Q6J("value",P.value),t.xp6(1),t.hij(" ",P.label," ")}}function Qo(Q,G){if(1&Q&&(t.TgZ(0,"nb-option",47),t._uU(1),t.qZA()),2&Q){const P=G.$implicit;t.Q6J("value",P.value),t.xp6(1),t.hij(" ",P.label," ")}}function ea(Q,G){if(1&Q&&t._UZ(0,"ng2-smart-table",57),2&Q){const P=t.oxw(2);t.Q6J("settings",P.resultSettings)("source",P.realtimeResultSource)}}function Xn(Q,G){1&Q&&(t.TgZ(0,"div",58),t._UZ(1,"nb-icon",59),t.TgZ(2,"p"),t._uU(3,"\u67e5\u8be2\u672a\u8fd4\u56de\u4efb\u4f55\u6570\u636e"),t.qZA()())}function ra(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"nb-card")(1,"nb-card-header")(2,"div",48)(3,"span"),t._uU(4,"\u67e5\u8be2\u7ed3\u679c"),t.qZA(),t.TgZ(5,"div",49)(6,"nb-badge",50),t._UZ(7,"nb-icon",51),t._uU(8),t.qZA(),t.TgZ(9,"nb-badge",52),t._UZ(10,"nb-icon",53),t._uU(11),t.qZA(),t.TgZ(12,"button",54),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.exportResults())}),t._UZ(13,"nb-icon",55),t._uU(14," \u5bfc\u51fa "),t.qZA()()()(),t.TgZ(15,"nb-card-body"),t.YNc(16,ea,1,2,"ng2-smart-table",32),t.YNc(17,Xn,4,0,"div",56),t.qZA()()}if(2&Q){const P=t.oxw();t.xp6(8),t.hij(" ",P.executionTime,"ms "),t.xp6(3),t.hij(" ",P.rowCount," \u884c "),t.xp6(5),t.Q6J("ngIf",P.resultSettings),t.xp6(1),t.Q6J("ngIf",0===P.rowCount)}}function En(Q,G){1&Q&&(t.TgZ(0,"div",60),t._UZ(1,"nb-spinner",61),t.qZA())}function $n(Q,G){if(1&Q&&t._UZ(0,"ng2-smart-table",57),2&Q){const P=t.oxw();t.Q6J("settings",P.runningSettings)("source",P.runningSource)}}function jn(Q,G){1&Q&&(t.TgZ(0,"div",60),t._UZ(1,"nb-spinner",61),t.qZA())}function Li(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"ng2-smart-table",62),t.NdJ("custom",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onCustomAction(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("settings",P.historySettings)("source",P.historySource)}}function Rn(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"div",63)(1,"div",64)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"nb-select",65),t.NdJ("selectedChange",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.historyPageSize=tt)})("selectedChange",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onHistoryPageSizeChange(tt))}),t.TgZ(5,"nb-option",47),t._uU(6,"5 \u6761/\u9875"),t.qZA(),t.TgZ(7,"nb-option",47),t._uU(8,"10 \u6761/\u9875"),t.qZA(),t.TgZ(9,"nb-option",47),t._uU(10,"20 \u6761/\u9875"),t.qZA(),t.TgZ(11,"nb-option",47),t._uU(12,"50 \u6761/\u9875"),t.qZA(),t.TgZ(13,"nb-option",47),t._uU(14,"100 \u6761/\u9875"),t.qZA()()(),t.TgZ(15,"div",66)(16,"button",67),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.onHistoryPageChange(1))}),t._UZ(17,"nb-icon",68)(18,"nb-icon",68),t.qZA(),t.TgZ(19,"button",67),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.onHistoryPageChange(tt.historyCurrentPage-1))}),t._UZ(20,"nb-icon",68),t.qZA(),t.TgZ(21,"span",69),t._uU(22),t.qZA(),t.TgZ(23,"button",67),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.onHistoryPageChange(tt.historyCurrentPage+1))}),t._UZ(24,"nb-icon",70),t.qZA(),t.TgZ(25,"button",67),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.onHistoryPageChange(tt.historyTotalPages))}),t._UZ(26,"nb-icon",70)(27,"nb-icon",70),t.qZA()()()}if(2&Q){const P=t.oxw();t.xp6(3),t.lnq("\u663e\u793a\u7b2c ",(P.historyCurrentPage-1)*P.historyPageSize+1," - ",P.Math.min(P.historyCurrentPage*P.historyPageSize,P.historyTotalCount)," \u6761\uff0c\u5171 ",P.historyTotalCount," \u6761"),t.xp6(1),t.Q6J("selected",P.historyPageSize),t.xp6(1),t.Q6J("value",5),t.xp6(2),t.Q6J("value",10),t.xp6(2),t.Q6J("value",20),t.xp6(2),t.Q6J("value",50),t.xp6(2),t.Q6J("value",100),t.xp6(3),t.Q6J("disabled",1===P.historyCurrentPage),t.xp6(3),t.Q6J("disabled",1===P.historyCurrentPage),t.xp6(3),t.AsE("\u7b2c ",P.historyCurrentPage," / ",P.historyTotalPages," \u9875"),t.xp6(1),t.Q6J("disabled",P.historyCurrentPage===P.historyTotalPages),t.xp6(2),t.Q6J("disabled",P.historyCurrentPage===P.historyTotalPages)}}function Ko(Q,G){if(1&Q&&(t.TgZ(0,"nb-card-body")(1,"div",73)(2,"p")(3,"strong"),t._uU(4,"Query ID:"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"p")(7,"strong"),t._uU(8,"SQL:"),t.qZA()(),t.TgZ(9,"pre",74),t._uU(10),t.qZA(),t.TgZ(11,"p")(12,"strong"),t._uU(13,"\u6267\u884c\u65f6\u95f4:"),t.qZA(),t._uU(14),t.qZA(),t.TgZ(15,"p")(16,"strong"),t._uU(17,"\u72b6\u6001:"),t.qZA(),t._uU(18),t.qZA(),t._UZ(19,"hr"),t.TgZ(20,"p")(21,"strong"),t._uU(22,"Profile \u5185\u5bb9:"),t.qZA()(),t.TgZ(23,"pre",75),t._uU(24),t.qZA()()()),2&Q){const P=t.oxw(2);t.xp6(5),t.hij(" ",P.currentProfile.query_id,""),t.xp6(5),t.Oqu(P.currentProfile.sql),t.xp6(4),t.hij(" ",P.currentProfile.execution_time_ms," ms"),t.xp6(4),t.hij(" ",P.currentProfile.status,""),t.xp6(6),t.Oqu(P.currentProfile.profile_content)}}function Xo(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"nb-card")(1,"nb-card-header")(2,"div",2)(3,"h6"),t._uU(4,"Query Profile"),t.qZA(),t.TgZ(5,"button",71),t.NdJ("click",function(){const ot=t.CHM(P).dialogRef;return t.KtG(ot.close())}),t._UZ(6,"nb-icon",72),t.qZA()()(),t.YNc(7,Ko,25,5,"nb-card-body",29),t.qZA()}if(2&Q){const P=t.oxw();t.xp6(7),t.Q6J("ngIf",P.currentProfile)}}let $o=(()=>{class Q{constructor(P,K,tt,ot,Bt){this.nodeService=P,this.route=K,this.toastrService=tt,this.clusterContext=ot,this.dialogService=Bt,this.runningSource=new Jr,this.historySource=new Jr,this.realtimeResultSource=new Jr,this.Math=Math,this.activeCluster=null,this.loading=!0,this.selectedTab="realtime",this.autoRefresh=!1,this.selectedRefreshInterval=5,this.refreshIntervalOptions=[{value:3,label:"3\u79d2"},{value:5,label:"5\u79d2"},{value:10,label:"10\u79d2"},{value:30,label:"30\u79d2"},{value:60,label:"1\u5206\u949f"}],this.destroy$=new I.xQ,this.currentProfile=null,this.sqlInput="",this.queryResult=null,this.resultSettings=null,this.executing=!1,this.executionTime=0,this.rowCount=0,this.queryLimit=1e3,this.limitOptions=[{value:100,label:"100 \u884c"},{value:500,label:"500 \u884c"},{value:1e3,label:"1000 \u884c"},{value:5e3,label:"5000 \u884c"},{value:1e4,label:"10000 \u884c"}],this.searchKeyword="",this.searchStartTime="",this.searchEndTime="",this.historyPageSize=10,this.historyCurrentPage=1,this.historyTotalCount=0,this.runningSettings={mode:"external",hideSubHeader:!0,noDataMessage:"\u5f53\u524d\u6ca1\u6709\u8fd0\u884c\u4e2d\u7684\u67e5\u8be2",actions:!1,pager:{display:!0,perPage:20},columns:{QueryId:{title:"Query ID",type:"string"},User:{title:"\u7528\u6237",type:"string",width:"10%"},Database:{title:"\u6570\u636e\u5e93",type:"string",width:"10%"},ExecTime:{title:"\u6267\u884c\u65f6\u95f4",type:"string",width:"10%"},Sql:{title:"SQL",type:"string"}}},this.historySettings={mode:"external",hideSubHeader:!0,noDataMessage:"\u6682\u65e0\u5386\u53f2\u67e5\u8be2\u8bb0\u5f55",actions:{add:!1,edit:!1,delete:!1,custom:[{name:"viewProfile",title:'<i class="nb-search"></i>'}],position:"right"},pager:{display:!1},columns:{query_id:{title:"Query ID",type:"string"},user:{title:"\u7528\u6237",type:"string",width:"8%"},default_db:{title:"\u6570\u636e\u5e93",type:"string",width:"8%"},query_type:{title:"\u7c7b\u578b",type:"string",width:"8%"},query_state:{title:"\u72b6\u6001",type:"string",width:"8%"},start_time:{title:"\u5f00\u59cb\u65f6\u95f4",type:"string",width:"12%"},total_ms:{title:"\u8017\u65f6(ms)",type:"number",width:"8%"},sql_statement:{title:"SQL",type:"string"}}};const oe=parseInt(this.route.snapshot.paramMap.get("clusterId")||"0",10);this.clusterId=oe}ngOnInit(){console.log("[Queries] ngOnInit - Initial clusterId:",this.clusterId),this.clusterContext.activeCluster$.pipe((0,Ht.R)(this.destroy$)).subscribe(P=>{if(console.log("[Queries] Active cluster changed:",P),this.activeCluster=P,P){const K=P.id;this.clusterId!==K&&(console.log("[Queries] Switching cluster from",this.clusterId,"to",K),this.clusterId=K,this.historyCurrentPage=1,"realtime"!==this.selectedTab?this.loadCurrentTab():this.loading=!1)}}),this.clusterId&&this.clusterId>0?(console.log("[Queries] Loading with route clusterId:",this.clusterId),"realtime"!==this.selectedTab?this.loadCurrentTab():this.loading=!1):this.clusterContext.hasActiveCluster()||(console.log("[Queries] No active cluster found"),this.toastrService.warning("\u8bf7\u5148\u5728\u96c6\u7fa4\u6982\u89c8\u9875\u9762\u6fc0\u6d3b\u4e00\u4e2a\u96c6\u7fa4","\u63d0\u793a"),this.loading=!1)}ngOnDestroy(){this.stopAutoRefresh(),this.destroy$.next(),this.destroy$.complete()}selectTab(P){console.log("[Queries] Switching to tab:",P),this.selectedTab=P,this.loadCurrentTab()}toggleAutoRefresh(){this.autoRefresh=!this.autoRefresh,this.autoRefresh?this.startAutoRefresh():this.stopAutoRefresh()}onRefreshIntervalChange(P){this.selectedRefreshInterval=P,this.autoRefresh&&(this.stopAutoRefresh(),this.startAutoRefresh())}startAutoRefresh(){this.stopAutoRefresh(),this.refreshInterval=setInterval(()=>{this.loadCurrentTab()},1e3*this.selectedRefreshInterval)}stopAutoRefresh(){this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null)}loadCurrentTab(){console.log("[Queries] loadCurrentTab called, selectedTab:",this.selectedTab),"running"===this.selectedTab?this.loadRunningQueries():"history"===this.selectedTab?this.loadHistoryQueries():this.loading=!1}loadRunningQueries(){if(!this.clusterId||0===this.clusterId)return console.log("[Queries] No valid clusterId, skipping load"),void(this.loading=!1);console.log("[Queries] Loading running queries for cluster:",this.clusterId),this.loading=!0,this.nodeService.listQueries(this.clusterId).subscribe({next:P=>{console.log("[Queries] Loaded running queries:",P.length),this.runningSource.load(P),this.loading=!1},error:P=>{console.error("[Queries] Error loading running queries:",P),this.toastrService.danger(P.error?.message||"\u52a0\u8f7d\u5931\u8d25","\u9519\u8bef"),this.loading=!1}})}loadHistoryQueries(){if(!this.clusterId||0===this.clusterId)return console.log("[Queries] No valid clusterId, skipping load"),this.loading=!1,void this.historySource.load([]);const P=(this.historyCurrentPage-1)*this.historyPageSize;console.log("[Queries] Loading history queries:",{cluster:this.clusterId,page:this.historyCurrentPage,pageSize:this.historyPageSize,offset:P}),this.loading=!0,this.nodeService.listQueryHistory(this.clusterId,this.historyPageSize,P).subscribe({next:K=>{console.log("[Queries] Loaded history queries:",{total:K.total,page:K.page,pageSize:K.page_size,dataCount:K.data.length}),this.historyTotalCount=K.total,this.historySource.load(K.data),this.loading=!1},error:K=>{console.error("[Queries] Error loading history queries:",K),this.toastrService.danger(K.error?.message||"\u52a0\u8f7d\u5386\u53f2\u67e5\u8be2\u5931\u8d25","\u9519\u8bef"),this.historySource.load([]),this.historyTotalCount=0,this.loading=!1},complete:()=>{console.log("[Queries] History query request completed"),this.loading=!1}})}get historyTotalPages(){return Math.ceil(this.historyTotalCount/this.historyPageSize)}onHistoryPageChange(P){P<1||P>this.historyTotalPages||(this.historyCurrentPage=P,this.loadHistoryQueries())}onHistoryPageSizeChange(P){this.historyPageSize=P,this.historyCurrentPage=1,this.loadHistoryQueries()}onCustomAction(P){"viewProfile"===P.action&&this.viewProfile(P.data.query_id)}viewProfile(P){this.clusterId?(console.log("[Queries] Fetching profile for query:",P),this.nodeService.getQueryProfile(this.clusterId,P).subscribe({next:K=>{console.log("[Queries] Profile loaded:",K),this.currentProfile=K,this.dialogService.open(this.profileDialogTemplate,{context:{profile:K}})},error:K=>{console.error("[Queries] Error loading profile:",K),this.toastrService.danger(K.error?.message||"\u52a0\u8f7dProfile\u5931\u8d25","\u9519\u8bef")}})):this.toastrService.warning("\u96c6\u7fa4ID\u672a\u8bbe\u7f6e","\u63d0\u793a")}executeSQL(){this.clusterId&&0!==this.clusterId?this.sqlInput&&""!==this.sqlInput.trim()?(console.log("[Queries] Executing SQL:",this.sqlInput,"with limit:",this.queryLimit),this.executing=!0,this.queryResult=null,this.resultSettings=null,this.nodeService.executeSQL(this.clusterId,this.sqlInput.trim(),this.queryLimit).subscribe({next:P=>{console.log("[Queries] SQL executed successfully:",P),this.queryResult=P,this.executionTime=P.execution_time_ms,this.rowCount=P.row_count,this.buildResultSettings(P);const K=P.rows.map(tt=>{const ot={};return P.columns.forEach((Bt,oe)=>{ot[Bt]=tt[oe]}),ot});this.realtimeResultSource.load(K),this.executing=!1,this.toastrService.success(`\u67e5\u8be2\u6210\u529f\uff0c\u8fd4\u56de ${P.row_count} \u884c`,"\u6210\u529f")},error:P=>{console.error("[Queries] SQL execution error:",P),this.executing=!1,this.toastrService.danger(P.error?.message||P.message||"SQL\u6267\u884c\u5931\u8d25","\u9519\u8bef")}})):this.toastrService.warning("\u8bf7\u8f93\u5165SQL\u8bed\u53e5","\u63d0\u793a"):this.toastrService.warning("\u8bf7\u5148\u9009\u62e9\u4e00\u4e2a\u96c6\u7fa4","\u63d0\u793a")}buildResultSettings(P){const K={};P.columns.forEach(tt=>{K[tt]={title:tt,type:"string"}}),this.resultSettings={mode:"external",hideSubHeader:!0,noDataMessage:"\u65e0\u6570\u636e",actions:!1,pager:{display:!0,perPage:50},columns:K}}clearSQL(){this.sqlInput="",this.queryResult=null,this.resultSettings=null,this.executionTime=0,this.rowCount=0}formatSQL(){if(!this.sqlInput)return;let P=this.sqlInput.trim();P=P.replace(/\s+(SELECT|FROM|WHERE|GROUP BY|ORDER BY|LIMIT|JOIN|LEFT JOIN|RIGHT JOIN|INNER JOIN)/gi,"\n$1"),P=P.replace(/\b(SELECT|FROM|WHERE|GROUP BY|ORDER BY|LIMIT|AS|ON|AND|OR|JOIN|LEFT|RIGHT|INNER|OUTER|DESC|ASC)\b/gi,K=>K.toUpperCase()),this.sqlInput=P}searchHistory(){this.clusterId&&this.loadHistoryQueries()}applyHistoryFilters(P){let K=P;if(this.searchKeyword&&""!==this.searchKeyword.trim()){const tt=this.searchKeyword.toLowerCase();K=K.filter(ot=>ot.query_id.toLowerCase().includes(tt)||ot.sql_statement.toLowerCase().includes(tt)||ot.user.toLowerCase().includes(tt))}return this.searchStartTime&&(K=K.filter(tt=>tt.start_time>=this.searchStartTime)),this.searchEndTime&&(K=K.filter(tt=>tt.start_time<=this.searchEndTime)),K}exportResults(){if(this.queryResult&&this.queryResult.rows&&0!==this.queryResult.rows.length)try{const K=this.queryResult.rows;let tt=this.queryResult.columns.map(ve=>this.escapeCSV(ve)).join(",")+"\n";K.forEach(ve=>{tt+=ve.map(de=>this.escapeCSV(de)).join(",")+"\n"});const ot=new Blob([tt],{type:"text/csv;charset=utf-8;"}),Bt=document.createElement("a"),oe=URL.createObjectURL(ot);Bt.setAttribute("href",oe),Bt.setAttribute("download",`query_result_${(new Date).getTime()}.csv`),Bt.style.visibility="hidden",document.body.appendChild(Bt),Bt.click(),document.body.removeChild(Bt),this.toastrService.success("\u5bfc\u51fa\u6210\u529f","\u6210\u529f")}catch(P){console.error("Export error:",P),this.toastrService.danger("\u5bfc\u51fa\u5931\u8d25","\u9519\u8bef")}else this.toastrService.warning("\u6ca1\u6709\u6570\u636e\u53ef\u5bfc\u51fa","\u63d0\u793a")}escapeCSV(P){if(null==P)return"";const K=String(P);return K.includes(",")||K.includes('"')||K.includes("\n")?'"'+K.replace(/"/g,'""')+'"':K}static#t=this.\u0275fac=function(K){return new(K||Q)(t.Y36(cn),t.Y36(hr.gz),t.Y36(w.quB),t.Y36(Vr.d),t.Y36(w.Gln))};static#e=this.\u0275cmp=t.Xpm({type:Q,selectors:[["ngx-queries"]],viewQuery:function(K,tt){if(1&K&&t.Gf(Yo,5),2&K){let ot;t.iGM(ot=t.CRH())&&(tt.profileDialogTemplate=ot.first)}},decls:66,vars:30,consts:[[1,"row"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center"],["class","text-muted",4,"ngIf"],[1,"d-flex","align-items-center","gap-2"],["nbButton","","status","primary","size","small",3,"disabled","click"],["icon","refresh-outline"],["size","small","placeholder","\u95f4\u9694",2,"min-width","90px",3,"selected","disabled","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["nbButton","","size","small",3,"status","disabled","click"],[3,"icon"],[3,"changeTab"],["tabTitle","\u5b9e\u65f6\u67e5\u8be2","tabId","realtime",3,"active"],[1,"realtime-query-container"],[1,"sql-editor-section"],["nbInput","","fullWidth","","rows","8","placeholder","\u8f93\u5165 SQL \u8bed\u53e5\u5e76\u6267\u884c... \u4f8b\u5982: SELECT * FROM information_schema.tables",1,"sql-editor",3,"ngModel","disabled","ngModelChange"],[1,"editor-toolbar"],[1,"left-actions"],["nbButton","","status","primary",3,"disabled","click"],["icon","play-circle-outline"],["nbButton","","status","basic",3,"disabled","click"],["icon","trash-2-outline"],["nbButton","","status","info",3,"disabled","click"],["icon","code-outline"],[1,"right-actions"],[1,"limit-label"],["size","tiny",3,"selected","disabled","selectedChange"],[1,"hint-text"],["icon","info-outline"],[4,"ngIf"],["tabTitle","\u8fd0\u884c\u4e2d","tabId","running",3,"active"],["class","text-center mt-3",4,"ngIf"],[3,"settings","source",4,"ngIf"],["tabTitle","\u5386\u53f2\u67e5\u8be2","tabId","history",3,"active"],[1,"history-filters"],[1,"col-md-4"],["nbInput","","fullWidth","","placeholder","\u641c\u7d22 Query ID / SQL / \u7528\u6237",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-md-3"],["nbInput","","fullWidth","","type","datetime-local","placeholder","\u5f00\u59cb\u65f6\u95f4",3,"ngModel","ngModelChange"],["nbInput","","fullWidth","","type","datetime-local","placeholder","\u7ed3\u675f\u65f6\u95f4",3,"ngModel","ngModelChange"],[1,"col-md-2"],["nbButton","","status","primary","fullWidth","",3,"click"],["icon","search-outline"],[3,"settings","source","custom",4,"ngIf"],["class","pagination-container",4,"ngIf"],["profileDialog",""],[1,"text-muted"],[3,"value"],[1,"result-header"],[1,"result-actions"],["status","success",1,"me-2"],["icon","clock-outline"],["status","info",1,"me-2"],["icon","list-outline"],["nbButton","","size","tiny","status","success",3,"click"],["icon","download-outline"],["class","no-data-message",4,"ngIf"],[3,"settings","source"],[1,"no-data-message"],["icon","inbox-outline"],[1,"text-center","mt-3"],["status","primary"],[3,"settings","source","custom"],[1,"pagination-container"],[1,"pagination-info"],["size","tiny",1,"page-size-select",3,"selected","selectedChange"],[1,"pagination-controls"],["nbButton","","size","tiny","status","basic",3,"disabled","click"],["icon","chevron-left-outline"],[1,"page-info"],["icon","chevron-right-outline"],["nbButton","","ghost","","status","basic","size","tiny",3,"click"],["icon","close-outline"],[1,"profile-info"],[1,"sql-statement"],[1,"profile-content"]],template:function(K,tt){1&K&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nb-card")(3,"nb-card-header")(4,"div",2)(5,"div")(6,"h5"),t._uU(7,"\u67e5\u8be2\u7ba1\u7406"),t.qZA(),t.YNc(8,Jo,2,1,"small",3),t.qZA(),t.TgZ(9,"div",4)(10,"button",5),t.NdJ("click",function(){return tt.loadCurrentTab()}),t._UZ(11,"nb-icon",6),t._uU(12," \u5237\u65b0 "),t.qZA(),t.TgZ(13,"nb-select",7),t.NdJ("selectedChange",function(Bt){return tt.selectedRefreshInterval=Bt})("selectedChange",function(Bt){return tt.onRefreshIntervalChange(Bt)}),t.YNc(14,ka,2,2,"nb-option",8),t.qZA(),t.TgZ(15,"button",9),t.NdJ("click",function(){return tt.toggleAutoRefresh()}),t._UZ(16,"nb-icon",10),t._uU(17),t.qZA()()()(),t.TgZ(18,"nb-card-body")(19,"nb-tabset",11),t.NdJ("changeTab",function(Bt){return tt.selectTab(Bt.tabId)}),t.TgZ(20,"nb-tab",12)(21,"div",13)(22,"div",14)(23,"textarea",15),t.NdJ("ngModelChange",function(Bt){return tt.sqlInput=Bt}),t._uU(24,"                "),t.qZA(),t.TgZ(25,"div",16)(26,"div",17)(27,"button",18),t.NdJ("click",function(){return tt.executeSQL()}),t._UZ(28,"nb-icon",19),t._uU(29),t.qZA(),t.TgZ(30,"button",20),t.NdJ("click",function(){return tt.clearSQL()}),t._UZ(31,"nb-icon",21),t._uU(32," \u6e05\u7a7a "),t.qZA(),t.TgZ(33,"button",22),t.NdJ("click",function(){return tt.formatSQL()}),t._UZ(34,"nb-icon",23),t._uU(35," \u683c\u5f0f\u5316 "),t.qZA()(),t.TgZ(36,"div",24)(37,"span",25),t._uU(38,"\u9650\u5236:"),t.qZA(),t.TgZ(39,"nb-select",26),t.NdJ("selectedChange",function(Bt){return tt.queryLimit=Bt}),t.YNc(40,Qo,2,2,"nb-option",8),t.qZA()()(),t.TgZ(41,"small",27),t._UZ(42,"nb-icon",28),t._uU(43," SELECT \u67e5\u8be2\u4f1a\u81ea\u52a8\u6dfb\u52a0 LIMIT \u9650\u5236\uff08\u5982\u672a\u6307\u5b9a\uff09 "),t.qZA()(),t.YNc(44,ra,18,4,"nb-card",29),t.qZA()(),t.TgZ(45,"nb-tab",30),t.YNc(46,En,2,0,"div",31),t.YNc(47,$n,1,2,"ng2-smart-table",32),t.qZA(),t.TgZ(48,"nb-tab",33)(49,"div",34)(50,"div",0)(51,"div",35)(52,"input",36),t.NdJ("ngModelChange",function(Bt){return tt.searchKeyword=Bt})("keyup.enter",function(){return tt.searchHistory()}),t.qZA()(),t.TgZ(53,"div",37)(54,"input",38),t.NdJ("ngModelChange",function(Bt){return tt.searchStartTime=Bt}),t.qZA()(),t.TgZ(55,"div",37)(56,"input",39),t.NdJ("ngModelChange",function(Bt){return tt.searchEndTime=Bt}),t.qZA()(),t.TgZ(57,"div",40)(58,"button",41),t.NdJ("click",function(){return tt.searchHistory()}),t._UZ(59,"nb-icon",42),t._uU(60," \u641c\u7d22 "),t.qZA()()()(),t.YNc(61,jn,2,0,"div",31),t.YNc(62,Li,1,2,"ng2-smart-table",43),t.YNc(63,Rn,28,15,"div",44),t.qZA()()()()()(),t.YNc(64,Xo,8,1,"ng-template",null,45,t.W1O)),2&K&&(t.xp6(8),t.Q6J("ngIf",tt.activeCluster),t.xp6(2),t.Q6J("disabled",tt.loading||!tt.clusterId),t.xp6(3),t.Q6J("selected",tt.selectedRefreshInterval)("disabled",!tt.clusterId),t.xp6(1),t.Q6J("ngForOf",tt.refreshIntervalOptions),t.xp6(1),t.Q6J("status",tt.autoRefresh?"success":"basic")("disabled",!tt.clusterId),t.xp6(1),t.Q6J("icon",tt.autoRefresh?"checkmark-circle-2-outline":"pause-circle-outline"),t.xp6(1),t.hij(" ",tt.autoRefresh?"\u505c\u6b62":"\u81ea\u52a8"," "),t.xp6(3),t.Q6J("active","realtime"===tt.selectedTab),t.xp6(3),t.Q6J("ngModel",tt.sqlInput)("disabled",tt.executing),t.xp6(4),t.Q6J("disabled",tt.executing||!tt.clusterId||!tt.sqlInput),t.xp6(2),t.hij(" ",tt.executing?"\u6267\u884c\u4e2d...":"\u6267\u884c"," "),t.xp6(1),t.Q6J("disabled",tt.executing),t.xp6(3),t.Q6J("disabled",tt.executing||!tt.sqlInput),t.xp6(6),t.Q6J("selected",tt.queryLimit)("disabled",tt.executing),t.xp6(1),t.Q6J("ngForOf",tt.limitOptions),t.xp6(4),t.Q6J("ngIf",tt.queryResult),t.xp6(1),t.Q6J("active","running"===tt.selectedTab),t.xp6(1),t.Q6J("ngIf",tt.loading),t.xp6(1),t.Q6J("ngIf",!tt.loading),t.xp6(1),t.Q6J("active","history"===tt.selectedTab),t.xp6(4),t.Q6J("ngModel",tt.searchKeyword),t.xp6(2),t.Q6J("ngModel",tt.searchStartTime),t.xp6(2),t.Q6J("ngModel",tt.searchEndTime),t.xp6(5),t.Q6J("ngIf",tt.loading),t.xp6(1),t.Q6J("ngIf",!tt.loading),t.xp6(1),t.Q6J("ngIf",!tt.loading&&tt.historyTotalCount>0))},dependencies:[T.Fj,T.JJ,T.On,M.sg,M.O5,w.DPz,w.rs,w.q51,w.fMN,w.Tzq,w.Asz,w.yKW,w.ndF,w.h8i,w.kyn,w.TR4,w.nhe,On],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .profile-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.5rem}[_nghost-%COMP%]   .profile-info[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:1rem;border-radius:4px;overflow-x:auto}[_nghost-%COMP%]   .profile-info[_ngcontent-%COMP%]   pre.sql-statement[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto}[_nghost-%COMP%]   .profile-info[_ngcontent-%COMP%]   pre.profile-content[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;font-size:.85rem}[_nghost-%COMP%]   .realtime-query-container[_ngcontent-%COMP%]   .sql-editor-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}[_nghost-%COMP%]   .realtime-query-container[_ngcontent-%COMP%]   .sql-editor-section[_ngcontent-%COMP%]   .sql-editor[_ngcontent-%COMP%]{font-family:Monaco,Menlo,Ubuntu Mono,Consolas,monospace;font-size:14px;line-height:1.6;resize:vertical;margin-bottom:.75rem}[_nghost-%COMP%]   .realtime-query-container[_ngcontent-%COMP%]   .sql-editor-section[_ngcontent-%COMP%]   .editor-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}[_nghost-%COMP%]   .realtime-query-container[_ngcontent-%COMP%]   .sql-editor-section[_ngcontent-%COMP%]   .editor-toolbar[_ngcontent-%COMP%]   .left-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}[_nghost-%COMP%]   .realtime-query-container[_ngcontent-%COMP%]   .sql-editor-section[_ngcontent-%COMP%]   .editor-toolbar[_ngcontent-%COMP%]   .right-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}[_nghost-%COMP%]   .realtime-query-container[_ngcontent-%COMP%]   .sql-editor-section[_ngcontent-%COMP%]   .editor-toolbar[_ngcontent-%COMP%]   .right-actions[_ngcontent-%COMP%]   .limit-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}[_nghost-%COMP%]   .realtime-query-container[_ngcontent-%COMP%]   .sql-editor-section[_ngcontent-%COMP%]   .editor-toolbar[_ngcontent-%COMP%]   .right-actions[_ngcontent-%COMP%]   nb-select[_ngcontent-%COMP%]{min-width:100px}[_nghost-%COMP%]   .realtime-query-container[_ngcontent-%COMP%]   .sql-editor-section[_ngcontent-%COMP%]   .hint-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.8125rem;opacity:.7}[_nghost-%COMP%]   .realtime-query-container[_ngcontent-%COMP%]   .sql-editor-section[_ngcontent-%COMP%]   .hint-text[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1rem}[_nghost-%COMP%]   .realtime-query-container[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}[_nghost-%COMP%]   .realtime-query-container[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}[_nghost-%COMP%]   .realtime-query-container[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   nb-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem}[_nghost-%COMP%]   .realtime-query-container[_ngcontent-%COMP%]   .result-header[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   nb-badge[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:.875rem}[_nghost-%COMP%]   .realtime-query-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]{text-align:center;padding:2rem 1rem;opacity:.6}[_nghost-%COMP%]   .realtime-query-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:.5rem;display:block}[_nghost-%COMP%]   .realtime-query-container[_ngcontent-%COMP%]   .no-data-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .history-filters[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding:1rem;background-color:#00000005;border-radius:4px}[_nghost-%COMP%]   .history-filters[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:0}.me-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.mt-3[_ngcontent-%COMP%]{margin-top:1rem!important}.gap-2[_ngcontent-%COMP%]{gap:.5rem}  .ng2-smart-actions{text-align:center!important}  .ng2-smart-actions a.ng2-smart-action{display:inline-block;width:20px;text-align:center;padding:0;margin:0 .5rem;font-size:1.1rem}  .ng2-smart-actions a.ng2-smart-action:hover{text-decoration:none}  .ng2-smart-actions i{vertical-align:middle}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 0;margin-top:1rem;border-top:1px solid #edf1f7}.pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;font-size:.875rem;color:#8f9bb3}.pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]   .page-size-select[_ngcontent-%COMP%]{min-width:120px}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{font-size:.875rem;padding:0 .75rem;min-width:100px;text-align:center}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:40px}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.25rem}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}"]})}return Q})();function jo(Q,G){1&Q&&(t.TgZ(0,"div",9),t._UZ(1,"nb-spinner",10),t.TgZ(2,"p"),t._uU(3,"\u52a0\u8f7d\u76d1\u63a7\u6570\u636e..."),t.qZA()())}function qo(Q,G){if(1&Q&&(t.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"nb-card",13)(4,"nb-card-body")(5,"div",14),t._UZ(6,"nb-icon",15),t.qZA(),t.TgZ(7,"div",16)(8,"h6",17),t._uU(9,"QPS"),t.qZA(),t.TgZ(10,"h2",18),t._uU(11),t.ALo(12,"number"),t.qZA(),t.TgZ(13,"p",19),t._uU(14,"\u6bcf\u79d2\u67e5\u8be2\u6570"),t.qZA()()()()(),t.TgZ(15,"div",12)(16,"nb-card",20)(17,"nb-card-body")(18,"div",14),t._UZ(19,"nb-icon",21),t.qZA(),t.TgZ(20,"div",16)(21,"h6",17),t._uU(22,"\u67e5\u8be2\u6210\u529f\u7387"),t.qZA(),t.TgZ(23,"h2",18),t._uU(24),t.ALo(25,"number"),t.qZA(),t.TgZ(26,"p",19),t._uU(27,"\u6210\u529f/\u603b\u67e5\u8be2"),t.qZA()()()()(),t.TgZ(28,"div",12)(29,"nb-card",22)(30,"nb-card-body")(31,"div",14),t._UZ(32,"nb-icon",23),t.qZA(),t.TgZ(33,"div",16)(34,"h6",17),t._uU(35,"P95 \u5ef6\u8fdf"),t.qZA(),t.TgZ(36,"h2",18),t._uU(37),t.ALo(38,"number"),t.TgZ(39,"small"),t._uU(40,"ms"),t.qZA()(),t.TgZ(41,"p",19),t._uU(42,"95\u5206\u4f4d\u5ef6\u8fdf"),t.qZA()()()()(),t.TgZ(43,"div",12)(44,"nb-card",24)(45,"nb-card-body")(46,"div",14),t._UZ(47,"nb-icon",25),t.qZA(),t.TgZ(48,"div",16)(49,"h6",17),t._uU(50,"\u5728\u7ebf\u8282\u70b9"),t.qZA(),t.TgZ(51,"h2",18),t._uU(52),t.qZA(),t.TgZ(53,"p",19),t._uU(54,"BE\u8282\u70b9\u72b6\u6001"),t.qZA()()()()()(),t.TgZ(55,"div",26)(56,"div",27)(57,"nb-card")(58,"nb-card-header")(59,"h6"),t._uU(60,"QPS & RPS"),t.qZA(),t.TgZ(61,"small",3),t._uU(62,"\u67e5\u8be2\u548c\u8bf7\u6c42\u901f\u7387"),t.qZA()(),t.TgZ(63,"nb-card-body"),t._UZ(64,"div",28),t.qZA()()(),t.TgZ(65,"div",27)(66,"nb-card")(67,"nb-card-header")(68,"h6"),t._uU(69,"\u67e5\u8be2\u5ef6\u8fdf (ms)"),t.qZA(),t.TgZ(70,"small",3),t._uU(71,"P50 / P95 / P99"),t.qZA()(),t.TgZ(72,"nb-card-body"),t._UZ(73,"div",28),t.qZA()()(),t.TgZ(74,"div",27)(75,"nb-card")(76,"nb-card-header")(77,"h6"),t._uU(78,"\u8d44\u6e90\u4f7f\u7528\u7387 (%)"),t.qZA(),t.TgZ(79,"small",3),t._uU(80,"CPU / \u5185\u5b58 / \u78c1\u76d8"),t.qZA()(),t.TgZ(81,"nb-card-body"),t._UZ(82,"div",28),t.qZA()()()(),t.TgZ(83,"div",29)(84,"div",27)(85,"nb-card")(86,"nb-card-header"),t._UZ(87,"nb-icon",30),t._uU(88," JVM \u5185\u5b58 "),t.qZA(),t.TgZ(89,"nb-card-body")(90,"div",31)(91,"div",32)(92,"span"),t._uU(93,"\u603b\u5185\u5b58"),t.qZA(),t.TgZ(94,"strong"),t._uU(95),t.qZA()(),t.TgZ(96,"div",32)(97,"span"),t._uU(98,"\u5df2\u7528\u5185\u5b58"),t.qZA(),t.TgZ(99,"strong"),t._uU(100),t.qZA()(),t.TgZ(101,"div",33)(102,"span"),t._uU(103,"\u4f7f\u7528\u7387"),t.qZA(),t.TgZ(104,"strong"),t._uU(105),t.ALo(106,"number"),t.qZA()(),t._UZ(107,"nb-progress-bar",34),t.qZA()()()(),t.TgZ(108,"div",27)(109,"nb-card")(110,"nb-card-header"),t._UZ(111,"nb-icon",35),t._uU(112," \u5b58\u50a8\u7a7a\u95f4 "),t.qZA(),t.TgZ(113,"nb-card-body")(114,"div",31)(115,"div",32)(116,"span"),t._uU(117,"\u603b\u5b58\u50a8"),t.qZA(),t.TgZ(118,"strong"),t._uU(119),t.qZA()(),t.TgZ(120,"div",32)(121,"span"),t._uU(122,"\u5df2\u7528\u5b58\u50a8"),t.qZA(),t.TgZ(123,"strong"),t._uU(124),t.qZA()(),t.TgZ(125,"div",33)(126,"span"),t._uU(127,"\u4f7f\u7528\u7387"),t.qZA(),t.TgZ(128,"strong"),t._uU(129),t.ALo(130,"number"),t.qZA()(),t._UZ(131,"nb-progress-bar",34),t.qZA()()()(),t.TgZ(132,"div",27)(133,"nb-card")(134,"nb-card-header"),t._UZ(135,"nb-icon",36),t._uU(136," \u67e5\u8be2\u7edf\u8ba1 "),t.qZA(),t.TgZ(137,"nb-card-body")(138,"div",31)(139,"div",32)(140,"span"),t._uU(141,"\u8fd0\u884c\u4e2d\u67e5\u8be2"),t.qZA(),t.TgZ(142,"strong"),t._uU(143),t.qZA()(),t.TgZ(144,"div",32)(145,"span"),t._uU(146,"\u6210\u529f\u67e5\u8be2"),t.qZA(),t.TgZ(147,"strong",37),t._uU(148),t.ALo(149,"number"),t.qZA()(),t.TgZ(150,"div",32)(151,"span"),t._uU(152,"\u5931\u8d25\u67e5\u8be2"),t.qZA(),t.TgZ(153,"strong",38),t._uU(154),t.ALo(155,"number"),t.qZA()(),t.TgZ(156,"div",39)(157,"span"),t._uU(158,"\u603b\u67e5\u8be2"),t.qZA(),t.TgZ(159,"strong"),t._uU(160),t.ALo(161,"number"),t.qZA()()()()()()()()),2&Q){const P=t.oxw();t.xp6(11),t.Oqu(t.xi3(12,24,P.metrics.qps,"1.2-2")),t.xp6(13),t.hij("",t.xi3(25,27,P.metrics.success_rate,"1.2-2"),"%"),t.xp6(13),t.hij("",t.xi3(38,30,P.metrics.query_latency_p95,"1.2-2")," "),t.xp6(15),t.AsE("",P.metrics.backend_alive," / ",P.metrics.backend_total,""),t.xp6(12),t.Q6J("options",P.qpsRpsChartOption),t.xp6(9),t.Q6J("options",P.latencyChartOption),t.xp6(9),t.Q6J("options",P.cpuChartOption),t.xp6(13),t.Oqu(P.formatBytes(P.metrics.jvm_heap_total)),t.xp6(5),t.Oqu(P.formatBytes(P.metrics.jvm_heap_used)),t.xp6(5),t.hij("",t.xi3(106,33,P.metrics.jvm_heap_usage_pct,"1.2-2"),"%"),t.xp6(2),t.Q6J("value",P.metrics.jvm_heap_usage_pct)("status",P.getProgressStatus(P.metrics.jvm_heap_usage_pct))("displayValue",!0),t.xp6(12),t.Oqu(P.formatBytes(P.metrics.disk_total_bytes)),t.xp6(5),t.Oqu(P.formatBytes(P.metrics.disk_used_bytes)),t.xp6(5),t.hij("",t.xi3(130,36,P.metrics.disk_usage_pct,"1.2-2"),"%"),t.xp6(2),t.Q6J("value",P.metrics.disk_usage_pct)("status",P.getProgressStatus(P.metrics.disk_usage_pct))("displayValue",!0),t.xp6(12),t.Oqu(P.metrics.running_queries),t.xp6(5),t.Oqu(t.lcZ(149,39,P.metrics.query_success)),t.xp6(6),t.Oqu(t.lcZ(155,41,P.metrics.query_err)),t.xp6(6),t.Oqu(t.lcZ(161,43,P.metrics.query_total))}}function Oi(Q,G){1&Q&&(t.TgZ(0,"div",40)(1,"nb-alert",41),t._UZ(2,"nb-icon",42),t._uU(3," \u6682\u65e0\u76d1\u63a7\u6570\u636e "),t.qZA()())}let qn=(()=>{class Q{constructor(P,K,tt){this.route=P,this.toastrService=K,this.clusterContext=tt,this.activeCluster=null,this.loading=!1,this.metrics=null,this.destroy$=new I.xQ,this.qpsRpsChartOption={},this.latencyChartOption={},this.cpuChartOption={},this.memoryChartOption={},this.diskChartOption={};const ot=this.route.snapshot.params.clusterId||this.route.snapshot.params.id;this.clusterId=ot?+ot:0}ngOnInit(){this.clusterContext.activeCluster$.pipe((0,Ht.R)(this.destroy$)).subscribe(P=>{if(this.activeCluster=P,P){const K=P.id;this.clusterId!==K&&(console.log("[Monitor] Switching cluster from",this.clusterId,"to",K),this.clusterId=K,this.loadMetrics())}}),this.clusterId&&this.clusterId>0?this.loadMetrics():this.clusterContext.hasActiveCluster()||this.toastrService.warning("\u8bf7\u5148\u5728\u96c6\u7fa4\u6982\u89c8\u9875\u9762\u6fc0\u6d3b\u4e00\u4e2a\u96c6\u7fa4","\u63d0\u793a")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadMetrics(){this.loading=!0,setTimeout(()=>{this.metrics={qps:0,rps:0,query_total:0,query_success:0,query_err:0,query_latency_p50:0,query_latency_p95:0,query_latency_p99:0,success_rate:99.92,backend_total:11,backend_alive:11,jvm_heap_total:8589934592,jvm_heap_used:2147483648,jvm_heap_usage_pct:25,disk_total_bytes:1099511627776,disk_used_bytes:109951162777,disk_usage_pct:10,cpu_usage_pct:0,memory_usage_pct:0,running_queries:0},this.initCharts(),this.loading=!1},500)}initCharts(){const P="#8f9bb3",K="#edf1f7";this.qpsRpsChartOption={backgroundColor:"transparent",color:["#3366ff","#00d68f"],tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:["QPS","RPS"],textStyle:{color:P}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["\u5f53\u524d"],axisLine:{lineStyle:{color:K}},axisLabel:{color:P}},yAxis:{type:"value",axisLine:{lineStyle:{color:K}},axisLabel:{color:P},splitLine:{lineStyle:{color:K}}},series:[{name:"QPS",type:"line",smooth:!0,data:[this.metrics.qps],areaStyle:{opacity:.3}},{name:"RPS",type:"line",smooth:!0,data:[this.metrics.rps],areaStyle:{opacity:.3}}]},this.latencyChartOption={backgroundColor:"transparent",color:["#00d68f","#ffaa00","#ff3d71"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["P50","P95","P99"],textStyle:{color:P}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:["\u5ef6\u8fdf"],axisLine:{lineStyle:{color:K}},axisLabel:{color:P}},yAxis:{type:"value",name:"ms",axisLine:{lineStyle:{color:K}},axisLabel:{color:P},splitLine:{lineStyle:{color:K}}},series:[{name:"P50",type:"bar",data:[this.metrics.query_latency_p50]},{name:"P95",type:"bar",data:[this.metrics.query_latency_p95]},{name:"P99",type:"bar",data:[this.metrics.query_latency_p99]}]},this.cpuChartOption={backgroundColor:"transparent",color:["#3366ff","#00d68f","#ffaa00"],tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left",textStyle:{color:P},data:["CPU","\u5185\u5b58","\u78c1\u76d8"]},series:[{name:"\u8d44\u6e90\u4f7f\u7528\u7387",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{show:!0,formatter:"{b}: {d}%",color:P},emphasis:{label:{show:!0,fontSize:"14",fontWeight:"bold"}},labelLine:{show:!0},data:[{value:this.metrics.cpu_usage_pct||0,name:"CPU"},{value:this.metrics.memory_usage_pct||0,name:"\u5185\u5b58"},{value:this.metrics.disk_usage_pct,name:"\u78c1\u76d8"}]}]}}formatBytes(P){if(0===P)return"0 B";const ot=Math.floor(Math.log(P)/Math.log(1024));return parseFloat((P/Math.pow(1024,ot)).toFixed(2))+" "+["B","KB","MB","GB","TB"][ot]}getProgressStatus(P){return P>80?"danger":P>60?"warning":"success"}static#t=this.\u0275fac=function(K){return new(K||Q)(t.Y36(hr.gz),t.Y36(w.quB),t.Y36(Vr.d))};static#e=this.\u0275cmp=t.Xpm({type:Q,selectors:[["ngx-monitor"]],decls:14,vars:4,consts:[[1,"monitor-container"],[1,"page-header"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-muted"],["nbButton","","status","primary",3,"disabled","click"],["icon","refresh-outline"],["class","loading-container",4,"ngIf"],[4,"ngIf"],["class","no-data",4,"ngIf"],[1,"loading-container"],["size","large","status","primary"],[1,"row","metrics-cards"],[1,"col-lg-3","col-md-6","col-sm-12"],["accent","primary",1,"metric-card"],[1,"metric-icon"],["icon","activity-outline","status","primary"],[1,"metric-content"],[1,"metric-label"],[1,"metric-value"],[1,"metric-desc"],["accent","success",1,"metric-card"],["icon","checkmark-circle-outline","status","success"],["accent","warning",1,"metric-card"],["icon","clock-outline","status","warning"],["accent","info",1,"metric-card"],["icon","server-outline","status","info"],[1,"row","chart-row"],[1,"col-lg-4","col-md-12"],["echarts","",1,"chart",3,"options"],[1,"row"],["icon","cube-outline"],[1,"resource-item"],[1,"d-flex","justify-content-between","mb-2"],[1,"d-flex","justify-content-between","mb-3"],[3,"value","status","displayValue"],["icon","hard-drive-outline"],["icon","bar-chart-outline"],[1,"text-success"],[1,"text-danger"],[1,"d-flex","justify-content-between"],[1,"no-data"],["status","info"],["icon","info-outline"]],template:function(K,tt){1&K&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h2"),t._uU(5,"\u76d1\u63a7\u6307\u6807"),t.qZA(),t.TgZ(6,"p",3),t._uU(7,"\u5b9e\u65f6\u76d1\u63a7\u96c6\u7fa4\u6027\u80fd\u548c\u8d44\u6e90\u4f7f\u7528\u60c5\u51b5"),t.qZA()(),t.TgZ(8,"button",4),t.NdJ("click",function(){return tt.loadMetrics()}),t._UZ(9,"nb-icon",5),t._uU(10," \u5237\u65b0 "),t.qZA()()(),t.YNc(11,jo,4,0,"div",6),t.YNc(12,qo,162,45,"div",7),t.YNc(13,Oi,4,0,"div",8),t.qZA()),2&K&&(t.xp6(8),t.Q6J("disabled",tt.loading),t.xp6(3),t.Q6J("ngIf",tt.loading),t.xp6(1),t.Q6J("ngIf",!tt.loading&&tt.metrics),t.xp6(1),t.Q6J("ngIf",!tt.loading&&!tt.metrics))},dependencies:[M.O5,w.DPz,w.fMN,w.Tzq,w.Asz,w.yKW,w.ndF,w.$9b,w.bSZ,qi,M.JJ],styles:[".monitor-container[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;margin-bottom:.25rem}.page-header[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{font-size:.95rem}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;color:nb-theme(text-hint-color)}.metrics-cards[_ngcontent-%COMP%]{margin-bottom:2rem}.metric-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 20px #0000001f}.metric-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.5rem}.metric-card[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]{flex-shrink:0;width:60px;height:60px;display:flex;align-items:center;justify-content:center;border-radius:12px;background:nb-theme(background-basic-color-2)}.metric-card[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:2rem}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]{flex:1;min-width:0}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.8rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:nb-theme(text-hint-color)}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:1.75rem;font-weight:700;line-height:1}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;color:nb-theme(text-hint-color)}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-desc[_ngcontent-%COMP%]{margin:0;font-size:.75rem;color:nb-theme(text-hint-color)}.chart-row[_ngcontent-%COMP%]{margin-bottom:2rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:1px solid nb-theme(border-basic-color-3);padding-bottom:.75rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:1rem;font-weight:600}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.8rem}nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.25rem}.chart[_ngcontent-%COMP%]{width:100%;height:300px}.resource-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:nb-theme(text-hint-color);font-size:.95rem}.resource-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:nb-theme(text-basic-color);font-size:.95rem;font-weight:600}.resource-item[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%]{color:nb-theme(color-success-default)}.resource-item[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:nb-theme(color-danger-default)}.resource-item[_ngcontent-%COMP%]   nb-progress-bar[_ngcontent-%COMP%]{margin-top:.5rem}.no-data[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:300px}.no-data[_ngcontent-%COMP%]   nb-alert[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{margin-right:.5rem}@media (max-width: 768px){.metrics-cards[_ngcontent-%COMP%]   .col-lg-3[_ngcontent-%COMP%], .metrics-cards[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{margin-bottom:1rem}.chart[_ngcontent-%COMP%]{height:250px}.metric-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:1rem}.metric-card[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]{width:50px;height:50px}.metric-card[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.5rem}.metric-card[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:1.5rem}}@media (max-width: 576px){.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.metric-card[_ngcontent-%COMP%]   .metric-content[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:1.25rem}.chart[_ngcontent-%COMP%]{height:200px}}"]})}return Q})();function Va(Q,G){if(1&Q&&(t.TgZ(0,"small",14),t._uU(1),t.qZA()),2&Q){const P=t.oxw();t.xp6(1),t.hij(" \u96c6\u7fa4: ",P.activeCluster.name," | \u6d3b\u52a8\u6570\u636e\u5e93\u8fde\u63a5 ")}}function ct(Q,G){1&Q&&(t.TgZ(0,"small",14),t._uU(1," \u8bf7\u5148\u9009\u62e9\u96c6\u7fa4 "),t.qZA())}function Nn(Q,G){if(1&Q&&(t.TgZ(0,"nb-option",15),t._uU(1),t.qZA()),2&Q){const P=G.$implicit;t.Q6J("value",P.value),t.xp6(1),t.hij(" ",P.label," ")}}function Ei(Q,G){1&Q&&(t.TgZ(0,"div",16),t._UZ(1,"nb-spinner",17),t.TgZ(2,"p",18),t._uU(3,"Loading sessions..."),t.qZA()())}function Er(Q,G){1&Q&&(t.TgZ(0,"div")(1,"nb-alert",19)(2,"p",20),t._UZ(3,"nb-icon",21),t._uU(4," No active sessions found. "),t.qZA()()())}function Ne(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"ng2-smart-table",22),t.NdJ("custom",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onCustomAction(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("settings",P.settings)("source",P.source)}}function es(Q,G){if(1&Q&&(t.TgZ(0,"small",22),t._uU(1),t.qZA()),2&Q){const P=t.oxw();t.xp6(1),t.hij(" \u96c6\u7fa4: ",P.activeCluster.name," | \u7cfb\u7edf\u548c\u4f1a\u8bdd\u53d8\u91cf ")}}function rs(Q,G){1&Q&&(t.TgZ(0,"small",22),t._uU(1," \u8bf7\u5148\u9009\u62e9\u96c6\u7fa4 "),t.qZA())}function yn(Q,G){1&Q&&(t.TgZ(0,"div",23),t._UZ(1,"nb-spinner",24),t.TgZ(2,"p",25),t._uU(3,"Loading variables..."),t.qZA()())}function ns(Q,G){1&Q&&(t.TgZ(0,"div")(1,"nb-alert",26)(2,"p",27),t._UZ(3,"nb-icon",28),t._uU(4," No variables found. Try adjusting your search criteria. "),t.qZA()()())}function is(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"ng2-smart-table",29),t.NdJ("custom",function(tt){t.CHM(P);const ot=t.oxw();return t.KtG(ot.onCustomAction(tt))}),t.qZA()}if(2&Q){const P=t.oxw();t.Q6J("settings",P.settings)("source",P.source)}}function as(Q,G){1&Q&&(t.TgZ(0,"div",30)(1,"nb-alert",31)(2,"p",27),t._UZ(3,"nb-icon",32),t.TgZ(4,"strong"),t._uU(5,"Warning:"),t.qZA(),t._uU(6," Modifying system variables may affect cluster behavior. Please consult the StarRocks documentation before making changes. "),t.qZA()()())}function ss(Q,G){1&Q&&(t.TgZ(0,"div",4),t._UZ(1,"nb-spinner",5),t.TgZ(2,"p"),t._uU(3,"Loading system functions..."),t.qZA()())}function rn(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"div",16),t.NdJ("click",function(){const ot=t.CHM(P).$implicit,Bt=t.oxw(3);return t.KtG(Bt.selectFunction(ot))}),t.TgZ(1,"div",17)(2,"h4"),t._uU(3),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"div",18)(7,"span",19),t._UZ(8,"nb-icon",20),t._uU(9),t.qZA()()(),t._UZ(10,"nb-icon",21),t.qZA()}if(2&Q){const P=G.$implicit,K=t.oxw(3);t.xp6(3),t.Oqu(P.name),t.xp6(2),t.Oqu(P.description),t.xp6(4),t.hij(" ",K.formatLastUpdated(P.last_updated)," ")}}function ls(Q,G){if(1&Q&&(t.TgZ(0,"nb-card",10)(1,"nb-card-header")(2,"div",11),t._UZ(3,"nb-icon",12),t.TgZ(4,"h3"),t._uU(5),t.qZA(),t.TgZ(6,"span",13),t._uU(7),t.qZA()()(),t.TgZ(8,"nb-card-body")(9,"div",14),t.YNc(10,rn,11,3,"div",15),t.qZA()()()),2&Q){const P=G.$implicit,K=t.oxw(2);t.Q6J("status",K.getCategoryColor(P.name)),t.xp6(3),t.Q6J("icon",P.icon)("status",K.getCategoryColor(P.name)),t.xp6(2),t.Oqu(P.name),t.xp6(2),t.hij("",P.functions.length," functions"),t.xp6(3),t.Q6J("ngForOf",P.functions)}}function us(Q,G){if(1&Q&&(t.TgZ(0,"div",6)(1,"div",7)(2,"h1"),t._uU(3,"\u7cfb\u7edf\u7ba1\u7406 / System Management"),t.qZA(),t.TgZ(4,"p"),t._uU(5,"\u7ba1\u7406\u548c\u76d1\u63a7 StarRocks \u96c6\u7fa4\u7cfb\u7edf\u529f\u80fd"),t.qZA()(),t.TgZ(6,"div",8),t.YNc(7,ls,11,6,"nb-card",9),t.qZA()()),2&Q){const P=t.oxw();t.xp6(7),t.Q6J("ngForOf",P.categories)}}function cs(Q,G){1&Q&&(t.TgZ(0,"div",38),t._UZ(1,"nb-icon",39),t.TgZ(2,"p"),t._uU(3,"No data available for this function"),t.qZA()())}function hs(Q,G){if(1&Q&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&Q){const P=G.$implicit,K=t.oxw(3);t.xp6(1),t.Oqu(K.formatHeader(P))}}function ds(Q,G){if(1&Q&&(t.TgZ(0,"td")(1,"span",43),t._uU(2),t.qZA()()),2&Q){const P=G.$implicit,K=t.oxw().$implicit,tt=t.oxw(3);t.xp6(1),t.Q6J("title",tt.getCellValue(K,P)),t.xp6(1),t.hij(" ",tt.getCellValue(K,P)," ")}}function nn(Q,G){if(1&Q&&(t.TgZ(0,"tr"),t.YNc(1,ds,3,2,"td",42),t.qZA()),2&Q){const P=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",P.getTableHeaders())}}function fs(Q,G){if(1&Q&&(t.TgZ(0,"div",40)(1,"table",41)(2,"thead")(3,"tr"),t.YNc(4,hs,2,1,"th",42),t.qZA()(),t.TgZ(5,"tbody"),t.YNc(6,nn,2,1,"tr",42),t.qZA()()()),2&Q){const P=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",P.getTableHeaders()),t.xp6(2),t.Q6J("ngForOf",P.functionData)}}function vs(Q,G){if(1&Q){const P=t.EpF();t.TgZ(0,"div",22)(1,"div",23)(2,"button",24),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.goBack())}),t._UZ(3,"nb-icon",25),t._uU(4," Back to System Functions "),t.qZA(),t.TgZ(5,"div",26)(6,"h1"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA()()(),t.TgZ(10,"div",27)(11,"nb-card",28)(12,"nb-card-header")(13,"h3"),t._uU(14,"Function Status"),t.qZA()(),t.TgZ(15,"nb-card-body")(16,"div",29)(17,"div",30)(18,"label"),t._uU(19,"Status:"),t.qZA(),t._UZ(20,"nb-badge",31),t.qZA(),t.TgZ(21,"div",30)(22,"label"),t._uU(23,"Last Updated:"),t.qZA(),t.TgZ(24,"span"),t._uU(25),t.qZA()(),t.TgZ(26,"div",30)(27,"label"),t._uU(28,"Category:"),t.qZA(),t.TgZ(29,"span"),t._uU(30),t.qZA()()()()(),t.TgZ(31,"nb-card",32)(32,"nb-card-header")(33,"h3"),t._uU(34,"Function Data"),t.qZA(),t.TgZ(35,"div",33)(36,"button",34),t.NdJ("click",function(){t.CHM(P);const tt=t.oxw();return t.KtG(tt.loadFunctionData(tt.selectedFunction.name))}),t._UZ(37,"nb-icon",35),t._uU(38," Refresh "),t.qZA()()(),t.TgZ(39,"nb-card-body"),t.YNc(40,cs,4,0,"div",36),t.YNc(41,fs,7,2,"div",37),t.qZA()()()()}if(2&Q){const P=t.oxw();t.xp6(7),t.Oqu(P.selectedFunction.name),t.xp6(2),t.Oqu(P.selectedFunction.description),t.xp6(11),t.Q6J("text",P.selectedFunction.status)("status",P.getStatusColor(P.selectedFunction.status)),t.xp6(5),t.Oqu(P.formatLastUpdated(P.selectedFunction.last_updated)),t.xp6(5),t.Oqu(P.getFunctionCategory(P.selectedFunction.name)),t.xp6(10),t.Q6J("ngIf",0===P.functionData.length),t.xp6(1),t.Q6J("ngIf",P.functionData.length>0)}}const gs=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:Na},{path:"clusters",children:[{path:"",component:Ba},{path:"new",component:un},{path:":id",component:Di},{path:":id/edit",component:un}]},{path:"backends/:clusterId",component:Go},{path:"frontends/:clusterId",component:gr},{path:"queries/:clusterId",component:$o},{path:"sessions/:clusterId",component:(()=>{class Q{constructor(P,K,tt,ot,Bt){this.route=P,this.toastrService=K,this.dialogService=tt,this.clusterContext=ot,this.nodeService=Bt,this.activeCluster=null,this.sessions=[],this.source=new Jr,this.loading=!1,this.autoRefresh=!1,this.selectedRefreshInterval=5,this.refreshIntervalOptions=[{value:3,label:"3\u79d2"},{value:5,label:"5\u79d2"},{value:10,label:"10\u79d2"},{value:30,label:"30\u79d2"},{value:60,label:"1\u5206\u949f"}],this.destroy$=new I.xQ,this.settings={hideSubHeader:!0,noDataMessage:"\u5f53\u524d\u6ca1\u6709\u6d3b\u52a8\u4f1a\u8bdd",actions:{add:!1,edit:!1,delete:!1,position:"right",custom:[{name:"kill",title:'<i class="nb-trash"></i>'}]},pager:{display:!0,perPage:15},columns:{id:{title:"Session ID",type:"string",width:"10%"},user:{title:"User",type:"string",width:"10%"},host:{title:"Host",type:"string",width:"15%"},db:{title:"Database",type:"string",width:"10%",valuePrepareFunction:ve=>ve||"N/A"},command:{title:"Command",type:"string",width:"10%"},time:{title:"Time (s)",type:"string",width:"10%"},state:{title:"State",type:"string",width:"10%"},info:{title:"Info",type:"string",width:"25%",valuePrepareFunction:ve=>ve?ve.length>100?ve.substring(0,100)+"...":ve:"N/A"}}};const oe=this.route.snapshot.params.clusterId||this.route.snapshot.params.id;this.clusterId=oe?+oe:0}ngOnInit(){console.log("[Sessions] ngOnInit - Initial clusterId:",this.clusterId),this.clusterContext.activeCluster$.pipe((0,Ht.R)(this.destroy$)).subscribe(P=>{if(console.log("[Sessions] Active cluster changed:",P),this.activeCluster=P,P){const K=P.id;this.clusterId!==K&&(console.log("[Sessions] Switching cluster from",this.clusterId,"to",K),this.clusterId=K,this.loadSessions())}}),this.clusterId&&this.clusterId>0?(console.log("[Sessions] Loading with route clusterId:",this.clusterId),this.loadSessions(),this.autoRefresh&&this.startAutoRefresh()):this.clusterContext.hasActiveCluster()||(console.log("[Sessions] No active cluster found"),this.toastrService.warning("\u8bf7\u5148\u5728\u96c6\u7fa4\u6982\u89c8\u9875\u9762\u6fc0\u6d3b\u4e00\u4e2a\u96c6\u7fa4","\u63d0\u793a"))}ngOnDestroy(){this.stopAutoRefresh(),this.destroy$.next(),this.destroy$.complete()}loadSessions(){if(!this.clusterId||0===this.clusterId)return console.log("[Sessions] No valid clusterId, skipping load"),void(this.loading=!1);console.log("[Sessions] Loading sessions for cluster:",this.clusterId),this.loading=!0,this.nodeService.getSessions(this.clusterId).subscribe({next:P=>{console.log("[Sessions] Loaded sessions:",P.length),this.sessions=P,this.source.load(P),this.loading=!1},error:P=>{console.error("[Sessions] Error loading sessions:",P),this.toastrService.danger(P.error?.message||"\u52a0\u8f7d\u4f1a\u8bdd\u5931\u8d25","\u9519\u8bef"),this.sessions=[],this.source.load([]),this.loading=!1}})}onCustomAction(P){"kill"===P.action&&this.killSession(P.data)}killSession(P){confirm(`\u786e\u5b9a\u8981\u7ec8\u6b62\u4f1a\u8bdd ${P.id} \u5417\uff1f`)&&(this.loading=!0,this.nodeService.killSession(this.clusterId,P.id).subscribe({next:()=>{this.toastrService.success(`\u4f1a\u8bdd ${P.id} \u5df2\u6210\u529f\u7ec8\u6b62`,"\u6210\u529f"),this.loadSessions()},error:K=>{this.toastrService.danger(K.error?.message||"\u7ec8\u6b62\u4f1a\u8bdd\u5931\u8d25","\u9519\u8bef"),this.loading=!1}}))}toggleAutoRefresh(){this.autoRefresh=!this.autoRefresh,this.autoRefresh?this.startAutoRefresh():this.stopAutoRefresh()}onRefreshIntervalChange(P){this.selectedRefreshInterval=P,this.autoRefresh&&(this.stopAutoRefresh(),this.startAutoRefresh())}startAutoRefresh(){this.stopAutoRefresh(),this.refreshInterval=setInterval(()=>{this.loadSessions()},1e3*this.selectedRefreshInterval)}stopAutoRefresh(){this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null)}refresh(){this.loadSessions()}static#t=this.\u0275fac=function(K){return new(K||Q)(t.Y36(hr.gz),t.Y36(w.quB),t.Y36(w.Gln),t.Y36(Vr.d),t.Y36(cn))};static#e=this.\u0275cmp=t.Xpm({type:Q,selectors:[["ngx-sessions"]],decls:23,vars:13,consts:[[1,"row"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center"],["class","text-muted",4,"ngIf"],[1,"d-flex","align-items-center","gap-2"],["nbButton","","status","primary","size","small",3,"disabled","click"],["icon","refresh-outline"],["size","small","placeholder","\u95f4\u9694",2,"min-width","90px",3,"selected","disabled","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["nbButton","","size","small",3,"status","disabled","click"],[3,"icon"],["class","text-center py-4",4,"ngIf"],[4,"ngIf"],[3,"settings","source","custom",4,"ngIf"],[1,"text-muted"],[3,"value"],[1,"text-center","py-4"],["size","large","status","primary"],[1,"mt-3","text-muted"],["status","info"],[1,"mb-0"],["icon","info-outline"],[3,"settings","source","custom"]],template:function(K,tt){1&K&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nb-card")(3,"nb-card-header")(4,"div",2)(5,"div")(6,"h5"),t._uU(7,"\u4f1a\u8bdd\u7ba1\u7406"),t.qZA(),t.YNc(8,Va,2,1,"small",3),t.YNc(9,ct,2,0,"small",3),t.qZA(),t.TgZ(10,"div",4)(11,"button",5),t.NdJ("click",function(){return tt.refresh()}),t._UZ(12,"nb-icon",6),t._uU(13," \u5237\u65b0 "),t.qZA(),t.TgZ(14,"nb-select",7),t.NdJ("selectedChange",function(Bt){return tt.selectedRefreshInterval=Bt})("selectedChange",function(Bt){return tt.onRefreshIntervalChange(Bt)}),t.YNc(15,Nn,2,2,"nb-option",8),t.qZA(),t.TgZ(16,"button",9),t.NdJ("click",function(){return tt.toggleAutoRefresh()}),t._UZ(17,"nb-icon",10),t._uU(18),t.qZA()()()(),t.TgZ(19,"nb-card-body"),t.YNc(20,Ei,4,0,"div",11),t.YNc(21,Er,5,0,"div",12),t.YNc(22,Ne,1,2,"ng2-smart-table",13),t.qZA()()()()),2&K&&(t.xp6(8),t.Q6J("ngIf",tt.activeCluster),t.xp6(1),t.Q6J("ngIf",!tt.activeCluster),t.xp6(2),t.Q6J("disabled",tt.loading||!tt.clusterId),t.xp6(3),t.Q6J("selected",tt.selectedRefreshInterval)("disabled",!tt.clusterId),t.xp6(1),t.Q6J("ngForOf",tt.refreshIntervalOptions),t.xp6(1),t.Q6J("status",tt.autoRefresh?"success":"basic")("disabled",!tt.clusterId),t.xp6(1),t.Q6J("icon",tt.autoRefresh?"checkmark-circle-2-outline":"pause-circle-outline"),t.xp6(1),t.hij(" ",tt.autoRefresh?"\u505c\u6b62":"\u81ea\u52a8"," "),t.xp6(2),t.Q6J("ngIf",tt.loading),t.xp6(1),t.Q6J("ngIf",!tt.loading&&0===tt.sessions.length),t.xp6(1),t.Q6J("ngIf",!tt.loading&&tt.sessions.length>0))},dependencies:[M.sg,M.O5,w.DPz,w.rs,w.q51,w.fMN,w.Tzq,w.Asz,w.yKW,w.ndF,w.$9b,On],styles:[".gap-2[_ngcontent-%COMP%]{gap:.5rem}  .ng2-smart-actions{text-align:center!important}  .ng2-smart-actions a.ng2-smart-action{display:inline-block;width:20px;text-align:center;padding:0;margin:0 .5rem;font-size:1.1rem}  .ng2-smart-actions a.ng2-smart-action:hover{text-decoration:none}  .ng2-smart-actions i{vertical-align:middle}"]})}return Q})()},{path:"variables/:clusterId",component:(()=>{class Q{constructor(P,K,tt,ot,Bt){this.route=P,this.toastrService=K,this.dialogService=tt,this.clusterContext=ot,this.nodeService=Bt,this.activeCluster=null,this.variables=[],this.source=new Jr,this.loading=!1,this.searchText="",this.variableType="global",this.destroy$=new I.xQ,this.settings={hideSubHeader:!0,noDataMessage:"\u672a\u627e\u5230\u5339\u914d\u7684\u53d8\u91cf",actions:{add:!1,edit:!1,delete:!1,custom:[{name:"edit",title:'<i class="nb-edit"></i>'}]},pager:{display:!0,perPage:20},columns:{name:{title:"Variable Name",type:"string",width:"40%"},value:{title:"Value",type:"string",width:"60%",valuePrepareFunction:ve=>ve?ve.length>200?ve.substring(0,200)+"...":ve:"NULL"}}};const oe=this.route.snapshot.params.clusterId||this.route.snapshot.params.id;this.clusterId=oe?+oe:0}ngOnInit(){console.log("[Variables] ngOnInit - Initial clusterId:",this.clusterId),this.clusterContext.activeCluster$.pipe((0,Ht.R)(this.destroy$)).subscribe(P=>{if(console.log("[Variables] Active cluster changed:",P),this.activeCluster=P,P){const K=P.id;this.clusterId!==K&&(console.log("[Variables] Switching cluster from",this.clusterId,"to",K),this.clusterId=K,this.loadVariables())}}),this.clusterId&&this.clusterId>0?(console.log("[Variables] Loading with route clusterId:",this.clusterId),this.loadVariables()):this.clusterContext.hasActiveCluster()||(console.log("[Variables] No active cluster found"),this.toastrService.warning("\u8bf7\u5148\u5728\u96c6\u7fa4\u6982\u89c8\u9875\u9762\u6fc0\u6d3b\u4e00\u4e2a\u96c6\u7fa4","\u63d0\u793a"))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadVariables(){if(!this.clusterId||0===this.clusterId)return console.log("[Variables] No valid clusterId, skipping load"),void(this.loading=!1);console.log("[Variables] Loading variables for cluster:",this.clusterId,"type:",this.variableType),this.loading=!0,this.nodeService.getVariables(this.clusterId,this.variableType,this.searchText||void 0).subscribe({next:P=>{console.log("[Variables] Loaded variables:",P.length),this.variables=P,this.source.load(P),this.loading=!1},error:P=>{console.error("[Variables] Error loading variables:",P),this.toastrService.danger(P.error?.message||"\u52a0\u8f7d\u53d8\u91cf\u5931\u8d25","\u9519\u8bef"),this.variables=[],this.source.load([]),this.loading=!1}})}onCustomAction(P){"edit"===P.action&&this.editVariable(P.data)}editVariable(P){const K=prompt(`\u4fee\u6539\u53d8\u91cf "${P.name}":`,P.value);null!==K&&K!==P.value&&(this.loading=!0,this.nodeService.updateVariable(this.clusterId,P.name,{value:K,scope:this.variableType.toUpperCase()}).subscribe({next:()=>{this.toastrService.success(`\u53d8\u91cf "${P.name}" \u66f4\u65b0\u6210\u529f`,"\u6210\u529f"),this.loadVariables()},error:tt=>{this.toastrService.danger(tt.error?.message||"\u66f4\u65b0\u53d8\u91cf\u5931\u8d25","\u9519\u8bef"),this.loading=!1}}))}onTypeChange(){this.loadVariables()}onSearch(){this.loadVariables()}refresh(){this.loadVariables()}static#t=this.\u0275fac=function(K){return new(K||Q)(t.Y36(hr.gz),t.Y36(w.quB),t.Y36(w.Gln),t.Y36(Vr.d),t.Y36(cn))};static#e=this.\u0275cmp=t.Xpm({type:Q,selectors:[["ngx-variables"]],decls:41,vars:10,consts:[[1,"row"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center"],["class","text-muted",4,"ngIf"],["nbButton","","status","primary","size","small",3,"disabled","click"],["icon","refresh-outline"],[1,"row","mb-3"],[1,"col-md-6"],[1,"form-group"],["for","search",1,"label"],["type","text","nbInput","","fullWidth","","id","search","placeholder","Search variables...",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-md-3"],[1,"label"],["fullWidth","",3,"selected","selectedChange"],["value","global"],["value","session"],["nbButton","","status","primary","fullWidth","",3,"disabled","click"],["icon","search-outline"],["class","text-center py-4",4,"ngIf"],[4,"ngIf"],[3,"settings","source","custom",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"text-muted"],[1,"text-center","py-4"],["size","large","status","primary"],[1,"mt-3","text-muted"],["status","info"],[1,"mb-0"],["icon","info-outline"],[3,"settings","source","custom"],[1,"mt-3"],["status","warning"],["icon","alert-triangle-outline"]],template:function(K,tt){1&K&&(t.TgZ(0,"div",0)(1,"div",1)(2,"nb-card")(3,"nb-card-header")(4,"div",2)(5,"div")(6,"h5"),t._uU(7,"\u53d8\u91cf\u7ba1\u7406"),t.qZA(),t.YNc(8,es,2,1,"small",3),t.YNc(9,rs,2,0,"small",3),t.qZA(),t.TgZ(10,"div")(11,"button",4),t.NdJ("click",function(){return tt.refresh()}),t._UZ(12,"nb-icon",5),t._uU(13," \u5237\u65b0 "),t.qZA()()()(),t.TgZ(14,"nb-card-body")(15,"div",6)(16,"div",7)(17,"div",8)(18,"label",9),t._uU(19,"Search Variables"),t.qZA(),t.TgZ(20,"input",10),t.NdJ("ngModelChange",function(Bt){return tt.searchText=Bt})("keyup.enter",function(){return tt.onSearch()}),t.qZA()()(),t.TgZ(21,"div",11)(22,"div",8)(23,"label",12),t._uU(24,"Variable Type"),t.qZA(),t.TgZ(25,"nb-select",13),t.NdJ("selectedChange",function(Bt){return tt.variableType=Bt})("selectedChange",function(){return tt.onTypeChange()}),t.TgZ(26,"nb-option",14),t._uU(27,"Global Variables"),t.qZA(),t.TgZ(28,"nb-option",15),t._uU(29,"Session Variables"),t.qZA()()()(),t.TgZ(30,"div",11)(31,"div",8)(32,"label",12),t._uU(33,"\xa0"),t.qZA(),t.TgZ(34,"button",16),t.NdJ("click",function(){return tt.onSearch()}),t._UZ(35,"nb-icon",17),t._uU(36," \u641c\u7d22 "),t.qZA()()()(),t.YNc(37,yn,4,0,"div",18),t.YNc(38,ns,5,0,"div",19),t.YNc(39,is,1,2,"ng2-smart-table",20),t.YNc(40,as,7,0,"div",21),t.qZA()()()()),2&K&&(t.xp6(8),t.Q6J("ngIf",tt.activeCluster),t.xp6(1),t.Q6J("ngIf",!tt.activeCluster),t.xp6(2),t.Q6J("disabled",tt.loading||!tt.clusterId),t.xp6(9),t.Q6J("ngModel",tt.searchText),t.xp6(5),t.Q6J("selected",tt.variableType),t.xp6(9),t.Q6J("disabled",tt.loading||!tt.clusterId),t.xp6(3),t.Q6J("ngIf",tt.loading),t.xp6(1),t.Q6J("ngIf",!tt.loading&&0===tt.variables.length),t.xp6(1),t.Q6J("ngIf",!tt.loading&&tt.variables.length>0),t.xp6(1),t.Q6J("ngIf",!tt.loading&&tt.variables.length>0))},dependencies:[T.Fj,T.JJ,T.On,M.O5,w.DPz,w.rs,w.q51,w.fMN,w.Tzq,w.Asz,w.yKW,w.ndF,w.h8i,w.$9b,On],styles:[".gap-2[_ngcontent-%COMP%]{gap:.5rem}  .ng2-smart-actions nb-icon{font-size:1.5rem;cursor:pointer}  .ng2-smart-actions nb-icon:hover{color:nb-theme(color-primary-500)}"]})}return Q})()},{path:"system/:clusterId",component:(()=>{class Q{constructor(P,K,tt,ot,Bt){this.route=P,this.nodeService=K,this.clusterContext=tt,this.dialogService=ot,this.toastrService=Bt,this.activeCluster=null,this.categories=[],this.selectedFunction=null,this.functionData=[],this.loading=!1,this.destroy$=new I.xQ,this.clusterId=+this.route.snapshot.params.clusterId}ngOnInit(){this.clusterContext.activeCluster$.pipe((0,Ht.R)(this.destroy$)).subscribe(P=>{if(this.activeCluster=P,P){const K=P.id;this.clusterId!==K&&(console.log("[SystemManagement] Switching cluster from",this.clusterId,"to",K),this.clusterId=K,this.loadSystemFunctions())}}),this.clusterId&&this.clusterId>0?this.loadSystemFunctions():this.clusterContext.hasActiveCluster()||this.toastrService.warning("\u8bf7\u5148\u5728\u96c6\u7fa4\u6982\u89c8\u9875\u9762\u6fc0\u6d3b\u4e00\u4e2a\u96c6\u7fa4","\u63d0\u793a")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadSystemFunctions(){this.loading=!0,this.nodeService.getSystemFunctions(this.clusterId).subscribe({next:P=>{this.categories=this.groupFunctionsByCategory(P),this.loading=!1},error:P=>{console.error("Failed to load system functions:",P),this.toastrService.danger("Failed to load system functions","Error"),this.loading=!1}})}groupFunctionsByCategory(P){const K=new Map,tt={\u8ba1\u7b97\u8d44\u6e90:{icon:"cpu-outline",color:"primary"},\u5b58\u50a8\u7ba1\u7406:{icon:"hard-drive-outline",color:"success"},\u6570\u636e\u5bfc\u5165:{icon:"upload-outline",color:"info"},\u67e5\u8be2\u7ba1\u7406:{icon:"search-outline",color:"warning"},\u7cfb\u7edf\u7ba1\u7406:{icon:"settings-outline",color:"basic"},\u76d1\u63a7\u6307\u6807:{icon:"bar-chart-outline",color:"danger"},\u5747\u8861\u4e0e\u6062\u590d:{icon:"refresh-outline",color:"info"},\u5b58\u50a8\u4f18\u5316:{icon:"trending-up-outline",color:"success"}};return P.forEach(ot=>{const Bt=this.getFunctionCategory(ot.name),oe={...ot,description:this.getFunctionDescription(ot.name)};K.has(Bt)||K.set(Bt,[]),K.get(Bt).push(oe)}),Array.from(K.entries()).map(([ot,Bt])=>({name:ot,functions:Bt,icon:tt[ot]?.icon||"cube-outline",color:tt[ot]?.color||"basic"}))}getFunctionCategory(P){return{frontends:"\u8ba1\u7b97\u8d44\u6e90",compute_nodes:"\u8ba1\u7b97\u8d44\u6e90",warehouses:"\u8ba1\u7b97\u8d44\u6e90",backends:"\u5b58\u50a8\u7ba1\u7406",brokers:"\u5b58\u50a8\u7ba1\u7406",historical_nodes:"\u5b58\u50a8\u7ba1\u7406",current_backend_instances:"\u5b58\u50a8\u7ba1\u7406",routine_loads:"\u6570\u636e\u5bfc\u5165",stream_loads:"\u6570\u636e\u5bfc\u5165",load_error_hub:"\u6570\u636e\u5bfc\u5165",current_queries:"\u67e5\u8be2\u7ba1\u7406",global_current_queries:"\u67e5\u8be2\u7ba1\u7406",transactions:"\u67e5\u8be2\u7ba1\u7406",jobs:"\u7cfb\u7edf\u7ba1\u7406",tasks:"\u7cfb\u7edf\u7ba1\u7406",dbs:"\u7cfb\u7edf\u7ba1\u7406",catalog:"\u7cfb\u7edf\u7ba1\u7406",resources:"\u7cfb\u7edf\u7ba1\u7406",monitor:"\u76d1\u63a7\u6307\u6807",statistic:"\u76d1\u63a7\u6307\u6807",cluster_balance:"\u5747\u8861\u4e0e\u6062\u590d",meta_recovery:"\u5747\u8861\u4e0e\u6062\u590d",replications:"\u5747\u8861\u4e0e\u6062\u590d",compactions:"\u5b58\u50a8\u4f18\u5316",colocation_group:"\u5b58\u50a8\u4f18\u5316"}[P]||"\u7cfb\u7edf\u7ba1\u7406"}getFunctionDescription(P){return{frontends:"\u67e5\u770b\u548c\u7ba1\u7406 Frontend \u8282\u70b9\u4fe1\u606f\uff0c\u5305\u62ec\u8282\u70b9\u72b6\u6001\u3001\u89d2\u8272\u3001\u7248\u672c\u7b49",compute_nodes:"\u7ba1\u7406\u8ba1\u7b97\u8282\u70b9\u8d44\u6e90\uff0c\u67e5\u770b\u8282\u70b9\u8d1f\u8f7d\u548c\u6027\u80fd\u6307\u6807",warehouses:"\u67e5\u770b\u548c\u7ba1\u7406\u6570\u636e\u4ed3\u5e93\u914d\u7f6e\uff0c\u76d1\u63a7\u4ed3\u5e93\u4f7f\u7528\u60c5\u51b5",backends:"\u67e5\u770b\u548c\u7ba1\u7406 Backend \u8282\u70b9\u4fe1\u606f\uff0c\u5305\u62ec\u5b58\u50a8\u5bb9\u91cf\u3001CPU\u3001\u5185\u5b58\u4f7f\u7528\u60c5\u51b5",brokers:"\u7ba1\u7406 Broker \u8282\u70b9\uff0c\u7528\u4e8e\u6570\u636e\u5bfc\u5165\u5bfc\u51fa\u64cd\u4f5c",historical_nodes:"\u67e5\u770b\u5386\u53f2\u8282\u70b9\u4fe1\u606f\u548c\u53d8\u66f4\u8bb0\u5f55",current_backend_instances:"\u76d1\u63a7\u5f53\u524d\u6d3b\u8dc3\u7684 Backend \u5b9e\u4f8b\u72b6\u6001",routine_loads:"\u7ba1\u7406\u4f8b\u884c\u5bfc\u5165\u4efb\u52a1\uff0c\u67e5\u770b\u5bfc\u5165\u8fdb\u5ea6\u548c\u72b6\u6001",stream_loads:"\u7ba1\u7406\u6d41\u5f0f\u5bfc\u5165\u4efb\u52a1\uff0c\u76d1\u63a7\u5b9e\u65f6\u6570\u636e\u52a0\u8f7d",load_error_hub:"\u67e5\u770b\u6570\u636e\u5bfc\u5165\u9519\u8bef\u65e5\u5fd7\uff0c\u8bca\u65ad\u5bfc\u5165\u5931\u8d25\u539f\u56e0",current_queries:"\u76d1\u63a7\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u67e5\u8be2\uff0c\u67e5\u770b\u67e5\u8be2\u8be6\u60c5\u548c\u8d44\u6e90\u6d88\u8017",global_current_queries:"\u67e5\u770b\u5168\u5c40\u6240\u6709\u67e5\u8be2\u7684\u6267\u884c\u60c5\u51b5",transactions:"\u7ba1\u7406\u4e8b\u52a1\u72b6\u6001\uff0c\u67e5\u770b\u4e8b\u52a1\u5386\u53f2\u548c\u63d0\u4ea4\u60c5\u51b5",jobs:"\u67e5\u770b\u548c\u7ba1\u7406\u7cfb\u7edf\u4efb\u52a1\uff0c\u5305\u62ec\u5907\u4efd\u3001\u6062\u590d\u3001schema change \u7b49",tasks:"\u76d1\u63a7\u540e\u53f0\u4efb\u52a1\u6267\u884c\u72b6\u6001\u548c\u8fdb\u5ea6",dbs:"\u7ba1\u7406\u6570\u636e\u5e93\uff0c\u67e5\u770b\u6570\u636e\u5e93\u5217\u8868\u548c\u8be6\u7ec6\u4fe1\u606f",catalog:"\u7ba1\u7406\u6570\u636e\u76ee\u5f55\uff0c\u914d\u7f6e\u5916\u90e8\u6570\u636e\u6e90",resources:"\u7ba1\u7406\u96c6\u7fa4\u8d44\u6e90\uff0c\u5305\u62ec\u8d44\u6e90\u7ec4\u548c\u8d44\u6e90\u914d\u989d",monitor:"\u67e5\u770b\u96c6\u7fa4\u76d1\u63a7\u6307\u6807\uff0c\u5305\u62ec QPS\u3001\u5ef6\u8fdf\u3001\u541e\u5410\u91cf\u7b49",statistic:"\u67e5\u770b\u7edf\u8ba1\u4fe1\u606f\uff0c\u5305\u62ec\u8868\u7edf\u8ba1\u3001\u5217\u7edf\u8ba1\u7b49",cluster_balance:"\u7ba1\u7406\u96c6\u7fa4\u6570\u636e\u5747\u8861\uff0c\u67e5\u770b\u5747\u8861\u4efb\u52a1\u8fdb\u5ea6",meta_recovery:"\u5143\u6570\u636e\u6062\u590d\u5de5\u5177\uff0c\u7528\u4e8e\u6545\u969c\u6062\u590d\u548c\u6570\u636e\u4fee\u590d",replications:"\u7ba1\u7406\u6570\u636e\u526f\u672c\uff0c\u67e5\u770b\u526f\u672c\u5206\u5e03\u548c\u5065\u5eb7\u72b6\u6001",compactions:"\u7ba1\u7406\u6570\u636e\u538b\u7f29\u4efb\u52a1\uff0c\u4f18\u5316\u5b58\u50a8\u7a7a\u95f4\u548c\u67e5\u8be2\u6027\u80fd",colocation_group:"\u7ba1\u7406\u6570\u636e Colocation \u5206\u7ec4\uff0c\u4f18\u5316 Join \u67e5\u8be2\u6027\u80fd"}[P]||"\u7cfb\u7edf\u529f\u80fd"}selectFunction(P){this.selectedFunction=P,this.loadFunctionData(P.name)}loadFunctionData(P){this.loading=!0,this.nodeService.getSystemFunctionDetail(this.clusterId,P).subscribe({next:K=>{this.functionData=K.data||[],this.loading=!1},error:K=>{console.error("Failed to load function data:",K),this.toastrService.danger("Failed to load function data","Error"),this.loading=!1}})}getStatusColor(P){switch(P.toLowerCase()){case"active":return"success";case"inactive":return"danger";case"warning":return"warning";default:return"basic"}}getCategoryColor(P){return{Compute:"primary",Storage:"success","Data Loading":"info","Query Management":"warning","System Management":"secondary",Monitoring:"danger","Balance & Recovery":"info","Storage Optimization":"success"}[P]||"basic"}formatLastUpdated(P){return new Date(P).toLocaleString()}goBack(){this.selectedFunction=null,this.functionData=[]}getTableHeaders(){return 0===this.functionData.length?[]:Object.keys(this.functionData[0])}formatHeader(P){return P.replace(/([A-Z])/g," $1").replace(/^./,K=>K.toUpperCase()).trim()}getCellValue(P,K){const tt=P[K];return null==tt?"-":"object"==typeof tt?JSON.stringify(tt):String(tt)}static#t=this.\u0275fac=function(K){return new(K||Q)(t.Y36(hr.gz),t.Y36(cn),t.Y36(Vr.d),t.Y36(w.Gln),t.Y36(w.quB))};static#e=this.\u0275cmp=t.Xpm({type:Q,selectors:[["ngx-system-management"]],decls:4,vars:3,consts:[[1,"system-management-container"],["class","loading-container",4,"ngIf"],["class","main-view",4,"ngIf"],["class","detail-view",4,"ngIf"],[1,"loading-container"],["size","large"],[1,"main-view"],[1,"page-header"],[1,"categories-grid"],["class","category-card",3,"status",4,"ngFor","ngForOf"],[1,"category-card",3,"status"],[1,"category-header"],[3,"icon","status"],[1,"function-count"],[1,"functions-list"],["class","function-item",3,"click",4,"ngFor","ngForOf"],[1,"function-item",3,"click"],[1,"function-info"],[1,"function-meta"],[1,"last-updated"],["icon","clock-outline"],["icon","chevron-right-outline",1,"arrow-icon"],[1,"detail-view"],[1,"detail-header"],["nbButton","","ghost","",1,"back-button",3,"click"],["icon","arrow-back-outline"],[1,"function-title"],[1,"function-content"],[1,"status-card"],[1,"status-info"],[1,"status-item"],[3,"text","status"],[1,"data-card"],[1,"data-actions"],["nbButton","","size","small","ghost","",3,"click"],["icon","refresh-outline"],["class","no-data",4,"ngIf"],["class","data-table-container",4,"ngIf"],[1,"no-data"],["icon","info-outline","status","info"],[1,"data-table-container"],[1,"data-table"],[4,"ngFor","ngForOf"],[3,"title"]],template:function(K,tt){1&K&&(t.TgZ(0,"div",0),t.YNc(1,ss,4,0,"div",1),t.YNc(2,us,8,1,"div",2),t.YNc(3,vs,42,8,"div",3),t.qZA()),2&K&&(t.xp6(1),t.Q6J("ngIf",tt.loading),t.xp6(1),t.Q6J("ngIf",!tt.selectedFunction&&!tt.loading),t.xp6(1),t.Q6J("ngIf",tt.selectedFunction&&!tt.loading))},dependencies:[M.sg,M.O5,w.DPz,w.fMN,w.Tzq,w.Asz,w.yKW,w.ndF,w.nhe],styles:['.system-management-container[_ngcontent-%COMP%]{padding:1rem}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;position:relative}.loading-container[_ngcontent-%COMP%]:before{content:"";position:absolute;width:200px;height:200px;border-radius:50%;background:nb-theme(color-primary-default);opacity:.05;animation:_ngcontent-%COMP%_pulse-loading 2s ease-in-out infinite}.loading-container[_ngcontent-%COMP%]   nb-spinner[_ngcontent-%COMP%]{position:relative;z-index:1}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1.5rem;color:nb-theme(text-hint-color);font-size:1.1rem;font-weight:500;position:relative;z-index:1;animation:_ngcontent-%COMP%_fadeInOut 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse-loading{0%,to{transform:scale(1);opacity:.3}50%{transform:scale(1.2);opacity:.6}}@keyframes _ngcontent-%COMP%_fadeInOut{0%,to{opacity:.5}50%{opacity:1}}.page-header[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding:1rem 1.5rem;border-radius:.75rem;background:linear-gradient(135deg,nb-theme(background-basic-color-2) 0%,nb-theme(background-basic-color-1) 100%);border-left:4px solid nb-theme(color-primary-default);box-shadow:0 2px 8px #0000000d}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:.25rem;color:nb-theme(text-basic-color);letter-spacing:-.5px}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:nb-theme(text-hint-color);font-size:.9rem;line-height:1.4;margin:0}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:translate(0) scale(1);opacity:.5}50%{transform:translate(-5%,-5%) scale(1.1);opacity:.8}}.categories-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:1.5rem;margin-bottom:2rem}.category-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1);border:1px solid transparent;position:relative;overflow:hidden}.category-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,nb-theme(color-primary-default) 0%,nb-theme(color-success-default) 50%,nb-theme(color-info-default) 100%);opacity:0;transition:opacity .3s ease}.category-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 12px 24px #00000026;border-color:nb-theme(color-primary-default)}.category-card[_ngcontent-%COMP%]:hover:before{opacity:1}.category-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:2px solid nb-theme(border-basic-color-3);background:nb-theme(background-basic-color-2)}.category-card[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.category-card[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.75rem;padding:.5rem;border-radius:.5rem;background:nb-theme(background-basic-color-1)}.category-card[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex:1;margin:0;font-size:1.25rem;font-weight:700;letter-spacing:-.5px}.category-card[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   .function-count[_ngcontent-%COMP%]{padding:.375rem .875rem;border-radius:1.5rem;background:linear-gradient(135deg,nb-theme(color-primary-default),nb-theme(color-info-default));font-size:.875rem;font-weight:700;color:#fff;box-shadow:0 2px 8px #0000001a}.functions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.function-item[_ngcontent-%COMP%]{padding:1.25rem;border-radius:.75rem;background:nb-theme(background-basic-color-1);border:2px solid nb-theme(border-basic-color-3);cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);display:flex;align-items:center;gap:1rem;position:relative;overflow:hidden}.function-item[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background:linear-gradient(180deg,nb-theme(color-primary-default),nb-theme(color-info-default));transform:scaleY(0);transition:transform .3s ease}.function-item[_ngcontent-%COMP%]:hover{background:nb-theme(background-basic-color-2);border-color:nb-theme(color-primary-default);transform:translate(8px);box-shadow:0 4px 12px #0000001a}.function-item[_ngcontent-%COMP%]:hover:before{transform:scaleY(1)}.function-item[_ngcontent-%COMP%]   .function-info[_ngcontent-%COMP%]{flex:1;min-width:0}.function-item[_ngcontent-%COMP%]   .function-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1rem;font-weight:700;color:nb-theme(text-basic-color);letter-spacing:-.3px}.function-item[_ngcontent-%COMP%]   .function-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:.875rem;color:nb-theme(text-hint-color);line-height:1.5;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.function-item[_ngcontent-%COMP%]   .function-info[_ngcontent-%COMP%]   .function-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.function-item[_ngcontent-%COMP%]   .function-info[_ngcontent-%COMP%]   .function-meta[_ngcontent-%COMP%]   .last-updated[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.375rem;font-size:.8rem;color:nb-theme(text-hint-color);padding:.25rem .5rem;border-radius:.375rem;background:nb-theme(background-basic-color-2)}.function-item[_ngcontent-%COMP%]   .function-info[_ngcontent-%COMP%]   .function-meta[_ngcontent-%COMP%]   .last-updated[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1rem}.function-item[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:nb-theme(text-hint-color);transition:all .3s ease}.function-item[_ngcontent-%COMP%]:hover   .arrow-icon[_ngcontent-%COMP%]{transform:translate(8px);color:nb-theme(color-primary-default)}.detail-view[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.detail-header[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1.5rem;border-radius:1rem;background:linear-gradient(135deg,nb-theme(background-basic-color-2) 0%,nb-theme(background-basic-color-1) 100%);border:1px solid nb-theme(border-basic-color-3)}.detail-header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin-bottom:1rem;transition:all .2s ease}.detail-header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{transform:translate(-4px)}.detail-header[_ngcontent-%COMP%]   .function-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:800;margin-bottom:.75rem;letter-spacing:-1px;background:linear-gradient(135deg,nb-theme(color-primary-default),nb-theme(color-info-default));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.detail-header[_ngcontent-%COMP%]   .function-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:nb-theme(text-hint-color);font-size:1.1rem;line-height:1.6}.function-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.status-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 2px 8px #0000000d;border:1px solid nb-theme(border-basic-color-3);transition:all .3s ease}.status-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 24px #0000001a;border-color:nb-theme(color-primary-default)}.status-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,nb-theme(background-basic-color-2) 0%,nb-theme(background-basic-color-1) 100%);border-bottom:2px solid nb-theme(border-basic-color-3);padding:1.5rem}.status-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:700;letter-spacing:-.5px;display:flex;align-items:center;gap:.5rem}.status-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"";width:4px;height:24px;background:linear-gradient(180deg,nb-theme(color-success-default),nb-theme(color-warning-default));border-radius:2px}.status-card[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.status-card[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;padding:1.25rem;border-radius:.75rem;background:nb-theme(background-basic-color-2);border:1px solid nb-theme(border-basic-color-3);transition:all .3s ease;position:relative;overflow:hidden}.status-card[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,nb-theme(color-primary-default),nb-theme(color-info-default));transform:scaleX(0);transition:transform .3s ease}.status-card[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 12px #0000001a;border-color:nb-theme(color-primary-default)}.status-card[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.status-card[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:700;color:nb-theme(text-hint-color);text-transform:uppercase;letter-spacing:1px;margin:0}.status-card[_ngcontent-%COMP%]   .status-info[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:nb-theme(text-basic-color);letter-spacing:-.5px}.data-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 2px 8px #0000000d;transition:all .3s ease}.data-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 24px #0000001a}.data-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:linear-gradient(135deg,nb-theme(background-basic-color-2) 0%,nb-theme(background-basic-color-1) 100%);border-bottom:2px solid nb-theme(border-basic-color-3);padding:1.5rem}.data-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:700;letter-spacing:-.5px;display:flex;align-items:center;gap:.5rem}.data-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"";width:4px;height:24px;background:linear-gradient(180deg,nb-theme(color-primary-default),nb-theme(color-info-default));border-radius:2px}.data-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]   .data-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.data-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]   .data-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:all .2s ease}.data-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]   .data-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.data-card[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem;color:nb-theme(text-hint-color)}.data-card[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1.5rem;opacity:.5;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.data-card[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:500}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]{overflow-x:auto}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:nb-theme(background-basic-color-2);border-radius:4px}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:nb-theme(color-primary-default);border-radius:4px}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:nb-theme(color-primary-hover)}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;font-size:.9rem}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem 1.25rem;text-align:left;font-weight:700;font-size:.85rem;color:nb-theme(text-basic-color);background:linear-gradient(135deg,nb-theme(background-basic-color-2) 0%,nb-theme(background-basic-color-1) 100%);border-bottom:3px solid nb-theme(color-primary-default);white-space:nowrap;text-transform:uppercase;letter-spacing:.5px}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:.5rem;border-left:3px solid nb-theme(color-success-default)}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:.5rem;border-right:3px solid nb-theme(color-info-default)}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid nb-theme(border-basic-color-3);transition:all .2s ease;position:relative}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;background:linear-gradient(180deg,nb-theme(color-primary-default),nb-theme(color-info-default));transform:scaleY(0);transition:transform .2s ease}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:nb-theme(background-basic-color-2);transform:scale(1.01);box-shadow:0 2px 8px #0000000d}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover:before{transform:scaleY(1)}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.5rem}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:.5rem}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem 1.25rem;color:nb-theme(text-basic-color)}.data-card[_ngcontent-%COMP%]   .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;max-width:300px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@media (max-width: 768px){.categories-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.status-info[_ngcontent-%COMP%]{grid-template-columns:1fr!important}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]{font-size:.75rem}.data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}}']})}return Q})()},{path:"monitor/:clusterId",component:qn}];let ps=(()=>{class Q{static#t=this.\u0275fac=function(K){return new(K||Q)};static#e=this.\u0275mod=t.oAB({type:Q});static#r=this.\u0275inj=t.cJS({imports:[hr.Bz.forChild(gs),hr.Bz]})}return Q})(),xn=(()=>{class Q{static#t=this.\u0275fac=function(K){return new(K||Q)};static#e=this.\u0275mod=t.oAB({type:Q});static#r=this.\u0275inj=t.cJS({imports:[T.u5,T.UX,ps,Or.O,w.zyh,w.T2N,w.nKr,w.IIj,w.MfT,w.uuI,w.PYG,w.EoG,w.oGl,w.KdK,w.j7H,w.LW9,w.COg,w.jSo,w.DfH,Ci,No]})}return Q})()},13347:(j,U,i)=>{var T=i(53639);!function(){for(var t in T){if(null==T||!T.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;U[t]=T[t]}}();var w=i(43022);(function(){for(var t in w){if(null==w||!w.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;U[t]=w[t]}})(),i(43046),i(76322),i(67010),i(20520),i(44110),i(88857),i(85177),i(88361),i(53269),i(80859),i(89720),i(70260),i(62598),i(70449),i(39400),i(17964),i(68082),i(58624),i(45737),i(6318),i(7473),i(52792),i(52782),i(8021),i(36778),i(60272),i(34406),i(36945),i(9823),i(54177),i(61860),i(1520),i(38843),i(27303),i(3715),i(62447),i(87212),i(66118),i(78498),i(86063),i(60232),i(32344),i(88931),i(70441),i(69112),i(86699),i(90359),i(41545),i(58794)},51548:(j,U,i)=>{var T=i(66615),w={};function t(){this._coordinateSystems=[]}t.prototype={constructor:t,create:function(I,D){var b=[];T.each(w,function(y,h){var n=y.create(I,D);b=b.concat(n||[])}),this._coordinateSystems=b},update:function(I,D){T.each(this._coordinateSystems,function(b){b.update&&b.update(I,D)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},t.register=function(I,D){w[I]=D},t.get=function(I){return w[I]},j.exports=t},68165:(j,U,i)=>{var T=i(66615),w=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];j.exports=function t(I){T.each(w,function(D){this[D]=T.bind(I[D],I)},this)}},17388:(j,U,i)=>{var T=i(53639),w=i(66615);j.exports=function t(M,I){w.each(I,function(D){D.update="updateView",T.registerAction(D,function(b,y){var h={};return y.eachComponent({mainType:"series",subType:M,query:b},function(n){n[D.method]&&n[D.method](b.name,b.dataIndex);var c=n.getData();c.each(function(o){var a=c.getName(o);h[a]=n.isSelected(a)||!1})}),{name:b.name,selected:h,seriesId:b.seriesId}})})}},49597:(j,U,i)=>{var T=i(53639),w=i(66615),M=i(60398).updateCenterAndZoom;T.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(I,D){var b=I.componentType||"series";D.eachComponent({mainType:b,query:I},function(y){var h=y.coordinateSystem;if("geo"===h.type){var n=M(h,I,y.get("scaleLimit"));y.setCenter&&y.setCenter(n.center),y.setZoom&&y.setZoom(n.zoom),"series"===b&&w.each(y.seriesGroup,function(c){c.setCenter(n.center),c.setZoom(n.zoom)})}})})},60398:(j,U)=>{U.updateCenterAndZoom=function i(T,w,t){var M=T.getZoom(),I=T.getCenter(),D=w.zoom,b=T.dataToPoint(I);if(null!=w.dx&&null!=w.dy&&(b[0]-=w.dx,b[1]-=w.dy,I=T.pointToData(b),T.setCenter(I)),null!=D){if(t){var y=t.min||0;D=Math.max(Math.min(M*D,t.max||1/0),y)/M}T.scale[0]*=D,T.scale[1]*=D;var n=T.position,o=(w.originY-n[1])*(D-1);n[0]-=(w.originX-n[0])*(D-1),n[1]-=o,T.updateTransform(),I=T.pointToData(b),T.setCenter(I),T.setZoom(D*M)}return{center:T.getCenter(),zoom:T.getZoom()}}},67010:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(98253),M=t.layout,I=t.largeLayout;i(6927),i(35311),i(24619),i(95283),T.registerLayout(T.PRIORITY.VISUAL.LAYOUT,w.curry(M,"bar")),T.registerLayout(T.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,I),T.registerVisual({seriesType:"bar",reset:function(D){D.getData().setVisual("legendSymbol","roundRect")}})},35311:(j,U,i)=>{var w=i(7288).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var t=this.get("progressiveThreshold"),M=this.get("largeThreshold");return M>t&&(t=M),t},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});j.exports=w},24619:(j,U,i)=>{i(78322);var t=i(53639),M=i(66615),I=i(32694),b=i(52584).setLabel,y=i(82356),h=i(91007),n=i(40465),c=i(29367),a=i(74972).throttle,e=i(287).createClipPath,s=i(28166),r=["itemStyle","barBorderWidth"],l=[0,0];M.extend(y.prototype,h);var v=t.extendChartView({type:"bar",render:function(Y,V,z){this._updateDrawMode(Y);var k=Y.get("coordinateSystem");return("cartesian2d"===k||"polar"===k)&&(this._isLargeDraw?this._renderLarge(Y,V,z):this._renderNormal(Y,V,z)),this.group},incrementalPrepareRender:function(Y,V,z){this._clear(),this._updateDrawMode(Y)},incrementalRender:function(Y,V,z,k){this._incrementalRenderLarge(Y,V)},_updateDrawMode:function(Y){var V=Y.pipelineContext.large;(null==this._isLargeDraw||V^this._isLargeDraw)&&(this._isLargeDraw=V,this._clear())},_renderNormal:function(Y,V,z){var it,k=this.group,X=Y.getData(),q=this._data,et=Y.coordinateSystem,rt=et.getBaseAxis();"cartesian2d"===et.type?it=rt.isHorizontal():"polar"===et.type&&(it="angle"===rt.dim);var lt=Y.isAnimationEnabled()?Y:null,dt=Y.get("clip",!0),ht=function d(Y,V){var z=Y.getArea&&Y.getArea();if("cartesian2d"===Y.type){var k=Y.getBaseAxis();if("category"!==k.type||!k.onBand){var X=V.getLayout("bandWidth");k.isHorizontal()?(z.x-=X,z.width+=2*X):(z.y-=X,z.height+=2*X)}}return z}(et,X);k.removeClipPath();var gt=Y.get("roundCap",!0),at=Y.get("showBackground",!0),ut=Y.getModel("backgroundStyle"),Ct=ut.get("barBorderRadius")||0,_t=[],bt=this._backgroundEls||[],Rt=function(Pt){var Zt=m[et.type](X,Pt),Vt=function $(Y,V,z){return new("polar"===Y.type?I.Sector:I.Rect)({shape:W(V,z,Y),silent:!0,z2:0})}(et,it,Zt);return Vt.useStyle(ut.getBarItemStyle()),"cartesian2d"===et.type&&Vt.setShape("r",Ct),_t[Pt]=Vt,Vt};X.diff(q).add(function(Pt){var Zt=X.getItemModel(Pt),Vt=m[et.type](X,Pt,Zt);if(at&&Rt(Pt),X.hasValue(Pt)){if(dt&&S[et.type](ht,Vt))return void k.remove(xt);var xt=C[et.type](Pt,Vt,it,lt,!1,gt);X.setItemGraphicEl(Pt,xt),k.add(xt),L(xt,X,Pt,Zt,Vt,Y,it,"polar"===et.type)}}).update(function(Pt,Zt){var Vt=X.getItemModel(Pt),ft=m[et.type](X,Pt,Vt);if(at){var xt;0===bt.length?xt=Rt(Zt):((xt=bt[Zt]).useStyle(ut.getBarItemStyle()),"cartesian2d"===et.type&&xt.setShape("r",Ct),_t[Pt]=xt);var wt=m[et.type](X,Pt),Nt=W(it,wt,et);I.updateProps(xt,{shape:Nt},lt,Pt)}var Ot=q.getItemGraphicEl(Zt);if(X.hasValue(Pt)){if(dt&&S[et.type](ht,ft))return void k.remove(Ot);Ot?I.updateProps(Ot,{shape:ft},lt,Pt):Ot=C[et.type](Pt,ft,it,lt,!0,gt),X.setItemGraphicEl(Pt,Ot),k.add(Ot),L(Ot,X,Pt,Vt,ft,Y,it,"polar"===et.type)}else k.remove(Ot)}).remove(function(Pt){var Zt=q.getItemGraphicEl(Pt);"cartesian2d"===et.type?Zt&&x(Pt,lt,Zt):Zt&&g(Pt,lt,Zt)}).execute();var yt=this._backgroundGroup||(this._backgroundGroup=new c);yt.removeAll();for(var Tt=0;Tt<_t.length;++Tt)yt.add(_t[Tt]);k.add(yt),this._backgroundEls=_t,this._data=X},_renderLarge:function(Y,V,z){this._clear(),R(Y,this.group);var k=Y.get("clip",!0)?e(Y.coordinateSystem,!1,Y):null;k?this.group.setClipPath(k):this.group.removeClipPath()},_incrementalRenderLarge:function(Y,V){this._removeBackground(),R(V,this.group,!0)},dispose:M.noop,remove:function(Y){this._clear(Y)},_clear:function(Y){var V=this.group,z=this._data;Y&&Y.get("animation")&&z&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],z.eachItemGraphicEl(function(k){"sector"===k.type?g(k.dataIndex,Y,k):x(k.dataIndex,Y,k)})):V.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}}),f=Math.max,p=Math.min,S={cartesian2d:function(Y,V){var z=V.width<0?-1:1,k=V.height<0?-1:1;z<0&&(V.x+=V.width,V.width=-V.width),k<0&&(V.y+=V.height,V.height=-V.height);var X=f(V.x,Y.x),q=p(V.x+V.width,Y.x+Y.width),et=f(V.y,Y.y),rt=p(V.y+V.height,Y.y+Y.height);V.x=X,V.y=et,V.width=q-X,V.height=rt-et;var it=V.width<0||V.height<0;return z<0&&(V.x+=V.width,V.width=-V.width),k<0&&(V.y+=V.height,V.height=-V.height),it},polar:function(Y,V){var z=V.r0<=V.r?1:-1;if(z<0){var k=V.r;V.r=V.r0,V.r0=k}k=p(V.r,Y.r);var X=f(V.r0,Y.r0);V.r=k,V.r0=X;var q=k-X<0;return z<0&&(k=V.r,V.r=V.r0,V.r0=k),q}},C={cartesian2d:function(Y,V,z,k,X){var q=new I.Rect({shape:M.extend({},V),z2:1});if(q.name="item",k){var rt=z?"height":"width",it={};q.shape[rt]=0,it[rt]=V[rt],I[X?"updateProps":"initProps"](q,{shape:it},k,Y)}return q},polar:function(Y,V,z,k,X,q){var it=new(!z&&q?s:I.Sector)({shape:M.defaults({clockwise:V.startAngle<V.endAngle},V),z2:1});if(it.name="item",k){var dt=z?"r":"endAngle",ht={};it.shape[dt]=z?0:V.startAngle,ht[dt]=V[dt],I[X?"updateProps":"initProps"](it,{shape:ht},k,Y)}return it}};function x(Y,V,z){z.style.text=null,I.updateProps(z,{shape:{width:0}},V,Y,function(){z.parent&&z.parent.remove(z)})}function g(Y,V,z){z.style.text=null,I.updateProps(z,{shape:{r:z.shape.r0}},V,Y,function(){z.parent&&z.parent.remove(z)})}var m={cartesian2d:function(Y,V,z){var k=Y.getItemLayout(V),X=z?function E(Y,V){var z=Y.get(r)||0,k=isNaN(V.width)?Number.MAX_VALUE:Math.abs(V.width),X=isNaN(V.height)?Number.MAX_VALUE:Math.abs(V.height);return Math.min(z,k,X)}(z,k):0,q=k.width>0?1:-1,et=k.height>0?1:-1;return{x:k.x+q*X/2,y:k.y+et*X/2,width:k.width-q*X,height:k.height-et*X}},polar:function(Y,V,z){var k=Y.getItemLayout(V);return{cx:k.cx,cy:k.cy,r0:k.r0,r:k.r,startAngle:k.startAngle,endAngle:k.endAngle}}};function A(Y){return null!=Y.startAngle&&null!=Y.endAngle&&Y.startAngle===Y.endAngle}function L(Y,V,z,k,X,q,et,rt){var it=V.getItemVisual(z,"color"),lt=V.getItemVisual(z,"opacity"),dt=V.getVisual("borderColor"),ht=k.getModel("itemStyle"),gt=k.getModel("emphasis.itemStyle").getBarItemStyle();rt||Y.setShape("r",ht.get("barBorderRadius")||0),Y.useStyle(M.defaults({stroke:A(X)?"none":dt,fill:A(X)?"none":it,opacity:lt},ht.getBarItemStyle()));var at=k.getShallow("cursor");at&&Y.attr("cursor",at),rt||b(Y.style,gt,k,it,q,z,et?X.height>0?"bottom":"top":X.width>0?"left":"right"),A(X)&&(gt.fill=gt.stroke="none"),I.setHoverStyle(Y,gt)}var N=n.extend({type:"largeBar",shape:{points:[]},buildPath:function(Y,V){for(var z=V.points,k=this.__startPoint,X=this.__baseDimIdx,q=0;q<z.length;q+=2)k[X]=z[q+X],Y.moveTo(k[0],k[1]),Y.lineTo(z[q],z[q+1])}});function R(Y,V,z){var k=Y.getData(),X=[],q=k.getLayout("valueAxisHorizontal")?1:0;X[1-q]=k.getLayout("valueAxisStart");var et=k.getLayout("largeDataIndices"),rt=k.getLayout("barWidth"),it=Y.getModel("backgroundStyle");if(Y.get("showBackground",!0)){var dt=k.getLayout("largeBackgroundPoints"),ht=[];ht[1-q]=k.getLayout("backgroundStart");var gt=new N({shape:{points:dt},incremental:!!z,__startPoint:ht,__baseDimIdx:q,__largeDataIndices:et,__barWidth:rt,silent:!0,z2:0});(function Z(Y,V,z){var k=V.get("borderColor")||V.get("color"),X=V.getItemStyle(["color","borderColor"]);Y.useStyle(X),Y.style.fill=null,Y.style.stroke=k,Y.style.lineWidth=z.getLayout("barWidth")})(gt,it,k),V.add(gt)}var at=new N({shape:{points:k.getLayout("largePoints")},incremental:!!z,__startPoint:X,__baseDimIdx:q,__largeDataIndices:et,__barWidth:rt});V.add(at),function B(Y,V,z){var k=z.getVisual("borderColor")||z.getVisual("color"),X=V.getModel("itemStyle").getItemStyle(["color","borderColor"]);Y.useStyle(X),Y.style.fill=null,Y.style.stroke=k,Y.style.lineWidth=z.getLayout("barWidth")}(at,Y,k),at.seriesIndex=Y.seriesIndex,Y.get("silent")||(at.on("mousedown",F),at.on("mousemove",F))}var F=a(function(Y){var z=function H(Y,V,z){var k=Y.__baseDimIdx,X=1-k,q=Y.shape.points,et=Y.__largeDataIndices,rt=Math.abs(Y.__barWidth/2),it=Y.__startPoint[X];l[0]=V,l[1]=z;for(var lt=l[k],dt=l[1-k],ht=lt-rt,gt=lt+rt,at=0,ut=q.length/2;at<ut;at++){var Ct=2*at,_t=q[Ct+k],bt=q[Ct+X];if(_t>=ht&&_t<=gt&&(it<=bt?dt>=it&&dt<=bt:dt>=bt&&dt<=it))return et[at]}return-1}(this,Y.offsetX,Y.offsetY);this.dataIndex=z>=0?z:null},30,!1);function W(Y,V,z){var k,X="polar"===z.type;return k=X?z.getArea():z.grid.getRect(),X?{cx:k.cx,cy:k.cy,r0:Y?k.r0:V.r0,r:Y?k.r:V.r,startAngle:Y?V.startAngle:0,endAngle:Y?V.endAngle:2*Math.PI}:{x:Y?V.x:k.x,y:Y?k.y:V.y,width:Y?V.width:k.width,height:Y?k.height:V.height}}j.exports=v},7288:(j,U,i)=>{var T=i(4263),w=i(8127),t=T.extend({type:"series.__base_bar__",getInitialData:function(M,I){return w(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(M){var I=this.coordinateSystem;if(I){var D=I.dataToPoint(I.clampData(M)),b=this.getData(),y=b.getLayout("offset"),h=b.getLayout("size");return D[I.getBaseAxis().isHorizontal()?0:1]+=y+h/2,D}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});j.exports=t},67552:(j,U,i)=>{var w=i(7288).extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(M){return M.stack=null,w.superApply(this,"getInitialData",arguments)}});j.exports=w},23512:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(32694),I=i(33008).createSymbol,D=i(68301),b=D.parsePercent,y=D.isNumeric,n=i(52584).setLabel,c=["itemStyle","borderWidth"],o=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],a=new t.Circle,u=T.extendChartView({type:"pictorialBar",render:function(Y,V,z){var k=this.group,X=Y.getData(),q=this._data,et=Y.coordinateSystem,it=!!et.getBaseAxis().isHorizontal(),lt=et.grid.getRect(),dt={ecSize:{width:z.getWidth(),height:z.getHeight()},seriesModel:Y,coordSys:et,coordSysExtent:[[lt.x,lt.x+lt.width],[lt.y,lt.y+lt.height]],isHorizontal:it,valueDim:o[+it],categoryDim:o[1-it]};return X.diff(q).add(function(ht){if(X.hasValue(ht)){var gt=g(X,ht),at=e(X,ht,gt,dt),ut=E(X,dt,at);X.setItemGraphicEl(ht,ut),k.add(ut),Z(ut,dt,at)}}).update(function(ht,gt){var at=q.getItemGraphicEl(gt);if(X.hasValue(ht)){var ut=g(X,ht),Ct=e(X,ht,ut,dt),_t=F(X,Ct);at&&_t!==at.__pictorialShapeStr&&(k.remove(at),X.setItemGraphicEl(ht,null),at=null),at?function N(Y,V,z){var k=z.animationModel,X=z.dataIndex;t.updateProps(Y.__pictorialBundle,{position:z.bundlePosition.slice()},k,X),z.symbolRepeat?p(Y,V,z,!0):S(Y,0,z,!0),C(Y,z,!0),x(Y,V,z,!0)}(at,dt,Ct):at=E(X,dt,Ct,!0),X.setItemGraphicEl(ht,at),at.__pictorialSymbolMeta=Ct,k.add(at),Z(at,dt,Ct)}else k.remove(at)}).remove(function(ht){var gt=q.getItemGraphicEl(ht);gt&&R(q,ht,gt.__pictorialSymbolMeta.animationModel,gt)}).execute(),this._data=X,this.group},dispose:w.noop,remove:function(Y,V){var z=this.group,k=this._data;Y.get("animation")?k&&k.eachItemGraphicEl(function(X){R(k,X.dataIndex,Y,X)}):z.removeAll()}});function e(Y,V,z,k){var X=Y.getItemLayout(V),q=z.get("symbolRepeat"),et=z.get("symbolClip"),rt=z.get("symbolPosition")||"start",lt=(z.get("symbolRotate")||0)*Math.PI/180||0,dt=z.get("symbolPatternSize")||2,ht=z.isAnimationEnabled(),gt={dataIndex:V,layout:X,itemModel:z,symbolType:Y.getItemVisual(V,"symbol")||"circle",color:Y.getItemVisual(V,"color"),symbolClip:et,symbolRepeat:q,symbolRepeatDirection:z.get("symbolRepeatDirection"),symbolPatternSize:dt,rotation:lt,animationModel:ht?z:null,hoverAnimation:ht&&z.get("hoverAnimation"),z2:z.getShallow("z",!0)||0};(function s(Y,V,z,k,X){var dt,q=k.valueDim,et=Y.get("symbolBoundingData"),rt=k.coordSys.getOtherAxis(k.coordSys.getBaseAxis()),it=rt.toGlobalCoord(rt.dataToCoord(0)),lt=1-+(z[q.wh]<=0);if(w.isArray(et)){var ht=[r(rt,et[0])-it,r(rt,et[1])-it];ht[1]<ht[0]&&ht.reverse(),dt=ht[lt]}else dt=null!=et?r(rt,et)-it:V?k.coordSysExtent[q.index][lt]-it:z[q.wh];X.boundingLength=dt,V&&(X.repeatCutLength=z[q.wh]),X.pxSign=dt>0?1:dt<0?-1:0})(z,q,X,k,gt),function l(Y,V,z,k,X,q,et,rt,it,lt){var dt=it.valueDim,ht=it.categoryDim,gt=Math.abs(z[ht.wh]),at=Y.getItemVisual(V,"symbolSize");w.isArray(at)?at=at.slice():(null==at&&(at="100%"),at=[at,at]),at[ht.index]=b(at[ht.index],gt),at[dt.index]=b(at[dt.index],k?gt:Math.abs(q)),lt.symbolSize=at,(lt.symbolScale=[at[0]/rt,at[1]/rt])[dt.index]*=(it.isHorizontal?-1:1)*et}(Y,V,X,q,0,gt.boundingLength,gt.pxSign,dt,k,gt),function d(Y,V,z,k,X){var q=Y.get(c)||0;q&&(a.attr({scale:V.slice(),rotation:z}),a.updateTransform(),q/=a.getLineScale(),q*=V[k.valueDim.index]),X.valueLineWidth=q}(z,gt.symbolScale,lt,k,gt);var at=gt.symbolSize,ut=z.get("symbolOffset");return w.isArray(ut)&&(ut=[b(ut[0],at[0]),b(ut[1],at[1])]),function v(Y,V,z,k,X,q,et,rt,it,lt,dt,ht){var gt=dt.categoryDim,at=dt.valueDim,ut=ht.pxSign,Ct=Math.max(V[at.index]+rt,0),_t=Ct;if(k){var bt=Math.abs(it),Rt=w.retrieve(Y.get("symbolMargin"),"15%")+"",yt=!1;Rt.lastIndexOf("!")===Rt.length-1&&(yt=!0,Rt=Rt.slice(0,Rt.length-1)),Rt=b(Rt,V[at.index]);var Tt=Math.max(Ct+2*Rt,0),Pt=yt?0:2*Rt,Zt=y(k),Vt=Zt?k:W((bt+Pt)/Tt);Tt=Ct+2*(Rt=(bt-Vt*Ct)/2/(yt?Vt:Vt-1)),Pt=yt?0:2*Rt,!Zt&&"fixed"!==k&&(Vt=lt?W((Math.abs(lt)+Pt)/Tt):0),_t=Vt*Tt-Pt,ht.repeatTimes=Vt,ht.symbolMargin=Rt}var xt=ut*(_t/2),wt=ht.pathPosition=[];wt[gt.index]=z[gt.wh]/2,wt[at.index]="start"===et?xt:"end"===et?it-xt:it/2,q&&(wt[0]+=q[0],wt[1]+=q[1]);var Nt=ht.bundlePosition=[];Nt[gt.index]=z[gt.xy],Nt[at.index]=z[at.xy];var Ot=ht.barRectShape=w.extend({},z);Ot[at.wh]=ut*Math.max(Math.abs(z[at.wh]),Math.abs(wt[at.index]+xt)),Ot[gt.wh]=z[gt.wh];var It=ht.clipShape={};It[gt.xy]=-z[gt.xy],It[gt.wh]=dt.ecSize[gt.wh],It[at.xy]=0,It[at.wh]=z[at.wh]}(z,at,X,q,0,ut,rt,gt.valueLineWidth,gt.boundingLength,gt.repeatCutLength,k,gt),gt}function r(Y,V){return Y.toGlobalCoord(Y.dataToCoord(Y.scale.parse(V)))}function f(Y){var V=Y.symbolPatternSize,z=I(Y.symbolType,-V/2,-V/2,V,V,Y.color);return z.attr({culling:!0}),"image"!==z.type&&z.setStyle({strokeNoScale:!0}),z}function p(Y,V,z,k){var X=Y.__pictorialBundle,rt=z.pathPosition,it=V.valueDim,lt=z.repeatTimes||0,dt=0,ht=z.symbolSize[V.valueDim.index]+z.valueLineWidth+2*z.symbolMargin;for(H(Y,function(bt){bt.__pictorialAnimationIndex=dt,bt.__pictorialRepeatTimes=lt,dt<lt?B(bt,null,ut(dt),z,k):B(bt,null,{scale:[0,0]},z,k,function(){X.remove(bt)}),L(bt,z),dt++});dt<lt;dt++){var gt=f(z);gt.__pictorialAnimationIndex=dt,gt.__pictorialRepeatTimes=lt,X.add(gt);var at=ut(dt);B(gt,{position:at.position,scale:[0,0]},{scale:at.scale,rotation:at.rotation},z,k),gt.on("mouseover",Ct).on("mouseout",_t),L(gt,z)}function ut(bt){var Rt=rt.slice(),yt=z.pxSign,Tt=bt;return("start"===z.symbolRepeatDirection?yt>0:yt<0)&&(Tt=lt-1-bt),Rt[it.index]=ht*(Tt-lt/2+.5)+rt[it.index],{position:Rt,scale:z.symbolScale.slice(),rotation:z.rotation}}function Ct(){H(Y,function(bt){bt.trigger("emphasis")})}function _t(){H(Y,function(bt){bt.trigger("normal")})}}function S(Y,V,z,k){var X=Y.__pictorialBundle,q=Y.__pictorialMainPath;q?B(q,null,{position:z.pathPosition.slice(),scale:z.symbolScale.slice(),rotation:z.rotation},z,k):(q=Y.__pictorialMainPath=f(z),X.add(q),B(q,{position:z.pathPosition.slice(),scale:[0,0],rotation:z.rotation},{scale:z.symbolScale.slice()},z,k),q.on("mouseover",function et(){this.trigger("emphasis")}).on("mouseout",function rt(){this.trigger("normal")})),L(q,z)}function C(Y,V,z){var k=w.extend({},V.barRectShape),X=Y.__pictorialBarRect;X?B(X,null,{shape:k},V,z):(X=Y.__pictorialBarRect=new t.Rect({z2:2,shape:k,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),Y.add(X))}function x(Y,V,z,k){if(z.symbolClip){var X=Y.__pictorialClipPath,q=w.extend({},z.clipShape),et=V.valueDim,rt=z.animationModel,it=z.dataIndex;if(X)t.updateProps(X,{shape:q},rt,it);else{q[et.wh]=0,X=new t.Rect({shape:q}),Y.__pictorialBundle.setClipPath(X),Y.__pictorialClipPath=X;var lt={};lt[et.wh]=z.clipShape[et.wh],t[k?"updateProps":"initProps"](X,{shape:lt},rt,it)}}}function g(Y,V){var z=Y.getItemModel(V);return z.getAnimationDelayParams=m,z.isAnimationEnabled=A,z}function m(Y){return{index:Y.__pictorialAnimationIndex,count:Y.__pictorialRepeatTimes}}function A(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function L(Y,V){Y.off("emphasis").off("normal");var z=V.symbolScale.slice();V.hoverAnimation&&Y.on("emphasis",function(){this.animateTo({scale:[1.1*z[0],1.1*z[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:z.slice()},400,"elasticOut")})}function E(Y,V,z,k){var X=new t.Group,q=new t.Group;return X.add(q),X.__pictorialBundle=q,q.attr("position",z.bundlePosition.slice()),z.symbolRepeat?p(X,V,z):S(X,0,z),C(X,z,k),x(X,V,z,k),X.__pictorialShapeStr=F(Y,z),X.__pictorialSymbolMeta=z,X}function R(Y,V,z,k){var X=k.__pictorialBarRect;X&&(X.style.text=null);var q=[];H(k,function(et){q.push(et)}),k.__pictorialMainPath&&q.push(k.__pictorialMainPath),k.__pictorialClipPath&&(z=null),w.each(q,function(et){t.updateProps(et,{scale:[0,0]},z,V,function(){k.parent&&k.parent.remove(k)})}),Y.setItemGraphicEl(V,null)}function F(Y,V){return[Y.getItemVisual(V.dataIndex,"symbol")||"none",!!V.symbolRepeat,!!V.symbolClip].join(":")}function H(Y,V,z){w.each(Y.__pictorialBundle.children(),function(k){k!==Y.__pictorialBarRect&&V.call(z,k)})}function B(Y,V,z,k,X,q){V&&Y.attr(V),k.symbolClip&&!X?z&&Y.attr(z):z&&t[X?"updateProps":"initProps"](Y,z,k.animationModel,k.dataIndex,q)}function Z(Y,V,z){var k=z.color,X=z.dataIndex,q=z.itemModel,et=q.getModel("itemStyle").getItemStyle(["color"]),rt=q.getModel("emphasis.itemStyle").getItemStyle(),it=q.getShallow("cursor");H(Y,function(gt){gt.setColor(k),gt.setStyle(w.defaults({fill:k,opacity:z.opacity},et)),t.setHoverStyle(gt,rt),it&&(gt.cursor=it),gt.z2=z.z2});var lt={},ht=Y.__pictorialBarRect;n(ht.style,lt,q,k,V.seriesModel,X,V.valueDim.posDesc[+(z.boundingLength>0)]),t.setHoverStyle(ht,lt)}function W(Y){var V=Math.round(Y);return Math.abs(Y-V)<1e-4?V:Math.ceil(Y)}j.exports=u},91007:(j,U,i)=>{var w=i(97005)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);j.exports={getBarItemStyle:function(M){var I=w(this,M);if(this.getBorderLineDash){var D=this.getBorderLineDash();D&&(I.lineDash=D)}return I}}},52584:(j,U,i)=>{var T=i(32694),t=i(38149).getDefaultLabel;function I(D,b){"outside"===D.textPosition&&(D.textPosition=b)}U.setLabel=function M(D,b,y,h,n,c,o){var a=y.getModel("label"),u=y.getModel("emphasis.label");T.setLabelStyle(D,b,a,u,{labelFetcher:n,labelDataIndex:c,defaultText:t(n.getData(),c),isRectText:!0,autoColor:h}),I(D),I(b)}},39400:(j,U,i)=>{var T=i(53639);i(93293),i(41748);var w=i(19173),t=i(58540);T.registerVisual(w),T.registerLayout(t)},93293:(j,U,i)=>{var T=i(66615),w=i(4263),M=i(83382).seriesModelMixin,I=w.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});T.mixin(I,M,!0),j.exports=I},41748:(j,U,i)=>{var T=i(66615),w=i(24023),t=i(32694),M=i(40465),I=["itemStyle"],D=["emphasis","itemStyle"],b=w.extend({type:"boxplot",render:function(a,u,e){var s=a.getData(),r=this.group,l=this._data;this._data||r.removeAll();var d="horizontal"===a.get("layout")?1:0;s.diff(l).add(function(v){if(s.hasValue(v)){var p=h(s.getItemLayout(v),s,v,d,!0);s.setItemGraphicEl(v,p),r.add(p)}}).update(function(v,f){var p=l.getItemGraphicEl(f);if(s.hasValue(v)){var S=s.getItemLayout(v);p?n(S,p,s,v):p=h(S,s,v,d),r.add(p),s.setItemGraphicEl(v,p)}else r.remove(p)}).remove(function(v){var f=l.getItemGraphicEl(v);f&&r.remove(f)}).execute(),this._data=s},remove:function(a){var u=this.group,e=this._data;this._data=null,e&&e.eachItemGraphicEl(function(s){s&&u.remove(s)})},dispose:T.noop}),y=M.extend({type:"boxplotBoxPath",shape:{},buildPath:function(a,u){var e=u.points,s=0;for(a.moveTo(e[s][0],e[s][1]),s++;s<4;s++)a.lineTo(e[s][0],e[s][1]);for(a.closePath();s<e.length;s++)a.moveTo(e[s][0],e[s][1]),s++,a.lineTo(e[s][0],e[s][1])}});function h(a,u,e,s,r){var l=a.ends,d=new y({shape:{points:r?c(l,s,a):l}});return n(a,d,u,e,r),d}function n(a,u,e,s,r){(0,t[r?"initProps":"updateProps"])(u,{shape:{points:a.ends}},e.hostModel,s);var v=e.getItemModel(s),f=v.getModel(I),p=e.getItemVisual(s,"color"),S=f.getItemStyle(["borderColor"]);S.stroke=p,S.strokeNoScale=!0,u.useStyle(S),u.z2=100;var C=v.getModel(D).getItemStyle();t.setHoverStyle(u,C)}function c(a,u,e){return T.map(a,function(s){return(s=s.slice())[u]=e.initBaseline,s})}j.exports=b},58540:(j,U,i)=>{var T=i(66615),t=i(68301).parsePercent,M=T.each;j.exports=function I(h){var n=function D(h){var n=[],c=[];return h.eachSeriesByType("boxplot",function(o){var a=o.getBaseAxis(),u=T.indexOf(c,a);u<0&&(c[u=c.length]=a,n[u]={axis:a,seriesModels:[]}),n[u].seriesModels.push(o)}),n}(h);M(n,function(c){var o=c.seriesModels;o.length&&(function b(h){var n,r,c=h.axis,o=h.seriesModels,a=o.length,u=h.boxWidthList=[],e=h.boxOffsetList=[],s=[];if("category"===c.type)r=c.getBandWidth();else{var l=0;M(o,function(S){l=Math.max(l,S.getData().count())}),n=c.getExtent(),Math.abs(n[1]-n[0])}M(o,function(S){var C=S.get("boxWidth");T.isArray(C)||(C=[C,C]),s.push([t(C[0],r)||0,t(C[1],r)||0])});var d=.8*r-2,v=d/a*.3,f=(d-v*(a-1))/a,p=f/2-d/2;M(o,function(S,C){e.push(p),p+=v+f,u.push(Math.min(Math.max(f,s[C][0]),s[C][1]))})}(c),M(o,function(a,u){!function y(h,n,c){var o=h.coordinateSystem,a=h.getData(),u=c/2,e="horizontal"===h.get("layout")?0:1,s=1-e,r=["x","y"],l=a.mapDimension(r[e]),d=a.mapDimension(r[s],!0);if(!(null==l||d.length<5))for(var v=0;v<a.count();v++){var f=a.get(l,v),p=A(f,d[2],v),S=A(f,d[0],v),C=A(f,d[1],v),x=A(f,d[3],v),g=A(f,d[4],v),m=[];L(m,C,0),L(m,x,1),m.push(S,C,g,x),E(m,S),E(m,g),E(m,p),a.setItemLayout(v,{initBaseline:p[s],ends:m})}function A(N,R,F){var Z,H=a.get(R,F),B=[];return B[e]=N,B[s]=H,isNaN(N)||isNaN(H)?Z=[NaN,NaN]:(Z=o.dataToPoint(B))[e]+=n,Z}function L(N,R,F){var H=R.slice(),B=R.slice();H[e]+=u,B[e]-=u,F?N.push(H,B):N.push(B,H)}function E(N,R){var F=R.slice(),H=R.slice();F[e]-=u,H[e]+=u,N.push(F,H)}}(a,c.boxOffsetList[u],c.boxWidthList[u])}))})}},19173:j=>{var U=["itemStyle","borderColor"];j.exports=function i(T,w){var t=T.get("color");T.eachRawSeriesByType("boxplot",function(M){var I=t[M.seriesIndex%t.length],D=M.getData();D.setVisual({legendSymbol:"roundRect",color:M.get(U)||I}),T.isSeriesFiltered(M)||D.each(function(b){var y=D.getItemModel(b);D.setItemVisual(b,{color:y.get(U,!0)})})})}},17964:(j,U,i)=>{var T=i(53639);i(63254),i(57899);var w=i(13105),t=i(94611),M=i(17298);T.registerPreprocessor(w),T.registerVisual(t),T.registerLayout(M)},63254:(j,U,i)=>{var T=i(66615),w=i(4263),M=i(83382).seriesModelMixin,I=w.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(b,y,h){var n=y.getItemLayout(b);return n&&h.rect(n.brushRect)}});T.mixin(I,M,!0),j.exports=I},57899:(j,U,i)=>{var T=i(66615),w=i(24023),t=i(32694),M=i(40465),D=i(287).createClipPath,b=["itemStyle"],y=["emphasis","itemStyle"],h=["color","color0","borderColor","borderColor0"],n=w.extend({type:"candlestick",render:function(v,f,p){this.group.removeClipPath(),this._updateDrawMode(v),this._isLargeDraw?this._renderLarge(v):this._renderNormal(v)},incrementalPrepareRender:function(v,f,p){this._clear(),this._updateDrawMode(v)},incrementalRender:function(v,f,p,S){this._isLargeDraw?this._incrementalRenderLarge(v,f):this._incrementalRenderNormal(v,f)},_updateDrawMode:function(v){var f=v.pipelineContext.large;(null==this._isLargeDraw||f^this._isLargeDraw)&&(this._isLargeDraw=f,this._clear())},_renderNormal:function(v){var f=v.getData(),p=this._data,S=this.group,C=f.getLayout("isSimpleBox"),x=v.get("clip",!0),g=v.coordinateSystem,m=g.getArea&&g.getArea();this._data||S.removeAll(),f.diff(p).add(function(A){if(f.hasValue(A)){var L,E=f.getItemLayout(A);if(x&&a(m,E))return;L=o(E,0,!0),t.initProps(L,{shape:{points:E.ends}},v,A),u(L,f,A,C),S.add(L),f.setItemGraphicEl(A,L)}}).update(function(A,L){var E=p.getItemGraphicEl(L);if(f.hasValue(A)){var N=f.getItemLayout(A);x&&a(m,N)?S.remove(E):(E?t.updateProps(E,{shape:{points:N.ends}},v,A):E=o(N),u(E,f,A,C),S.add(E),f.setItemGraphicEl(A,E))}else S.remove(E)}).remove(function(A){var L=p.getItemGraphicEl(A);L&&S.remove(L)}).execute(),this._data=f},_renderLarge:function(v){this._clear(),r(v,this.group);var f=v.get("clip",!0)?D(v.coordinateSystem,!1,v):null;f?this.group.setClipPath(f):this.group.removeClipPath()},_incrementalRenderNormal:function(v,f){for(var C,p=f.getData(),S=p.getLayout("isSimpleBox");null!=(C=v.next());){var x;u(x=o(p.getItemLayout(C)),p,C,S),x.incremental=!0,this.group.add(x)}},_incrementalRenderLarge:function(v,f){r(f,this.group,!0)},remove:function(v){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:T.noop}),c=M.extend({type:"normalCandlestickBox",shape:{},buildPath:function(v,f){var p=f.points;this.__simpleBox?(v.moveTo(p[4][0],p[4][1]),v.lineTo(p[6][0],p[6][1])):(v.moveTo(p[0][0],p[0][1]),v.lineTo(p[1][0],p[1][1]),v.lineTo(p[2][0],p[2][1]),v.lineTo(p[3][0],p[3][1]),v.closePath(),v.moveTo(p[4][0],p[4][1]),v.lineTo(p[5][0],p[5][1]),v.moveTo(p[6][0],p[6][1]),v.lineTo(p[7][0],p[7][1]))}});function o(v,f,p){var S=v.ends;return new c({shape:{points:p?e(S,v):S},z2:100})}function a(v,f){for(var p=!0,S=0;S<f.ends.length;S++)if(v.contain(f.ends[S][0],f.ends[S][1])){p=!1;break}return p}function u(v,f,p,S){var C=f.getItemModel(p),x=C.getModel(b),g=f.getItemVisual(p,"color"),m=f.getItemVisual(p,"borderColor")||g,A=x.getItemStyle(h);v.useStyle(A),v.style.strokeNoScale=!0,v.style.fill=g,v.style.stroke=m,v.__simpleBox=S;var L=C.getModel(y).getItemStyle();t.setHoverStyle(v,L)}function e(v,f){return T.map(v,function(p){return(p=p.slice())[1]=f.initBaseline,p})}var s=M.extend({type:"largeCandlestickBox",shape:{},buildPath:function(v,f){for(var p=f.points,S=0;S<p.length;)if(this.__sign===p[S++]){var C=p[S++];v.moveTo(C,p[S++]),v.lineTo(C,p[S++])}else S+=3}});function r(v,f,p){var S=v.getData(),C=S.getLayout("largePoints"),x=new s({shape:{points:C},__sign:1});f.add(x);var g=new s({shape:{points:C},__sign:-1});f.add(g),l(1,x,v,S),l(-1,g,v,S),p&&(x.incremental=!0,g.incremental=!0)}function l(v,f,p,S){var C=v>0?"P":"N",x=S.getVisual("borderColor"+C)||S.getVisual("color"+C),g=p.getModel(b).getItemStyle(h);f.useStyle(g),f.style.fill=null,f.style.stroke=x}j.exports=n},17298:(j,U,i)=>{var w=i(32694).subPixelOptimize,t=i(79104),I=i(68301).parsePercent,b=i(66615).retrieve2,y=typeof Float32Array<"u"?Float32Array:Array,h={seriesType:"candlestick",plan:t(),reset:function(o){var a=o.coordinateSystem,u=o.getData(),e=function c(o,a){var e,u=o.getBaseAxis(),s="category"===u.type?u.getBandWidth():(e=u.getExtent(),Math.abs(e[1]-e[0])/a.count()),r=I(b(o.get("barMaxWidth"),s),s),l=I(b(o.get("barMinWidth"),1),s),d=o.get("barWidth");return null!=d?I(d,s):Math.max(Math.min(s/2,r),l)}(o,u),s=0,r=1,l=["x","y"],d=u.mapDimension(l[s]),v=u.mapDimension(l[r],!0),f=v[0],p=v[1],S=v[2],C=v[3];if(u.setLayout({candleWidth:e,isSimpleBox:e<=1.3}),!(null==d||v.length<4))return{progress:o.pipelineContext.large?function g(m,A){for(var N,H,L=new y(4*m.count),E=0,R=[],F=[];null!=(H=m.next());){var B=A.get(d,H),Z=A.get(f,H),W=A.get(p,H),$=A.get(S,H),Y=A.get(C,H);isNaN(B)||isNaN($)||isNaN(Y)?(L[E++]=NaN,E+=3):(L[E++]=n(A,H,Z,W,p),R[s]=B,R[r]=$,N=a.dataToPoint(R,null,F),L[E++]=N?N[0]:NaN,L[E++]=N?N[1]:NaN,R[r]=Y,N=a.dataToPoint(R,null,F),L[E++]=N?N[1]:NaN)}A.setLayout("largePoints",L)}:function x(m,A){for(var L;null!=(L=m.next());){var E=A.get(d,L),N=A.get(f,L),R=A.get(p,L),F=A.get(S,L),H=A.get(C,L),B=Math.min(N,R),Z=Math.max(N,R),W=k(B,E),$=k(Z,E),Y=k(F,E),V=k(H,E),z=[];X(z,$,0),X(z,W,1),z.push(et(V),et($),et(Y),et(W)),A.setItemLayout(L,{sign:n(A,L,N,R,p),initBaseline:N>R?$[r]:W[r],ends:z,brushRect:(rt=F,it=H,lt=E,dt=void 0,ht=void 0,dt=k(rt,lt),ht=k(it,lt),dt[s]-=e/2,ht[s]-=e/2,{x:dt[0],y:dt[1],width:r?e:ht[0]-dt[0],height:r?ht[1]-dt[1]:e})})}var rt,it,lt,dt,ht;function k(rt,it){var lt=[];return lt[s]=it,lt[r]=rt,isNaN(it)||isNaN(rt)?[NaN,NaN]:a.dataToPoint(lt)}function X(rt,it,lt){var dt=it.slice(),ht=it.slice();dt[s]=w(dt[s]+e/2,1,!1),ht[s]=w(ht[s]-e/2,1,!0),lt?rt.push(dt,ht):rt.push(ht,dt)}function et(rt){return rt[s]=w(rt[s],1),rt}}}}};function n(o,a,u,e,s){return u>e?-1:u<e?1:a>0?o.get(s,a-1)<=e?1:-1:1}j.exports=h},94611:(j,U,i)=>{var T=i(79104),w=["itemStyle","borderColor"],t=["itemStyle","borderColor0"],M=["itemStyle","color"],I=["itemStyle","color0"],D={seriesType:"candlestick",plan:T(),performRawSeries:!0,reset:function(b,y){if(b.getData().setVisual({legendSymbol:"roundRect",colorP:o(1,b),colorN:o(-1,b),borderColorP:a(1,b),borderColorN:a(-1,b)}),!y.isSeriesFiltered(b))return!b.pipelineContext.large&&{progress:function c(u,e){for(var s;null!=(s=u.next());){var r=e.getItemModel(s),l=e.getItemLayout(s).sign;e.setItemVisual(s,{color:o(l,r),borderColor:a(l,r)})}}};function o(u,e){return e.get(u>0?M:I)}function a(u,e){return e.get(u>0?w:t)}}};j.exports=D},13105:(j,U,i)=>{var T=i(66615);j.exports=function w(t){!t||!T.isArray(t.series)||T.each(t.series,function(M){T.isObject(M)&&"k"===M.type&&(M.type="candlestick")})}},52782:(j,U,i)=>{i(78322);var t=i(66615),M=i(32694),D=i(38149).getDefaultLabel,b=i(8127),h=i(98253).getLayoutOnAxis,n=i(12936),c=i(4263),o=i(82356),a=i(24023),e=i(287).createClipPath,s=i(40334),r=i(93827),l=i(34641),d=i(95302),v=i(96748),f=M.CACHED_LABEL_STYLE_PROPERTIES,p=["itemStyle"],S=["emphasis","itemStyle"],C=["label"],x=["emphasis","label"],g="e\0\0",m={cartesian2d:s,geo:r,singleAxis:l,polar:d,calendar:v};function E(et,rt,it,lt,dt){null!=it[et]&&!dt&&(rt[et]=it[et],it[et]=lt[et])}function N(et,rt,it,lt){var dt=et.get("renderItem"),ht=et.coordinateSystem,gt={};ht&&(gt=ht.prepareCustoms?ht.prepareCustoms():m[ht.type](ht));var Ct,bt,Rt,yt,Tt,at=t.defaults({getWidth:lt.getWidth,getHeight:lt.getHeight,getZr:lt.getZr,getDevicePixelRatio:lt.getDevicePixelRatio,value:function Zt(It,Ft){return null==Ft&&(Ft=Ct),rt.get(rt.getDimension(It||0),Ft)},style:function Vt(It,Ft){null==Ft&&(Ft=Ct),Pt(Ft);var Jt=bt.getModel(p).getItemStyle();null!=Tt&&(Jt.fill=Tt);var qt=rt.getItemVisual(Ft,"opacity");null!=qt&&(Jt.opacity=qt);var te=It?Y(It,Rt):Rt;return M.setTextStyle(Jt,te,null,{autoColor:Tt,isRectText:!0}),Jt.text=te.getShallow("show")?t.retrieve2(et.getFormattedLabel(Ft,"normal"),D(rt,Ft)):null,It&&V(Jt,It),Jt},styleEmphasis:function ft(It,Ft){null==Ft&&(Ft=Ct),Pt(Ft);var Jt=bt.getModel(S).getItemStyle(),qt=It?Y(It,yt):yt;return M.setTextStyle(Jt,qt,null,{isRectText:!0},!0),Jt.text=qt.getShallow("show")?t.retrieve3(et.getFormattedLabel(Ft,"emphasis"),et.getFormattedLabel(Ft,"normal"),D(rt,Ft)):null,It&&V(Jt,It),Jt},visual:function xt(It,Ft){return null==Ft&&(Ft=Ct),rt.getItemVisual(Ft,It)},barLayout:function wt(It){if(ht.getBaseAxis){var Ft=ht.getBaseAxis();return h(t.defaults({axis:Ft},It),lt)}},currentSeriesIndices:function Nt(){return it.getCurrentSeriesIndices()},font:function Ot(It){return M.getFont(It,it)}},gt.api||{}),ut={context:{},seriesId:et.id,seriesName:et.name,seriesIndex:et.seriesIndex,coordSys:gt.coordSys,dataInsideLength:rt.count(),encode:R(et.getData())},_t=!0;return function(It,Ft){return Ct=It,_t=!0,dt&&dt(t.defaults({dataIndexInside:It,dataIndex:rt.getRawIndex(It),actionType:Ft?Ft.type:null},ut),at)};function Pt(It){null==It&&(It=Ct),_t&&(bt=rt.getItemModel(It),Rt=bt.getModel(C),yt=bt.getModel(x),Tt=rt.getItemVisual(It,"color"),_t=!1)}}function R(et){var rt={};return t.each(et.dimensions,function(it,lt){var dt=et.getDimensionInfo(it);if(!dt.isExtraCoord){var ht=dt.coordDim;(rt[ht]=rt[ht]||[])[dt.coordDimIndex]=lt}}),rt}function F(et,rt,it,lt,dt,ht){return(et=H(et,rt,it,lt,dt,ht,!0))&&ht.setItemGraphicEl(rt,et),et}function H(et,rt,it,lt,dt,ht,gt){var at=!it,ut=(it=it||{}).type,Ct=it.shape,_t=it.style;if(et&&(at||null!=ut&&ut!==et.__customGraphicType||"path"===ut&&function X(et){return et&&(et.hasOwnProperty("pathData")||et.hasOwnProperty("d"))}(Ct)&&k(Ct)!==et.__customPathData||"image"===ut&&q(_t,"image")&&_t.image!==et.__customImagePath||"text"===ut&&q(Ct,"text")&&_t.text!==et.__customText)&&(dt.remove(et),et=null),!at){var bt=!et;return!et&&(et=function A(et){var it,rt=et.type;if("path"===rt){var lt=et.shape,dt=null!=lt.width&&null!=lt.height?{x:lt.x||0,y:lt.y||0,width:lt.width,height:lt.height}:null,ht=k(lt);(it=M.makePath(ht,null,dt,lt.layout||"center")).__customPathData=ht}else if("image"===rt)(it=new M.Image({})).__customImagePath=et.style.image;else if("text"===rt)(it=new M.Text({})).__customText=et.style.text;else if("group"===rt)it=new M.Group;else{if("compoundPath"===rt)throw new Error('"compoundPath" is not supported yet.');it=new(M.getShapeClass(rt))}return it.__customGraphicType=rt,it.name=et.name,it}(it)),function L(et,rt,it,lt,dt,ht,gt){var at={},ut=it.style||{};if(it.shape&&(at.shape=t.clone(it.shape)),it.position&&(at.position=it.position.slice()),it.scale&&(at.scale=it.scale.slice()),it.origin&&(at.origin=it.origin.slice()),it.rotation&&(at.rotation=it.rotation),"image"===et.type&&it.style){var Ct=at.style={};t.each(["x","y","width","height"],function(Rt){E(Rt,Ct,ut,et.style,ht)})}if("text"===et.type&&it.style&&(Ct=at.style={},t.each(["x","y"],function(yt){E(yt,Ct,ut,et.style,ht)}),!ut.hasOwnProperty("textFill")&&ut.fill&&(ut.textFill=ut.fill),!ut.hasOwnProperty("textStroke")&&ut.stroke&&(ut.textStroke=ut.stroke)),"group"!==et.type&&(et.useStyle(ut),ht)){et.style.opacity=0;var _t=ut.opacity;null==_t&&(_t=1),M.initProps(et,{style:{opacity:_t}},lt,rt)}ht?et.attr(at):M.updateProps(et,at,lt,rt),it.hasOwnProperty("z2")&&et.attr("z2",it.z2||0),it.hasOwnProperty("silent")&&et.attr("silent",it.silent),it.hasOwnProperty("invisible")&&et.attr("invisible",it.invisible),it.hasOwnProperty("ignore")&&et.attr("ignore",it.ignore),it.hasOwnProperty("info")&&et.attr("info",it.info);var bt=it.styleEmphasis;M.setElementHoverStyle(et,bt),gt&&M.setAsHighDownDispatcher(et,!1!==bt)}(et,rt,it,lt,0,bt,gt),"group"===ut&&function B(et,rt,it,lt,dt){var ht=it.children,gt=ht?ht.length:0,at=it.$mergeChildren,ut="byName"===at||it.diffChildrenByName,Ct=!1===at;if(gt||ut||Ct){if(ut)return void function Z(et){new n(et.oldChildren,et.newChildren,W,W,et).add($).update($).remove(z).execute()}({oldChildren:et.children()||[],newChildren:ht||[],dataIndex:rt,animatableModel:lt,group:et,data:dt});Ct&&et.removeAll();for(var _t=0;_t<gt;_t++)ht[_t]&&H(et.childAt(_t),rt,ht[_t],lt,et,dt)}}(et,rt,it,lt,ht),dt.add(et),et}}function W(et,rt){return(et&&et.name)??g+rt}function $(et,rt){var it=this.context;H(null!=rt?it.oldChildren[rt]:null,it.dataIndex,null!=et?it.newChildren[et]:null,it.animatableModel,it.group,it.data)}function Y(et,rt){var it=new o({},rt);return t.each(f,function(lt,dt){et.hasOwnProperty(lt)&&(it.option[dt]=et[lt])}),it}function V(et,rt){for(var it in rt)(rt.hasOwnProperty(it)||!f.hasOwnProperty(it))&&(et[it]=rt[it])}function z(et){var rt=this.context,it=rt.oldChildren[et];it&&rt.group.remove(it)}function k(et){return et&&(et.pathData||et.d)}function q(et,rt){return et&&et.hasOwnProperty(rt)}c.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(et,rt){return b(this.getSource(),this)},getDataParams:function(et,rt,it){var lt=c.prototype.getDataParams.apply(this,arguments);return it&&(lt.info=it.info),lt}}),a.extend({type:"custom",_data:null,render:function(et,rt,it,lt){var dt=this._data,ht=et.getData(),gt=this.group,at=N(et,ht,rt,it);ht.diff(dt).add(function(Ct){F(null,Ct,at(Ct,lt),et,gt,ht)}).update(function(Ct,_t){F(dt.getItemGraphicEl(_t),Ct,at(Ct,lt),et,gt,ht)}).remove(function(Ct){var _t=dt.getItemGraphicEl(Ct);_t&&gt.remove(_t)}).execute();var ut=et.get("clip",!0)?e(et.coordinateSystem,!1,et):null;ut?gt.setClipPath(ut):gt.removeClipPath(),this._data=ht},incrementalPrepareRender:function(et,rt,it){this.group.removeAll(),this._data=null},incrementalRender:function(et,rt,it,lt,dt){var ht=rt.getData(),gt=N(rt,ht,it,lt);function at(_t){_t.isGroup||(_t.incremental=!0,_t.useHoverLayer=!0)}for(var ut=et.start;ut<et.end;ut++)F(null,ut,gt(ut,dt),rt,this.group,ht).traverse(at)},dispose:t.noop,filterForExposedEvent:function(et,rt,it,lt){var dt=rt.element;if(null==dt||it.name===dt)return!0;for(;(it=it.parent)&&it!==this.group;)if(it.name===dt)return!0;return!1}})},68082:(j,U,i)=>{var T=i(53639);i(38256),i(21861);var w=i(39141),t=i(19051);T.registerVisual(w("effectScatter","circle")),T.registerLayout(t("effectScatter"))},38256:(j,U,i)=>{var T=i(8127),t=i(4263).extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(M,I){return T(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});j.exports=t},21861:(j,U,i)=>{var T=i(53639),w=i(57693),t=i(65661),M=i(84498),I=i(19051),D=T.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new w(t)},render:function(b,y,h){var n=b.getData(),c=this._symbolDraw;c.updateData(n),this.group.add(c.group)},updateTransform:function(b,y,h){var n=b.getData();this.group.dirty();var c=I().reset(b);c.progress&&c.progress({start:0,end:n.count()},n),this._symbolDraw.updateLayout(n)},_updateGroupTransform:function(b){var y=b.coordinateSystem;y&&y.getRoamTransform&&(this.group.transform=M.clone(y.getRoamTransform()),this.group.decomposeTransform())},remove:function(b,y){this._symbolDraw&&this._symbolDraw.remove(y)},dispose:function(){}});j.exports=D},70260:(j,U,i)=>{var T=i(53639);i(86e3),i(79);var w=i(86051),t=i(71727),M=i(67174);T.registerVisual(w("funnel")),T.registerLayout(t),T.registerProcessor(M("funnel"))},86e3:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(83002),I=i(21617).defaultEmphasis,b=i(47458).makeSeriesEncodeForNameBased,y=i(9736),h=T.extendSeriesModel({type:"series.funnel",init:function(c){h.superApply(this,"init",arguments),this.legendVisualProvider=new y(w.bind(this.getData,this),w.bind(this.getRawData,this)),this._defaultLabelLine(c)},getInitialData:function(c,o){return t(this,{coordDimensions:["value"],encodeDefaulter:w.curry(b,this)})},_defaultLabelLine:function(c){I(c,"labelLine",["show"]);var o=c.labelLine,a=c.emphasis.labelLine;o.show=o.show&&c.label.show,a.show=a.show&&c.emphasis.label.show},getDataParams:function(c){var o=this.getData(),a=h.superCall(this,"getDataParams",c),u=o.mapDimension("value"),e=o.getSum(u);return a.percent=e?+(o.get(u,c)/e*100).toFixed(2):0,a.$vars.push("percent"),a},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}});j.exports=h},79:(j,U,i)=>{var T=i(32694),w=i(66615),t=i(24023);function M(h,n){T.Group.call(this);var c=new T.Polygon,o=new T.Polyline,a=new T.Text;this.add(c),this.add(o),this.add(a),this.highDownOnUpdate=function(u,e){"emphasis"===e?(o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore):(o.ignore=o.normalIgnore,a.ignore=a.normalIgnore)},this.updateData(h,n,!0)}var I=M.prototype,D=["itemStyle","opacity"];I.updateData=function(h,n,c){var o=this.childAt(0),a=h.hostModel,u=h.getItemModel(n),e=h.getItemLayout(n),s=h.getItemModel(n).get(D);s=s??1,o.useStyle({}),c?(o.setShape({points:e.points}),o.setStyle({opacity:0}),T.initProps(o,{style:{opacity:s}},a,n)):T.updateProps(o,{style:{opacity:s},shape:{points:e.points}},a,n);var r=u.getModel("itemStyle"),l=h.getItemVisual(n,"color");o.setStyle(w.defaults({lineJoin:"round",fill:l},r.getItemStyle(["opacity"]))),o.hoverStyle=r.getModel("emphasis").getItemStyle(),this._updateLabel(h,n),T.setHoverStyle(this)},I._updateLabel=function(h,n){var c=this.childAt(1),o=this.childAt(2),a=h.hostModel,u=h.getItemModel(n),s=h.getItemLayout(n).label,f=h.getItemVisual(n,"color");T.updateProps(c,{shape:{points:s.linePoints||s.linePoints}},a,n),T.updateProps(o,{style:{x:s.x,y:s.y}},a,n),o.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var r=u.getModel("label"),l=u.getModel("emphasis.label"),d=u.getModel("labelLine"),v=u.getModel("emphasis.labelLine");f=h.getItemVisual(n,"color"),T.setLabelStyle(o.style,o.hoverStyle={},r,l,{labelFetcher:h.hostModel,labelDataIndex:n,defaultText:h.getName(n),autoColor:f,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign}),o.ignore=o.normalIgnore=!r.get("show"),o.hoverIgnore=!l.get("show"),c.ignore=c.normalIgnore=!d.get("show"),c.hoverIgnore=!v.get("show"),c.setStyle({stroke:f}),c.setStyle(d.getModel("lineStyle").getLineStyle()),c.hoverStyle=v.getModel("lineStyle").getLineStyle()},w.inherits(M,T.Group);var b=t.extend({type:"funnel",render:function(h,n,c){var o=h.getData(),a=this._data,u=this.group;o.diff(a).add(function(e){var s=new M(o,e);o.setItemGraphicEl(e,s),u.add(s)}).update(function(e,s){var r=a.getItemGraphicEl(s);r.updateData(o,e),u.add(r),o.setItemGraphicEl(e,r)}).remove(function(e){var s=a.getItemGraphicEl(e);u.remove(s)}).execute(),this._data=o},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});j.exports=b},71727:(j,U,i)=>{i(78322);var t=i(10942),M=i(68301),I=M.parsePercent,D=M.linearMap;j.exports=function n(c,o,a){c.eachSeriesByType("funnel",function(u){var e=u.getData(),s=e.mapDimension("value"),r=u.get("sort"),l=function b(c,o){return t.getLayoutRect(c.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()})}(u,o),d=function y(c,o){for(var a=c.mapDimension("value"),u=c.mapArray(a,function(d){return d}),e=[],s="ascending"===o,r=0,l=c.count();r<l;r++)e[r]=r;return"function"==typeof o?e.sort(o):"none"!==o&&e.sort(function(d,v){return s?u[d]-u[v]:u[v]-u[d]}),e}(e,r),v=u.get("orient"),f=l.width,p=l.height,S=l.x,C=l.y,x="horizontal"===v?[I(u.get("minSize"),p),I(u.get("maxSize"),p)]:[I(u.get("minSize"),f),I(u.get("maxSize"),f)],g=e.getDataExtent(s),m=u.get("min"),A=u.get("max");null==m&&(m=Math.min(g[0],0)),null==A&&(A=g[1]);var L=u.get("funnelAlign"),E=u.get("gap"),R=(("horizontal"===v?f:p)-E*(e.count()-1))/e.count(),F=function(k,X){if("horizontal"===v){var et,rt=e.get(s,k)||0,q=D(rt,[m,A],x,!0);switch(L){case"top":et=C;break;case"center":et=C+(p-q)/2;break;case"bottom":et=C+(p-q)}return[[X,et],[X,et+q]]}rt=e.get(s,k)||0;var lt,it=D(rt,[m,A],x,!0);switch(L){case"left":lt=S;break;case"center":lt=S+(f-it)/2;break;case"right":lt=S+f-it}return[[lt,X],[lt+it,X]]};"ascending"===r&&(R=-R,E=-E,"horizontal"===v?S+=f:C+=p,d=d.reverse());for(var H=0;H<d.length;H++){var B=d[H],Z=d[H+1],W=e.getItemModel(B);if("horizontal"===v){var $=W.get("itemStyle.width");null==$?$=R:($=I($,f),"ascending"===r&&($=-$));var Y=F(B,S),V=F(Z,S+$);S+=$+E,e.setItemLayout(B,{points:Y.concat(V.slice().reverse())})}else{var z=W.get("itemStyle.height");null==z?z=R:(z=I(z,p),"ascending"===r&&(z=-z)),Y=F(B,"horizontal"===v?S:C),V=F(Z,"horizontal"===v?S+$:C+z),C+=z+E,e.setItemLayout(B,{points:Y.concat(V.slice().reverse())})}}!function h(c){c.each(function(o){var f,p,S,C,a=c.getItemModel(o),e=a.getModel("label").get("position"),s=a.get("orient"),r=a.getModel("labelLine"),l=c.getItemLayout(o),d=l.points,v="inner"===e||"inside"===e||"center"===e||"insideLeft"===e||"insideRight"===e;if(v)"insideLeft"===e?(p=(d[0][0]+d[3][0])/2+5,S=(d[0][1]+d[3][1])/2,f="left"):"insideRight"===e?(p=(d[1][0]+d[2][0])/2-5,S=(d[1][1]+d[2][1])/2,f="right"):(p=(d[0][0]+d[1][0]+d[2][0]+d[3][0])/4,S=(d[0][1]+d[1][1]+d[2][1]+d[3][1])/4,f="center"),C=[[p,S],[p,S]];else{var x,g,m,A,L=r.get("length");"left"===e?(g=(d[3][1]+d[0][1])/2,p=(m=(x=(d[3][0]+d[0][0])/2)-L)-5,f="right"):"right"===e?(g=(d[1][1]+d[2][1])/2,p=(m=(x=(d[1][0]+d[2][0])/2)+L)+5,f="left"):"top"===e?(x=(d[3][0]+d[0][0])/2,S=(A=(g=(d[3][1]+d[0][1])/2)-L)-5,f="center"):"bottom"===e?(x=(d[1][0]+d[2][0])/2,S=(A=(g=(d[1][1]+d[2][1])/2)+L)+5,f="center"):"rightTop"===e?(x="horizontal"===s?d[3][0]:d[1][0],g="horizontal"===s?d[3][1]:d[1][1],"horizontal"===s?(S=(A=g-L)-5,f="center"):(p=(m=x+L)+5,f="top")):"rightBottom"===e?(x=d[2][0],g=d[2][1],"horizontal"===s?(S=(A=g+L)+5,f="center"):(p=(m=x+L)+5,f="bottom")):"leftTop"===e?(x=d[0][0],g="horizontal"===s?d[0][1]:d[1][1],"horizontal"===s?(S=(A=g-L)-5,f="center"):(p=(m=x-L)-5,f="right")):"leftBottom"===e?(x="horizontal"===s?d[1][0]:d[3][0],g="horizontal"===s?d[1][1]:d[2][1],"horizontal"===s?(S=(A=g+L)+5,f="center"):(p=(m=x-L)-5,f="right")):(x=(d[1][0]+d[2][0])/2,g=(d[1][1]+d[2][1])/2,"horizontal"===s?(S=(A=g+L)+5,f="center"):(p=(m=x+L)+5,f="left")),"horizontal"===s?p=m=x:S=A=g,C=[[x,g],[m,A]]}l.label={linePoints:C,x:p,y:S,verticalAlign:"middle",textAlign:f,inside:v}})}(e)})}},89720:(j,U,i)=>{i(41838),i(37093)},41838:(j,U,i)=>{var T=i(83002),t=i(4263).extend({type:"series.gauge",getInitialData:function(I,D){return T(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});j.exports=t},37093:(j,U,i)=>{var T=i(56037),w=i(32694),t=i(24023),M=i(68301),I=M.parsePercent,D=M.round,b=M.linearMap;function h(a,u){return u&&("string"==typeof u?a=u.replace("{value}",a??""):"function"==typeof u&&(a=u(a))),a}var n=2*Math.PI,c=t.extend({type:"gauge",render:function(a,u,e){this.group.removeAll();var s=a.get("axisLine.lineStyle.color"),r=function y(a,u){var e=a.get("center"),s=u.getWidth(),r=u.getHeight(),l=Math.min(s,r);return{cx:I(e[0],u.getWidth()),cy:I(e[1],u.getHeight()),r:I(a.get("radius"),l/2)}}(a,e);this._renderMain(a,u,e,s,r)},dispose:function(){},_renderMain:function(a,u,e,s,r){for(var l=this.group,d=a.getModel("axisLine"),v=d.getModel("lineStyle"),f=a.get("clockwise"),p=-a.get("startAngle")/180*Math.PI,C=((S=-a.get("endAngle")/180*Math.PI)-p)%n,x=p,g=v.get("width"),m=d.get("show"),A=0;m&&A<s.length;A++){var S,L=Math.min(Math.max(s[A][0],0),1),E=new w.Sector({shape:{startAngle:x,endAngle:S=p+C*L,cx:r.cx,cy:r.cy,clockwise:f,r0:r.r-g,r:r.r},silent:!0});E.setStyle({fill:s[A][1]}),E.setStyle(v.getLineStyle(["color","borderWidth","borderColor"])),l.add(E),x=S}var N=function(F){if(F<=0)return s[0][1];for(var H=0;H<s.length;H++)if(s[H][0]>=F&&(0===H?0:s[H-1][0])<F)return s[H][1];return s[H-1][1]};if(!f){var R=p;p=S,S=R}this._renderTicks(a,u,e,N,r,p,S,f),this._renderPointer(a,u,e,N,r,p,S,f),this._renderTitle(a,u,e,N,r),this._renderDetail(a,u,e,N,r)},_renderTicks:function(a,u,e,s,r,l,d,v){for(var f=this.group,p=r.cx,S=r.cy,C=r.r,x=+a.get("min"),g=+a.get("max"),m=a.getModel("splitLine"),A=a.getModel("axisTick"),L=a.getModel("axisLabel"),E=a.get("splitNumber"),N=A.get("splitNumber"),R=I(m.get("length"),C),F=I(A.get("length"),C),H=l,B=(d-l)/E,Z=B/N,W=m.getModel("lineStyle").getLineStyle(),$=A.getModel("lineStyle").getLineStyle(),Y=0;Y<=E;Y++){var V=Math.cos(H),z=Math.sin(H);if(m.get("show")){var k=new w.Line({shape:{x1:V*C+p,y1:z*C+S,x2:V*(C-R)+p,y2:z*(C-R)+S},style:W,silent:!0});"auto"===W.stroke&&k.setStyle({stroke:s(Y/E)}),f.add(k)}if(L.get("show")){var X=h(D(Y/E*(g-x)+x),L.get("formatter")),q=L.get("distance"),et=s(Y/E);f.add(new w.Text({style:w.setTextStyle({},L,{text:X,x:V*(C-R-q)+p,y:z*(C-R-q)+S,textVerticalAlign:z<-.4?"top":z>.4?"bottom":"middle",textAlign:V<-.4?"left":V>.4?"right":"center"},{autoColor:et}),silent:!0}))}if(A.get("show")&&Y!==E){for(var rt=0;rt<=N;rt++){V=Math.cos(H),z=Math.sin(H);var it=new w.Line({shape:{x1:V*C+p,y1:z*C+S,x2:V*(C-F)+p,y2:z*(C-F)+S},silent:!0,style:$});"auto"===$.stroke&&it.setStyle({stroke:s((Y+rt/N)/E)}),f.add(it),H+=Z}H-=Z}else H+=B}},_renderPointer:function(a,u,e,s,r,l,d,v){var f=this.group,p=this._data;if(a.get("pointer.show")){var S=[+a.get("min"),+a.get("max")],C=[l,d],x=a.getData(),g=x.mapDimension("value");x.diff(p).add(function(m){var A=new T({shape:{angle:l}});w.initProps(A,{shape:{angle:b(x.get(g,m),S,C,!0)}},a),f.add(A),x.setItemGraphicEl(m,A)}).update(function(m,A){var L=p.getItemGraphicEl(A);w.updateProps(L,{shape:{angle:b(x.get(g,m),S,C,!0)}},a),f.add(L),x.setItemGraphicEl(m,L)}).remove(function(m){var A=p.getItemGraphicEl(m);f.remove(A)}).execute(),x.eachItemGraphicEl(function(m,A){var L=x.getItemModel(A),E=L.getModel("pointer");m.setShape({x:r.cx,y:r.cy,width:I(E.get("width"),r.r),r:I(E.get("length"),r.r)}),m.useStyle(L.getModel("itemStyle").getItemStyle()),"auto"===m.style.fill&&m.setStyle("fill",s(b(x.get(g,A),S,[0,1],!0))),w.setHoverStyle(m,L.getModel("emphasis.itemStyle").getItemStyle())}),this._data=x}else p&&p.eachItemGraphicEl(function(m){f.remove(m)})},_renderTitle:function(a,u,e,s,r){var l=a.getData(),d=l.mapDimension("value"),v=a.getModel("title");if(v.get("show")){var f=v.get("offsetCenter"),p=r.cx+I(f[0],r.r),S=r.cy+I(f[1],r.r),C=+a.get("min"),x=+a.get("max"),g=a.getData().get(d,0),m=s(b(g,[C,x],[0,1],!0));this.group.add(new w.Text({silent:!0,style:w.setTextStyle({},v,{x:p,y:S,text:l.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:m,forceRich:!0})}))}},_renderDetail:function(a,u,e,s,r){var l=a.getModel("detail"),d=+a.get("min"),v=+a.get("max");if(l.get("show")){var f=l.get("offsetCenter"),p=r.cx+I(f[0],r.r),S=r.cy+I(f[1],r.r),C=I(l.get("width"),r.r),x=I(l.get("height"),r.r),g=a.getData(),m=g.get(g.mapDimension("value"),0),A=s(b(m,[d,v],[0,1],!0));this.group.add(new w.Text({silent:!0,style:w.setTextStyle({},l,{x:p,y:S,text:h(m,l.get("formatter")),textWidth:isNaN(C)?null:C,textHeight:isNaN(x)?null:x,textAlign:"center",textVerticalAlign:"middle"},{autoColor:A,forceRich:!0})}))}}});j.exports=c},56037:(j,U,i)=>{var w=i(40465).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,M){var I=Math.cos,D=Math.sin,b=M.r,y=M.width,h=M.angle,n=M.x-I(h)*y*(y>=b/3?1:2),c=M.y-D(h)*y*(y>=b/3?1:2);h=M.angle-Math.PI/2,t.moveTo(n,c),t.lineTo(M.x+I(h)*y,M.y+D(h)*y),t.lineTo(M.x+I(M.angle)*b,M.y+D(M.angle)*b),t.lineTo(M.x-I(h)*y,M.y-D(h)*y),t.lineTo(n,c)}});j.exports=w},80859:(j,U,i)=>{var T=i(53639);i(93916),i(67303),i(99222);var w=i(76791),t=i(39141),M=i(35106),I=i(199),D=i(62747),b=i(30600),y=i(26023),h=i(7548);T.registerProcessor(w),T.registerVisual(t("graph","circle",null)),T.registerVisual(M),T.registerVisual(I),T.registerLayout(D),T.registerLayout(T.PRIORITY.VISUAL.POST_CHART_LAYOUT,b),T.registerLayout(y),T.registerCoordinateSystem("graphView",{create:h})},93916:(j,U,i)=>{var T=i(53639),w=i(47563),t=i(66615),I=i(21617).defaultEmphasis,D=i(82356),y=i(42977).encodeHTML,h=i(95388),n=i(9736),c=i(90769),o=c.initCurvenessList,a=c.createEdgeMapForCurveness,u=T.extendSeriesModel({type:"series.graph",init:function(s){u.superApply(this,"init",arguments);var r=this;function l(){return r._categoriesData}this.legendVisualProvider=new n(l,l),this.fillDataTextStyle(s.edges||s.links),this._updateCategoriesData()},mergeOption:function(s){u.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(s.edges||s.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(s){u.superApply(this,"mergeDefaultAndTheme",arguments),I(s,["edgeLabel"],["show"])},getInitialData:function(s,r){var l=s.edges||s.links||[],d=s.data||s.nodes||[],v=this;if(d&&l){o(this);var f=h(d,l,this,!0,function p(S,C){S.wrapMethod("getItemModel",function(E){var F=v._categoriesModels[E.getShallow("category")];return F&&(F.parentModel=E.parentModel,E.parentModel=F),E});var x=v.getModel("edgeLabel"),g=new D({label:x.option},x.parentModel,r),m=v.getModel("emphasis.edgeLabel"),A=new D({emphasis:{label:m.option}},m.parentModel,r);function L(E){return(E=this.parsePath(E))&&"label"===E[0]?g:E&&"emphasis"===E[0]&&"label"===E[1]?A:this.parentModel}C.wrapMethod("getItemModel",function(E){return E.customizeGetParent(L),E})});return t.each(f.edges,function(S){a(S.node1,S.node2,this,S.dataIndex)},this),f.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(s,r,l){if("edge"===l){var d=this.getData(),v=this.getDataParams(s,l),f=d.graph.getEdgeByIndex(s),p=d.getName(f.node1.dataIndex),S=d.getName(f.node2.dataIndex),C=[];return null!=p&&C.push(p),null!=S&&C.push(S),C=y(C.join(" > ")),v.value&&(C+=" : "+y(v.value)),C}return u.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var s=t.map(this.option.categories||[],function(l){return null!=l.value?l:t.extend({value:0},l)}),r=new w(["value"],this);r.initData(s),this._categoriesData=r,this._categoriesModels=r.mapArray(function(l){return r.getItemModel(l,!0)})},setZoom:function(s){this.option.zoom=s},setCenter:function(s){this.option.center=s},isAnimationEnabled:function(){return u.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}}}});j.exports=u},67303:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(57693),M=i(17122),I=i(10233),D=i(25923),y=i(77515).onIrrelevantElement,h=i(32694),n=i(58188),o=i(58626).getNodeGlobalScale,a="__focusNodeAdjacency",u="__unfocusNodeAdjacency",e=["itemStyle","opacity"],s=["lineStyle","opacity"];function r(f,p){return f.getVisual("opacity")??f.getModel().get(p)}function l(f,p,S){var C=f.getGraphicEl(),x=r(f,p);null!=S&&(null==x&&(x=1),x*=S),C.downplay&&C.downplay(),C.traverse(function(g){if(!g.isGroup){var m=g.lineLabelOriginalOpacity;(null==m||null!=S)&&(m=x),g.setStyle("opacity",m)}})}function d(f,p){var S=r(f,p),C=f.getGraphicEl();C.traverse(function(x){!x.isGroup&&x.setStyle("opacity",S)}),C.highlight&&C.highlight()}var v=T.extendChartView({type:"graph",init:function(f,p){var S=new t,C=new M,x=this.group;this._controller=new I(p.getZr()),this._controllerHost={target:x},x.add(S.group),x.add(C.group),this._symbolDraw=S,this._lineDraw=C,this._firstRender=!0},render:function(f,p,S){var C=this,x=f.coordinateSystem;this._model=f;var g=this._symbolDraw,m=this._lineDraw,A=this.group;if("view"===x.type){var L={position:x.position,scale:x.scale};this._firstRender?A.attr(L):h.updateProps(A,L,f)}n(f.getGraph(),o(f));var E=f.getData();g.updateData(E);var N=f.getEdgeData();m.updateData(N),this._updateNodeAndLinkScale(),this._updateController(f,p,S),clearTimeout(this._layoutTimeout);var R=f.forceLayout,F=f.get("force.layoutAnimation");R&&this._startForceLayoutIteration(R,F),E.eachItemGraphicEl(function(W,$){var Y=E.getItemModel($);W.off("drag").off("dragend");var V=Y.get("draggable");V&&W.on("drag",function(){R&&(R.warmUp(),!this._layouting&&this._startForceLayoutIteration(R,F),R.setFixed($),E.setItemLayout($,W.position))},this).on("dragend",function(){R&&R.setUnfixed($)},this),W.setDraggable(V&&R),W[a]&&W.off("mouseover",W[a]),W[u]&&W.off("mouseout",W[u]),Y.get("focusNodeAdjacency")&&(W.on("mouseover",W[a]=function(){C._clearTimer(),S.dispatchAction({type:"focusNodeAdjacency",seriesId:f.id,dataIndex:W.dataIndex})}),W.on("mouseout",W[u]=function(){C._dispatchUnfocus(S)}))},this),E.graph.eachEdge(function(W){var $=W.getGraphicEl();$[a]&&$.off("mouseover",$[a]),$[u]&&$.off("mouseout",$[u]),W.getModel().get("focusNodeAdjacency")&&($.on("mouseover",$[a]=function(){C._clearTimer(),S.dispatchAction({type:"focusNodeAdjacency",seriesId:f.id,edgeDataIndex:W.dataIndex})}),$.on("mouseout",$[u]=function(){C._dispatchUnfocus(S)}))});var H="circular"===f.get("layout")&&f.get("circular.rotateLabel"),B=E.getLayout("cx"),Z=E.getLayout("cy");E.eachItemGraphicEl(function(W,$){var V=E.getItemModel($).get("label.rotate")||0,z=W.getSymbolPath();if(H){var k=E.getItemLayout($),X=Math.atan2(k[1]-Z,k[0]-B);X<0&&(X=2*Math.PI+X);var q=k[0]<B;q&&(X-=Math.PI);var et=q?"left":"right";h.modifyLabelStyle(z,{textRotation:-X,textPosition:et,textOrigin:"center"},{textPosition:et})}else h.modifyLabelStyle(z,{textRotation:V*=Math.PI/180})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(f,p){var S=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){S._unfocusDelayTimer=null,f.dispatchAction({type:"unfocusNodeAdjacency",seriesId:S._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(f,p,S,C){var g=f.getData().graph,A=C.edgeDataIndex,L=g.getNodeByIndex(C.dataIndex),E=g.getEdgeByIndex(A);!L&&!E||(g.eachNode(function(N){l(N,e,.1)}),g.eachEdge(function(N){l(N,s,.1)}),L&&(d(L,e),w.each(L.edges,function(N){N.dataIndex<0||(d(N,s),d(N.node1,e),d(N.node2,e))})),E&&(d(E,s),d(E.node1,e),d(E.node2,e)))},unfocusNodeAdjacency:function(f,p,S,C){var x=f.getData().graph;x.eachNode(function(g){l(g,e)}),x.eachEdge(function(g){l(g,s)})},_startForceLayoutIteration:function(f,p){var S=this;!function C(){f.step(function(x){S.updateLayout(S._model),(S._layouting=!x)&&(p?S._layoutTimeout=setTimeout(C,16):C())})}()},_updateController:function(f,p,S){var C=this._controller,x=this._controllerHost,g=this.group;C.setPointerChecker(function(m,A,L){var E=g.getBoundingRect();return E.applyTransform(g.transform),E.contain(A,L)&&!y(m,S,f)}),"view"===f.coordinateSystem.type?(C.enable(f.get("roam")),x.zoomLimit=f.get("scaleLimit"),x.zoom=f.coordinateSystem.getZoom(),C.off("pan").off("zoom").on("pan",function(m){D.updateViewOnPan(x,m.dx,m.dy),S.dispatchAction({seriesId:f.id,type:"graphRoam",dx:m.dx,dy:m.dy})}).on("zoom",function(m){D.updateViewOnZoom(x,m.scale,m.originX,m.originY),S.dispatchAction({seriesId:f.id,type:"graphRoam",zoom:m.scale,originX:m.originX,originY:m.originY}),this._updateNodeAndLinkScale(),n(f.getGraph(),o(f)),this._lineDraw.updateLayout()},this)):C.disable()},_updateNodeAndLinkScale:function(){var f=this._model,p=f.getData(),S=o(f),C=[S,S];p.eachItemGraphicEl(function(x,g){x.attr("scale",C)})},updateLayout:function(f){n(f.getGraph(),o(f)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(f,p){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});j.exports=v},58188:(j,U,i)=>{var T=i(46846),w=i(8544),M=i(58626).getSymbolSize,I=[],D=[],b=[],y=T.quadraticAt,h=w.distSquare,n=Math.abs;function c(a,u,e){for(var v,s=a[0],r=a[1],l=a[2],d=1/0,f=e*e,p=.1,S=.1;S<=.9;S+=.1)I[0]=y(s[0],r[0],l[0],S),I[1]=y(s[1],r[1],l[1],S),(C=n(h(I,u)-f))<d&&(d=C,v=S);for(var x=0;x<32;x++){var g=v+p;D[0]=y(s[0],r[0],l[0],v),D[1]=y(s[1],r[1],l[1],v),b[0]=y(s[0],r[0],l[0],g),b[1]=y(s[1],r[1],l[1],g);var C=h(D,u)-f;if(n(C)<.01)break;var m=h(b,u)-f;p/=2,C<0?m>=0?v+=p:v-=p:m>=0?v-=p:v+=p}return v}j.exports=function o(a,u){var e=[],s=T.quadraticSubdivide,r=[[],[],[]],l=[[],[]],d=[];u/=2,a.eachEdge(function(v,f){var p=v.getLayout(),S=v.getVisual("fromSymbol"),C=v.getVisual("toSymbol");p.__original||(p.__original=[w.clone(p[0]),w.clone(p[1])],p[2]&&p.__original.push(w.clone(p[2])));var x=p.__original;if(null!=p[2]){if(w.copy(r[0],x[0]),w.copy(r[1],x[2]),w.copy(r[2],x[1]),S&&"none"!==S){var g=M(v.node1),m=c(r,x[0],g*u);s(r[0][0],r[1][0],r[2][0],m,e),r[0][0]=e[3],r[1][0]=e[4],s(r[0][1],r[1][1],r[2][1],m,e),r[0][1]=e[3],r[1][1]=e[4]}C&&"none"!==C&&(g=M(v.node2),m=c(r,x[1],g*u),s(r[0][0],r[1][0],r[2][0],m,e),r[1][0]=e[1],r[2][0]=e[2],s(r[0][1],r[1][1],r[2][1],m,e),r[1][1]=e[1],r[2][1]=e[2]),w.copy(p[0],r[0]),w.copy(p[1],r[2]),w.copy(p[2],r[1])}else w.copy(l[0],x[0]),w.copy(l[1],x[1]),w.sub(d,l[1],l[0]),w.normalize(d,d),S&&"none"!==S&&(g=M(v.node1),w.scaleAndAdd(l[0],l[0],d,g*u)),C&&"none"!==C&&(g=M(v.node2),w.scaleAndAdd(l[1],l[1],d,-g*u)),w.copy(p[0],l[0]),w.copy(p[1],l[1])})}},76791:j=>{j.exports=function U(i){var T=i.findComponents({mainType:"legend"});!T||!T.length||i.eachSeriesByType("graph",function(w){var t=w.getCategoriesData(),I=w.getGraph().data,D=t.mapArray(t.getName);I.filterSelf(function(b){var h=I.getItemModel(b).getShallow("category");if(null!=h){"number"==typeof h&&(h=D[h]);for(var n=0;n<T.length;n++)if(!T[n].isSelected(h))return!1}return!0})},this)}},35106:j=>{j.exports=function U(i){var T={};i.eachSeriesByType("graph",function(w){var t=w.getCategoriesData(),M=w.getData(),I={};t.each(function(D){var b=t.getName(D);I["ec-"+b]=D;var y=t.getItemModel(D),h=y.get("itemStyle.color")||w.getColorFromPalette(b,T);t.setItemVisual(D,"color",h);for(var n=["opacity","symbol","symbolSize","symbolKeepAspect"],c=0;c<n.length;c++){var o=y.getShallow(n[c],!0);null!=o&&t.setItemVisual(D,n[c],o)}}),t.count()&&M.each(function(D){var y=M.getItemModel(D).getShallow("category");if(null!=y){"string"==typeof y&&(y=I["ec-"+y]);for(var h=["color","opacity","symbol","symbolSize","symbolKeepAspect"],n=0;n<h.length;n++)null==M.getItemVisual(D,h[n],!0)&&M.setItemVisual(D,h[n],t.getItemVisual(y,h[n]))}})})}},30600:(j,U,i)=>{var w=i(3871).circularLayout;j.exports=function t(M){M.eachSeriesByType("graph",function(I){"circular"===I.get("layout")&&w(I,"symbolSize")})}},3871:(j,U,i)=>{var T=i(8544),w=i(58626),t=w.getSymbolSize,M=w.getNodeGlobalScale,I=i(66615),b=i(90769).getCurvenessForEdge,y=Math.PI,h=[],c={value:function(o,a,u,e,s,r,l,d){var v=0,f=e.getSum("value"),p=2*Math.PI/(f||d);u.eachNode(function(S){var C=S.getValue("value"),x=p*(f?C:1)/2;v+=x,S.setLayout([s*Math.cos(v)+r,s*Math.sin(v)+l]),v+=x})},symbolSize:function(o,a,u,e,s,r,l,d){var v=0;h.length=d;var f=M(o);u.eachNode(function(C){var x=t(C);isNaN(x)&&(x=2),x<0&&(x=0),x*=f;var g=Math.asin(x/2/s);isNaN(g)&&(g=y/2),h[C.dataIndex]=g,v+=2*g});var p=(2*y-v)/d/2,S=0;u.eachNode(function(C){var x=p+h[C.dataIndex];S+=x,C.setLayout([s*Math.cos(S)+r,s*Math.sin(S)+l]),S+=x})}};U.circularLayout=function n(o,a){var u=o.coordinateSystem;if(!u||"view"===u.type){var e=u.getBoundingRect(),s=o.getData(),r=s.graph,l=e.width/2+e.x,d=e.height/2+e.y,v=Math.min(e.width,e.height)/2,f=s.count();s.setLayout({cx:l,cy:d}),f&&(c[a](o,u,r,s,v,l,d,f),r.eachEdge(function(p,S){var m,C=I.retrieve3(p.getModel().get("lineStyle.curveness"),b(p,o,S),0),x=T.clone(p.node1.getLayout()),g=T.clone(p.node2.getLayout());+C&&(m=[l*(C*=3)+(x[0]+g[0])/2*(1-C),d*C+(x[1]+g[1])/2*(1-C)]),p.setLayout([x,g,m])}))}}},7548:(j,U,i)=>{var T=i(23133),t=i(10942).getLayoutRect,M=i(53020);j.exports=function D(b,y){var h=[];return b.eachSeriesByType("graph",function(n){var c=n.get("coordinateSystem");if(!c||"view"===c){var o=n.getData(),a=o.mapArray(function(S){var C=o.getItemModel(S);return[+C.get("x"),+C.get("y")]}),u=[],e=[];M.fromPoints(a,u,e),e[0]-u[0]==0&&(e[0]+=1,u[0]-=1),e[1]-u[1]==0&&(e[1]+=1,u[1]-=1);var s=(e[0]-u[0])/(e[1]-u[1]),r=function I(b,y,h){var n=b.getBoxLayoutParams();return n.aspect=h,t(n,{width:y.getWidth(),height:y.getHeight()})}(n,y,s);isNaN(s)&&(u=[r.x,r.y],e=[r.x+r.width,r.y+r.height]);var l=e[0]-u[0],d=e[1]-u[1],v=r.width,f=r.height,p=n.coordinateSystem=new T;p.zoomLimit=n.get("scaleLimit"),p.setBoundingRect(u[0],u[1],l,d),p.setViewRect(r.x,r.y,v,f),p.setCenter(n.get("center")),p.setZoom(n.get("zoom")),h.push(p)}}),h}},199:j=>{function U(T){return T instanceof Array||(T=[T,T]),T}j.exports=function i(T){T.eachSeriesByType("graph",function(w){var t=w.getGraph(),M=w.getEdgeData(),I=U(w.get("edgeSymbol")),D=U(w.get("edgeSymbolSize")),b="lineStyle.color".split("."),y="lineStyle.opacity".split(".");M.setVisual("fromSymbol",I&&I[0]),M.setVisual("toSymbol",I&&I[1]),M.setVisual("fromSymbolSize",D&&D[0]),M.setVisual("toSymbolSize",D&&D[1]),M.setVisual("color",w.get(b)),M.setVisual("opacity",w.get(y)),M.each(function(h){var n=M.getItemModel(h),c=t.getEdgeByIndex(h),o=U(n.getShallow("symbol",!0)),a=U(n.getShallow("symbolSize",!0)),u=n.get(b),e=n.get(y);switch(u){case"source":u=c.node1.getVisual("color");break;case"target":u=c.node2.getVisual("color")}o[0]&&c.setVisual("fromSymbol",o[0]),o[1]&&c.setVisual("toSymbol",o[1]),a[0]&&c.setVisual("fromSymbolSize",a[0]),a[1]&&c.setVisual("toSymbolSize",a[1]),c.setVisual("color",u),c.setVisual("opacity",e)})})}},56143:(j,U,i)=>{var T=i(8544),w=T.scaleAndAdd;U.forceLayout=function t(M,I,D){for(var b=D.rect,y=b.width,h=b.height,n=[b.x+y/2,b.y+h/2],c=null==D.gravity?.1:D.gravity,o=0;o<M.length;o++){var a=M[o];a.p||(a.p=T.create(y*(Math.random()-.5)+n[0],h*(Math.random()-.5)+n[1])),a.pp=T.clone(a.p),a.edges=null}var u=null==D.friction?.6:D.friction,e=u;return{warmUp:function(){e=.8*u},setFixed:function(s){M[s].fixed=!0},setUnfixed:function(s){M[s].fixed=!1},step:function(s){for(var r=[],l=M.length,d=0;d<I.length;d++){var v=I[d];if(!v.ignoreForceLayout){T.sub(r,(p=v.n2).p,(f=v.n1).p);var S=T.len(r)-v.d,C=p.w/(f.w+p.w);isNaN(C)&&(C=0),T.normalize(r,r),!f.fixed&&w(f.p,f.p,r,C*S*e),!p.fixed&&w(p.p,p.p,r,-(1-C)*S*e)}}for(d=0;d<l;d++)(x=M[d]).fixed||(T.sub(r,n,x.p),w(x.p,x.p,r,c*e));for(d=0;d<l;d++)for(var f=M[d],g=d+1;g<l;g++){var p;T.sub(r,(p=M[g]).p,f.p),0===(S=T.len(r))&&(T.set(r,Math.random()-.5,Math.random()-.5),S=1);var m=(f.rep+p.rep)/S/S;!f.fixed&&w(f.pp,f.pp,r,m),!p.fixed&&w(p.pp,p.pp,r,-m)}var A=[];for(d=0;d<l;d++){var x;(x=M[d]).fixed||(T.sub(A,x.p,x.pp),w(x.p,x.p,A,e),T.copy(x.pp,x.p))}e*=.992,s&&s(M,I,e<.01)}}}},26023:(j,U,i)=>{var w=i(56143).forceLayout,M=i(47495).simpleLayout,D=i(3871).circularLayout,y=i(68301).linearMap,h=i(8544),n=i(66615),o=i(90769).getCurvenessForEdge;j.exports=function a(u){u.eachSeriesByType("graph",function(e){if(!(s=e.coordinateSystem)||"view"===s.type)if("force"===e.get("layout")){var r=e.preservedPoints||{},l=e.getGraph(),d=l.data,v=l.edgeData,f=e.getModel("force"),p=f.get("initLayout");e.preservedPoints?d.each(function(F){var H=d.getId(F);d.setItemLayout(F,r[H]||[NaN,NaN])}):p&&"none"!==p?"circular"===p&&D(e,"value"):M(e);var S=d.getDataExtent("value"),C=v.getDataExtent("value"),x=f.get("repulsion"),g=f.get("edgeLength");n.isArray(x)||(x=[x,x]),n.isArray(g)||(g=[g,g]),g=[g[1],g[0]];var s,m=d.mapArray("value",function(F,H){var B=d.getItemLayout(H),Z=y(F,S,x);return isNaN(Z)&&(Z=(x[0]+x[1])/2),{w:Z,rep:Z,fixed:d.getItemModel(H).get("fixed"),p:!B||isNaN(B[0])||isNaN(B[1])?null:B}}),A=v.mapArray("value",function(F,H){var B=l.getEdgeByIndex(H),Z=y(F,C,g);isNaN(Z)&&(Z=(g[0]+g[1])/2);var W=B.getModel(),$=n.retrieve3(W.get("lineStyle.curveness"),-o(B,e,H,!0),0);return{n1:m[B.node1.dataIndex],n2:m[B.node2.dataIndex],d:Z,curveness:$,ignoreForceLayout:W.get("ignoreForceLayout")}}),L=(s=e.coordinateSystem).getBoundingRect(),E=w(m,A,{rect:L,gravity:f.get("gravity"),friction:f.get("friction")}),N=E.step;E.step=function(F){for(var H=0,B=m.length;H<B;H++)m[H].fixed&&h.copy(m[H].p,l.getNodeByIndex(H).getLayout());N(function(Z,W,$){for(var Y=0,V=Z.length;Y<V;Y++)Z[Y].fixed||l.getNodeByIndex(Y).setLayout(Z[Y].p),r[d.getId(Y)]=Z[Y].p;for(Y=0,V=W.length;Y<V;Y++){var z=W[Y],k=l.getEdgeByIndex(Y),X=z.n1.p,q=z.n2.p,et=k.getLayout();(et=et?et.slice():[])[0]=et[0]||[],et[1]=et[1]||[],h.copy(et[0],X),h.copy(et[1],q),+z.curveness&&(et[2]=[(X[0]+q[0])/2-(X[1]-q[1])*z.curveness,(X[1]+q[1])/2-(q[0]-X[0])*z.curveness]),k.setLayout(et)}F&&F($)})},e.forceLayout=E,e.preservedPoints=r,E.step()}else e.forceLayout=null})}},99222:(j,U,i)=>{var T=i(53639),t=i(60398).updateCenterAndZoom;i(53849),T.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(I,D){D.eachComponent({mainType:"series",query:I},function(b){var h=t(b.coordinateSystem,I);b.setCenter&&b.setCenter(h.center),b.setZoom&&b.setZoom(h.zoom)})})},58626:(j,U)=>{U.getNodeGlobalScale=function i(w){var t=w.coordinateSystem;if("view"!==t.type)return 1;var M=w.option.nodeScaleRatio,I=t.scale,D=I&&I[0]||1;return((t.getZoom()-1)*M+1)/D},U.getSymbolSize=function T(w){var t=w.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}},62747:(j,U,i)=>{var w=i(66615).each,t=i(47495),M=t.simpleLayout,I=t.simpleLayoutEdge;j.exports=function D(b,y){b.eachSeriesByType("graph",function(h){var n=h.get("layout"),c=h.coordinateSystem;if(c&&"view"!==c.type){var o=h.getData(),a=[];w(c.dimensions,function(d){a=a.concat(o.mapDimension(d,!0))});for(var u=0;u<o.count();u++){for(var e=[],s=!1,r=0;r<a.length;r++){var l=o.get(a[r],u);isNaN(l)||(s=!0),e.push(l)}o.setItemLayout(u,s?c.dataToPoint(e):[NaN,NaN])}I(o.graph,h)}else(!n||"none"===n)&&M(h)})}},47495:(j,U,i)=>{var T=i(8544),w=i(66615),M=i(90769).getCurvenessForEdge;function D(b,y){b.eachEdge(function(h,n){var c=w.retrieve3(h.getModel().get("lineStyle.curveness"),-M(h,y,n,!0),0),o=T.clone(h.node1.getLayout()),a=T.clone(h.node2.getLayout()),u=[o,a];+c&&u.push([(o[0]+a[0])/2-(o[1]-a[1])*c,(o[1]+a[1])/2-(a[0]-o[0])*c]),h.setLayout(u)})}U.simpleLayout=function I(b){var y=b.coordinateSystem;if(!y||"view"===y.type){var h=b.getGraph();h.eachNode(function(n){var c=n.getModel();n.setLayout([+c.get("x"),+c.get("y")])}),D(h,b)}},U.simpleLayoutEdge=D},45737:(j,U,i)=>{i(30416),i(41168)},44551:(j,U,i)=>{var T=i(66615);function t(){var I=T.createCanvas();this.canvas=I,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}t.prototype={update:function(I,D,b,y,h,n){var c=this._getBrush(),o=this._getGradient(I,h,"inRange"),a=this._getGradient(I,h,"outOfRange"),u=this.pointSize+this.blurSize,e=this.canvas,s=e.getContext("2d"),r=I.length;e.width=D,e.height=b;for(var l=0;l<r;++l){var d=I[l],v=d[0],f=d[1],S=y(d[2]);s.globalAlpha=S,s.drawImage(c,v-u,f-u)}if(!e.width||!e.height)return e;for(var C=s.getImageData(0,0,e.width,e.height),x=C.data,g=0,m=x.length,A=this.minOpacity,E=this.maxOpacity-A;g<m;){S=x[g+3]/256;var N=4*Math.floor(255*S);if(S>0){var R=n(S)?o:a;S>0&&(S=S*E+A),x[g++]=R[N],x[g++]=R[N+1],x[g++]=R[N+2],x[g++]=R[N+3]*S*256}else g+=4}return s.putImageData(C,0,0),e},_getBrush:function(){var I=this._brushCanvas||(this._brushCanvas=T.createCanvas()),D=this.pointSize+this.blurSize,b=2*D;I.width=b,I.height=b;var y=I.getContext("2d");return y.clearRect(0,0,b,b),y.shadowOffsetX=b,y.shadowBlur=this.blurSize,y.shadowColor="#000",y.beginPath(),y.arc(-D,D,this.pointSize,0,2*Math.PI,!0),y.closePath(),y.fill(),I},_getGradient:function(I,D,b){for(var y=this._gradientPixels,h=y[b]||(y[b]=new Uint8ClampedArray(1024)),n=[0,0,0,0],c=0,o=0;o<256;o++)D[b](o/255,!0,n),h[c++]=n[0],h[c++]=n[1],h[c++]=n[2],h[c++]=n[3];return h}},j.exports=t},30416:(j,U,i)=>{var T=i(4263),w=i(8127),t=i(51548),M=T.extend({type:"series.heatmap",getInitialData:function(I,D){return w(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var I=t.get(this.get("coordinateSystem"));if(I&&I.dimensions)return"lng"===I.dimensions[0]&&"lat"===I.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});j.exports=M},41168:(j,U,i)=>{i(78322);var t=i(53639),M=i(32694),I=i(44551),D=i(66615),n=t.extendChartView({type:"heatmap",render:function(c,o,a){var u;o.eachComponent("visualMap",function(s){s.eachTargetSeries(function(r){r===c&&(u=s)})}),this.group.removeAll(),this._incrementalDisplayable=null;var e=c.coordinateSystem;"cartesian2d"===e.type||"calendar"===e.type?this._renderOnCartesianAndCalendar(c,a,0,c.getData().count()):function h(c){var o=c.dimensions;return"lng"===o[0]&&"lat"===o[1]}(e)&&this._renderOnGeo(e,c,u,a)},incrementalPrepareRender:function(c,o,a){this.group.removeAll()},incrementalRender:function(c,o,a,u){o.coordinateSystem&&this._renderOnCartesianAndCalendar(o,u,c.start,c.end,!0)},_renderOnCartesianAndCalendar:function(c,o,a,u,e){var r,l,s=c.coordinateSystem;if("cartesian2d"===s.type){var d=s.getAxis("x"),v=s.getAxis("y");r=d.getBandWidth(),l=v.getBandWidth()}for(var f=this.group,p=c.getData(),S="itemStyle",C="emphasis.itemStyle",x="label",g="emphasis.label",m=c.getModel(S).getItemStyle(["color"]),A=c.getModel(C).getItemStyle(),L=c.getModel(x),E=c.getModel(g),N=s.type,R="cartesian2d"===N?[p.mapDimension("x"),p.mapDimension("y"),p.mapDimension("value")]:[p.mapDimension("time"),p.mapDimension("value")],F=a;F<u;F++){var H;if("cartesian2d"===N){if(isNaN(p.get(R[2],F)))continue;var B=s.dataToPoint([p.get(R[0],F),p.get(R[1],F)]);H=new M.Rect({shape:{x:Math.floor(Math.round(B[0])-r/2),y:Math.floor(Math.round(B[1])-l/2),width:Math.ceil(r),height:Math.ceil(l)},style:{fill:p.getItemVisual(F,"color"),opacity:p.getItemVisual(F,"opacity")}})}else{if(isNaN(p.get(R[1],F)))continue;H=new M.Rect({z2:1,shape:s.dataToRect([p.get(R[0],F)]).contentShape,style:{fill:p.getItemVisual(F,"color"),opacity:p.getItemVisual(F,"opacity")}})}var Z=p.getItemModel(F);p.hasItemOption&&(m=Z.getModel(S).getItemStyle(["color"]),A=Z.getModel(C).getItemStyle(),L=Z.getModel(x),E=Z.getModel(g));var W=c.getRawValue(F),$="-";W&&null!=W[2]&&($=W[2]),M.setLabelStyle(m,A,L,E,{labelFetcher:c,labelDataIndex:F,defaultText:$,isRectText:!0}),H.setStyle(m),M.setHoverStyle(H,p.hasItemOption?A:D.extend({},A)),H.incremental=e,e&&(H.useHoverLayer=!0),f.add(H),p.setItemGraphicEl(F,H)}},_renderOnGeo:function(c,o,a,u){var e=a.targetVisuals.inRange,s=a.targetVisuals.outOfRange,r=o.getData(),l=this._hmLayer||this._hmLayer||new I;l.blurSize=o.get("blurSize"),l.pointSize=o.get("pointSize"),l.minOpacity=o.get("minOpacity"),l.maxOpacity=o.get("maxOpacity");var d=c.getViewRect().clone(),v=c.getRoamTransform();d.applyTransform(v);var f=Math.max(d.x,0),p=Math.max(d.y,0),S=Math.min(d.width+d.x,u.getWidth()),C=Math.min(d.height+d.y,u.getHeight()),x=S-f,g=C-p,m=[r.mapDimension("lng"),r.mapDimension("lat"),r.mapDimension("value")],A=r.mapArray(m,function(R,F,H){var B=c.dataToPoint([R,F]);return B[0]-=f,B[1]-=p,B.push(H),B}),L=a.getExtent(),E="visualMap.continuous"===a.type?function y(c,o){var a=c[1]-c[0];return o=[(o[0]-c[0])/a,(o[1]-c[0])/a],function(u){return u>=o[0]&&u<=o[1]}}(L,a.option.range):function b(c,o,a){var u=c[1]-c[0],e=(o=D.map(o,function(r){return{interval:[(r.interval[0]-c[0])/u,(r.interval[1]-c[0])/u]}})).length,s=0;return function(r){for(var l=s;l<e;l++)if((d=o[l].interval)[0]<=r&&r<=d[1]){s=l;break}if(l===e)for(l=s-1;l>=0;l--){var d;if((d=o[l].interval)[0]<=r&&r<=d[1]){s=l;break}}return l>=0&&l<e&&a[l]}}(L,a.getPieceList(),a.option.selected);l.update(A,x,g,e.color.getNormalizer(),{inRange:e.color.getColorMapper(),outOfRange:s.color.getColorMapper()},E);var N=new M.Image({style:{width:x,height:g,x:f,y:p,image:l.canvas},silent:!0});this.group.add(N)},dispose:function(){}});j.exports=n},65206:(j,U,i)=>{var T=i(32694),w=i(35083),t=i(66615),I=i(33008).createSymbol,D=i(8544),b=i(46846);function y(c,o,a){T.Group.call(this),this.add(this.createLine(c,o,a)),this._updateEffectSymbol(c,o)}var h=y.prototype;h.createLine=function(c,o,a){return new w(c,o,a)},h._updateEffectSymbol=function(c,o){var u=c.getItemModel(o).getModel("effect"),e=u.get("symbolSize"),s=u.get("symbol");t.isArray(e)||(e=[e,e]);var r=u.get("color")||c.getItemVisual(o,"color"),l=this.childAt(1);this._symbolType!==s&&(this.remove(l),(l=I(s,-.5,-.5,1,1,r)).z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle("shadowColor",r),l.setStyle(u.getItemStyle(["color"])),l.attr("scale",e),l.setColor(r),l.attr("scale",e),this._symbolType=s,this._symbolScale=e,this._updateEffectAnimation(c,u,o))},h._updateEffectAnimation=function(c,o,a){var u=this.childAt(1);if(u){var e=this,s=c.getItemLayout(a),r=1e3*o.get("period"),l=o.get("loop"),d=o.get("constantSpeed"),v=t.retrieve(o.get("delay"),function(C){return C/c.count()*r/3}),f="function"==typeof v;if(u.ignore=!0,this.updateAnimationPoints(u,s),d>0&&(r=this.getLineLength(u)/d*1e3),r!==this._period||l!==this._loop){u.stopAnimation();var p=v;f&&(p=v(a)),u.__t>0&&(p=-r*u.__t),u.__t=0;var S=u.animate("",l).when(r,{__t:1}).delay(p).during(function(){e.updateSymbolPosition(u)});l||S.done(function(){e.remove(u)}),S.start()}this._period=r,this._loop=l}},h.getLineLength=function(c){return D.dist(c.__p1,c.__cp1)+D.dist(c.__cp1,c.__p2)},h.updateAnimationPoints=function(c,o){c.__p1=o[0],c.__p2=o[1],c.__cp1=o[2]||[(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]},h.updateData=function(c,o,a){this.childAt(0).updateData(c,o,a),this._updateEffectSymbol(c,o)},h.updateSymbolPosition=function(c){var o=c.__p1,a=c.__p2,u=c.__cp1,e=c.__t,s=c.position,r=[s[0],s[1]],l=b.quadraticAt,d=b.quadraticDerivativeAt;s[0]=l(o[0],u[0],a[0],e),s[1]=l(o[1],u[1],a[1],e);var v=d(o[0],u[0],a[0],e),f=d(o[1],u[1],a[1],e);if(c.rotation=-Math.atan2(f,v)-Math.PI/2,"line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)if(void 0!==c.__lastT&&c.__lastT<c.__t){var p=1.05*D.dist(r,s);c.attr("scale",[c.scale[0],p]),1===e&&(s[0]=r[0]+(s[0]-r[0])/2,s[1]=r[1]+(s[1]-r[1])/2)}else 1===c.__lastT?(p=2*D.dist(o,s),c.attr("scale",[c.scale[0],p])):c.attr("scale",this._symbolScale);c.__lastT=c.__t,c.ignore=!1},h.updateLayout=function(c,o){this.childAt(0).updateLayout(c,o);var a=c.getItemModel(o).getModel("effect");this._updateEffectAnimation(c,a,o)},t.inherits(y,T.Group),j.exports=y},28463:(j,U,i)=>{var T=i(8611),w=i(66615),t=i(65206),M=i(8544);function I(y,h,n){t.call(this,y,h,n),this._lastFrame=0,this._lastFramePercent=0}var D=I.prototype;D.createLine=function(y,h,n){return new T(y,h,n)},D.updateAnimationPoints=function(y,h){this._points=h;for(var n=[0],c=0,o=1;o<h.length;o++)c+=M.dist(h[o-1],h[o]),n.push(c);if(0!==c){for(o=0;o<n.length;o++)n[o]/=c;this._offsets=n,this._length=c}},D.getLineLength=function(y){return this._length},D.updateSymbolPosition=function(y){var h=y.__t,n=this._points,c=this._offsets,o=n.length;if(c){var a=this._lastFrame;if(h<this._lastFramePercent){for(u=Math.min(a+1,o-1);u>=0&&!(c[u]<=h);u--);u=Math.min(u,o-2)}else{for(var u=a;u<o&&!(c[u]>h);u++);u=Math.min(u-1,o-2)}M.lerp(y.position,n[u],n[u+1],(h-c[u])/(c[u+1]-c[u])),y.rotation=-Math.atan2(n[u+1][1]-n[u][1],n[u+1][0]-n[u][0])-Math.PI/2,this._lastFrame=u,this._lastFramePercent=h,y.ignore=!1}},w.inherits(I,t),j.exports=I},65661:(j,U,i)=>{var T=i(66615),t=i(33008).createSymbol,I=i(32694).Group,b=i(68301).parsePercent,y=i(13124);function c(e,s){var r=s.rippleEffectColor||s.color;e.eachChild(function(l){l.attr({z:s.z,zlevel:s.zlevel,style:{stroke:"stroke"===s.brushType?r:null,fill:"fill"===s.brushType?r:null}})})}function o(e,s){I.call(this);var r=new y(e,s),l=new I;this.add(r),this.add(l),l.beforeUpdate=function(){this.attr(r.getScale())},this.updateData(e,s)}var a=o.prototype;a.stopEffectAnimation=function(){this.childAt(1).removeAll()},a.startEffectAnimation=function(e){for(var s=e.symbolType,r=e.color,l=this.childAt(1),d=0;d<3;d++){var v=t(s,-1,-1,2,2,r);v.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var f=-d/3*e.period+e.effectOffset;v.animate("",!0).when(e.period,{scale:[e.rippleScale/2,e.rippleScale/2]}).delay(f).start(),v.animateStyle(!0).when(e.period,{opacity:0}).delay(f).start(),l.add(v)}c(l,e)},a.updateEffectAnimation=function(e){for(var s=this._effectCfg,r=this.childAt(1),l=["symbolType","period","rippleScale"],d=0;d<l.length;d++){var v=l[d];if(s[v]!==e[v])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}c(r,e)},a.highlight=function(){this.trigger("emphasis")},a.downplay=function(){this.trigger("normal")},a.updateData=function(e,s){var r=e.hostModel;this.childAt(0).updateData(e,s);var l=this.childAt(1),d=e.getItemModel(s),v=e.getItemVisual(s,"symbol"),f=function n(e){return T.isArray(e)||(e=[+e,+e]),e}(e.getItemVisual(s,"symbolSize")),p=e.getItemVisual(s,"color");l.attr("scale",f),l.traverse(function(E){E.attr({fill:p})});var S=d.getShallow("symbolOffset");if(S){var C=l.position;C[0]=b(S[0],f[0]),C[1]=b(S[1],f[1])}var x=e.getItemVisual(s,"symbolRotate");l.rotation=(x||0)*Math.PI/180||0;var g={};if(g.showEffectOn=r.get("showEffectOn"),g.rippleScale=d.get("rippleEffect.scale"),g.brushType=d.get("rippleEffect.brushType"),g.period=1e3*d.get("rippleEffect.period"),g.effectOffset=s/e.count(),g.z=d.getShallow("z")||0,g.zlevel=d.getShallow("zlevel")||0,g.symbolType=v,g.color=p,g.rippleEffectColor=d.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===g.showEffectOn)this._effectCfg?this.updateEffectAnimation(g):this.startEffectAnimation(g),this._effectCfg=g;else{this._effectCfg=null,this.stopEffectAnimation();var m=this.childAt(0),A=function(){m.highlight(),"render"!==g.showEffectOn&&this.startEffectAnimation(g)},L=function(){m.downplay(),"render"!==g.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",A,this).on("mouseout",L,this).on("emphasis",A,this).on("normal",L,this)}this._effectCfg=g},a.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),e&&e()},T.inherits(o,I),j.exports=o},10809:(j,U,i)=>{var T=i(32694),w=i(28123),t=i(40031),M=i(47538),I=T.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(h,n){var c=n.segs,o=n.curveness;if(n.polyline)for(var a=0;a<c.length;){var u=c[a++];if(u>0){h.moveTo(c[a++],c[a++]);for(var e=1;e<u;e++)h.lineTo(c[a++],c[a++])}}else for(a=0;a<c.length;){var s=c[a++],r=c[a++],l=c[a++],d=c[a++];h.moveTo(s,r),o>0?h.quadraticCurveTo((s+l)/2-(r-d)*o,(r+d)/2-(l-s)*o,l,d):h.lineTo(l,d)}},findDataIndex:function(h,n){var c=this.shape,o=c.segs,a=c.curveness;if(c.polyline)for(var u=0,e=0;e<o.length;){var s=o[e++];if(s>0)for(var r=o[e++],l=o[e++],d=1;d<s;d++){var v=o[e++],f=o[e++];if(t.containStroke(r,l,v,f))return u}u++}else for(u=0,e=0;e<o.length;){if(r=o[e++],l=o[e++],v=o[e++],f=o[e++],a>0){if(M.containStroke(r,l,(r+v)/2-(l-f)*a,(l+f)/2-(v-r)*a,v,f))return u}else if(t.containStroke(r,l,v,f))return u;u++}return-1}});function D(){this.group=new T.Group}var b=D.prototype;b.isPersistent=function(){return!this._incremental},b.updateData=function(h){this.group.removeAll();var n=new I({rectHover:!0,cursor:"default"});n.setShape({segs:h.getLayout("linesPoints")}),this._setCommon(n,h),this.group.add(n),this._incremental=null},b.incrementalPrepareUpdate=function(h){this.group.removeAll(),this._clearIncremental(),h.count()>5e5?(this._incremental||(this._incremental=new w({silent:!0})),this.group.add(this._incremental)):this._incremental=null},b.incrementalUpdate=function(h,n){var c=new I;c.setShape({segs:n.getLayout("linesPoints")}),this._setCommon(c,n,!!this._incremental),this._incremental?this._incremental.addDisplayable(c,!0):(c.rectHover=!0,c.cursor="default",c.__startIndex=h.start,this.group.add(c))},b.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},b._setCommon=function(h,n,c){var o=n.hostModel;h.setShape({polyline:o.get("polyline"),curveness:o.get("lineStyle.curveness")}),h.useStyle(o.getModel("lineStyle").getLineStyle()),h.style.strokeNoScale=!0;var a=n.getVisual("color");a&&h.setStyle("stroke",a),h.setStyle("fill"),c||(h.seriesIndex=o.seriesIndex,h.on("mousemove",function(u){h.dataIndex=null;var e=h.findDataIndex(u.offsetX,u.offsetY);e>0&&(h.dataIndex=e+h.__startIndex)}))},b._clearIncremental=function(){var h=this._incremental;h&&h.clearDisplaybles()},j.exports=D},72316:(j,U,i)=>{var T=i(32694),t=i(33008).createSymbol,M=i(28123),D=T.extendShape({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(n,c){var o=c.points,a=c.size,u=this.symbolProxy,e=u.shape;if(!((n.getContext?n.getContext():n)&&a[0]<4))for(var l=0;l<o.length;){var d=o[l++],v=o[l++];isNaN(d)||isNaN(v)||this.softClipShape&&!this.softClipShape.contain(d,v)||(e.x=d-a[0]/2,e.y=v-a[1]/2,e.width=a[0],e.height=a[1],u.buildPath(n,e,!0))}},afterBrush:function(n){var c=this.shape,o=c.points,a=c.size;if(a[0]<4){this.setTransform(n);for(var e=0;e<o.length;){var s=o[e++],r=o[e++];isNaN(s)||isNaN(r)||this.softClipShape&&!this.softClipShape.contain(s,r)||n.fillRect(s-a[0]/2,r-a[1]/2,a[0],a[1])}this.restoreTransform(n)}},findDataIndex:function(n,c){for(var o=this.shape,a=o.points,u=o.size,e=Math.max(u[0],4),s=Math.max(u[1],4),r=a.length/2-1;r>=0;r--){var l=2*r,d=a[l]-e/2,v=a[l+1]-s/2;if(n>=d&&c>=v&&n<=d+e&&c<=v+s)return r}return-1}});function b(){this.group=new T.Group}var y=b.prototype;y.isPersistent=function(){return!this._incremental},y.updateData=function(n,c){this.group.removeAll();var o=new D({rectHover:!0,cursor:"default"});o.setShape({points:n.getLayout("symbolPoints")}),this._setCommon(o,n,!1,c),this.group.add(o),this._incremental=null},y.updateLayout=function(n){if(!this._incremental){var c=n.getLayout("symbolPoints");this.group.eachChild(function(o){null!=o.startIndex&&(c=new Float32Array(c.buffer,4*o.startIndex*2,2*(o.endIndex-o.startIndex))),o.setShape("points",c)})}},y.incrementalPrepareUpdate=function(n){this.group.removeAll(),this._clearIncremental(),n.count()>2e6?(this._incremental||(this._incremental=new M({silent:!0})),this.group.add(this._incremental)):this._incremental=null},y.incrementalUpdate=function(n,c,o){var a;this._incremental?(a=new D,this._incremental.addDisplayable(a,!0)):((a=new D({rectHover:!0,cursor:"default",startIndex:n.start,endIndex:n.end})).incremental=!0,this.group.add(a)),a.setShape({points:c.getLayout("symbolPoints")}),this._setCommon(a,c,!!this._incremental,o)},y._setCommon=function(n,c,o,a){var u=c.hostModel;a=a||{};var e=c.getVisual("symbolSize");n.setShape("size",e instanceof Array?e:[e,e]),n.softClipShape=a.clipShape||null,n.symbolProxy=t(c.getVisual("symbol"),0,0,0,0),n.setColor=n.symbolProxy.setColor;var s=n.shape.size[0]<4;n.useStyle(u.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var r=c.getVisual("color");r&&n.setColor(r),o||(n.seriesIndex=u.seriesIndex,n.on("mousemove",function(l){n.dataIndex=null;var d=n.findDataIndex(l.offsetX,l.offsetY);d>=0&&(n.dataIndex=d+(n.startIndex||0))}))},y.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},y._clearIncremental=function(){var n=this._incremental;n&&n.clearDisplaybles()},j.exports=b},35083:(j,U,i)=>{var T=i(66615),w=i(8544),t=i(33008),M=i(5321),I=i(32694),b=i(68301).round,y=["fromSymbol","toSymbol"];function h(r){return"_"+r+"Type"}function n(r,l,d){var v=l.getItemVisual(d,r);if(v&&"none"!==v){var f=l.getItemVisual(d,"color"),p=l.getItemVisual(d,r+"Size"),S=l.getItemVisual(d,r+"Rotate");T.isArray(p)||(p=[p,p]);var C=t.createSymbol(v,-p[0]/2,-p[1]/2,p[0],p[1],f);return C.__specifiedRotation=null==S||isNaN(S)?void 0:+S*Math.PI/180||0,C.name=r,C}}function o(r,l){r.x1=l[0][0],r.y1=l[0][1],r.x2=l[1][0],r.y2=l[1][1],r.percent=1;var d=l[2];d?(r.cpx1=d[0],r.cpy1=d[1]):(r.cpx1=NaN,r.cpy1=NaN)}function u(r,l,d){I.Group.call(this),this._createLine(r,l,d)}var e=u.prototype;e.beforeUpdate=function a(){var r=this,l=r.childOfName("fromSymbol"),d=r.childOfName("toSymbol"),v=r.childOfName("label");if(l||d||!v.ignore){for(var f=1,p=this.parent;p;)p.scale&&(f/=p.scale[0]),p=p.parent;var S=r.childOfName("line");if(this.__dirty||S.__dirty){var A,C=S.shape.percent,x=S.pointAt(0),g=S.pointAt(C),m=w.sub([],g,x);if(w.normalize(m,m),l){if(l.attr("position",x),null==(A=l.__specifiedRotation)){var L=S.tangentAt(0);l.attr("rotation",Math.PI/2-Math.atan2(L[1],L[0]))}else l.attr("rotation",A);l.attr("scale",[f*C,f*C])}if(d)d.attr("position",g),null==(A=d.__specifiedRotation)?(L=S.tangentAt(1),d.attr("rotation",-Math.PI/2-Math.atan2(L[1],L[0]))):d.attr("rotation",A),d.attr("scale",[f*C,f*C]);if(!v.ignore){v.attr("position",g);var E,N,R,F,H=v.__labelDistance,B=H[0]*f,Z=H[1]*f,W=C/2,$=[(L=S.tangentAt(W))[1],-L[0]],Y=S.pointAt(W);$[1]>0&&($[0]=-$[0],$[1]=-$[1]);var k,V=L[0]<0?-1:1;if("start"!==v.__position&&"end"!==v.__position){var z=-Math.atan2(L[1],L[0]);g[0]<x[0]&&(z=Math.PI+z),v.attr("rotation",z)}switch(v.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":k=-Z,R="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":k=Z,R="top";break;default:k=0,R="middle"}switch(v.__position){case"end":E=[m[0]*B+g[0],m[1]*Z+g[1]],N=m[0]>.8?"left":m[0]<-.8?"right":"center",R=m[1]>.8?"top":m[1]<-.8?"bottom":"middle";break;case"start":E=[-m[0]*B+x[0],-m[1]*Z+x[1]],N=m[0]>.8?"right":m[0]<-.8?"left":"center",R=m[1]>.8?"bottom":m[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":E=[B*V+x[0],x[1]+k],N=L[0]<0?"right":"left",F=[-B*V,-k];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":E=[Y[0],Y[1]+k],N="center",F=[0,-k];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":E=[-B*V+g[0],g[1]+k],N=L[0]>=0?"right":"left",F=[B*V,-k]}v.attr({style:{textVerticalAlign:v.__verticalAlign||R,textAlign:v.__textAlign||N},position:E,scale:[f,f],origin:F})}}}},e._createLine=function(r,l,d){var v=r.hostModel,p=function c(r){var l=new M({name:"line",subPixelOptimize:!0});return o(l.shape,r),l}(r.getItemLayout(l));p.shape.percent=0,I.initProps(p,{shape:{percent:1}},v,l),this.add(p);var S=new I.Text({name:"label",lineLabelOriginalOpacity:1});this.add(S),T.each(y,function(C){var x=n(C,r,l);this.add(x),this[h(C)]=r.getItemVisual(l,C)},this),this._updateCommonStl(r,l,d)},e.updateData=function(r,l,d){var v=r.hostModel,f=this.childOfName("line"),p=r.getItemLayout(l),S={shape:{}};o(S.shape,p),I.updateProps(f,S,v,l),T.each(y,function(C){var x=r.getItemVisual(l,C),g=h(C);if(this[g]!==x){this.remove(this.childOfName(C));var m=n(C,r,l);this.add(m)}this[g]=x},this),this._updateCommonStl(r,l,d)},e._updateCommonStl=function(r,l,d){var v=r.hostModel,f=this.childOfName("line"),p=d&&d.lineStyle,S=d&&d.hoverLineStyle,C=d&&d.labelModel,x=d&&d.hoverLabelModel;if(!d||r.hasItemOption){var g=r.getItemModel(l);p=g.getModel("lineStyle").getLineStyle(),S=g.getModel("emphasis.lineStyle").getLineStyle(),C=g.getModel("label"),x=g.getModel("emphasis.label")}var m=r.getItemVisual(l,"color"),A=T.retrieve3(r.getItemVisual(l,"opacity"),p.opacity,1);f.useStyle(T.defaults({strokeNoScale:!0,fill:"none",stroke:m,opacity:A},p)),f.hoverStyle=S,T.each(y,function(Y){var V=this.childOfName(Y);V&&(V.setColor(m),V.setStyle({opacity:A}))},this);var R,F,L=C.getShallow("show"),E=x.getShallow("show"),N=this.childOfName("label");if((L||E)&&(R=m||"#000",null==(F=v.getFormattedLabel(l,"normal",r.dataType)))){var H=v.getRawValue(l);F=null==H?r.getName(l):isFinite(H)?b(H):H}var B=L?F:null,Z=E?T.retrieve2(v.getFormattedLabel(l,"emphasis",r.dataType),F):null,W=N.style;if(null!=B||null!=Z){I.setTextStyle(N.style,C,{text:B},{autoColor:R}),N.__textAlign=W.textAlign,N.__verticalAlign=W.textVerticalAlign,N.__position=C.get("position")||"middle";var $=C.get("distance");T.isArray($)||($=[$,$]),N.__labelDistance=$}N.hoverStyle=null!=Z?{text:Z,textFill:x.getTextColor(!0),fontStyle:x.getShallow("fontStyle"),fontWeight:x.getShallow("fontWeight"),fontSize:x.getShallow("fontSize"),fontFamily:x.getShallow("fontFamily")}:{text:null},N.ignore=!L&&!E,I.setHoverStyle(this)},e.highlight=function(){this.trigger("emphasis")},e.downplay=function(){this.trigger("normal")},e.updateLayout=function(r,l){this.setLinePoints(r.getItemLayout(l))},e.setLinePoints=function(r){var l=this.childOfName("line");o(l.shape,r),l.dirty()},T.inherits(u,I.Group),j.exports=u},17122:(j,U,i)=>{var T=i(32694),w=i(35083);function t(o){this._ctor=o||w,this.group=new T.Group}var M=t.prototype;function y(o){var a=o.hostModel;return{lineStyle:a.getModel("lineStyle").getLineStyle(),hoverLineStyle:a.getModel("emphasis.lineStyle").getLineStyle(),labelModel:a.getModel("label"),hoverLabelModel:a.getModel("emphasis.label")}}function h(o){return isNaN(o[0])||isNaN(o[1])}function n(o){return!h(o[0])&&!h(o[1])}M.isPersistent=function(){return!0},M.updateData=function(o){var a=this,u=a.group,e=a._lineData;a._lineData=o,e||u.removeAll();var s=y(o);o.diff(e).add(function(r){!function I(o,a,u,e){if(n(a.getItemLayout(u))){var r=new o._ctor(a,u,e);a.setItemGraphicEl(u,r),o.group.add(r)}}(a,o,r,s)}).update(function(r,l){!function D(o,a,u,e,s,r){var l=a.getItemGraphicEl(e);n(u.getItemLayout(s))?(l?l.updateData(u,s,r):l=new o._ctor(u,s,r),u.setItemGraphicEl(s,l),o.group.add(l)):o.group.remove(l)}(a,e,o,l,r,s)}).remove(function(r){u.remove(e.getItemGraphicEl(r))}).execute()},M.updateLayout=function(){var o=this._lineData;o&&o.eachItemGraphicEl(function(a,u){a.updateLayout(o,u)},this)},M.incrementalPrepareUpdate=function(o){this._seriesScope=y(o),this._lineData=null,this.group.removeAll()},M.incrementalUpdate=function(o,a){function u(l){!l.isGroup&&!function b(o){return o.animators&&o.animators.length>0}(l)&&(l.incremental=l.useHoverLayer=!0)}for(var e=o.start;e<o.end;e++)if(n(a.getItemLayout(e))){var r=new this._ctor(a,e,this._seriesScope);r.traverse(u),this.group.add(r),a.setItemGraphicEl(e,r)}},M.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},M._clearIncremental=function(){var o=this._incremental;o&&o.clearDisplaybles()},j.exports=t},5321:(j,U,i)=>{var T=i(32694),w=i(8544),t=T.Line.prototype,M=T.BezierCurve.prototype;function I(b){return isNaN(+b.cpx1)||isNaN(+b.cpy1)}var D=T.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(b,y){this[I(y)?"_buildPathLine":"_buildPathCurve"](b,y)},_buildPathLine:t.buildPath,_buildPathCurve:M.buildPath,pointAt:function(b){return this[I(this.shape)?"_pointAtLine":"_pointAtCurve"](b)},_pointAtLine:t.pointAt,_pointAtCurve:M.pointAt,tangentAt:function(b){var y=this.shape,h=I(y)?[y.x2-y.x1,y.y2-y.y1]:this._tangentAtCurve(b);return w.normalize(h,h)},_tangentAtCurve:M.tangentAt});j.exports=D},8611:(j,U,i)=>{var T=i(32694),w=i(66615);function t(D,b,y){T.Group.call(this),this._createPolyline(D,b,y)}var M=t.prototype;M._createPolyline=function(D,b,y){var h=D.getItemLayout(b),n=new T.Polyline({shape:{points:h}});this.add(n),this._updateCommonStl(D,b,y)},M.updateData=function(D,b,y){var h=D.hostModel,n=this.childAt(0),c={shape:{points:D.getItemLayout(b)}};T.updateProps(n,c,h,b),this._updateCommonStl(D,b,y)},M._updateCommonStl=function(D,b,y){var h=this.childAt(0),n=D.getItemModel(b),c=D.getItemVisual(b,"color"),o=y&&y.lineStyle,a=y&&y.hoverLineStyle;(!y||D.hasItemOption)&&(o=n.getModel("lineStyle").getLineStyle(),a=n.getModel("emphasis.lineStyle").getLineStyle()),h.useStyle(w.defaults({strokeNoScale:!0,fill:"none",stroke:c},o)),h.hoverStyle=a,T.setHoverStyle(this)},M.updateLayout=function(D,b){this.childAt(0).setShape("points",D.getItemLayout(b))},w.inherits(t,T.Group),j.exports=t},13124:(j,U,i)=>{var T=i(66615),t=i(33008).createSymbol,M=i(32694),D=i(68301).parsePercent,y=i(38149).getDefaultLabel;function h(v,f,p){M.Group.call(this),this.updateData(v,f,p)}var n=h.prototype,c=h.getSymbolSize=function(v,f){var p=v.getItemVisual(f,"symbolSize");return p instanceof Array?p.slice():[+p,+p]};function o(v){return[v[0]/2,v[1]/2]}function a(v,f){this.parent.drift(v,f)}n._createSymbol=function(v,f,p,S,C){this.removeAll();var x=f.getItemVisual(p,"color"),g=t(v,-1,-1,2,2,x,C);g.attr({z2:100,culling:!0,scale:o(S)}),g.drift=a,this._symbolType=v,this.add(g)},n.stopSymbolAnimation=function(v){this.childAt(0).stopAnimation(v)},n.getSymbolPath=function(){return this.childAt(0)},n.getScale=function(){return this.childAt(0).scale},n.highlight=function(){this.childAt(0).trigger("emphasis")},n.downplay=function(){this.childAt(0).trigger("normal")},n.setZ=function(v,f){var p=this.childAt(0);p.zlevel=v,p.z=f},n.setDraggable=function(v){var f=this.childAt(0);f.draggable=v,f.cursor=v?"move":f.cursor},n.updateData=function(v,f,p){this.silent=!1;var S=v.getItemVisual(f,"symbol")||"circle",C=v.hostModel,x=c(v,f),g=S!==this._symbolType;if(g){var m=v.getItemVisual(f,"symbolKeepAspect");this._createSymbol(S,v,f,x,m)}else(A=this.childAt(0)).silent=!1,M.updateProps(A,{scale:o(x)},C,f);if(this._updateCommon(v,f,x,p),g){var A=this.childAt(0),L=p&&p.fadeIn,E={scale:A.scale.slice()};L&&(E.style={opacity:A.style.opacity}),A.scale=[0,0],L&&(A.style.opacity=0),M.initProps(A,E,C,f)}this._seriesModel=C};var u=["itemStyle"],e=["emphasis","itemStyle"],s=["label"],r=["emphasis","label"];function l(v,f){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===f){var p=this.__symbolOriginalScale,S=p[1]/p[0],C={scale:[Math.max(1.1*p[0],p[0]+3),Math.max(1.1*p[1],p[1]+3*S)]};this.animateTo(C,400,"elasticOut")}else"normal"===f&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}n._updateCommon=function(v,f,p,S){var C=this.childAt(0),x=v.hostModel,g=v.getItemVisual(f,"color");"image"!==C.type?C.useStyle({strokeNoScale:!0}):C.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var m=S&&S.itemStyle,A=S&&S.hoverItemStyle,L=S&&S.symbolOffset,E=S&&S.labelModel,N=S&&S.hoverLabelModel,R=S&&S.hoverAnimation,F=S&&S.cursorStyle;if(!S||v.hasItemOption){var H=S&&S.itemModel?S.itemModel:v.getItemModel(f);m=H.getModel(u).getItemStyle(["color"]),A=H.getModel(e).getItemStyle(),L=H.getShallow("symbolOffset"),E=H.getModel(s),N=H.getModel(r),R=H.getShallow("hoverAnimation"),F=H.getShallow("cursor")}else A=T.extend({},A);var B=C.style,Z=v.getItemVisual(f,"symbolRotate");C.attr("rotation",(Z||0)*Math.PI/180||0),L&&C.attr("position",[D(L[0],p[0]),D(L[1],p[1])]),F&&C.attr("cursor",F),C.setColor(g,S&&S.symbolInnerColor),C.setStyle(m);var W=v.getItemVisual(f,"opacity");null!=W&&(B.opacity=W);var $=v.getItemVisual(f,"liftZ"),Y=C.__z2Origin;null!=$?null==Y&&(C.__z2Origin=C.z2,C.z2+=$):null!=Y&&(C.z2=Y,C.__z2Origin=null);var V=S&&S.useNameLabel;M.setLabelStyle(B,A,E,N,{labelFetcher:x,labelDataIndex:f,defaultText:function z(k,X){return V?v.getName(k):y(v,k)},isRectText:!0,autoColor:g}),C.__symbolOriginalScale=o(p),C.hoverStyle=A,C.highDownOnUpdate=R&&x.isAnimationEnabled()?l:null,M.setHoverStyle(C)},n.fadeOut=function(v,f){var p=this.childAt(0);this.silent=p.silent=!0,!(f&&f.keepLabel)&&(p.style.text=null),M.updateProps(p,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,v)},T.inherits(h,M.Group),j.exports=h},57693:(j,U,i)=>{var T=i(32694),w=i(13124),M=i(66615).isObject;function I(c){this.group=new T.Group,this._symbolCtor=c||w}var D=I.prototype;function b(c,o,a,u){return o&&!isNaN(o[0])&&!isNaN(o[1])&&!(u.isIgnore&&u.isIgnore(a))&&!(u.clipShape&&!u.clipShape.contain(o[0],o[1]))&&"none"!==c.getItemVisual(a,"symbol")}function y(c){return null!=c&&!M(c)&&(c={isIgnore:c}),c||{}}function h(c){var o=c.hostModel;return{itemStyle:o.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:o.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:o.get("symbolRotate"),symbolOffset:o.get("symbolOffset"),hoverAnimation:o.get("hoverAnimation"),labelModel:o.getModel("label"),hoverLabelModel:o.getModel("emphasis.label"),cursorStyle:o.get("cursor")}}D.updateData=function(c,o){o=y(o);var a=this.group,u=c.hostModel,e=this._data,s=this._symbolCtor,r=h(c);e||a.removeAll(),c.diff(e).add(function(l){var d=c.getItemLayout(l);if(b(c,d,l,o)){var v=new s(c,l,r);v.attr("position",d),c.setItemGraphicEl(l,v),a.add(v)}}).update(function(l,d){var v=e.getItemGraphicEl(d),f=c.getItemLayout(l);b(c,f,l,o)?(v?(v.updateData(c,l,r),T.updateProps(v,{position:f},u)):(v=new s(c,l)).attr("position",f),a.add(v),c.setItemGraphicEl(l,v)):a.remove(v)}).remove(function(l){var d=e.getItemGraphicEl(l);d&&d.fadeOut(function(){a.remove(d)})}).execute(),this._data=c},D.isPersistent=function(){return!0},D.updateLayout=function(){var c=this._data;c&&c.eachItemGraphicEl(function(o,a){var u=c.getItemLayout(a);o.attr("position",u)})},D.incrementalPrepareUpdate=function(c){this._seriesScope=h(c),this._data=null,this.group.removeAll()},D.incrementalUpdate=function(c,o,a){function u(l){l.isGroup||(l.incremental=l.useHoverLayer=!0)}a=y(a);for(var e=c.start;e<c.end;e++){var s=o.getItemLayout(e);if(b(o,s,e,a)){var r=new this._symbolCtor(o,e,this._seriesScope);r.traverse(u),r.attr("position",s),this.group.add(r),o.setItemGraphicEl(e,r)}}},D.remove=function(c){var o=this.group,a=this._data;a&&c?a.eachItemGraphicEl(function(u){u.fadeOut(function(){o.remove(u)})}):o.removeAll()},j.exports=I},287:(j,U,i)=>{var T=i(32694),t=i(68301).round;function M(b,y,h){var n=b.getArea(),c=b.getBaseAxis().isHorizontal(),o=n.x,a=n.y,u=n.width,e=n.height,s=h.get("lineStyle.width")||2;o-=s/2,a-=s/2,u+=s,e+=s,o=Math.floor(o),u=Math.round(u);var r=new T.Rect({shape:{x:o,y:a,width:u,height:e}});return y&&(r.shape[c?"width":"height"]=0,T.initProps(r,{shape:{width:u,height:e}},h)),r}function I(b,y,h){var n=b.getArea(),c=new T.Sector({shape:{cx:t(b.cx,1),cy:t(b.cy,1),r0:t(n.r0,1),r:t(n.r,1),startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});return y&&(c.shape.endAngle=n.startAngle,T.initProps(c,{shape:{endAngle:n.endAngle}},h)),c}U.createGridClipPath=M,U.createPolarClipPath=I,U.createClipPath=function D(b,y,h){return b?"polar"===b.type?I(b,y,h):"cartesian2d"===b.type?M(b,y,h):null:null}},95388:(j,U,i)=>{var T=i(66615),w=i(47563),t=i(76677),M=i(91426),I=i(51440),D=i(51548),b=i(8127);j.exports=function y(h,n,c,o,a){for(var u=new t(o),e=0;e<h.length;e++)u.addNode(T.retrieve(h[e].id,h[e].name,e),e);var s=[],r=[],l=0;for(e=0;e<n.length;e++){var d=n[e],v=d.source,f=d.target;u.addEdge(v,f,l)&&(r.push(d),s.push(T.retrieve(d.id,v+" > "+f)),l++)}var S,p=c.get("coordinateSystem");if("cartesian2d"===p||"polar"===p)S=b(h,c);else{var C=D.get(p),x=C&&"view"!==C.type&&C.dimensions||[];T.indexOf(x,"value")<0&&x.concat(["value"]);var g=I(h,{coordDimensions:x});(S=new w(g,c)).initData(h)}var m=new w(["value"],c);return m.initData(r,s),a&&a(S,m),M({mainData:S,struct:u,structAttr:"graph",datas:{node:S,edge:m},datasAttr:{node:"data",edge:"edgeData"}}),u.update(),u}},8127:(j,U,i)=>{var T=i(66615),w=i(47563),t=i(51440),I=i(98159).SOURCE_FORMAT_ORIGINAL,b=i(2747).getDimensionTypeByAxis,h=i(21617).getDataItemValue,n=i(51548),o=i(4429).getCoordSysInfoBySeries,a=i(8189),e=i(69816).enableDataStack,r=i(47458).makeSeriesEncodeForAxisCoordSys;j.exports=function l(p,S,C){C=C||{},a.isInstance(p)||(p=a.seriesDataToSource(p));var A,x=S.get("coordinateSystem"),g=n.get(x),m=o(S);m&&(A=T.map(m.coordSysDims,function(B){var Z={name:B},W=m.axisMap.get(B);if(W){var $=W.get("type");Z.type=b($)}return Z})),A||(A=g&&(g.getDimensionsInfo?g.getDimensionsInfo():g.dimensions.slice())||["x","y"]);var E,N,L=t(p,{coordDimensions:A,generateCoord:C.generateCoord,encodeDefaulter:C.useEncodeDefaulter?T.curry(r,A,S):null});m&&T.each(L,function(B,Z){var $=m.categoryAxisMap.get(B.coordDim);$&&(null==E&&(E=Z),B.ordinalMeta=$.getOrdinalMeta()),null!=B.otherDims.itemName&&(N=!0)}),!N&&null!=E&&(L[E].otherDims.itemName=0);var R=e(S,L),F=new w(L,S);F.setCalculationInfo(R);var H=null!=E&&function d(p){if(p.sourceFormat===I){var S=function v(p){for(var S=0;S<p.length&&null==p[S];)S++;return p[S]}(p.data||[]);return null!=S&&!T.isArray(h(S))}}(p)?function(B,Z,W,$){return $===E?W:this.defaultDimValueGetter(B,Z,W,$)}:null;return F.hasItemOption=!1,F.initData(p,null,H),F}},83002:(j,U,i)=>{var T=i(51440),w=i(47563),t=i(66615),M=t.extend,I=t.isArray;j.exports=function D(b,y,h){y=I(y)&&{coordDimensions:y}||M({},y);var n=b.getSource(),c=T(n,y),o=new w(c,b);return o.initData(n,h),o}},79104:(j,U,i)=>{var w=i(21617).makeInner;j.exports=function t(){var M=w();return function(I){var D=M(I),b=I.pipelineContext,y=D.large,h=D.progressiveRender,n=D.large=b&&b.large,c=D.progressiveRender=b&&b.progressiveRender;return!!(y^n||h^c)&&"reset"}}},53849:(j,U,i)=>{var T=i(53639);T.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),T.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){})},38149:(j,U,i)=>{var w=i(54727).retrieveRawValue;U.getDefaultLabel=function t(M,I){var D=M.mapDimension("defaultedLabel",!0),b=D.length;if(1===b)return w(M,I,D[0]);if(b){for(var y=[],h=0;h<D.length;h++){var n=w(M,I,D[h]);y.push(n)}return y.join(" ")}}},90769:(j,U,i)=>{var T=i(66615),w="--\x3e",t=function(a){return a.get("autoCurveness")||null},M=function(a,u){var e=t(a),s=20,r=[];if("number"==typeof e)s=e;else if(T.isArray(e))return void(a.__curvenessList=e);u>s&&(s=u);var l=s%2?s+2:s+3;r=[];for(var d=0;d<l;d++)r.push((d%2?d+1:d)/10*(d%2?-1:1));a.__curvenessList=r},I=function(a,u,e){var s=[a.id,a.dataIndex].join("."),r=[u.id,u.dataIndex].join(".");return[e.uid,s,r].join(w)},D=function(a){var u=a.split(w);return[u[0],u[2],u[1]].join(w)},h=function(a,u){var e=u.__edgeMap;return e[a]?e[a].length:0};U.initCurvenessList=function n(a){t(a)&&(a.__curvenessList=[],a.__edgeMap={},M(a))},U.createEdgeMapForCurveness=function c(a,u,e,s){if(t(e)){var r=I(a,u,e),l=e.__edgeMap,d=l[D(r)];l[r]&&!d?l[r].isForward=!0:d&&l[r]&&(d.isForward=!0,l[r].isForward=!1),l[r]=l[r]||[],l[r].push(s)}},U.getCurvenessForEdge=function o(a,u,e,s){var r=t(u),l=T.isArray(r);if(!r)return null;var d=function(a,u){var e=I(a.node1,a.node2,u);return u.__edgeMap[e]}(a,u);if(!d)return null;for(var v=-1,f=0;f<d.length;f++)if(d[f]===e){v=f;break}var p=function(a,u){return h(I(a.node1,a.node2,u),u)+h(I(a.node2,a.node1,u),u)}(a,u);M(u,p),a.lineStyle=a.lineStyle||{};var S=I(a.node1,a.node2,u),C=u.__curvenessList,x=l||p%2?0:1;if(d.isForward)return C[x+v];var g=D(S),m=h(g,u),A=C[v+m+x];return s?l?r&&0===r[0]?(m+x)%2?A:-A:((m%2?0:1)+x)%2?A:-A:(m+x)%2?A:-A:C[v+m+x]}},89083:(j,U,i)=>{var T=i(66615);function t(D){for(var b=[];D;)(D=D.parentNode)&&b.push(D);return b.reverse()}U.retrieveTargetInfo=function w(D,b,y){if(D&&T.indexOf(b,D.type)>=0){var h=y.getData().tree.root,n=D.targetNode;if("string"==typeof n&&(n=h.getNodeById(n)),n&&h.contains(n))return{node:n};var c=D.targetNodeId;if(null!=c&&(n=h.getNodeById(c)))return{node:n}}},U.getPathToRoot=t,U.aboveViewRoot=function M(D,b){var y=t(D);return T.indexOf(y,b)>=0},U.wrapTreePathInfo=function I(D,b){for(var y=[];D;){var h=D.dataIndex;y.push({name:D.name,dataIndex:h,value:b.getRawValue(h)}),D=D.parentNode}return y.reverse(),y}},83382:(j,U,i)=>{var T=i(83002),w=i(66615),M=i(2747).getDimensionTypeByAxis,D=i(47458).makeSeriesEncodeForAxisCoordSys;U.seriesModelMixin={_baseAxisDim:null,getInitialData:function(y,h){var n,e,c=h.getComponent("xAxis",this.get("xAxisIndex")),o=h.getComponent("yAxis",this.get("yAxisIndex")),a=c.get("type"),u=o.get("type");"category"===a?(y.layout="horizontal",n=c.getOrdinalMeta(),e=!0):"category"===u?(y.layout="vertical",n=o.getOrdinalMeta(),e=!0):y.layout=y.layout||"horizontal";var s=["x","y"],r="horizontal"===y.layout?0:1,l=this._baseAxisDim=s[r],d=s[1-r],v=[c,o],f=v[r].get("type"),p=v[1-r].get("type"),S=y.data;if(S&&e){var C=[];w.each(S,function(m,A){var L;m.value&&w.isArray(m.value)?(L=m.value.slice(),m.value.unshift(A)):w.isArray(m)?(L=m.slice(),m.unshift(A)):L=m,C.push(L)}),y.data=C}var x=this.defaultValueDimensions,g=[{name:l,type:M(f),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:d,type:M(p),dimsDef:x.slice()}];return T(this,{coordDimensions:g,dimensionsCount:x.length+1,encodeDefaulter:w.curry(D,g,this)})},getBaseAxis:function(){var y=this._baseAxisDim;return this.ecModel.getComponent(y+"Axis",this.get(y+"AxisIndex")).axis}}},76322:(j,U,i)=>{var T=i(53639);i(15522),i(58811);var w=i(39141),t=i(19051),M=i(95915);i(95283),T.registerVisual(w("line","circle","line")),T.registerLayout(t("line")),T.registerProcessor(T.PRIORITY.PROCESSOR.STATISTIC,M("line"))},15522:(j,U,i)=>{i(78322);var t=i(8127),I=i(4263).extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(D,b){return t(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});j.exports=I},58811:(j,U,i)=>{i(78322);var t=i(66615),I=i(53020).fromPoints,D=i(57693),b=i(13124),y=i(98810),h=i(32694),n=i(21617),c=i(28037),o=c.Polyline,a=c.Polygon,u=i(24023),e=i(64199),s=e.prepareDataCoordInfo,r=e.getStackedOnPoint,l=i(287),d=l.createGridClipPath,v=l.createPolarClipPath;function f(N,R){if(N.length===R.length){for(var F=0;F<N.length;F++){var H=N[F],B=R[F];if(H[0]!==B[0]||H[1]!==B[1])return}return!0}}function p(N,R){var F=[],H=[],B=[],Z=[];return I(N,F,H),I(R,B,Z),Math.max(Math.abs(F[0]-B[0]),Math.abs(F[1]-B[1]),Math.abs(H[0]-Z[0]),Math.abs(H[1]-Z[1]))}function S(N){return"number"==typeof N?N:N?.5:0}function x(N,R,F){for(var H=R.getBaseAxis(),B="x"===H.dim||"radius"===H.dim?0:1,Z=[],W=0;W<N.length-1;W++){var $=N[W+1],Y=N[W];Z.push(Y);var V=[];switch(F){case"end":V[B]=$[B],V[1-B]=Y[1-B],Z.push(V);break;case"middle":var k=[];V[B]=k[B]=(Y[B]+$[B])/2,V[1-B]=Y[1-B],k[1-B]=$[1-B],Z.push(V),Z.push(k);break;default:V[B]=Y[B],V[1-B]=$[1-B],Z.push(V)}}return N[W]&&Z.push(N[W]),Z}function L(N,R,F){if("cartesian2d"===N.type){var H=N.getBaseAxis().isHorizontal(),B=d(N,R,F);if(!F.get("clip",!0)){var Z=B.shape,W=Math.max(Z.width,Z.height);H?(Z.y-=W,Z.height+=2*W):(Z.x-=W,Z.width+=2*W)}return B}return v(N,R,F)}var E=u.extend({type:"line",init:function(){var N=new h.Group,R=new D;this.group.add(R.group),this._symbolDraw=R,this._lineGroup=N},render:function(N,R,F){var H=N.coordinateSystem,B=this.group,Z=N.getData(),W=N.getModel("lineStyle"),$=N.getModel("areaStyle"),Y=Z.mapArray(Z.getItemLayout),V="polar"===H.type,z=this._coordSys,k=this._symbolDraw,X=this._polyline,q=this._polygon,et=this._lineGroup,rt=N.get("animation"),it=!$.isEmpty(),lt=$.get("origin"),ht=function C(N,R,F){if(!F.valueDim)return[];for(var H=[],B=0,Z=R.count();B<Z;B++)H.push(r(F,N,R,B));return H}(H,Z,s(H,Z,lt)),gt=N.get("showSymbol"),at=gt&&!V&&function m(N,R,F){var H=N.get("showAllSymbol"),B="auto"===H;if(!H||B){var Z=F.getAxesByScale("ordinal")[0];if(Z&&(!B||!function A(N,R){var F=N.getExtent(),H=Math.abs(F[1]-F[0])/N.scale.count();isNaN(H)&&(H=0);for(var B=R.count(),Z=Math.max(1,Math.round(B/5)),W=0;W<B;W+=Z)if(1.5*b.getSymbolSize(R,W)[N.isHorizontal()?1:0]>H)return!1;return!0}(Z,R))){var W=R.mapDimension(Z.dim),$={};return t.each(Z.getViewLabels(),function(Y){$[Y.tickValue]=1}),function(Y){return!$.hasOwnProperty(R.get(W,Y))}}}}(N,Z,H),ut=this._data;ut&&ut.eachItemGraphicEl(function(Pt,Zt){Pt.__temp&&(B.remove(Pt),ut.setItemGraphicEl(Zt,null))}),gt||k.remove(),B.add(et);var _t,Ct=!V&&N.get("step");H&&H.getArea&&N.get("clip",!0)&&(null!=(_t=H.getArea()).width?(_t.x-=.1,_t.y-=.1,_t.width+=.2,_t.height+=.2):_t.r0&&(_t.r0-=.5,_t.r1+=.5)),this._clipShapeForSymbol=_t,X&&z.type===H.type&&Ct===this._step?(it&&!q?q=this._newPolygon(Y,ht,H,rt):q&&!it&&(et.remove(q),q=this._polygon=null),et.setClipPath(L(H,!1,N)),gt&&k.updateData(Z,{isIgnore:at,clipShape:_t}),Z.eachItemGraphicEl(function(Pt){Pt.stopAnimation(!0)}),(!f(this._stackedOnPoints,ht)||!f(this._points,Y))&&(rt?this._updateAnimation(Z,ht,H,F,Ct,lt):(Ct&&(Y=x(Y,H,Ct),ht=x(ht,H,Ct)),X.setShape({points:Y}),q&&q.setShape({points:Y,stackedOnPoints:ht})))):(gt&&k.updateData(Z,{isIgnore:at,clipShape:_t}),Ct&&(Y=x(Y,H,Ct),ht=x(ht,H,Ct)),X=this._newPolyline(Y,H,rt),it&&(q=this._newPolygon(Y,ht,H,rt)),et.setClipPath(L(H,!0,N)));var bt=function g(N,R){var F=N.getVisual("visualMeta");if(F&&F.length&&N.count()&&"cartesian2d"===R.type){for(var H,B,Z=F.length-1;Z>=0;Z--){var Y=N.getDimensionInfo(N.dimensions[F[Z].dimension]);if("x"===(H=Y&&Y.coordDim)||"y"===H){B=F[Z];break}}if(B){var V=R.getAxis(H),z=t.map(B.stops,function(dt){return{coord:V.toGlobalCoord(V.dataToCoord(dt.value)),color:dt.color}}),k=z.length,X=B.outerColors.slice();k&&z[0].coord>z[k-1].coord&&(z.reverse(),X.reverse());var et=z[0].coord-10,rt=z[k-1].coord+10,it=rt-et;if(it<.001)return"transparent";t.each(z,function(dt){dt.offset=(dt.coord-et)/it}),z.push({offset:k?z[k-1].offset:.5,color:X[1]||"transparent"}),z.unshift({offset:k?z[0].offset:.5,color:X[0]||"transparent"});var lt=new h.LinearGradient(0,0,0,0,z,!0);return lt[H]=et,lt[H+"2"]=rt,lt}}}(Z,H)||Z.getVisual("color");X.useStyle(t.defaults(W.getLineStyle(),{fill:"none",stroke:bt,lineJoin:"bevel"}));var Rt=N.get("smooth");if(Rt=S(N.get("smooth")),X.setShape({smooth:Rt,smoothMonotone:N.get("smoothMonotone"),connectNulls:N.get("connectNulls")}),q){var yt=Z.getCalculationInfo("stackedOnSeries"),Tt=0;q.useStyle(t.defaults($.getAreaStyle(),{fill:bt,opacity:.7,lineJoin:"bevel"})),yt&&(Tt=S(yt.get("smooth"))),q.setShape({smooth:Rt,stackedOnSmooth:Tt,smoothMonotone:N.get("smoothMonotone"),connectNulls:N.get("connectNulls")})}this._data=Z,this._coordSys=H,this._stackedOnPoints=ht,this._points=Y,this._step=Ct,this._valueOrigin=lt},dispose:function(){},highlight:function(N,R,F,H){var B=N.getData(),Z=n.queryDataIndex(B,H);if(!(Z instanceof Array)&&null!=Z&&Z>=0){var W=B.getItemGraphicEl(Z);if(!W){var $=B.getItemLayout(Z);if(!$||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain($[0],$[1]))return;(W=new b(B,Z)).position=$,W.setZ(N.get("zlevel"),N.get("z")),W.ignore=isNaN($[0])||isNaN($[1]),W.__temp=!0,B.setItemGraphicEl(Z,W),W.stopSymbolAnimation(!0),this.group.add(W)}W.highlight()}else u.prototype.highlight.call(this,N,R,F,H)},downplay:function(N,R,F,H){var B=N.getData(),Z=n.queryDataIndex(B,H);if(null!=Z&&Z>=0){var W=B.getItemGraphicEl(Z);W&&(W.__temp?(B.setItemGraphicEl(Z,null),this.group.remove(W)):W.downplay())}else u.prototype.downplay.call(this,N,R,F,H)},_newPolyline:function(N){var R=this._polyline;return R&&this._lineGroup.remove(R),R=new o({shape:{points:N},silent:!0,z2:10}),this._lineGroup.add(R),this._polyline=R,R},_newPolygon:function(N,R){var F=this._polygon;return F&&this._lineGroup.remove(F),F=new a({shape:{points:N,stackedOnPoints:R},silent:!0}),this._lineGroup.add(F),this._polygon=F,F},_updateAnimation:function(N,R,F,H,B,Z){var W=this._polyline,$=this._polygon,Y=N.hostModel,V=y(this._data,N,this._stackedOnPoints,R,this._coordSys,F,this._valueOrigin,Z),z=V.current,k=V.stackedOnCurrent,X=V.next,q=V.stackedOnNext;if(B&&(z=x(V.current,F,B),k=x(V.stackedOnCurrent,F,B),X=x(V.next,F,B),q=x(V.stackedOnNext,F,B)),p(z,X)>3e3||$&&p(k,q)>3e3)return W.setShape({points:X}),void($&&$.setShape({points:X,stackedOnPoints:q}));W.shape.__points=V.current,W.shape.points=z,h.updateProps(W,{shape:{points:X}},Y),$&&($.setShape({points:z,stackedOnPoints:k}),h.updateProps($,{shape:{points:X,stackedOnPoints:q}},Y));for(var et=[],rt=V.status,it=0;it<rt.length;it++)if("="===rt[it].cmd){var dt=N.getItemGraphicEl(rt[it].idx1);dt&&et.push({el:dt,ptIdx:it})}W.animators&&W.animators.length&&W.animators[0].during(function(){for(var ht=0;ht<et.length;ht++)et[ht].el.attr("position",W.shape.__points[et[ht].ptIdx])})},remove:function(N){var R=this.group,F=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),F&&F.eachItemGraphicEl(function(H,B){H.__temp&&(R.remove(H),F.setItemGraphicEl(B,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});j.exports=E},64199:(j,U,i)=>{var w=i(69816).isDimensionStacked,M=i(66615).map;U.prepareDataCoordInfo=function I(y,h,n){var v,c=y.getBaseAxis(),o=y.getOtherAxis(c),a=function D(y,h){var n=0,c=y.scale.getExtent();return"start"===h?n=c[0]:"end"===h?n=c[1]:c[0]>0?n=c[0]:c[1]<0&&(n=c[1]),n}(o,n),u=c.dim,e=o.dim,s=h.mapDimension(e),r=h.mapDimension(u),l="x"===e||"radius"===e?1:0,d=M(y.dimensions,function(p){return h.mapDimension(p)}),f=h.getCalculationInfo("stackResultDimension");return(v|=w(h,d[0]))&&(d[0]=f),(v|=w(h,d[1]))&&(d[1]=f),{dataDimsForPoint:d,valueStart:a,valueAxisDim:e,baseAxisDim:u,stacked:!!v,valueDim:s,baseDim:r,baseDataOffset:l,stackedOverDimension:h.getCalculationInfo("stackedOverDimension")}},U.getStackedOnPoint=function b(y,h,n,c){var o=NaN;y.stacked&&(o=n.get(n.getCalculationInfo("stackedOverDimension"),c)),isNaN(o)&&(o=y.valueStart);var a=y.baseDataOffset,u=[];return u[a]=n.get(y.baseDim,c),u[1-a]=o,h.dataToPoint(u)}},98810:(j,U,i)=>{var T=i(64199),w=T.prepareDataCoordInfo,t=T.getStackedOnPoint;j.exports=function I(D,b,y,h,n,c,o,a){for(var u=function M(D,b){var y=[];return b.diff(D).add(function(h){y.push({cmd:"+",idx:h})}).update(function(h,n){y.push({cmd:"=",idx:n,idx1:h})}).remove(function(h){y.push({cmd:"-",idx:h})}).execute(),y}(D,b),e=[],s=[],r=[],l=[],d=[],v=[],f=[],p=w(n,b,o),S=w(c,D,a),C=0;C<u.length;C++){var x=u[C],g=!0;switch(x.cmd){case"=":var m=D.getItemLayout(x.idx),A=b.getItemLayout(x.idx1);(isNaN(m[0])||isNaN(m[1]))&&(m=A.slice()),e.push(m),s.push(A),r.push(y[x.idx]),l.push(h[x.idx1]),f.push(b.getRawIndex(x.idx1));break;case"+":e.push(n.dataToPoint([b.get(p.dataDimsForPoint[0],L=x.idx),b.get(p.dataDimsForPoint[1],L)])),s.push(b.getItemLayout(L).slice()),r.push(t(p,n,b,L)),l.push(h[L]),f.push(b.getRawIndex(L));break;case"-":var E=D.getRawIndex(L=x.idx);E!==L?(e.push(D.getItemLayout(L)),s.push(c.dataToPoint([D.get(S.dataDimsForPoint[0],L),D.get(S.dataDimsForPoint[1],L)])),r.push(y[L]),l.push(t(S,c,D,L)),f.push(E)):g=!1}g&&(d.push(x),v.push(v.length))}v.sort(function(Z,W){return f[Z]-f[W]});var N=[],R=[],F=[],H=[],B=[];for(C=0;C<v.length;C++){var L;N[C]=e[L=v[C]],R[C]=s[L],F[C]=r[L],H[C]=l[L],B[C]=d[L]}return{current:N,next:R,stackedOnCurrent:F,stackedOnNext:H,status:B}}},28037:(j,U,i)=>{var T=i(40465),w=i(8544),t=i(34777),M=w.min,I=w.max,D=w.scaleAndAdd,b=w.copy,y=[],h=[],n=[];function c(l){return isNaN(l[0])||isNaN(l[1])}function o(l,d,v,f,p,S,C,x,g,m,A){return"none"!==m&&m?a.apply(this,arguments):u.apply(this,arguments)}function a(l,d,v,f,p,S,C,x,g,m,A){for(var L=0,E=v,N=0;N<f;N++){var R=d[E];if(E>=p||E<0)break;if(c(R)){if(A){E+=S;continue}break}if(E===v)l[S>0?"moveTo":"lineTo"](R[0],R[1]);else if(g>0){var F=d[L],H="y"===m?1:0,B=(R[H]-F[H])*g;b(h,F),h[H]=F[H]+B,b(n,R),n[H]=R[H]-B,l.bezierCurveTo(h[0],h[1],n[0],n[1],R[0],R[1])}else l.lineTo(R[0],R[1]);L=E,E+=S}return N}function u(l,d,v,f,p,S,C,x,g,m,A){for(var L=0,E=v,N=0;N<f;N++){var R=d[E];if(E>=p||E<0)break;if(c(R)){if(A){E+=S;continue}break}if(E===v)l[S>0?"moveTo":"lineTo"](R[0],R[1]),b(h,R);else if(g>0){var F=E+S,Z=d[F];if(A)for(;Z&&c(d[F]);)Z=d[F+=S];var H=.5,B=d[L];if(!(Z=d[F])||c(Z))b(n,R);else{var W,$;if(c(Z)&&!A&&(Z=R),w.sub(y,Z,B),"x"===m||"y"===m){var Y="x"===m?0:1;W=Math.abs(R[Y]-B[Y]),$=Math.abs(R[Y]-Z[Y])}else W=w.dist(R,B),$=w.dist(R,Z);D(n,R,y,-g*(1-(H=$/($+W))))}M(h,h,x),I(h,h,C),M(n,n,x),I(n,n,C),l.bezierCurveTo(h[0],h[1],n[0],n[1],R[0],R[1]),D(h,R,y,g*H)}else l.lineTo(R[0],R[1]);L=E,E+=S}return N}function e(l,d){var v=[1/0,1/0],f=[-1/0,-1/0];if(d)for(var p=0;p<l.length;p++){var S=l[p];S[0]<v[0]&&(v[0]=S[0]),S[1]<v[1]&&(v[1]=S[1]),S[0]>f[0]&&(f[0]=S[0]),S[1]>f[1]&&(f[1]=S[1])}return{min:d?v:f,max:d?f:v}}var s=T.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:t(T.prototype.brush),buildPath:function(l,d){var v=d.points,f=0,p=v.length,S=e(v,d.smoothConstraint);if(d.connectNulls){for(;p>0&&c(v[p-1]);p--);for(;f<p&&c(v[f]);f++);}for(;f<p;)f+=o(l,v,f,p,p,1,S.min,S.max,d.smooth,d.smoothMonotone,d.connectNulls)+1}}),r=T.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:t(T.prototype.brush),buildPath:function(l,d){var v=d.points,f=d.stackedOnPoints,p=0,S=v.length,C=d.smoothMonotone,x=e(v,d.smoothConstraint),g=e(f,d.smoothConstraint);if(d.connectNulls){for(;S>0&&c(v[S-1]);S--);for(;p<S&&c(v[p]);p++);}for(;p<S;){var m=o(l,v,p,S,S,1,x.min,x.max,d.smooth,C,d.connectNulls);o(l,f,p+m-1,m,S,-1,g.min,g.max,d.stackedOnSmooth,C,d.connectNulls),p+=m+1,l.closePath()}}});U.Polyline=s,U.Polygon=r},58624:(j,U,i)=>{var T=i(53639);i(11868),i(14291);var w=i(27334),t=i(91023);T.registerLayout(w),T.registerVisual(t)},11868:(j,U,i)=>{i(78322);var t=i(4263),M=i(47563),I=i(66615),D=I.concatArray,b=I.mergeAll,y=I.map,n=i(42977).encodeHTML,o=(i(51548),typeof Uint32Array>"u"?Array:Uint32Array),a=typeof Float64Array>"u"?Array:Float64Array;function u(r){var l=r.data;l&&l[0]&&l[0][0]&&l[0][0].coord&&(r.data=y(l,function(d){var f={coords:[d[0].coord,d[1].coord]};return d[0].name&&(f.fromName=d[0].name),d[1].name&&(f.toName=d[1].name),b([f,d[0],d[1]])}))}var e=t.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(r){r.data=r.data||[],u(r);var l=this._processFlatCoordsArray(r.data);this._flatCoords=l.flatCoords,this._flatCoordsOffset=l.flatCoordsOffset,l.flatCoords&&(r.data=new Float32Array(l.count)),e.superApply(this,"init",arguments)},mergeOption:function(r){if(u(r),r.data){var l=this._processFlatCoordsArray(r.data);this._flatCoords=l.flatCoords,this._flatCoordsOffset=l.flatCoordsOffset,l.flatCoords&&(r.data=new Float32Array(l.count))}e.superApply(this,"mergeOption",arguments)},appendData:function(r){var l=this._processFlatCoordsArray(r.data);l.flatCoords&&(this._flatCoords?(this._flatCoords=D(this._flatCoords,l.flatCoords),this._flatCoordsOffset=D(this._flatCoordsOffset,l.flatCoordsOffset)):(this._flatCoords=l.flatCoords,this._flatCoordsOffset=l.flatCoordsOffset),r.data=new Float32Array(l.count)),this.getRawData().appendData(r.data)},_getCoordsFromItemModel:function(r){var l=this.getData().getItemModel(r);return l.option instanceof Array?l.option:l.getShallow("coords")},getLineCoordsCount:function(r){return this._flatCoordsOffset?this._flatCoordsOffset[2*r+1]:this._getCoordsFromItemModel(r).length},getLineCoords:function(r,l){if(this._flatCoordsOffset){for(var d=this._flatCoordsOffset[2*r],v=this._flatCoordsOffset[2*r+1],f=0;f<v;f++)l[f]=l[f]||[],l[f][0]=this._flatCoords[d+2*f],l[f][1]=this._flatCoords[d+2*f+1];return v}var p=this._getCoordsFromItemModel(r);for(f=0;f<p.length;f++)l[f]=l[f]||[],l[f][0]=p[f][0],l[f][1]=p[f][1];return p.length},_processFlatCoordsArray:function(r){var l=0;if(this._flatCoords&&(l=this._flatCoords.length),"number"==typeof r[0]){for(var d=r.length,v=new o(d),f=new a(d),p=0,S=0,C=0,x=0;x<d;){C++;var g=r[x++];v[S++]=p+l,v[S++]=g;for(var m=0;m<g;m++){var A=r[x++],L=r[x++];f[p++]=A,f[p++]=L}}return{flatCoordsOffset:new Uint32Array(v.buffer,0,S),flatCoords:f,count:C}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},getInitialData:function(r,l){var d=new M(["value"],this);return d.hasItemOption=!1,d.initData(r.data,[],function(v,f,p,S){if(v instanceof Array)return NaN;d.hasItemOption=!0;var C=v.value;return null!=C?C instanceof Array?C[S]:C:void 0}),d},formatTooltip:function(r){var d=this.getData().getItemModel(r),v=d.get("name");if(v)return v;var f=d.get("fromName"),p=d.get("toName"),S=[];return null!=f&&S.push(f),null!=p&&S.push(p),n(S.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},getProgressiveThreshold:function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}});j.exports=e},14291:(j,U,i)=>{i(78322);var t=i(53639),M=i(17122),I=i(65206),D=i(35083),b=i(8611),y=i(28463),h=i(10809),n=i(27334),o=i(287).createClipPath,a=t.extendChartView({type:"lines",init:function(){},render:function(u,e,s){var r=u.getData(),l=this._updateLineDraw(r,u),d=u.get("zlevel"),v=u.get("effect.trailLength"),f=s.getZr(),p="svg"===f.painter.getType();p||f.painter.getLayer(d).clear(!0),null!=this._lastZlevel&&!p&&f.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(u)&&v&&(p||f.configLayer(d,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(v/10+.9,1),0)})),l.updateData(r);var S=u.get("clip",!0)&&o(u.coordinateSystem,!1,u);S?this.group.setClipPath(S):this.group.removeClipPath(),this._lastZlevel=d,this._finished=!0},incrementalPrepareRender:function(u,e,s){var r=u.getData();this._updateLineDraw(r,u).incrementalPrepareUpdate(r),this._clearLayer(s),this._finished=!1},incrementalRender:function(u,e,s){this._lineDraw.incrementalUpdate(u,e.getData()),this._finished=u.end===e.getData().count()},updateTransform:function(u,e,s){var r=u.getData(),l=u.pipelineContext;if(!this._finished||l.large||l.progressiveRender)return{update:!0};var d=n.reset(u);d.progress&&d.progress({start:0,end:r.count()},r),this._lineDraw.updateLayout(),this._clearLayer(s)},_updateLineDraw:function(u,e){var s=this._lineDraw,r=this._showEffect(e),l=!!e.get("polyline"),v=e.pipelineContext.large;return(!s||r!==this._hasEffet||l!==this._isPolyline||v!==this._isLargeDraw)&&(s&&s.remove(),s=this._lineDraw=v?new h:new M(l?r?y:b:r?I:D),this._hasEffet=r,this._isPolyline=l,this._isLargeDraw=v,this.group.removeAll()),this.group.add(s.group),s},_showEffect:function(u){return!!u.get("effect.show")},_clearLayer:function(u){var e=u.getZr();"svg"!==e.painter.getType()&&null!=this._lastZlevel&&e.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(u,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},dispose:function(){}});j.exports=a},27334:(j,U,i)=>{var w={seriesType:"lines",plan:i(79104)(),reset:function(t){var M=t.coordinateSystem,I=t.get("polyline"),D=t.pipelineContext.large;return{progress:function b(y,h){var n=[];if(D){var c,o=y.end-y.start;if(I){for(var a=0,u=y.start;u<y.end;u++)a+=t.getLineCoordsCount(u);c=new Float32Array(o+2*a)}else c=new Float32Array(4*o);var e=0,s=[];for(u=y.start;u<y.end;u++){var r=t.getLineCoords(u,n);I&&(c[e++]=r);for(var l=0;l<r;l++)s=M.dataToPoint(n[l],!1,s),c[e++]=s[0],c[e++]=s[1]}h.setLayout("linesPoints",c)}else for(u=y.start;u<y.end;u++){var d=h.getItemModel(u),v=(r=t.getLineCoords(u,n),[]);if(I)for(var f=0;f<r;f++)v.push(M.dataToPoint(n[f]));else{v[0]=M.dataToPoint(n[0]),v[1]=M.dataToPoint(n[1]);var p=d.get("lineStyle.curveness");+p&&(v[2]=[(v[0][0]+v[1][0])/2-(v[0][1]-v[1][1])*p,(v[0][1]+v[1][1])/2-(v[1][0]-v[0][0])*p])}h.setItemLayout(u,v)}}}}};j.exports=w},91023:j=>{function U(w){return w instanceof Array||(w=[w,w]),w}var i="lineStyle.opacity".split(".");j.exports={seriesType:"lines",reset:function(w,t,M){var I=U(w.get("symbol")),D=U(w.get("symbolSize")),b=w.getData();return b.setVisual("fromSymbol",I&&I[0]),b.setVisual("toSymbol",I&&I[1]),b.setVisual("fromSymbolSize",D&&D[0]),b.setVisual("toSymbolSize",D&&D[1]),b.setVisual("opacity",w.get(i)),{dataEach:b.hasItemOption?function y(h,n){var c=h.getItemModel(n),o=U(c.getShallow("symbol",!0)),a=U(c.getShallow("symbolSize",!0)),u=c.get(i);o[0]&&h.setItemVisual(n,"fromSymbol",o[0]),o[1]&&h.setItemVisual(n,"toSymbol",o[1]),a[0]&&h.setItemVisual(n,"fromSymbolSize",a[0]),a[1]&&h.setItemVisual(n,"toSymbolSize",a[1]),h.setItemVisual(n,"opacity",u)}:null}}}},85177:(j,U,i)=>{var T=i(53639);i(9792),i(41578),i(49597),i(71059);var w=i(33398),t=i(32584),M=i(69968),I=i(98936),D=i(17388);T.registerLayout(w),T.registerVisual(t),T.registerProcessor(T.PRIORITY.PROCESSOR.STATISTIC,M),T.registerPreprocessor(I),D("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},9792:(j,U,i)=>{var T=i(66615),w=i(83002),t=i(4263),M=i(42977),I=M.encodeHTML,D=M.addCommas,b=i(22637),h=i(54727).retrieveRawAttr,n=i(59191),o=i(47458).makeSeriesEncodeForNameBased,a=t.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(e){for(var s=w(this,{coordDimensions:["value"],encodeDefaulter:T.curry(o,this)}),r=s.mapDimension("value"),l=T.createHashMap(),d=[],v=[],f=0,p=s.count();f<p;f++){var S=s.getName(f);l.set(S,!0),d.push({name:S,value:s.get(r,f),selected:h(s,f,"selected")})}var C=n.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return T.each(C.regions,function(x){var g=x.name;l.get(g)||(d.push({name:g}),v.push(g))}),this.updateSelectedMap(d),s.appendValues([],v),s},getHostGeoModel:function(){var e=this.option.geoIndex;return null!=e?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(e){var s=this.getData();return s.get(s.mapDimension("value"),e)},getRegionModel:function(e){var s=this.getData();return s.getItemModel(s.indexOfName(e))},formatTooltip:function(e,s,r,l){for(var d=this.getData(),v=D(this.getRawValue(e)),f=d.getName(e),p=this.seriesGroup,S=[],C=0;C<p.length;C++){var x=p[C].originalData.indexOfName(f),g=d.mapDimension("value");isNaN(p[C].originalData.get(g,x))||S.push(I(p[C].name))}var m="html"===l?"<br/>":"\n";return S.join(", ")+m+I(f+" : "+v)},getTooltipPosition:function(e){if(null!=e){var s=this.getData().getName(e),r=this.coordinateSystem,l=r.getRegion(s);return l&&r.dataToPoint(l.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},nameProperty:"name"}});T.mixin(a,b),j.exports=a},41578:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(32694),M=i(88661),I="__seriesMapHighDown",D="__seriesMapCallKey",b=T.extendChartView({type:"map",render:function(n,c,o,a){if(!a||"mapToggleSelect"!==a.type||a.from!==this.uid){var u=this.group;if(u.removeAll(),!n.getHostGeoModel()){if(a&&"geoRoam"===a.type&&"series"===a.componentType&&a.seriesId===n.id)(e=this._mapDraw)&&u.add(e.group);else if(n.needsDrawMap){var e=this._mapDraw||new M(o,!0);u.add(e.group),e.draw(n,c,o,this,a),this._mapDraw=e}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;n.get("showLegendSymbol")&&c.getComponent("legend")&&this._renderSymbols(n,c,o)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(n,c,o){var a=n.originalData,u=this.group;a.each(a.mapDimension("value"),function(e,s){if(!isNaN(e)){var r=a.getItemLayout(s);if(r&&r.point){var l=r.point,d=r.offset,v=new t.Circle({style:{fill:n.getData().getVisual("color")},shape:{cx:l[0]+9*d,cy:l[1],r:3},silent:!0,z2:8+(d?0:t.Z2_EMPHASIS_LIFT+1)});if(!d){var f=n.mainSeries.getData(),p=a.getName(s),S=f.indexOfName(p),C=a.getItemModel(s),x=C.getModel("label"),g=C.getModel("emphasis.label"),m=f.getItemGraphicEl(S),A=w.retrieve2(n.getFormattedLabel(S,"normal"),p),L=w.retrieve2(n.getFormattedLabel(S,"emphasis"),A),E=m[I],N=Math.random();if(!E){E=m[I]={};var R=w.curry(y,!0),F=w.curry(y,!1);m.on("mouseover",R).on("mouseout",F).on("emphasis",R).on("normal",F)}m[D]=N,w.extend(E,{recordVersion:N,circle:v,labelModel:x,hoverLabelModel:g,emphasisText:L,normalText:A}),h(E,!1)}u.add(v)}}})}});function y(n){var c=this[I];c&&c.recordVersion===this[D]&&h(c,n)}function h(n,c){var o=n.circle,a=n.labelModel,u=n.hoverLabelModel,e=n.emphasisText,s=n.normalText;c?(o.style.extendFrom(t.setTextStyle({},u,{text:u.get("show")?e:null},{isRectText:!0,useInsideStyle:!1},!0)),o.__mapOriginalZ2=o.z2,o.z2+=t.Z2_EMPHASIS_LIFT):(t.setTextStyle(o.style,a,{text:a.get("show")?s:null,textPosition:a.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),o.dirty(!1),null!=o.__mapOriginalZ2&&(o.z2=o.__mapOriginalZ2,o.__mapOriginalZ2=null))}j.exports=b},98936:(j,U,i)=>{var T=i(66615);j.exports=function w(t){var M=[];T.each(t.series,function(I){I&&"map"===I.type&&(M.push(I),I.map=I.map||I.mapType,T.defaults(I,I.mapLocation))})}},69968:(j,U,i)=>{var T=i(66615);j.exports=function t(M){var I={};M.eachSeriesByType("map",function(D){var b=D.getHostGeoModel(),y=b?"o"+b.id:"i"+D.getMapType();(I[y]=I[y]||[]).push(D)}),T.each(I,function(D,b){for(var y=function w(M,I){var D={};return T.each(M,function(b){b.each(b.mapDimension("value"),function(y,h){var n="ec-"+b.getName(h);D[n]=D[n]||[],isNaN(y)||D[n].push(y)})}),M[0].map(M[0].mapDimension("value"),function(b,y){for(var h="ec-"+M[0].getName(y),n=0,c=1/0,o=-1/0,a=D[h].length,u=0;u<a;u++)c=Math.min(c,D[h][u]),o=Math.max(o,D[h][u]),n+=D[h][u];return 0===a?NaN:"min"===I?c:"max"===I?o:"average"===I?n/a:n})}(T.map(D,function(n){return n.getData()}),D[0].get("mapValueCalculation")),h=0;h<D.length;h++)D[h].originalData=D[h].getData();for(h=0;h<D.length;h++)D[h].seriesGroup=D,D[h].needsDrawMap=0===h&&!D[h].getHostGeoModel(),D[h].setData(y.cloneShallow()),D[h].mainSeries=D[0]})}},33398:(j,U,i)=>{var T=i(66615);j.exports=function w(t){var M={};t.eachSeriesByType("map",function(I){var D=I.getMapType();if(!I.getHostGeoModel()&&!M[D]){var b={};T.each(I.seriesGroup,function(h){var n=h.coordinateSystem,c=h.originalData;h.get("showLegendSymbol")&&t.getComponent("legend")&&c.each(c.mapDimension("value"),function(o,a){var u=c.getName(a),e=n.getRegion(u);if(e&&!isNaN(o)){var s=b[u]||0,r=n.dataToPoint(e.center);b[u]=s+1,c.setItemLayout(a,{point:r,offset:s})}})});var y=I.getData();y.each(function(h){var n=y.getName(h),c=y.getItemLayout(h)||{};c.showLabel=!b[n],y.setItemLayout(h,c)}),M[D]=!0}})}},32584:j=>{j.exports=function U(i){i.eachSeriesByType("map",function(T){var w=T.get("color"),t=T.getModel("itemStyle"),M=t.get("areaColor"),I=t.get("color")||w[T.seriesIndex%w.length];T.getData().setVisual({areaColor:M,color:I})})}},62598:(j,U,i)=>{var T=i(53639);i(36945),i(97274),i(3990);var w=i(7439);T.registerVisual(w)},97274:(j,U,i)=>{var T=i(66615),w=T.each,t=T.createHashMap,M=i(4263),I=i(8127),D=M.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(h,n){var c=this.getSource();return function b(h,n){if(!h.encodeDefine){var c=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(c){var o=h.encodeDefine=t();w(c.dimensions,function(a){var u=function y(h){return+h.replace("dim","")}(a);o.set(a,u)})}}}(c,this),I(c,this)},getRawIndicesByActiveState:function(h){var n=this.coordinateSystem,c=this.getData(),o=[];return n.eachActiveState(c,function(a,u){h===a&&o.push(c.getRawIndex(u))}),o},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});j.exports=D},3990:(j,U,i)=>{var T=i(32694),w=i(24023),t=.3,M=w.extend({type:"parallel",init:function(){this._dataGroup=new T.Group,this.group.add(this._dataGroup)},render:function(o,a,u,e){var s=this._dataGroup,r=o.getData(),l=this._data,d=o.coordinateSystem,v=d.dimensions,f=y(o);if(r.diff(l).add(function p(g){h(b(r,s,g,v,d),r,g,f)}).update(function S(g,m){var A=l.getItemGraphicEl(m),L=D(r,g,v,d);r.setItemGraphicEl(g,A),T.updateProps(A,{shape:{points:L}},e&&!1===e.animation?null:o,g),h(A,r,g,f)}).remove(function C(g){var m=l.getItemGraphicEl(g);s.remove(m)}).execute(),!this._initialized){this._initialized=!0;var x=function I(o,a,u){var e=o.model,s=o.getRect(),r=new T.Rect({shape:{x:s.x,y:s.y,width:s.width,height:s.height}}),l="horizontal"===e.get("layout")?"width":"height";return r.setShape(l,0),T.initProps(r,{shape:{width:s.width,height:s.height}},a,u),r}(d,o,function(){setTimeout(function(){s.removeClipPath()})});s.setClipPath(x)}this._data=r},incrementalPrepareRender:function(o,a,u){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(o,a,u){for(var e=a.getData(),s=a.coordinateSystem,r=s.dimensions,l=y(a),d=o.start;d<o.end;d++){var v=b(e,this._dataGroup,d,r,s);v.incremental=!0,h(v,e,d,l)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});function D(o,a,u,e){for(var s=[],r=0;r<u.length;r++){var l=u[r],d=o.get(o.mapDimension(l),a);n(d,e.getAxis(l).type)||s.push(e.dataToPoint(d,l))}return s}function b(o,a,u,e,s){var r=D(o,u,e,s),l=new T.Polyline({shape:{points:r},silent:!0,z2:10});return a.add(l),o.setItemGraphicEl(u,l),l}function y(o){var a=o.get("smooth",!0);return!0===a&&(a=t),{lineStyle:o.getModel("lineStyle").getLineStyle(),smooth:a??t}}function h(o,a,u,e){var s=e.lineStyle;a.hasItemOption&&(s=a.getItemModel(u).getModel("lineStyle").getLineStyle()),o.useStyle(s);var l=o.style;l.fill=null,l.stroke=a.getItemVisual(u,"color"),l.opacity=a.getItemVisual(u,"opacity"),e.smooth&&(o.shape.smooth=e.smooth)}function n(o,a){return"category"===a?null==o:null==o||isNaN(o)}j.exports=M},7439:j=>{var U=["lineStyle","normal","opacity"];j.exports={seriesType:"parallel",reset:function(T,w,t){var M=T.getModel("itemStyle"),I=T.getModel("lineStyle"),D=w.get("color"),b=I.get("color")||M.get("color")||D[T.seriesIndex%D.length],y=T.get("inactiveOpacity"),h=T.get("activeOpacity"),n=T.getModel("lineStyle").getLineStyle(),c=T.coordinateSystem,o=T.getData(),a={normal:n.opacity,active:h,inactive:y};return o.setVisual("color",b),{progress:function u(e,s){c.eachActiveState(s,function(r,l){var d=a[r];if("normal"===r&&s.hasItemOption){var v=s.getItemModel(l).get(U,!0);null!=v&&(d=v)}s.setItemVisual(l,"opacity",d)},e.start,e.end)}}}}},6318:(j,U,i)=>{var T=i(53639),w=i(66615);i(6927),i(67552),i(23512);var M=i(98253).layout,I=i(39141);i(95283),T.registerLayout(w.curry(M,"pictorialBar")),T.registerVisual(I("pictorialBar","roundRect"))},20520:(j,U,i)=>{var T=i(53639),w=i(66615);i(49528),i(87311);var t=i(17388),M=i(86051),I=i(6473),D=i(67174);t("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),T.registerVisual(M("pie")),T.registerLayout(w.curry(I,"pie")),T.registerProcessor(D("pie"))},49528:(j,U,i)=>{var T=i(53639),w=i(83002),t=i(66615),M=i(21617),D=i(68301).getPercentWithPrecision,b=i(22637),h=i(54727).retrieveRawAttr,c=i(47458).makeSeriesEncodeForNameBased,o=i(9736),a=T.extendSeriesModel({type:"series.pie",init:function(e){a.superApply(this,"init",arguments),this.legendVisualProvider=new o(t.bind(this.getData,this),t.bind(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(e)},mergeOption:function(e){a.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e,s){return w(this,{coordDimensions:["value"],encodeDefaulter:t.curry(c,this)})},_createSelectableList:function(){for(var e=this.getRawData(),s=e.mapDimension("value"),r=[],l=0,d=e.count();l<d;l++)r.push({name:e.getName(l),value:e.get(s,l),selected:h(e,l,"selected")});return r},getDataParams:function(e){var s=this.getData(),r=a.superCall(this,"getDataParams",e),l=[];return s.each(s.mapDimension("value"),function(d){l.push(d)}),r.percent=D(l,e,s.hostModel.get("percentPrecision")),r.$vars.push("percent"),r},_defaultLabelLine:function(e){M.defaultEmphasis(e,"labelLine",["show"]);var s=e.labelLine,r=e.emphasis.labelLine;s.show=s.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});t.mixin(a,b),j.exports=a},87311:(j,U,i)=>{var T=i(66615),w=i(32694),t=i(24023);function M(n,c,o,a){var u=c.getData(),s=u.getName(this.dataIndex),r=c.get("selectedOffset");a.dispatchAction({type:"pieToggleSelect",from:n,name:s,seriesId:c.id}),u.each(function(l){I(u.getItemGraphicEl(l),u.getItemLayout(l),c.isSelected(u.getName(l)),r,o)})}function I(n,c,o,a,u){var e=(c.startAngle+c.endAngle)/2,l=o?a:0,d=[Math.cos(e)*l,Math.sin(e)*l];u?n.animate().when(200,{position:d}).start("bounceOut"):n.attr("position",d)}function D(n,c){w.Group.call(this);var o=new w.Sector({z2:2}),a=new w.Polyline,u=new w.Text;this.add(o),this.add(a),this.add(u),this.updateData(n,c,!0)}var b=D.prototype;b.updateData=function(n,c,o){var a=this.childAt(0),u=this.childAt(1),e=this.childAt(2),s=n.hostModel,r=n.getItemModel(c),l=n.getItemLayout(c),d=T.extend({},l);d.label=null;var v=s.getShallow("animationTypeUpdate");o?(a.setShape(d),"scale"===s.getShallow("animationType")?(a.shape.r=l.r0,w.initProps(a,{shape:{r:l.r}},s,c)):(a.shape.endAngle=l.startAngle,w.updateProps(a,{shape:{endAngle:l.endAngle}},s,c))):"expansion"===v?a.setShape(d):w.updateProps(a,{shape:d},s,c);var p=n.getItemVisual(c,"color");a.useStyle(T.defaults({lineJoin:"bevel",fill:p},r.getModel("itemStyle").getItemStyle())),a.hoverStyle=r.getModel("emphasis.itemStyle").getItemStyle();var S=r.getShallow("cursor");S&&a.attr("cursor",S),I(this,n.getItemLayout(c),s.isSelected(n.getName(c)),s.get("selectedOffset"),s.get("animation")),this._updateLabel(n,c,!o&&"transition"===v),this.highDownOnUpdate=s.get("silent")?null:function(x,g){var m=s.isAnimationEnabled()&&r.get("hoverAnimation");"emphasis"===g?(u.ignore=u.hoverIgnore,e.ignore=e.hoverIgnore,m&&(a.stopAnimation(!0),a.animateTo({shape:{r:l.r+s.get("hoverOffset")}},300,"elasticOut"))):(u.ignore=u.normalIgnore,e.ignore=e.normalIgnore,m&&(a.stopAnimation(!0),a.animateTo({shape:{r:l.r}},300,"elasticOut")))},w.setHoverStyle(this)},b._updateLabel=function(n,c,o){var a=this.childAt(1),u=this.childAt(2),e=n.hostModel,s=n.getItemModel(c),l=n.getItemLayout(c).label,x=n.getItemVisual(c,"color");if(!l||isNaN(l.x)||isNaN(l.y))u.ignore=u.normalIgnore=u.hoverIgnore=a.ignore=a.normalIgnore=a.hoverIgnore=!0;else{var d={points:l.linePoints||[[l.x,l.y],[l.x,l.y],[l.x,l.y]]},v={x:l.x,y:l.y};o?(w.updateProps(a,{shape:d},e,c),w.updateProps(u,{style:v},e,c)):(a.attr({shape:d}),u.attr({style:v})),u.attr({rotation:l.rotation,origin:[l.x,l.y],z2:10});var f=s.getModel("label"),p=s.getModel("emphasis.label"),S=s.getModel("labelLine"),C=s.getModel("emphasis.labelLine");x=n.getItemVisual(c,"color"),w.setLabelStyle(u.style,u.hoverStyle={},f,p,{labelFetcher:n.hostModel,labelDataIndex:c,defaultText:l.text,autoColor:x,useInsideStyle:!!l.inside},{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign,opacity:n.getItemVisual(c,"opacity")}),u.ignore=u.normalIgnore=!f.get("show"),u.hoverIgnore=!p.get("show"),a.ignore=a.normalIgnore=!S.get("show"),a.hoverIgnore=!C.get("show"),a.setStyle({stroke:x,opacity:n.getItemVisual(c,"opacity")}),a.setStyle(S.getModel("lineStyle").getLineStyle()),a.hoverStyle=C.getModel("lineStyle").getLineStyle();var g=S.get("smooth");g&&!0===g&&(g=.4),a.setShape({smooth:g})}},T.inherits(D,w.Group);var y=t.extend({type:"pie",init:function(){var n=new w.Group;this._sectorGroup=n},render:function(n,c,o,a){if(!a||a.from!==this.uid){var u=n.getData(),e=this._data,s=this.group,r=c.get("animation"),l=!e,d=n.get("animationType"),v=n.get("animationTypeUpdate"),f=T.curry(M,this.uid,n,r,o),p=n.get("selectedMode");if(u.diff(e).add(function(m){var A=new D(u,m);l&&"scale"!==d&&A.eachChild(function(L){L.stopAnimation(!0)}),p&&A.on("click",f),u.setItemGraphicEl(m,A),s.add(A)}).update(function(m,A){var L=e.getItemGraphicEl(A);!l&&"transition"!==v&&L.eachChild(function(E){E.stopAnimation(!0)}),L.updateData(u,m),L.off("click"),p&&L.on("click",f),s.add(L),u.setItemGraphicEl(m,L)}).remove(function(m){var A=e.getItemGraphicEl(m);s.remove(A)}).execute(),r&&u.count()>0&&(l?"scale"!==d:"transition"!==v)){for(var S=u.getItemLayout(0),C=1;isNaN(S.startAngle)&&C<u.count();++C)S=u.getItemLayout(C);var x=Math.max(o.getWidth(),o.getHeight())/2,g=T.bind(s.removeClipPath,s);s.setClipPath(this._createClipPath(S.cx,S.cy,x,S.startAngle,S.clockwise,g,n,l))}else s.removeClipPath();this._data=u}},dispose:function(){},_createClipPath:function(n,c,o,a,u,e,s,r){var l=new w.Sector({shape:{cx:n,cy:c,r0:0,r:o,startAngle:a,endAngle:a,clockwise:u}});return(r?w.initProps:w.updateProps)(l,{shape:{endAngle:a+(u?1:-1)*Math.PI*2}},s,e),l},containPoint:function(n,c){var a=c.getData().getItemLayout(0);if(a){var u=n[0]-a.cx,e=n[1]-a.cy,s=Math.sqrt(u*u+e*e);return s<=a.r&&s>=a.r0}}});j.exports=y},72785:(j,U,i)=>{var T=i(50585),t=i(68301).parsePercent,M=Math.PI/180;function I(h,n,c,o,a,u,e,s,r,l){function d(L,E,N,R){for(var F=L;F<E&&!(h[F].y+N>r+e);F++)if(h[F].y+=N,F>L&&F+1<E&&h[F+1].y>h[F].y+h[F].height)return void v(F,N/2);v(E-1,N/2)}function v(L,E){for(var N=L;N>=0&&!(h[N].y-E<r||(h[N].y-=E,N>0&&h[N].y>h[N-1].y+h[N-1].height));N--);}function f(L,E,N,R,F,H){for(var B=E?Number.MAX_VALUE:0,Z=0,W=L.length;Z<W;Z++)if("none"===L[Z].labelAlignTo){var $=Math.abs(L[Z].y-R),Y=L[Z].len,V=L[Z].len2,z=$<F+Y?Math.sqrt((F+Y+V)*(F+Y+V)-$*$):Math.abs(L[Z].x-N);E&&z>=B&&(z=B-10),!E&&z<=B&&(z=B+10),L[Z].x=N+z*H,B=z}}h.sort(function(L,E){return L.y-E.y});for(var S,p=0,C=h.length,x=[],g=[],m=0;m<C;m++)"outer"===h[m].position&&"labelLine"===h[m].labelAlignTo&&(h[m].linePoints[1][0]+=h[m].x-l,h[m].x=l),(S=h[m].y-p)<0&&d(m,C,-S),p=h[m].y+h[m].height;for(e-p<0&&v(C-1,p-e),m=0;m<C;m++)h[m].y>=c?g.push(h[m]):x.push(h[m]);f(x,!1,n,c,o,a),f(g,!0,n,c,o,a)}function b(h){return"center"===h.position}j.exports=function y(h,n,c,o,a,u){var r,l,e=h.getData(),s=[],d=!1,v=(h.get("minShowLabelAngle")||0)*M;e.each(function(f){var p=e.getItemLayout(f),S=e.getItemModel(f),C=S.getModel("label"),x=C.get("position")||S.get("emphasis.label.position"),g=C.get("distanceToLabelLine"),m=C.get("alignTo"),A=t(C.get("margin"),c),L=C.get("bleedMargin"),E=C.getFont(),N=S.getModel("labelLine"),R=N.get("length");R=t(R,c);var F=N.get("length2");if(F=t(F,c),!(p.angle<v)){var W,$,Y,V,H=(p.startAngle+p.endAngle)/2,B=Math.cos(H),Z=Math.sin(H);r=p.cx,l=p.cy;var z=h.getFormattedLabel(f,"normal")||e.getName(f),k=T.getBoundingRect(z,E,V,"top"),X="inside"===x||"inner"===x;if("center"===x)W=p.cx,$=p.cy,V="center";else{var q=(X?(p.r+p.r0)/2*B:p.r*B)+r,et=(X?(p.r+p.r0)/2*Z:p.r*Z)+l;if(W=q+3*B,$=et+3*Z,!X){var rt=q+B*(R+n-p.r),it=et+Z*(R+n-p.r),lt=rt+(B<0?-1:1)*F;W="edge"===m?B<0?a+A:a+c-A:lt+(B<0?-g:g),$=it,Y=[[q,et],[rt,it],[lt,it]]}V=X?"center":"edge"===m?B>0?"right":"left":B>0?"left":"right"}var ht,gt=C.get("rotate");ht="number"==typeof gt?gt*(Math.PI/180):gt?B<0?-H+Math.PI:-H:0,d=!!ht,p.label={x:W,y:$,position:x,height:k.height,len:R,len2:F,linePoints:Y,textAlign:V,verticalAlign:"middle",rotation:ht,inside:X,labelDistance:g,labelAlignTo:m,labelMargin:A,bleedMargin:L,textRect:k,text:z,font:E},X||s.push(p.label)}}),!d&&h.get("avoidLabelOverlap")&&function D(h,n,c,o,a,u,e,s){for(var r=[],l=[],d=Number.MAX_VALUE,v=-Number.MAX_VALUE,f=0;f<h.length;f++)b(h[f])||(h[f].x<n?(d=Math.min(d,h[f].x),r.push(h[f])):(v=Math.max(v,h[f].x),l.push(h[f])));for(I(l,n,c,o,1,0,u,0,s,v),I(r,n,c,o,-1,0,u,0,s,d),f=0;f<h.length;f++){var p=h[f];if(!b(p)){var S=p.linePoints;if(S){var g,C="edge"===p.labelAlignTo,x=p.textRect.width;(g=C?p.x<n?S[2][0]-p.labelDistance-e-p.labelMargin:e+a-p.labelMargin-S[2][0]-p.labelDistance:p.x<n?p.x-e-p.bleedMargin:e+a-p.x-p.bleedMargin)<p.textRect.width&&(p.text=T.truncateText(p.text,g,p.font),"edge"===p.labelAlignTo&&(x=T.getWidth(p.text,p.font)));var m=S[1][0]-S[2][0];C?S[2][0]=p.x<n?e+p.labelMargin+x+p.labelDistance:e+a-p.labelMargin-x-p.labelDistance:(S[2][0]=p.x<n?p.x+p.labelDistance:p.x-p.labelDistance,S[1][0]=S[2][0]+m),S[1][1]=S[2][1]=p.y}}}}(s,r,l,n,c,o,a,u)}},6473:(j,U,i)=>{var T=i(68301),w=T.parsePercent,t=T.linearMap,M=i(10942),I=i(72785),D=i(66615),b=2*Math.PI,y=Math.PI/180;j.exports=function n(c,o,a,u){o.eachSeriesByType(c,function(e){var s=e.getData(),r=s.mapDimension("value"),l=function h(c,o){return M.getLayoutRect(c.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()})}(e,a),d=e.get("center"),v=e.get("radius");D.isArray(v)||(v=[0,v]),D.isArray(d)||(d=[d,d]);var f=w(l.width,a.getWidth()),p=w(l.height,a.getHeight()),S=Math.min(f,p),C=w(d[0],f)+l.x,x=w(d[1],p)+l.y,g=w(v[0],S/2),m=w(v[1],S/2),A=-e.get("startAngle")*y,L=e.get("minAngle")*y,E=0;s.each(r,function(k){!isNaN(k)&&E++});var N=s.getSum(r),R=Math.PI/(N||E)*2,F=e.get("clockwise"),H=e.get("roseType"),B=e.get("stillShowZeroSum"),Z=s.getDataExtent(r);Z[0]=0;var W=b,$=0,Y=A,V=F?1:-1;if(s.each(r,function(k,X){var q;if(isNaN(k))s.setItemLayout(X,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:F,cx:C,cy:x,r0:g,r:H?NaN:m,viewRect:l});else{(q="area"!==H?0===N&&B?R:k*R:b/E)<L?(q=L,W-=L):$+=k;var et=Y+V*q;s.setItemLayout(X,{angle:q,startAngle:Y,endAngle:et,clockwise:F,cx:C,cy:x,r0:g,r:H?t(k,Z,[g,m]):m,viewRect:l}),Y=et}}),W<b&&E)if(W<=.001){var z=b/E;s.each(r,function(k,X){if(!isNaN(k)){var q=s.getItemLayout(X);q.angle=z,q.startAngle=A+V*X*z,q.endAngle=A+V*(X+1)*z}})}else R=W/$,Y=A,s.each(r,function(k,X){if(!isNaN(k)){var q=s.getItemLayout(X),et=q.angle===L?L:k*R;q.startAngle=Y,q.endAngle=Y+V*et,Y+=V*et}});I(e,m,l.width,l.height,l.x,l.y)})}},88857:(j,U,i)=>{var T=i(53639);i(2170),i(69170),i(86728);var w=i(86051),t=i(39141),M=i(80155),I=i(67174),D=i(75568);T.registerVisual(w("radar")),T.registerVisual(t("radar","circle")),T.registerLayout(M),T.registerProcessor(I("radar")),T.registerPreprocessor(D)},69170:(j,U,i)=>{var T=i(4263),w=i(83002),t=i(66615),I=i(42977).encodeHTML,D=i(9736),b=T.extend({type:"series.radar",dependencies:["radar"],init:function(h){b.superApply(this,"init",arguments),this.legendVisualProvider=new D(t.bind(this.getData,this),t.bind(this.getRawData,this))},getInitialData:function(h,n){return w(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(h,n,c,o){var a=this.getData(),e=this.coordinateSystem.getIndicatorAxes(),s=this.getData().getName(h),r="html"===o?"<br/>":"\n";return I(""===s?this.name:s)+r+t.map(e,function(l,d){var v=a.get(a.mapDimension(l.dim),h);return I(l.name+" : "+v)}).join(r)},getTooltipPosition:function(h){if(null!=h)for(var n=this.getData(),c=this.coordinateSystem,o=n.getValues(t.map(c.dimensions,function(s){return n.mapDimension(s)}),h,!0),a=0,u=o.length;a<u;a++)if(!isNaN(o[a])){var e=c.getIndicatorAxes();return c.coordToPoint(e[a].dataToCoord(o[a]),a)}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});j.exports=b},86728:(j,U,i)=>{var T=i(53639),w=i(32694),t=i(66615),M=i(33008),D=T.extendChartView({type:"radar",render:function(b,y,h){var n=b.coordinateSystem,c=this.group,o=b.getData(),a=this._data;function u(r,l){var d=r.getItemVisual(l,"symbol")||"circle",v=r.getItemVisual(l,"color");if("none"!==d){var f=function I(b){return t.isArray(b)||(b=[+b,+b]),b}(r.getItemVisual(l,"symbolSize")),p=M.createSymbol(d,-1,-1,2,2,v),S=r.getItemVisual(l,"symbolRotate")||0;return p.attr({style:{strokeNoScale:!0},z2:100,scale:[f[0]/2,f[1]/2],rotation:S*Math.PI/180||0}),p}}function e(r,l,d,v,f,p){d.removeAll();for(var S=0;S<l.length-1;S++){var C=u(v,f);C&&(C.__dimIdx=S,r[S]?(C.attr("position",r[S]),w[p?"initProps":"updateProps"](C,{position:l[S]},b,f)):C.attr("position",l[S]),d.add(C))}}function s(r){return t.map(r,function(l){return[n.cx,n.cy]})}o.diff(a).add(function(r){var l=o.getItemLayout(r);if(l){var d=new w.Polygon,v=new w.Polyline,f={shape:{points:l}};d.shape.points=s(l),v.shape.points=s(l),w.initProps(d,f,b,r),w.initProps(v,f,b,r);var p=new w.Group,S=new w.Group;p.add(v),p.add(d),p.add(S),e(v.shape.points,l,S,o,r,!0),o.setItemGraphicEl(r,p)}}).update(function(r,l){var d=a.getItemGraphicEl(l),v=d.childAt(0),f=d.childAt(1),p=d.childAt(2),S={shape:{points:o.getItemLayout(r)}};S.shape.points&&(e(v.shape.points,S.shape.points,p,o,r,!1),w.updateProps(v,S,b),w.updateProps(f,S,b),o.setItemGraphicEl(r,d))}).remove(function(r){c.remove(a.getItemGraphicEl(r))}).execute(),o.eachItemGraphicEl(function(r,l){var d=o.getItemModel(l),v=r.childAt(0),f=r.childAt(1),p=r.childAt(2),S=o.getItemVisual(l,"color");c.add(r),v.useStyle(t.defaults(d.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:S})),v.hoverStyle=d.getModel("emphasis.lineStyle").getLineStyle();var C=d.getModel("areaStyle"),x=d.getModel("emphasis.areaStyle"),g=C.isEmpty()&&C.parentModel.isEmpty(),m=x.isEmpty()&&x.parentModel.isEmpty();m=m&&g,f.ignore=g,f.useStyle(t.defaults(C.getAreaStyle(),{fill:S,opacity:.7})),f.hoverStyle=x.getAreaStyle();var A=d.getModel("itemStyle").getItemStyle(["color"]),L=d.getModel("emphasis.itemStyle").getItemStyle(),E=d.getModel("label"),N=d.getModel("emphasis.label");p.eachChild(function(R){R.setStyle(A),R.hoverStyle=t.clone(L);var F=o.get(o.dimensions[R.__dimIdx],l);(null==F||isNaN(F))&&(F=""),w.setLabelStyle(R.style,R.hoverStyle,E,N,{labelFetcher:o.hostModel,labelDataIndex:l,labelDimIndex:R.__dimIdx,defaultText:F,autoColor:S,isRectText:!0})}),r.highDownOnUpdate=function(R,F){f.attr("ignore","emphasis"===F?m:g)},w.setHoverStyle(r)}),this._data=o},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});j.exports=D},75568:(j,U,i)=>{var T=i(66615);j.exports=function w(t){var M=t.polar;if(M){T.isArray(M)||(M=[M]);var I=[];T.each(M,function(D,b){D.indicator?(D.type&&!D.shape&&(D.shape=D.type),t.radar=t.radar||[],T.isArray(t.radar)||(t.radar=[t.radar]),t.radar.push(D)):I.push(D)}),t.polar=I}T.each(t.series,function(D){D&&"radar"===D.type&&D.polarIndex&&(D.radarIndex=D.polarIndex)})}},80155:(j,U,i)=>{var T=i(66615);function t(I){return!isNaN(I[0])&&!isNaN(I[1])}function M(I){return[I.cx,I.cy]}j.exports=function w(I){I.eachSeriesByType("radar",function(D){var b=D.getData(),y=[],h=D.coordinateSystem;if(h){var n=h.getIndicatorAxes();T.each(n,function(c,o){b.each(b.mapDimension(n[o].dim),function(a,u){y[u]=y[u]||[];var e=h.dataToPoint(a,o);y[u][o]=t(e)?e:M(h)})}),b.each(function(c){var o=T.find(y[c],function(a){return t(a)})||M(h);y[c].push(o.slice()),b.setItemLayout(c,y[c])})}})}},70449:(j,U,i)=>{var T=i(53639);i(77938),i(66834),i(42247);var w=i(66495),t=i(17194);T.registerLayout(w),T.registerVisual(t)},77938:(j,U,i)=>{var T=i(4263),w=i(95388),M=i(42977).encodeHTML,I=i(82356),y=(i(78322),T.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(n,c){for(var o=n.edges||n.links,a=n.data||n.nodes,u=n.levels,e=this.levelModels={},s=0;s<u.length;s++)null!=u[s].depth&&u[s].depth>=0&&(e[u[s].depth]=new I(u[s],this,c));if(a&&o)return w(a,o,this,!0,function l(d,v){d.wrapMethod("getItemModel",function(f,p){return f.customizeGetParent(function(S){var C=this.parentModel,x=C.getData().getItemLayout(p).depth;return C.levelModels[x]||this.parentModel}),f}),v.wrapMethod("getItemModel",function(f,p){return f.customizeGetParent(function(S){var C=this.parentModel,g=C.getGraph().getEdgeByIndex(p).node1.getLayout().depth;return C.levelModels[g]||this.parentModel}),f})}).data},setNodePosition:function(n,c){var o=this.option.data[n];o.localX=c[0],o.localY=c[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(n,c,o){if("edge"===o){var a=this.getDataParams(n,o),u=a.data,e=u.source+" -- "+u.target;return a.value&&(e+=" : "+a.value),M(e)}if("node"===o){var r=this.getGraph().getNodeByIndex(n).getLayout().value,l=this.getDataParams(n,o).data.name;return r&&(e=l+" : "+r),M(e)}return y.superCall(this,"formatTooltip",n,c)},optionUpdated:function(){var n=this.option;!0===n.focusNodeAdjacency&&(n.focusNodeAdjacency="allEdges")},getDataParams:function(n,c){var o=y.superCall(this,"getDataParams",n,c);if(null==o.value&&"node"===c){var u=this.getGraph().getNodeByIndex(n).getLayout().value;o.value=u}return o},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1e3}}));j.exports=y},66834:(j,U,i)=>{var T=i(32694),w=i(53639),t=i(66615),M=["itemStyle","opacity"],I=["emphasis","itemStyle","opacity"],D=["lineStyle","opacity"],b=["emphasis","lineStyle","opacity"];function y(u,e){return u.getVisual("opacity")||u.getModel().get(e)}function h(u,e,s){var r=u.getGraphicEl(),l=y(u,e);null!=s&&(null==l&&(l=1),l*=s),r.downplay&&r.downplay(),r.traverse(function(d){"group"!==d.type&&d.setStyle("opacity",l)})}function n(u,e){var s=y(u,e),r=u.getGraphicEl();r.traverse(function(l){"group"!==l.type&&l.setStyle("opacity",s)}),r.highlight&&r.highlight()}var c=T.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(u,e){var s=e.extent;u.moveTo(e.x1,e.y1),u.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),"vertical"===e.orient?(u.lineTo(e.x2+s,e.y2),u.bezierCurveTo(e.cpx2+s,e.cpy2,e.cpx1+s,e.cpy1,e.x1+s,e.y1)):(u.lineTo(e.x2,e.y2+s),u.bezierCurveTo(e.cpx2,e.cpy2+s,e.cpx1,e.cpy1+s,e.x1,e.y1+s)),u.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}}),o=w.extendChartView({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(u,e,s){var r=this,l=u.getGraph(),d=this.group,v=u.layoutInfo,f=v.width,p=v.height,S=u.getData(),C=u.getData("edge"),x=u.get("orient");this._model=u,d.removeAll(),d.attr("position",[v.x,v.y]),l.eachEdge(function(g){var m=new c;m.dataIndex=g.dataIndex,m.seriesIndex=u.seriesIndex,m.dataType="edge";var Y,V,z,k,X,q,et,rt,A=g.getModel("lineStyle"),L=A.get("curveness"),E=g.node1.getLayout(),N=g.node1.getModel(),R=N.get("localX"),F=N.get("localY"),H=g.node2.getLayout(),B=g.node2.getModel(),Z=B.get("localX"),W=B.get("localY"),$=g.getLayout();switch(m.shape.extent=Math.max(1,$.dy),m.shape.orient=x,"vertical"===x?(X=Y=(null!=R?R*f:E.x)+$.sy,q=(V=(null!=F?F*p:E.y)+E.dy)*(1-L)+(k=null!=W?W*p:H.y)*L,et=z=(null!=Z?Z*f:H.x)+$.ty,rt=V*L+k*(1-L)):(X=(Y=(null!=R?R*f:E.x)+E.dx)*(1-L)+(z=null!=Z?Z*f:H.x)*L,q=V=(null!=F?F*p:E.y)+$.sy,et=Y*L+z*(1-L),rt=k=(null!=W?W*p:H.y)+$.ty),m.setShape({x1:Y,y1:V,x2:z,y2:k,cpx1:X,cpy1:q,cpx2:et,cpy2:rt}),m.setStyle(A.getItemStyle()),m.style.fill){case"source":m.style.fill=g.node1.getVisual("color");break;case"target":m.style.fill=g.node2.getVisual("color")}T.setHoverStyle(m,g.getModel("emphasis.lineStyle").getItemStyle()),d.add(m),C.setItemGraphicEl(g.dataIndex,m)}),l.eachNode(function(g){var m=g.getLayout(),A=g.getModel(),L=A.get("localX"),E=A.get("localY"),N=A.getModel("label"),R=A.getModel("emphasis.label"),F=new T.Rect({shape:{x:null!=L?L*f:m.x,y:null!=E?E*p:m.y,width:m.dx,height:m.dy},style:A.getModel("itemStyle").getItemStyle()}),H=g.getModel("emphasis.itemStyle").getItemStyle();T.setLabelStyle(F.style,H,N,R,{labelFetcher:u,labelDataIndex:g.dataIndex,defaultText:g.id,isRectText:!0}),F.setStyle("fill",g.getVisual("color")),T.setHoverStyle(F,H),d.add(F),S.setItemGraphicEl(g.dataIndex,F),F.dataType="node"}),S.eachItemGraphicEl(function(g,m){var A=S.getItemModel(m);A.get("draggable")&&(g.drift=function(L,E){r._focusAdjacencyDisabled=!0,this.shape.x+=L,this.shape.y+=E,this.dirty(),s.dispatchAction({type:"dragNode",seriesId:u.id,dataIndex:S.getRawIndex(m),localX:this.shape.x/f,localY:this.shape.y/p})},g.ondragend=function(){r._focusAdjacencyDisabled=!1},g.draggable=!0,g.cursor="move"),g.highlight=function(){this.trigger("emphasis")},g.downplay=function(){this.trigger("normal")},g.focusNodeAdjHandler&&g.off("mouseover",g.focusNodeAdjHandler),g.unfocusNodeAdjHandler&&g.off("mouseout",g.unfocusNodeAdjHandler),A.get("focusNodeAdjacency")&&(g.on("mouseover",g.focusNodeAdjHandler=function(){r._focusAdjacencyDisabled||(r._clearTimer(),s.dispatchAction({type:"focusNodeAdjacency",seriesId:u.id,dataIndex:g.dataIndex}))}),g.on("mouseout",g.unfocusNodeAdjHandler=function(){r._focusAdjacencyDisabled||r._dispatchUnfocus(s)}))}),C.eachItemGraphicEl(function(g,m){var A=C.getItemModel(m);g.focusNodeAdjHandler&&g.off("mouseover",g.focusNodeAdjHandler),g.unfocusNodeAdjHandler&&g.off("mouseout",g.unfocusNodeAdjHandler),A.get("focusNodeAdjacency")&&(g.on("mouseover",g.focusNodeAdjHandler=function(){r._focusAdjacencyDisabled||(r._clearTimer(),s.dispatchAction({type:"focusNodeAdjacency",seriesId:u.id,edgeDataIndex:g.dataIndex}))}),g.on("mouseout",g.unfocusNodeAdjHandler=function(){r._focusAdjacencyDisabled||r._dispatchUnfocus(s)}))}),!this._data&&u.get("animation")&&d.setClipPath(function a(u,e,s){var r=new T.Rect({shape:{x:u.x-10,y:u.y-10,width:0,height:u.height+20}});return T.initProps(r,{shape:{width:u.width+20}},e,s),r}(d.getBoundingRect(),u,function(){d.removeClipPath()})),this._data=u.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(u){var e=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){e._unfocusDelayTimer=null,u.dispatchAction({type:"unfocusNodeAdjacency",seriesId:e._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(u,e,s,r){var l=u.getData(),d=l.graph,v=r.dataIndex,f=l.getItemModel(v),p=r.edgeDataIndex;if(null!=v||null!=p){var S=d.getNodeByIndex(v),C=d.getEdgeByIndex(p);if(d.eachNode(function(g){h(g,M,.1)}),d.eachEdge(function(g){h(g,D,.1)}),S){n(S,I);var x=f.get("focusNodeAdjacency");"outEdges"===x?t.each(S.outEdges,function(g){g.dataIndex<0||(n(g,b),n(g.node2,I))}):"inEdges"===x?t.each(S.inEdges,function(g){g.dataIndex<0||(n(g,b),n(g.node1,I))}):"allEdges"===x&&t.each(S.edges,function(g){g.dataIndex<0||(n(g,b),g.node1!==S&&n(g.node1,I),g.node2!==S&&n(g.node2,I))})}C&&(n(C,b),n(C.node1,I),n(C.node2,I))}},unfocusNodeAdjacency:function(u,e,s,r){var l=u.getGraph();l.eachNode(function(d){h(d,M)}),l.eachEdge(function(d){h(d,D)})}});j.exports=o},42247:(j,U,i)=>{var T=i(53639);i(53849),T.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(w,t){t.eachComponent({mainType:"series",subType:"sankey",query:w},function(M){M.setNodePosition(w.dataIndex,[w.localX,w.localY])})})},66495:(j,U,i)=>{var T=i(10942),w=i(66615),M=i(21617).groupData;function n(A){var L=A.hostGraph.data.getRawDataItem(A.dataIndex);return null!=L.depth&&L.depth>=0}function r(A,L,E,N,R){var F="vertical"===R?"x":"y";w.each(A,function(H){H.sort(function(X,q){return X.getLayout()[F]-q.getLayout()[F]});for(var B,Z,W,$=0,Y=H.length,V="vertical"===R?"dx":"dy",z=0;z<Y;z++)(W=$-(Z=H[z]).getLayout()[F])>0&&(B=Z.getLayout()[F]+W,Z.setLayout("vertical"===R?{x:B}:{y:B},!0)),$=Z.getLayout()[F]+Z.getLayout()[V]+L;if((W=$-L-("vertical"===R?N:E))>0)for(B=Z.getLayout()[F]-W,Z.setLayout("vertical"===R?{x:B}:{y:B},!0),$=B,z=Y-2;z>=0;--z)(W=(Z=H[z]).getLayout()[F]+Z.getLayout()[V]+L-$)>0&&(B=Z.getLayout()[F]-W,Z.setLayout("vertical"===R?{x:B}:{y:B},!0)),$=Z.getLayout()[F]})}function l(A,L,E){w.each(A.slice().reverse(),function(N){w.each(N,function(R){if(R.outEdges.length){var F=x(R.outEdges,d,E)/x(R.outEdges,C,E);if(isNaN(F)){var H=R.outEdges.length;F=H?x(R.outEdges,v,E)/H:0}if("vertical"===E){var B=R.getLayout().x+(F-S(R,E))*L;R.setLayout({x:B},!0)}else{var Z=R.getLayout().y+(F-S(R,E))*L;R.setLayout({y:Z},!0)}}})})}function d(A,L){return S(A.node2,L)*A.getValue()}function v(A,L){return S(A.node2,L)}function f(A,L){return S(A.node1,L)*A.getValue()}function p(A,L){return S(A.node1,L)}function S(A,L){return"vertical"===L?A.getLayout().x+A.getLayout().dx/2:A.getLayout().y+A.getLayout().dy/2}function C(A){return A.getValue()}function x(A,L,E){for(var N=0,R=A.length,F=-1;++F<R;){var H=+L.call(A,A[F],E);isNaN(H)||(N+=H)}return N}function g(A,L,E){w.each(A,function(N){w.each(N,function(R){if(R.inEdges.length){var F=x(R.inEdges,f,E)/x(R.inEdges,C,E);if(isNaN(F)){var H=R.inEdges.length;F=H?x(R.inEdges,p,E)/H:0}if("vertical"===E){var B=R.getLayout().x+(F-S(R,E))*L;R.setLayout({x:B},!0)}else{var Z=R.getLayout().y+(F-S(R,E))*L;R.setLayout({y:Z},!0)}}})})}j.exports=function I(A,L,E){A.eachSeriesByType("sankey",function(N){var R=N.get("nodeWidth"),F=N.get("nodeGap"),H=function D(A,L){return T.getLayoutRect(A.getBoxLayoutParams(),{width:L.getWidth(),height:L.getHeight()})}(N,L);N.layoutInfo=H;var B=H.width,Z=H.height,W=N.getGraph(),$=W.nodes,Y=W.edges;!function y(A){w.each(A,function(L){var E=x(L.outEdges,C),N=x(L.inEdges,C),R=L.getValue()||0,F=Math.max(E,N,R);L.setLayout({value:F},!0)})}($),function b(A,L,E,N,R,F,H,B,Z){(function h(A,L,E,N,R,F,H){for(var B=[],Z=[],W=[],$=[],Y=0,V=0;V<L.length;V++)B[V]=1;for(V=0;V<A.length;V++)Z[V]=A[V].inEdges.length,0===Z[V]&&W.push(A[V]);for(var z=-1;W.length;){for(var k=0;k<W.length;k++){var X=W[k],q=X.hostGraph.data.getRawDataItem(X.dataIndex),et=null!=q.depth&&q.depth>=0;et&&q.depth>z&&(z=q.depth),X.setLayout({depth:et?q.depth:Y},!0),X.setLayout("vertical"===F?{dy:E}:{dx:E},!0);for(var rt=0;rt<X.outEdges.length;rt++){var it=X.outEdges[rt];B[L.indexOf(it)]=0;var dt=it.node2;0==--Z[A.indexOf(dt)]&&$.indexOf(dt)<0&&$.push(dt)}}++Y,W=$,$=[]}for(V=0;V<B.length;V++)if(1===B[V])throw new Error("Sankey is a DAG, the original data has cycle!");var gt=z>Y-1?z:Y-1;H&&"left"!==H&&function c(A,L,E,N){if("right"===L){for(var R=[],F=A,H=0;F.length;){for(var B=0;B<F.length;B++){var Z=F[B];Z.setLayout({skNodeHeight:H},!0);for(var W=0;W<Z.inEdges.length;W++){var $=Z.inEdges[W];R.indexOf($.node1)<0&&R.push($.node1)}}F=R,R=[],++H}w.each(A,function(Y){n(Y)||Y.setLayout({depth:Math.max(0,N-Y.getLayout().skNodeHeight)},!0)})}else"justify"===L&&function o(A,L){w.each(A,function(E){!n(E)&&!E.outEdges.length&&E.setLayout({depth:L},!0)})}(A,N)}(A,H,0,gt),function a(A,L,E){w.each(A,function(N){var R=N.getLayout().depth*L;N.setLayout("vertical"===E?{y:R}:{x:R},!0)})}(A,"vertical"===F?(R-E)/gt:(N-E)/gt,F)})(A,L,E,R,F,B,Z),function u(A,L,E,N,R,F,H){var B=function e(A,L){var E=[],N="vertical"===L?"y":"x",R=M(A,function(F){return F.getLayout()[N]});return R.keys.sort(function(F,H){return F-H}),w.each(R.keys,function(F){E.push(R.buckets.get(F))}),E}(A,H);(function s(A,L,E,N,R,F){var H=1/0;w.each(A,function(B){var Z=B.length,W=0;w.each(B,function(Y){W+=Y.getLayout().value});var $="vertical"===F?(N-(Z-1)*R)/W:(E-(Z-1)*R)/W;$<H&&(H=$)}),w.each(A,function(B){w.each(B,function(Z,W){var $=Z.getLayout().value*H;"vertical"===F?(Z.setLayout({x:W},!0),Z.setLayout({dx:$},!0)):(Z.setLayout({y:W},!0),Z.setLayout({dy:$},!0))})}),w.each(L,function(B){var Z=+B.getValue()*H;B.setLayout({dy:Z},!0)})})(B,L,E,N,R,H),r(B,R,E,N,H);for(var Z=1;F>0;F--)l(B,Z*=.99,H),r(B,R,E,N,H),g(B,Z,H),r(B,R,E,N,H)}(A,L,F,R,N,H,B),function m(A,L){var E="vertical"===L?"x":"y";w.each(A,function(N){N.outEdges.sort(function(R,F){return R.node2.getLayout()[E]-F.node2.getLayout()[E]}),N.inEdges.sort(function(R,F){return R.node1.getLayout()[E]-F.node1.getLayout()[E]})}),w.each(A,function(N){var R=0,F=0;w.each(N.outEdges,function(H){H.setLayout({sy:R},!0),R+=H.getLayout().dy}),w.each(N.inEdges,function(H){H.setLayout({ty:F},!0),F+=H.getLayout().dy})})}(A,B)}($,Y,R,F,B,Z,0!==w.filter($,function(q){return 0===q.getLayout().value}).length?0:N.get("layoutIterations"),N.get("orient"),N.get("nodeAlign"))})}},17194:(j,U,i)=>{var T=i(60111),w=i(66615);j.exports=function t(M,I){M.eachSeriesByType("sankey",function(D){var y=D.getGraph().nodes;if(y.length){var h=1/0,n=-1/0;w.each(y,function(c){var o=c.getLayout().value;o<h&&(h=o),o>n&&(n=o)}),w.each(y,function(c){var a=new T({type:"color",mappingMethod:"linear",dataExtent:[h,n],visual:D.get("color")}).mapValueToVisual(c.getLayout().value),u=c.getModel().get("itemStyle.color");c.setVisual("color",null!=u?u:a)})}})}},44110:(j,U,i)=>{var T=i(53639);i(9192),i(66854);var w=i(39141),t=i(19051);i(95283),T.registerVisual(w("scatter","circle")),T.registerLayout(t("scatter"))},9192:(j,U,i)=>{var T=i(8127),t=i(4263).extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(M,I){return T(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},getProgressiveThreshold:function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});j.exports=t},66854:(j,U,i)=>{var T=i(53639),w=i(57693),t=i(72316),M=i(19051);T.extendChartView({type:"scatter",render:function(I,D,b){var y=I.getData();this._updateSymbolDraw(y,I).updateData(y,{clipShape:this._getClipShape(I)}),this._finished=!0},incrementalPrepareRender:function(I,D,b){var y=I.getData();this._updateSymbolDraw(y,I).incrementalPrepareUpdate(y),this._finished=!1},incrementalRender:function(I,D,b){this._symbolDraw.incrementalUpdate(I,D.getData(),{clipShape:this._getClipShape(D)}),this._finished=I.end===D.getData().count()},updateTransform:function(I,D,b){var y=I.getData();if(this.group.dirty(),!this._finished||y.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var h=M().reset(I);h.progress&&h.progress({start:0,end:y.count()},y),this._symbolDraw.updateLayout(y)},_getClipShape:function(I){var D=I.coordinateSystem,b=D&&D.getArea&&D.getArea();return I.get("clip",!0)?b:null},_updateSymbolDraw:function(I,D){var b=this._symbolDraw,h=D.pipelineContext.large;return(!b||h!==this._isLargeDraw)&&(b&&b.remove(),b=this._symbolDraw=h?new t:new w,this._isLargeDraw=h,this.group.removeAll()),this.group.add(b.group),b},remove:function(I,D){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}})},52792:(j,U,i)=>{var T=i(53639),w=i(66615);i(33674),i(45008),i(15876);var t=i(86051),M=i(68631),I=i(67174);T.registerVisual(w.curry(t,"sunburst")),T.registerLayout(w.curry(M,"sunburst")),T.registerProcessor(w.curry(I,"sunburst"))},56296:(j,U,i)=>{var T=i(66615),w=i(32694),t_NONE="none",t_ANCESTOR="ancestor",t_SELF="self",M=2,I=4;function D(a,u,e){w.Group.call(this);var s=new w.Sector({z2:M});s.seriesIndex=u.seriesIndex;var r=new w.Text({z2:I,silent:a.getModel("label").get("silent")});function l(){r.ignore=r.hoverIgnore}function d(){r.ignore=r.normalIgnore}this.add(s),this.add(r),this.updateData(!0,a,"normal",u,e),this.on("emphasis",l).on("normal",d).on("mouseover",l).on("mouseout",d)}var b=D.prototype;b.updateData=function(a,u,e,s,r){this.node=u,u.piece=this,s=s||this._seriesModel,r=r||this._ecModel;var l=this.childAt(0);l.dataIndex=u.dataIndex;var d=u.getModel(),v=u.getLayout(),f=T.extend({},v);f.label=null;var p=function h(a,u,e){var s=a.getVisual("color"),r=a.getVisual("visualMeta");(!r||0===r.length)&&(s=null);var l=a.getModel("itemStyle").get("color");if(l)return l;if(s)return s;if(0===a.depth)return e.option.color[0];var d=e.option.color.length;return l=e.option.color[function n(a){for(var u=a;u.depth>1;)u=u.parentNode;var e=a.getAncestors()[0];return T.indexOf(e.children,u)}(a)%d],l}(u,0,r);!function o(a,u,e){u.getData().setItemVisual(a.dataIndex,"color",e)}(u,s,p);var C,S=d.getModel("itemStyle").getItemStyle();if("normal"===e)C=S;else{var x=d.getModel(e+".itemStyle").getItemStyle();C=T.merge(x,S)}C=T.defaults({lineJoin:"bevel",fill:C.fill||p},C),a?(l.setShape(f),l.shape.r=v.r0,w.updateProps(l,{shape:{r:v.r}},s,u.dataIndex),l.useStyle(C)):"object"==typeof C.fill&&C.fill.type||"object"==typeof l.style.fill&&l.style.fill.type?(w.updateProps(l,{shape:f},s),l.useStyle(C)):w.updateProps(l,{shape:f,style:C},s),this._updateLabel(s,p,e);var g=d.getShallow("cursor");if(g&&l.attr("cursor",g),a){var m=s.getShallow("highlightPolicy");this._initEvents(l,u,s,m)}this._seriesModel=s||this._seriesModel,this._ecModel=r||this._ecModel,w.setHoverStyle(this)},b.onEmphasis=function(a){var u=this;this.node.hostTree.root.eachNode(function(e){e.piece&&(u.node===e?e.piece.updateData(!1,e,"emphasis"):function c(a,u,e){return e!==t_NONE&&(e===t_SELF?a===u:e===t_ANCESTOR?a===u||a.isAncestorOf(u):a===u||a.isDescendantOf(u))}(e,u.node,a)?e.piece.childAt(0).trigger("highlight"):a!==t_NONE&&e.piece.childAt(0).trigger("downplay"))})},b.onNormal=function(){this.node.hostTree.root.eachNode(function(a){a.piece&&a.piece.updateData(!1,a,"normal")})},b.onHighlight=function(){this.updateData(!1,this.node,"highlight")},b.onDownplay=function(){this.updateData(!1,this.node,"downplay")},b._updateLabel=function(a,u,e){var s=this.node.getModel(),r=s.getModel("label"),l="normal"===e||"emphasis"===e?r:s.getModel(e+".label"),d=s.getModel("emphasis.label"),v=l.get("formatter"),p=T.retrieve(a.getFormattedLabel(this.node.dataIndex,v?e:"normal",null,null,"label"),this.node.name);!1===$("show")&&(p="");var S=this.node.getLayout(),C=l.get("minAngle");null==C&&(C=r.get("minAngle")),null!=(C=C/180*Math.PI)&&Math.abs(S.endAngle-S.startAngle)<C&&(p="");var g=this.childAt(1);w.setLabelStyle(g.style,g.hoverStyle||{},r,d,{defaultText:l.getShallow("show")?p:null,autoColor:u,useInsideStyle:!0});var E,m=(S.startAngle+S.endAngle)/2,A=Math.cos(m),L=Math.sin(m),N=$("position"),R=$("distance")||0,F=$("align");"outside"===N?(E=S.r+R,F=m>Math.PI/2?"right":"left"):F&&"center"!==F?"left"===F?(E=S.r0+R,m>Math.PI/2&&(F="right")):"right"===F&&(E=S.r-R,m>Math.PI/2&&(F="left")):(E=(S.r+S.r0)/2,F="center"),g.attr("style",{text:p,textAlign:F,textVerticalAlign:$("verticalAlign")||"middle",opacity:$("opacity")}),g.attr("position",[E*A+S.cx,E*L+S.cy]);var Z=$("rotate"),W=0;function $(Y){return l.get(Y)??r.get(Y)}"radial"===Z?(W=-m)<-Math.PI/2&&(W+=Math.PI):"tangential"===Z?(W=Math.PI/2-m)>Math.PI/2?W-=Math.PI:W<-Math.PI/2&&(W+=Math.PI):"number"==typeof Z&&(W=Z*Math.PI/180),g.attr("rotation",W)},b._initEvents=function(a,u,e,s){a.off("mouseover").off("mouseout").off("emphasis").off("normal");var r=this,l=function(){r.onEmphasis(s)},d=function(){r.onNormal()};e.isAnimationEnabled()&&a.on("mouseover",l).on("mouseout",d).on("emphasis",l).on("normal",d).on("downplay",function(){r.onDownplay()}).on("highlight",function(){r.onHighlight()})},T.inherits(D,w.Group),j.exports=D},33674:(j,U,i)=>{var T=i(66615),w=i(4263),t=i(38248),M=i(82356),D=i(89083).wrapTreePathInfo,b=w.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(h,n){var c={name:h.name,children:h.data};y(c);var o=T.map(h.levels||[],function(e){return new M(e,this,n)},this),a=t.createTree(c,this,function u(e){e.wrapMethod("getItemModel",function(s,r){var l=a.getNodeByDataIndex(r),d=o[l.depth];return d&&(s.parentModel=d),s})});return a.data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(h){var n=w.prototype.getDataParams.apply(this,arguments),c=this.getData().tree.getNodeByDataIndex(h);return n.treePathInfo=D(c,this),n},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:.5},label:{opacity:.6}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(h){h?this._viewRoot=h:h=this._viewRoot;var n=this.getRawData().tree.root;(!h||h!==n&&!n.contains(h))&&(this._viewRoot=n)}});function y(h){var n=0;T.each(h.children,function(o){y(o);var a=o.value;T.isArray(a)&&(a=a[0]),n+=a});var c=h.value;T.isArray(c)&&(c=c[0]),(null==c||isNaN(c))&&(c=n),c<0&&(c=0),T.isArray(h.value)?h.value[0]=c:h.value=c}j.exports=b},45008:(j,U,i)=>{var T=i(66615),w=i(24023),t=i(56296),M=i(12936),D=i(42977).windowOpen,y=w.extend({type:"sunburst",init:function(){},render:function(n,c,o,a){var u=this;this.seriesModel=n,this.api=o,this.ecModel=c;var e=n.getData(),s=e.tree.root,r=n.getViewRoot(),l=this.group,d=n.get("renderLabelForZeroData"),v=[];if(r.eachNode(function(A){v.push(A)}),function C(A,L){function E(R){return R.getId()}function N(R,F){!function x(A,L){if(!d&&A&&!A.getValue()&&(A=null),A!==s&&L!==s)if(L&&L.piece)A?(L.piece.updateData(!1,A,"normal",n,c),e.setItemGraphicEl(A.dataIndex,L.piece)):function g(A){A&&A.piece&&(l.remove(A.piece),A.piece=null)}(L);else if(A){var E=new t(A,n,c);l.add(E),e.setItemGraphicEl(A.dataIndex,E)}}(null==R?null:A[R],null==F?null:L[F])}0===A.length&&0===L.length||new M(L,A,E,E).add(N).update(N).remove(T.curry(N,null)).execute()}(v,this._oldChildren||[]),function m(A,L){if(L.depth>0){u.virtualPiece?u.virtualPiece.updateData(!1,A,"normal",n,c):(u.virtualPiece=new t(A,n,c),l.add(u.virtualPiece)),L.piece._onclickEvent&&L.piece.off("click",L.piece._onclickEvent);var E=function(N){u._rootToNode(L.parentNode)};L.piece._onclickEvent=E,u.virtualPiece.on("click",E)}else u.virtualPiece&&(l.remove(u.virtualPiece),u.virtualPiece=null)}(s,r),a&&a.highlight&&a.highlight.piece){var p=n.getShallow("highlightPolicy");a.highlight.piece.onEmphasis(p)}else if(a&&a.unhighlight){var S=this.virtualPiece;!S&&s.children.length&&(S=s.children[0].piece),S&&S.onNormal()}this._initEvents(),this._oldChildren=v},dispose:function(){},_initEvents:function(){var n=this,c=function(o){var a=!1;n.seriesModel.getViewRoot().eachNode(function(e){if(!a&&e.piece&&e.piece.childAt(0)===o.target){var s=e.getModel().get("nodeClick");if("rootToNode"===s)n._rootToNode(e);else if("link"===s){var r=e.getModel(),l=r.get("link");if(l){var d=r.get("target",!0)||"_blank";D(l,d)}}a=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",c),this.group._onclickEvent=c},_rootToNode:function(n){n!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n})},containPoint:function(n,c){var a=c.getData().getItemLayout(0);if(a){var u=n[0]-a.cx,e=n[1]-a.cy,s=Math.sqrt(u*u+e*e);return s<=a.r&&s>=a.r0}}});j.exports=y},15876:(j,U,i)=>{var T=i(53639),w=i(89083),t="sunburstRootToNode";T.registerAction({type:t,update:"updateView"},function(D,b){b.eachComponent({mainType:"series",subType:"sunburst",query:D},function y(h,n){var c=w.retrieveTargetInfo(D,[t],h);if(c){var o=h.getViewRoot();o&&(D.direction=w.aboveViewRoot(o,c.node)?"rollUp":"drillDown"),h.resetViewRoot(c.node)}})});var M="sunburstHighlight";T.registerAction({type:M,update:"updateView"},function(D,b){b.eachComponent({mainType:"series",subType:"sunburst",query:D},function y(h,n){var c=w.retrieveTargetInfo(D,[M],h);c&&(D.highlight=c.node)})}),T.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(D,b){b.eachComponent({mainType:"series",subType:"sunburst",query:D},function y(h,n){D.unhighlight=!0})})},68631:(j,U,i)=>{var w=i(68301).parsePercent,t=i(66615),M=Math.PI/180;function D(y,h){var n=y.children||[];y.children=function b(y,h){if("function"==typeof h)return y.sort(h);var n="asc"===h;return y.sort(function(c,o){var a=(c.getValue()-o.getValue())*(n?1:-1);return 0===a?(c.dataIndex-o.dataIndex)*(n?-1:1):a})}(n,h),n.length&&t.each(y.children,function(c){D(c,h)})}j.exports=function I(y,h,n,c){h.eachSeriesByType(y,function(o){var a=o.get("center"),u=o.get("radius");t.isArray(u)||(u=[0,u]),t.isArray(a)||(a=[a,a]);var e=n.getWidth(),s=n.getHeight(),r=Math.min(e,s),l=w(a[0],e),d=w(a[1],s),v=w(u[0],r/2),f=w(u[1],r/2),p=-o.get("startAngle")*M,S=o.get("minAngle")*M,C=o.getData().tree.root,x=o.getViewRoot(),g=x.depth,m=o.get("sort");null!=m&&D(x,m);var A=0;t.each(x.children,function(z){!isNaN(z.getValue())&&A++});var L=x.getValue(),E=Math.PI/(L||A)*2,N=x.depth>0,F=(f-v)/(x.height-(N?-1:1)||1),H=o.get("clockwise"),B=o.get("stillShowZeroSum"),Z=H?1:-1,W=function(z,k){if(z){var X=k;if(z!==C){var q=z.getValue(),et=0===L&&B?E:q*E;et<S&&(et=S),X=k+Z*et;var rt=z.depth-g-(N?-1:1),it=v+F*rt,lt=v+F*(rt+1),dt=z.getModel();null!=dt.get("r0")&&(it=w(dt.get("r0"),r/2)),null!=dt.get("r")&&(lt=w(dt.get("r"),r/2)),z.setLayout({angle:et,startAngle:k,endAngle:X,clockwise:H,cx:l,cy:d,r0:it,r:lt})}if(z.children&&z.children.length){var ht=0;t.each(z.children,function(gt){ht+=W(gt,k+ht)})}return X-k}};if(N){var V=2*Math.PI;C.setLayout({angle:V,startAngle:p,endAngle:p+V,clockwise:H,cx:l,cy:d,r0:v,r:v+F})}W(x,p)})}},7473:(j,U,i)=>{var T=i(53639);i(34406),i(10119),i(44117);var w=i(9976),t=i(95195),M=i(67174);T.registerLayout(w),T.registerVisual(t),T.registerProcessor(M("themeRiver"))},10119:(j,U,i)=>{var T=i(4263),w=i(51440),M=i(2747).getDimensionTypeByAxis,I=i(47563),D=i(66615),y=i(21617).groupData,n=i(42977).encodeHTML,c=i(9736),a=T.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){a.superApply(this,"init",arguments),this.legendVisualProvider=new c(D.bind(this.getData,this),D.bind(this.getRawData,this))},fixData:function(e){var s=e.length,r={},l=y(e,function(x){return r.hasOwnProperty(x[0])||(r[x[0]]=-1),x[2]}),d=[];l.buckets.each(function(x,g){d.push({name:g,dataList:x})});for(var v=d.length,f=0;f<v;++f){for(var p=d[f].name,S=0;S<d[f].dataList.length;++S)r[C=d[f].dataList[S][0]]=f;for(var C in r)r.hasOwnProperty(C)&&r[C]!==f&&(r[C]=f,e[s]=[],e[s][0]=C,e[s][1]=0,e[s][2]=p,s++)}return e},getInitialData:function(e,s){for(var l=s.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),d=D.filter(e.data,function(m){return void 0!==m[2]}),v=this.fixData(d||[]),f=[],p=this.nameMap=D.createHashMap(),S=0,C=0;C<v.length;++C)f.push(v[C][2]),p.get(v[C][2])||(p.set(v[C][2],S),S++);var x=w(v,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:M(l)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),g=new I(x,this);return g.initData(v),g},getLayerSeries:function(){for(var e=this.getData(),s=e.count(),r=[],l=0;l<s;++l)r[l]=l;var d=e.mapDimension("single"),v=y(r,function(p){return e.get("name",p)}),f=[];return v.buckets.each(function(p,S){p.sort(function(C,x){return e.get(d,C)-e.get(d,x)}),f.push({name:S,indices:p})}),f},getAxisTooltipData:function(e,s,r){D.isArray(e)||(e=e?[e]:[]);for(var p,l=this.getData(),d=this.getLayerSeries(),v=[],f=d.length,S=0;S<f;++S){for(var C=Number.MAX_VALUE,x=-1,g=d[S].indices.length,m=0;m<g;++m){var A=l.get(e[0],d[S].indices[m]),L=Math.abs(A-s);L<=C&&(p=A,C=L,x=d[S].indices[m])}v.push(x)}return{dataIndices:v,nestestValue:p}},formatTooltip:function(e){var s=this.getData(),r=s.getName(e),l=s.get(s.mapDimension("value"),e);return(isNaN(l)||null==l)&&(l="-"),n(r+" : "+l)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}});j.exports=a},44117:(j,U,i)=>{var T=i(53639),t=i(28037).Polygon,M=i(32694),I=i(66615),D=I.bind,b=I.extend,y=i(12936),h=T.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(c,o,a){var u=c.getData(),e=this.group,s=c.getLayerSeries(),r=u.getLayout("layoutInfo");function v(C){return C.name}e.attr("position",[0,r.rect.y+r.boundaryGap[0]]);var f=new y(this._layersSeries||[],s,v,v),p={};function S(C,x,g){var m=this._layers;if("remove"!==C){for(var E,A=[],L=[],N=s[x].indices,R=0;R<N.length;R++){var F=u.getItemLayout(N[R]),H=F.x,B=F.y0,Z=F.y;A.push([H,B]),L.push([H,B+Z]),E=u.getItemVisual(N[R],"color")}var W,$,Y=u.getItemLayout(N[0]),V=u.getItemModel(N[R-1]),z=V.getModel("label"),k=z.get("margin");if("add"===C){var X=p[x]=new M.Group;W=new t({shape:{points:A,stackedOnPoints:L,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),$=new M.Text({style:{x:Y.x-k,y:Y.y0+Y.y/2}}),X.add(W),X.add($),e.add(X),W.setClipPath(function n(c,o,a){var u=new M.Rect({shape:{x:c.x-10,y:c.y-10,width:0,height:c.height+20}});return M.initProps(u,{shape:{width:c.width+20,height:c.height+20}},o,a),u}(W.getBoundingRect(),c,function(){W.removeClipPath()}))}else W=(X=m[g]).childAt(0),$=X.childAt(1),e.add(X),p[x]=X,M.updateProps(W,{shape:{points:A,stackedOnPoints:L}},c),M.updateProps($,{style:{x:Y.x-k,y:Y.y0+Y.y/2}},c);var q=V.getModel("emphasis.itemStyle"),et=V.getModel("itemStyle");M.setTextStyle($.style,z,{text:z.get("show")?c.getFormattedLabel(N[R-1],"normal")||u.getName(N[R-1]):null,textVerticalAlign:"middle"}),W.setStyle(b({fill:E},et.getItemStyle(["color"]))),M.setHoverStyle(W,q.getItemStyle())}else e.remove(m[x])}f.add(D(S,this,"add")).update(D(S,this,"update")).remove(D(S,this,"remove")).execute(),this._layersSeries=s,this._layers=p},dispose:function(){}});j.exports=h},9976:(j,U,i)=>{var T=i(66615),w=i(68301);function M(D,b,y){if(D.count())for(var d,h=b.coordinateSystem,n=b.getLayerSeries(),c=D.mapDimension("single"),o=D.mapDimension("value"),a=T.map(n,function(p){return T.map(p.indices,function(S){var C=h.dataToPoint(D.get(c,S));return C[1]=D.get(o,S),C})}),u=function I(D){for(var b=D.length,y=D[0].length,h=[],n=[],c=0,a={},u=0;u<y;++u){for(var e=0,o=0;e<b;++e)o+=D[e][u][1];o>c&&(c=o),h.push(o)}for(var s=0;s<y;++s)n[s]=(c-h[s])/2;c=0;for(var r=0;r<y;++r){var l=h[r]+n[r];l>c&&(c=l)}return a.y0=n,a.max=c,a}(a),e=u.y0,s=y/u.max,r=n.length,l=n[0].indices.length,v=0;v<l;++v){D.setItemLayout(n[0].indices[v],{layerIndex:0,x:a[0][v][0],y0:d=e[v]*s,y:a[0][v][1]*s});for(var f=1;f<r;++f)D.setItemLayout(n[f].indices[v],{layerIndex:f,x:a[f][v][0],y0:d+=a[f-1][v][1]*s,y:a[f][v][1]*s})}}j.exports=function t(D,b){D.eachSeriesByType("themeRiver",function(y){var h=y.getData(),n=y.coordinateSystem,c={},o=n.getRect();c.rect=o;var a=y.get("boundaryGap"),u=n.getAxis();c.boundaryGap=a,"horizontal"===u.orient?(a[0]=w.parsePercent(a[0],o.height),a[1]=w.parsePercent(a[1],o.height),M(h,y,o.height-a[0]-a[1])):(a[0]=w.parsePercent(a[0],o.width),a[1]=w.parsePercent(a[1],o.width),M(h,y,o.width-a[0]-a[1])),h.setLayout("layoutInfo",c)})}},95195:(j,U,i)=>{var w=i(66615).createHashMap;j.exports=function t(M){M.eachSeriesByType("themeRiver",function(I){var D=I.getData(),b=I.getRawData(),y=I.get("color"),h=w();D.each(function(n){h.set(D.getRawIndex(n),n)}),b.each(function(n){var c=b.getName(n),o=y[(I.nameMap.get(c)-1)%y.length];b.setItemVisual(n,"color",o);var a=h.get(n);null!=a&&D.setItemVisual(a,"color",o)})})}},88361:(j,U,i)=>{var T=i(53639);i(67365),i(2042),i(53559);var w=i(39141),t=i(47610);T.registerVisual(w("tree","circle")),T.registerLayout(t)},67365:(j,U,i)=>{var T=i(4263),w=i(38248),M=i(42977).encodeHTML,I=i(82356),D=T.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(b){var y={name:b.name,children:b.data},n=new I(b.leaves||{},this,this.ecModel),c=w.createTree(y,this,function o(s){s.wrapMethod("getItemModel",function(r,l){var d=c.getNodeByDataIndex(l);return(!d.children.length||!d.isExpand)&&(r.parentModel=n),r})}),a=0;c.eachNode("preorder",function(s){s.depth>a&&(a=s.depth)});var e=b.expandAndCollapse&&b.initialTreeDepth>=0?b.initialTreeDepth:a;return c.root.eachNode("preorder",function(s){var r=s.hostTree.data.getRawDataItem(s.dataIndex);s.isExpand=r&&null!=r.collapsed?!r.collapsed:s.depth<=e}),c.data},getOrient:function(){var b=this.get("orient");return"horizontal"===b?b="LR":"vertical"===b&&(b="TB"),b},setZoom:function(b){this.option.zoom=b},setCenter:function(b){this.option.center=b},formatTooltip:function(b){for(var y=this.getData().tree,h=y.root.children[0],n=y.getNodeByDataIndex(b),c=n.getValue(),o=n.name;n&&n!==h;)o=n.parentNode.name+"."+o,n=n.parentNode;return M(o+(isNaN(c)||null==c?"":" : "+c))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});j.exports=D},2042:(j,U,i)=>{var T=i(66615),w=i(32694),t=i(13124),I=i(50616).radialCoordinate,D=i(53639),b=i(53020),y=i(23133),h=i(25923),n=i(10233),o=i(77515).onIrrelevantElement,s=(i(78322),i(68301).parsePercent),r=w.extendShape({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(x,g){var m=g.childPoints,A=m.length,L=g.parentPoint,E=m[0],N=m[A-1];if(1===A)return x.moveTo(L[0],L[1]),void x.lineTo(E[0],E[1]);var R=g.orient,F="TB"===R||"BT"===R?0:1,H=1-F,B=s(g.forkPosition,1),Z=[];Z[F]=L[F],Z[H]=L[H]+(N[H]-L[H])*B,x.moveTo(L[0],L[1]),x.lineTo(Z[0],Z[1]),x.moveTo(E[0],E[1]),Z[F]=E[F],x.lineTo(Z[0],Z[1]),Z[F]=N[F],x.lineTo(Z[0],Z[1]),x.lineTo(N[0],N[1]);for(var W=1;W<A-1;W++){var $=m[W];x.moveTo($[0],$[1]),Z[F]=$[F],x.lineTo(Z[0],Z[1])}}}),l=D.extendChartView({type:"tree",init:function(x,g){this._mainGroup=new w.Group,this._controller=new n(g.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(x,g,m,A){var L=x.getData(),E=x.layoutInfo,N=this._mainGroup,R=x.get("layout");N.attr("position","radial"===R?[E.x+E.width/2,E.y+E.height/2]:[E.x,E.y]),this._updateViewCoordSys(x,E,R),this._updateController(x,g,m);var F=this._data,H={expandAndCollapse:x.get("expandAndCollapse"),layout:R,edgeShape:x.get("edgeShape"),edgeForkPosition:x.get("edgeForkPosition"),orient:x.getOrient(),curvature:x.get("lineStyle.curveness"),symbolRotate:x.get("symbolRotate"),symbolOffset:x.get("symbolOffset"),hoverAnimation:x.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};L.diff(F).add(function(B){d(L,B)&&f(L,B,null,N,x,H)}).update(function(B,Z){var W=F.getItemGraphicEl(Z);d(L,B)?f(L,B,W,N,x,H):W&&S(F,Z,W,N,x,H)}).remove(function(B){var Z=F.getItemGraphicEl(B);Z&&S(F,B,Z,N,x,H)}).execute(),this._nodeScaleRatio=x.get("nodeScaleRatio"),this._updateNodeAndLinkScale(x),!0===H.expandAndCollapse&&L.eachItemGraphicEl(function(B,Z){B.off("click").on("click",function(){m.dispatchAction({type:"treeExpandAndCollapse",seriesId:x.id,dataIndex:Z})})}),this._data=L},_updateViewCoordSys:function(x){var g=x.getData(),m=[];g.each(function(F){var H=g.getItemLayout(F);H&&!isNaN(H.x)&&!isNaN(H.y)&&m.push([+H.x,+H.y])});var A=[],L=[];b.fromPoints(m,A,L);var E=this._min,N=this._max;L[0]-A[0]==0&&(A[0]=E?E[0]:A[0]-1,L[0]=N?N[0]:L[0]+1),L[1]-A[1]==0&&(A[1]=E?E[1]:A[1]-1,L[1]=N?N[1]:L[1]+1);var R=x.coordinateSystem=new y;R.zoomLimit=x.get("scaleLimit"),R.setBoundingRect(A[0],A[1],L[0]-A[0],L[1]-A[1]),R.setCenter(x.get("center")),R.setZoom(x.get("zoom")),this.group.attr({position:R.position,scale:R.scale}),this._viewCoordSys=R,this._min=A,this._max=L},_updateController:function(x,g,m){var A=this._controller,L=this._controllerHost,E=this.group;A.setPointerChecker(function(N,R,F){var H=E.getBoundingRect();return H.applyTransform(E.transform),H.contain(R,F)&&!o(N,m,x)}),A.enable(x.get("roam")),L.zoomLimit=x.get("scaleLimit"),L.zoom=x.coordinateSystem.getZoom(),A.off("pan").off("zoom").on("pan",function(N){h.updateViewOnPan(L,N.dx,N.dy),m.dispatchAction({seriesId:x.id,type:"treeRoam",dx:N.dx,dy:N.dy})},this).on("zoom",function(N){h.updateViewOnZoom(L,N.scale,N.originX,N.originY),m.dispatchAction({seriesId:x.id,type:"treeRoam",zoom:N.scale,originX:N.originX,originY:N.originY}),this._updateNodeAndLinkScale(x)},this)},_updateNodeAndLinkScale:function(x){var g=x.getData(),m=this._getNodeGlobalScale(x),A=[m,m];g.eachItemGraphicEl(function(L,E){L.attr("scale",A)})},_getNodeGlobalScale:function(x){var g=x.coordinateSystem;if("view"!==g.type)return 1;var m=this._nodeScaleRatio,A=g.scale,L=A&&A[0]||1;return((g.getZoom()-1)*m+1)/L},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function d(x,g){var m=x.getItemLayout(g);return m&&!isNaN(m.x)&&!isNaN(m.y)&&"none"!==x.getItemVisual(g,"symbol")}function v(x,g,m){return m.itemModel=g,m.itemStyle=g.getModel("itemStyle").getItemStyle(),m.hoverItemStyle=g.getModel("emphasis.itemStyle").getItemStyle(),m.lineStyle=g.getModel("lineStyle").getLineStyle(),m.labelModel=g.getModel("label"),m.hoverLabelModel=g.getModel("emphasis.label"),m.symbolInnerColor=!1===x.isExpand&&0!==x.children.length?m.itemStyle.fill:"#fff",m}function f(x,g,m,A,L,H){var N=!m,R=x.tree.getNodeByDataIndex(g),F=R.getModel(),B=(H=v(R,F,H),x.tree.root),Z=R.parentNode===B?R:R.parentNode||R,W=x.getItemGraphicEl(Z.dataIndex),$=Z.getLayout(),Y=W?{x:W.position[0],y:W.position[1],rawX:W.__radialOldRawX,rawY:W.__radialOldRawY}:$,V=R.getLayout();N?(m=new t(x,g,H)).attr("position",[Y.x,Y.y]):m.updateData(x,g,H),m.__radialOldRawX=m.__radialRawX,m.__radialOldRawY=m.__radialRawY,m.__radialRawX=V.rawX,m.__radialRawY=V.rawY,A.add(m),x.setItemGraphicEl(g,m),w.updateProps(m,{position:[V.x,V.y]},L);var z=m.getSymbolPath();if("radial"===H.layout){var et,rt,k=B.children[0],X=k.getLayout(),q=k.children.length;if(V.x===X.x&&!0===R.isExpand){var it={};it.x=(k.children[0].getLayout().x+k.children[q-1].getLayout().x)/2,it.y=(k.children[0].getLayout().y+k.children[q-1].getLayout().y)/2,(et=Math.atan2(it.y-X.y,it.x-X.x))<0&&(et=2*Math.PI+et),(rt=it.x<X.x)&&(et-=Math.PI)}else(et=Math.atan2(V.y-X.y,V.x-X.x))<0&&(et=2*Math.PI+et),0===R.children.length||0!==R.children.length&&!1===R.isExpand?(rt=V.x<X.x)&&(et-=Math.PI):(rt=V.x>X.x)||(et-=Math.PI);var lt=rt?"left":"right",dt=H.labelModel.get("rotate"),ht=dt*(Math.PI/180);z.setStyle({textPosition:H.labelModel.get("position")||lt,textRotation:null==dt?-et:ht,textOrigin:"center",verticalAlign:"middle"})}!function p(x,g,m,A,L,E,N,R,F){var H=F.edgeShape,B=A.__edge;if("curve"===H)g.parentNode&&g.parentNode!==m&&(B||(B=A.__edge=new w.BezierCurve({shape:C(F,L,L),style:T.defaults({opacity:0,strokeNoScale:!0},F.lineStyle)})),w.updateProps(B,{shape:C(F,E,N),style:T.defaults({opacity:1},F.lineStyle)},x));else if("polyline"===H&&"orthogonal"===F.layout&&g!==m&&g.children&&0!==g.children.length&&!0===g.isExpand){for(var Z=g.children,W=[],$=0;$<Z.length;$++){var Y=Z[$].getLayout();W.push([Y.x,Y.y])}B||(B=A.__edge=new r({shape:{parentPoint:[N.x,N.y],childPoints:[[N.x,N.y]],orient:F.orient,forkPosition:F.edgeForkPosition},style:T.defaults({opacity:0,strokeNoScale:!0},F.lineStyle)})),w.updateProps(B,{shape:{parentPoint:[N.x,N.y],childPoints:W},style:T.defaults({opacity:1},F.lineStyle)},x)}R.add(B)}(L,R,B,m,Y,$,V,A,H)}function S(x,g,m,A,L,H){for(var Z,N=x.tree.getNodeByDataIndex(g),R=x.tree.root,F=N.getModel(),B=(H=v(N,F,H),N.parentNode===R?N:N.parentNode||N);null==(Z=B.getLayout());)B=B.parentNode===R?B:B.parentNode||B;w.updateProps(m,{position:[Z.x+1,Z.y+1]},L,function(){A.remove(m),x.setItemGraphicEl(g,null)}),m.fadeOut(null,{keepLabel:!0});var W=x.getItemGraphicEl(B.dataIndex),Y=m.__edge||(!1===B.isExpand||1===B.children.length?W.__edge:void 0),V=H.edgeShape;Y&&("curve"===V?w.updateProps(Y,{shape:C(H,Z,Z),style:{opacity:0}},L,function(){A.remove(Y)}):"polyline"===V&&"orthogonal"===H.layout&&w.updateProps(Y,{shape:{parentPoint:[Z.x,Z.y],childPoints:[[Z.x,Z.y]]},style:{opacity:0}},L,function(){A.remove(Y)}))}function C(x,g,m){var A,L,E,N,F,H,B,Z,R=x.orient;if("radial"===x.layout){H=m.rawX,Z=m.rawY;var W=I(F=g.rawX,B=g.rawY),$=I(F,B+(Z-B)*x.curvature),Y=I(H,Z+(B-Z)*x.curvature),V=I(H,Z);return{x1:W.x,y1:W.y,x2:V.x,y2:V.y,cpx1:$.x,cpy1:$.y,cpx2:Y.x,cpy2:Y.y}}return F=g.x,B=g.y,H=m.x,Z=m.y,("LR"===R||"RL"===R)&&(A=F+(H-F)*x.curvature,L=B,E=H+(F-H)*x.curvature,N=Z),("TB"===R||"BT"===R)&&(A=F,L=B+(Z-B)*x.curvature,E=H,N=Z+(B-Z)*x.curvature),{x1:F,y1:B,x2:H,y2:Z,cpx1:A,cpy1:L,cpx2:E,cpy2:N}}j.exports=l},50616:(j,U,i)=>{var T=i(10942);function n(e){var s=e.children;return s.length&&e.isExpand?s[s.length-1]:e.hierNode.thread}function c(e){var s=e.children;return s.length&&e.isExpand?s[0]:e.hierNode.thread}function o(e,s,r){return e.hierNode.ancestor.parentNode===s.parentNode?e.hierNode.ancestor:r}function a(e,s,r){var l=r/(s.hierNode.i-e.hierNode.i);s.hierNode.change-=l,s.hierNode.shift+=r,s.hierNode.modifier+=r,s.hierNode.prelim+=r,e.hierNode.change+=l}function u(e,s){return e.parentNode===s.parentNode?1:2}U.init=function w(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r,l,s=[e];r=s.pop();)if(l=r.children,r.isExpand&&l.length)for(var v=l.length-1;v>=0;v--){var f=l[v];f.hierNode={defaultAncestor:null,ancestor:f,prelim:0,modifier:0,change:0,shift:0,i:v,thread:null},s.push(f)}},U.firstWalk=function t(e,s){var r=e.isExpand?e.children:[],l=e.parentNode.children,d=e.hierNode.i?l[e.hierNode.i-1]:null;if(r.length){!function y(e){for(var s=e.children,r=s.length,l=0,d=0;--r>=0;){var v=s[r];v.hierNode.prelim+=l,v.hierNode.modifier+=l,l+=v.hierNode.shift+(d+=v.hierNode.change)}}(e);var v=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;d?(e.hierNode.prelim=d.hierNode.prelim+s(e,d),e.hierNode.modifier=e.hierNode.prelim-v):e.hierNode.prelim=v}else d&&(e.hierNode.prelim=d.hierNode.prelim+s(e,d));e.parentNode.hierNode.defaultAncestor=function h(e,s,r,l){if(s){for(var d=e,v=e,f=v.parentNode.children[0],p=s,S=d.hierNode.modifier,C=v.hierNode.modifier,x=f.hierNode.modifier,g=p.hierNode.modifier;p=n(p),v=c(v),p&&v;){d=n(d),f=c(f),d.hierNode.ancestor=e;var m=p.hierNode.prelim+g-v.hierNode.prelim-C+l(p,v);m>0&&(a(o(p,e,r),e,m),C+=m,S+=m),g+=p.hierNode.modifier,C+=v.hierNode.modifier,S+=d.hierNode.modifier,x+=f.hierNode.modifier}p&&!n(d)&&(d.hierNode.thread=p,d.hierNode.modifier+=g-S),v&&!c(f)&&(f.hierNode.thread=v,f.hierNode.modifier+=C-x,r=e)}return r}(e,d,e.parentNode.hierNode.defaultAncestor||l[0],s)},U.secondWalk=function M(e){e.setLayout({x:e.hierNode.prelim+e.parentNode.hierNode.modifier},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier},U.separation=function I(e){return arguments.length?e:u},U.radialCoordinate=function D(e,s){var r={};return e-=Math.PI/2,r.x=s*Math.cos(e),r.y=s*Math.sin(e),r},U.getViewRect=function b(e,s){return T.getLayoutRect(e.getBoxLayoutParams(),{width:s.getWidth(),height:s.getHeight()})}},30431:(j,U)=>{U.eachAfter=function i(w,t,M){for(var b,I=[w],D=[];b=I.pop();)if(D.push(b),b.isExpand){var y=b.children;if(y.length)for(var h=0;h<y.length;h++)I.push(y[h])}for(;b=D.pop();)t(b,M)},U.eachBefore=function T(w,t){for(var I,M=[w];I=M.pop();)if(t(I),I.isExpand){var D=I.children;if(D.length)for(var b=D.length-1;b>=0;b--)M.push(D[b])}}},53559:(j,U,i)=>{var T=i(53639),t=i(60398).updateCenterAndZoom;T.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(M,I){I.eachComponent({mainType:"series",subType:"tree",query:M},function(D){var b=M.dataIndex,h=D.getData().tree.getNodeByDataIndex(b);h.isExpand=!h.isExpand})}),T.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(M,I){I.eachComponent({mainType:"series",subType:"tree",query:M},function(D){var y=t(D.coordinateSystem,M);D.setCenter&&D.setCenter(y.center),D.setZoom&&D.setZoom(y.zoom)})})},47610:(j,U,i)=>{var T=i(30431),w=T.eachAfter,t=T.eachBefore,M=i(50616),I=M.init,D=M.firstWalk,b=M.secondWalk,y=M.separation,h=M.radialCoordinate,n=M.getViewRect;j.exports=function c(a,u){a.eachSeriesByType("tree",function(e){!function o(a,u){var e=n(a,u);a.layoutInfo=e;var s=a.get("layout"),r=0,l=0,d=null;"radial"===s?(r=2*Math.PI,l=Math.min(e.height,e.width)/2,d=y(function(R,F){return(R.parentNode===F.parentNode?1:2)/R.depth})):(r=e.width,l=e.height,d=y());var v=a.getData().tree.root,f=v.children[0];if(f){I(v),w(f,D,d),v.hierNode.modifier=-f.hierNode.prelim,t(f,b);var p=f,S=f,C=f;t(f,function(R){var F=R.getLayout().x;F<p.getLayout().x&&(p=R),F>S.getLayout().x&&(S=R),R.depth>C.depth&&(C=R)});var x=p===S?1:d(p,S)/2,g=x-p.getLayout().x,m=0,A=0,L=0,E=0;if("radial"===s)m=r/(S.getLayout().x+x+g),A=l/(C.depth-1||1),t(f,function(R){L=(R.getLayout().x+g)*m;var F=h(L,E=(R.depth-1)*A);R.setLayout({x:F.x,y:F.y,rawX:L,rawY:E},!0)});else{var N=a.getOrient();"RL"===N||"LR"===N?(A=l/(S.getLayout().x+x+g),m=r/(C.depth-1||1),t(f,function(R){E=(R.getLayout().x+g)*A,R.setLayout({x:L="LR"===N?(R.depth-1)*m:r-(R.depth-1)*m,y:E},!0)})):("TB"===N||"BT"===N)&&(m=r/(S.getLayout().x+x+g),A=l/(C.depth-1||1),t(f,function(R){L=(R.getLayout().x+g)*m,R.setLayout({x:L,y:E="TB"===N?(R.depth-1)*A:l-(R.depth-1)*A},!0)}))}}}(e,u)})}},53269:(j,U,i)=>{var T=i(53639);i(13789),i(38691),i(11338);var w=i(69956),t=i(73977);T.registerVisual(w),T.registerLayout(t)},16887:(j,U,i)=>{var T=i(32694),w=i(10942),t=i(66615),I=i(89083).wrapTreePathInfo,y=5;function h(a){this.group=new T.Group,a.add(this.group)}function n(a,u,e,s,r,l){var d=[[r?a:a-y,u],[a+e,u],[a+e,u+s],[r?a:a-y,u+s]];return!l&&d.splice(2,0,[a+e+y,u+s/2]),!r&&d.push([a,u+s/2]),d}function c(a,u,e){a.eventData={componentType:"series",componentSubType:"treemap",componentIndex:u.componentIndex,seriesIndex:u.componentIndex,seriesName:u.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&I(e,u)}}h.prototype={constructor:h,render:function(a,u,e,s){var r=a.getModel("breadcrumb"),l=this.group;if(l.removeAll(),r.get("show")&&e){var d=r.getModel("itemStyle"),v=d.getModel("textStyle"),f={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:u.getWidth(),height:u.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(e,f,v),this._renderContent(a,f,d,v,s),w.positionElement(l,f.pos,f.box)}},_prepare:function(a,u,e){for(var s=a;s;s=s.parentNode){var r=s.getModel().get("name"),l=e.getTextRect(r),d=Math.max(l.width+16,u.emptyItemWidth);u.totalWidth+=d+8,u.renderList.push({node:s,text:r,width:d})}},_renderContent:function(a,u,e,s,r){for(var l=0,d=u.emptyItemWidth,v=a.get("breadcrumb.height"),f=w.getAvailableSize(u.pos,u.box),p=u.totalWidth,S=u.renderList,C=S.length-1;C>=0;C--){var x=S[C],g=x.node,m=x.width,A=x.text;p>f.width&&(p-=m-d,m=d,A=null);var L=new T.Polygon({shape:{points:n(l,0,m,v,C===S.length-1,0===C)},style:t.defaults(e.getItemStyle(),{lineJoin:"bevel",text:A,textFill:s.getTextColor(),textFont:s.getFont()}),z:10,onclick:t.curry(r,g)});this.group.add(L),c(L,a,g),l+=m+8}},remove:function(){this.group.removeAll()}},j.exports=h},13789:(j,U,i)=>{var T=i(66615),w=i(4263),t=i(38248),M=i(82356),I=i(42977),D=I.encodeHTML,b=I.addCommas,h=i(89083).wrapTreePathInfo,n=w.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(a,u){var e={name:a.name,children:a.data};c(e);var s=a.levels||[],r=this.designatedVisualItemStyle={},l=new M({itemStyle:r},this,u);s=a.levels=function o(a,u){var s,e=u.get("color");if(e)return T.each(a=a||[],function(l){var d=new M(l),v=d.get("color");(d.get("itemStyle.color")||v&&"none"!==v)&&(s=!0)}),s||((a[0]||(a[0]={})).color=e.slice()),a}(s,u);var d=T.map(s||[],function(p){return new M(p,l,u)},this),v=t.createTree(e,this,function f(p){p.wrapMethod("getItemModel",function(S,C){var x=v.getNodeByDataIndex(C);return S.parentModel=d[x.depth]||l,S})});return v.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(a){var u=this.getData(),e=this.getRawValue(a),s=T.isArray(e)?b(e[0]):b(e),r=u.getName(a);return D(r+": "+s)},getDataParams:function(a){var u=w.prototype.getDataParams.apply(this,arguments),e=this.getData().tree.getNodeByDataIndex(a);return u.treePathInfo=h(e,this),u},setLayoutInfo:function(a){this.layoutInfo=this.layoutInfo||{},T.extend(this.layoutInfo,a)},mapIdToIndex:function(a){var u=this._idIndexMap;u||(u=this._idIndexMap=T.createHashMap(),this._idIndexMapCount=0);var e=u.get(a);return null==e&&u.set(a,e=this._idIndexMapCount++),e},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var u=this.getRawData().tree.root;(!a||a!==u&&!u.contains(a))&&(this._viewRoot=u)}});function c(a){var u=0;T.each(a.children,function(s){c(s);var r=s.value;T.isArray(r)&&(r=r[0]),u+=r});var e=a.value;T.isArray(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=u),e<0&&(e=0),T.isArray(a.value)?a.value[0]=e:a.value=e}j.exports=n},38691:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(32694),M=i(12936),I=i(89083),D=i(16887),b=i(10233),y=i(94525),h=i(84498),n=i(26590),c=i(97005),a=i(42977).windowOpen,u=w.bind,e=t.Group,s=t.Rect,r=w.each,d=["label"],v=["emphasis","label"],f=["upperLabel"],p=["emphasis","upperLabel"],S=10,C=1,x=2,g=c([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),m=function(R){var F=g(R);return F.stroke=F.fill=F.lineWidth=null,F},A=T.extendChartView({type:"treemap",init:function(R,F){this._storage={nodeGroup:[],background:[],content:[]},this._state="ready"},render:function(R,F,H,B){var Z=F.findComponents({mainType:"series",subType:"treemap",query:B});if(!(w.indexOf(Z,R)<0)){this.seriesModel=R,this.api=H,this.ecModel=F;var $=I.retrieveTargetInfo(B,["treemapZoomToNode","treemapRootToNode"],R),Y=B&&B.type,V=R.layoutInfo,z=!this._oldTree,k=this._storage,X="treemapRootToNode"===Y&&$&&k?{rootNodeGroup:k.nodeGroup[$.node.getRawIndex()],direction:B.direction}:null,q=this._giveContainerGroup(V),et=this._doRender(q,R,X);z||Y&&"treemapZoomToNode"!==Y&&"treemapRootToNode"!==Y?et.renderFinally():this._doAnimation(q,et,R,X),this._resetController(H),this._renderBreadcrumb(R,H,$)}},_giveContainerGroup:function(R){var F=this._containerGroup;return F||(F=this._containerGroup=new e,this._initEvents(F),this.group.add(F)),F.attr("position",[R.x,R.y]),F},_doRender:function(R,F,H){var B=F.getData().tree,Z=this._oldTree,W={nodeGroup:[],background:[],content:[]},$={nodeGroup:[],background:[],content:[]},Y=this._storage,V=[],z=w.curry(E,F,$,Y,H,W,V);!function X(rt,it,lt,dt,ht){function gt(ut){return ut.getId()}function at(ut,Ct){var _t=null!=ut?rt[ut]:null,bt=null!=Ct?it[Ct]:null,Rt=z(_t,bt,lt,ht);Rt&&X(_t&&_t.viewChildren||[],bt&&bt.viewChildren||[],Rt,dt,ht+1)}dt?(it=rt,r(rt,function(ut,Ct){!ut.isRemoved()&&at(Ct,Ct)})):new M(it,rt,gt,gt).add(at).update(at).remove(w.curry(at,null)).execute()}(B.root?[B.root]:[],Z&&Z.root?[Z.root]:[],R,B===Z||!Z,0);var k=function q(rt){var it={nodeGroup:[],background:[],content:[]};return rt&&r(rt,function(lt,dt){var ht=it[dt];r(lt,function(gt){gt&&(ht.push(gt),gt.__tmWillDelete=1)})}),it}(Y);return this._oldTree=B,this._storage=$,{lastsForAnimation:W,willDeleteEls:k,renderFinally:function et(){r(k,function(rt){r(rt,function(it){it.parent&&it.parent.remove(it)})}),r(V,function(rt){rt.invisible=!0,rt.dirty()})}}},_doAnimation:function(R,F,H,B){if(H.get("animation")){var Z=H.get("animationDurationUpdate"),W=H.get("animationEasing"),$=n.createWrap();r(F.willDeleteEls,function(Y,V){r(Y,function(z,k){if(!z.invisible){var q,X=z.parent;if(B&&"drillDown"===B.direction)q=X===B.rootNodeGroup?{shape:{x:0,y:0,width:X.__tmNodeWidth,height:X.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var et=0,rt=0;X.__tmWillDelete||(et=X.__tmNodeWidth/2,rt=X.__tmNodeHeight/2),q="nodeGroup"===V?{position:[et,rt],style:{opacity:0}}:{shape:{x:et,y:rt,width:0,height:0},style:{opacity:0}}}q&&$.add(z,q,Z,W)}})}),r(this._storage,function(Y,V){r(Y,function(z,k){var X=F.lastsForAnimation[V][k],q={};X&&("nodeGroup"===V?X.old&&(q.position=z.position.slice(),z.attr("position",X.old)):(X.old&&(q.shape=w.extend({},z.shape),z.setShape(X.old)),X.fadein?(z.setStyle("opacity",0),q.style={opacity:1}):1!==z.style.opacity&&(q.style={opacity:1})),$.add(z,q,Z,W))})},this),this._state="animating",$.done(u(function(){this._state="ready",F.renderFinally()},this)).start()}},_resetController:function(R){var F=this._controller;F||((F=this._controller=new b(R.getZr())).enable(this.seriesModel.get("roam")),F.on("pan",u(this._onPan,this)),F.on("zoom",u(this._onZoom,this)));var H=new y(0,0,R.getWidth(),R.getHeight());F.setPointerChecker(function(B,Z,W){return H.contain(Z,W)})},_clearController:function(){var R=this._controller;R&&(R.dispose(),R=null)},_onPan:function(R){if("animating"!==this._state&&(Math.abs(R.dx)>3||Math.abs(R.dy)>3)){var F=this.seriesModel.getData().tree.root;if(!F)return;var H=F.getLayout();if(!H)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:H.x+R.dx,y:H.y+R.dy,width:H.width,height:H.height}})}},_onZoom:function(R){var F=R.originX,H=R.originY;if("animating"!==this._state){var B=this.seriesModel.getData().tree.root;if(!B)return;var Z=B.getLayout();if(!Z)return;var W=new y(Z.x,Z.y,Z.width,Z.height),$=this.seriesModel.layoutInfo;F-=$.x,H-=$.y;var Y=h.create();h.translate(Y,Y,[-F,-H]),h.scale(Y,Y,[R.scale,R.scale]),h.translate(Y,Y,[F,H]),W.applyTransform(Y),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:W.x,y:W.y,width:W.width,height:W.height}})}},_initEvents:function(R){R.on("click",function(F){if("ready"===this._state){var H=this.seriesModel.get("nodeClick",!0);if(H){var B=this.findTarget(F.offsetX,F.offsetY);if(B){var Z=B.node;if(Z.getLayout().isLeafRoot)this._rootToNode(B);else if("zoomToNode"===H)this._zoomToNode(B);else if("link"===H){var W=Z.hostTree.data.getItemModel(Z.dataIndex),$=W.get("link",!0),Y=W.get("target",!0)||"blank";$&&a($,Y)}}}}},this)},_renderBreadcrumb:function(R,F,H){H||(H=null!=R.get("leafDepth",!0)?{node:R.getViewRoot()}:this.findTarget(F.getWidth()/2,F.getHeight()/2))||(H={node:R.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new D(this.group))).render(R,F,H.node,u(function B(Z){"animating"!==this._state&&(I.aboveViewRoot(R.getViewRoot(),Z)?this._rootToNode({node:Z}):this._zoomToNode({node:Z}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(R){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:R.node})},_rootToNode:function(R){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:R.node})},findTarget:function(R,F){var H;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(Z){var W=this._storage.background[Z.getRawIndex()];if(W){var $=W.transformCoordToLocal(R,F),Y=W.shape;if(!(Y.x<=$[0]&&$[0]<=Y.x+Y.width&&Y.y<=$[1]&&$[1]<=Y.y+Y.height))return!1;H={node:Z,offsetX:$[0],offsetY:$[1]}}},this),H}});function E(R,F,H,B,Z,W,$,Y,V,z){if($){var k=$.getLayout(),X=R.getData();if(X.setItemGraphicEl($.dataIndex,null),k&&k.isInView){var q=k.width,et=k.height,rt=k.borderWidth,it=k.invisible,lt=$.getRawIndex(),dt=Y&&Y.getRawIndex(),ht=$.viewChildren,gt=k.upperHeight,at=ht&&ht.length,ut=$.getModel("itemStyle"),Ct=$.getModel("emphasis.itemStyle"),_t=xt("nodeGroup",e);if(_t){if(V.add(_t),_t.attr("position",[k.x||0,k.y||0]),_t.__tmNodeWidth=q,_t.__tmNodeHeight=et,k.isAboveViewRoot)return _t;var bt=$.getModel(),Rt=xt("background",s,z,C);if(Rt&&function Tt(Ot,It,Ft){if(It.dataIndex=$.dataIndex,It.seriesIndex=R.seriesIndex,It.setShape({x:0,y:0,width:q,height:et}),it)Zt(It);else{It.invisible=!1;var Jt=$.getVisual("borderColor",!0),qt=Ct.get("borderColor"),te=m(ut);te.fill=Jt;var se=g(Ct);if(se.fill=qt,Ft){var ge=q-2*rt;Vt(te,se,Jt,ge,gt,{x:rt,y:0,width:ge,height:gt})}else te.text=se.text=null;It.setStyle(te),t.setElementHoverStyle(It,se)}Ot.add(It)}(_t,Rt,at&&k.upperLabelHeight),at)t.isHighDownDispatcher(_t)&&t.setAsHighDownDispatcher(_t,!1),Rt&&(t.setAsHighDownDispatcher(Rt,!0),X.setItemGraphicEl($.dataIndex,Rt));else{var yt=xt("content",s,z,x);yt&&function Pt(Ot,It){It.dataIndex=$.dataIndex,It.seriesIndex=R.seriesIndex;var Ft=Math.max(q-2*rt,0),Jt=Math.max(et-2*rt,0);if(It.culling=!0,It.setShape({x:rt,y:rt,width:Ft,height:Jt}),it)Zt(It);else{It.invisible=!1;var qt=$.getVisual("color",!0),te=m(ut);te.fill=qt;var se=g(Ct);Vt(te,se,qt,Ft,Jt),It.setStyle(te),t.setElementHoverStyle(It,se)}Ot.add(It)}(_t,yt),Rt&&t.isHighDownDispatcher(Rt)&&t.setAsHighDownDispatcher(Rt,!1),t.setAsHighDownDispatcher(_t,!0),X.setItemGraphicEl($.dataIndex,_t)}return _t}}}function Zt(Ot){!Ot.invisible&&W.push(Ot)}function Vt(Ot,It,Ft,Jt,qt,te){var se=bt.get("name"),ge=bt.getModel(te?f:d),Ce=bt.getModel(te?p:v),Se=ge.getShallow("show");t.setLabelStyle(Ot,It,ge,Ce,{defaultText:Se?se:null,autoColor:Ft,isRectText:!0,labelFetcher:R,labelDataIndex:$.dataIndex,labelProp:te?"upperLabel":"label"}),ft(Ot,te,k),ft(It,te,k),te&&(Ot.textRect=w.clone(te)),Ot.truncate=Se&&ge.get("ellipsis")?{outerWidth:Jt,outerHeight:qt,minChar:2}:null}function ft(Ot,It,Ft){var Jt=Ot.text;if(!It&&Ft.isLeafRoot&&null!=Jt){var qt=R.get("drillDownIcon",!0);Ot.text=qt?qt+" "+Jt:Jt}}function xt(Ot,It,Ft,Jt){var qt=null!=dt&&H[Ot][dt],te=Z[Ot];return qt?(H[Ot][dt]=null,function wt(Ot,It,Ft){(Ot[lt]={}).old="nodeGroup"===Ft?It.position.slice():w.extend({},It.shape)}(te,qt,Ot)):it||((qt=new It({z:N(Ft,Jt)})).__tmDepth=Ft,qt.__tmStorageName=Ot,function Nt(Ot,It,Ft){var Jt=Ot[lt]={},qt=$.parentNode;if(qt&&(!B||"drillDown"===B.direction)){var te=0,se=0,ge=Z.background[qt.getRawIndex()];!B&&ge&&ge.old&&(te=ge.old.width,se=ge.old.height),Jt.old="nodeGroup"===Ft?[0,se]:{x:te,y:se,width:0,height:0}}Jt.fadein="nodeGroup"!==Ft}(te,0,Ot)),F[Ot][lt]=qt}}function N(R,F){var H=R*S+F;return(H-1)/H}j.exports=A},11338:(j,U,i)=>{for(var T=i(53639),w=i(89083),t=function(){},M=["treemapZoomToNode","treemapRender","treemapMove"],I=0;I<M.length;I++)T.registerAction({type:M[I],update:"updateView"},t);T.registerAction({type:"treemapRootToNode",update:"updateView"},function(D,b){b.eachComponent({mainType:"series",subType:"treemap",query:D},function y(h,n){var o=w.retrieveTargetInfo(D,["treemapZoomToNode","treemapRootToNode"],h);if(o){var a=h.getViewRoot();a&&(D.direction=w.aboveViewRoot(a,o.node)?"rollUp":"drillDown"),h.resetViewRoot(o.node)}})})},73977:(j,U,i)=>{var T=i(66615),w=i(94525),t=i(68301),M=t.parsePercent,I=t.MAX_SAFE_INTEGER,D=i(10942),b=i(89083),y=Math.max,h=Math.min,n=T.retrieve,c=T.each,o=["itemStyle","borderWidth"],a=["itemStyle","gapWidth"],u=["upperLabel","show"],e=["upperLabel","height"];function r(A,L,E,N){var R,F;if(!A.isRemoved()){var H=A.getLayout();R=H.width,F=H.height;var B=(z=A.getModel()).get(o),Z=z.get(a)/2,W=m(z),$=Math.max(B,W),Y=B-Z,V=$-Z,z=A.getModel();A.setLayout({borderWidth:B,upperHeight:$,upperLabelHeight:W},!0);var k=(R=y(R-2*Y,0))*(F=y(F-Y-V,0)),X=function l(A,L,E,N,R,F){var H=A.children||[],B=N.sort;"asc"!==B&&"desc"!==B&&(B=null);var Z=null!=N.leafDepth&&N.leafDepth<=F;if(R&&!Z)return A.viewChildren=[];H=T.filter(H,function(z){return!z.isRemoved()}),function v(A,L){L&&A.sort(function(E,N){var R="asc"===L?E.getValue()-N.getValue():N.getValue()-E.getValue();return 0===R?"asc"===L?E.dataIndex-N.dataIndex:N.dataIndex-E.dataIndex:R})}(H,B);var W=function f(A,L,E){for(var N=0,R=0,F=L.length;R<F;R++)N+=L[R].getValue();var H=A.get("visualDimension");if(L&&L.length)if("value"===H&&E)B=[L[L.length-1].getValue(),L[0].getValue()],"asc"===E&&B.reverse();else{var B=[1/0,-1/0];c(L,function(W){var $=W.getValue(H);$<B[0]&&(B[0]=$),$>B[1]&&(B[1]=$)})}else B=[NaN,NaN];return{sum:N,dataExtent:B}}(L,H,B);if(0===W.sum)return A.viewChildren=[];if(W.sum=function d(A,L,E,N,R){if(!N)return E;for(var F=A.get("visibleMin"),H=R.length,B=H,Z=H-1;Z>=0;Z--){var W=R["asc"===N?H-Z-1:Z].getValue();W/E*L<F&&(B=Z,E-=W)}return R.splice("asc"===N?0:B,H-B),E}(L,E,W.sum,B,H),0===W.sum)return A.viewChildren=[];for(var $=0,Y=H.length;$<Y;$++){var V=H[$].getValue()/W.sum*E;H[$].setLayout({area:V})}return Z&&(H.length&&A.setLayout({isLeafRoot:!0},!0),H.length=0),A.viewChildren=H,A.setLayout({dataExtent:W.dataExtent},!0),H}(A,z,k,L,E,N);if(X.length){var q={x:Y,y:V,width:R,height:F},et=h(R,F),rt=1/0,it=[];it.area=0;for(var lt=0,dt=X.length;lt<dt;){var ht=X[lt];it.push(ht),it.area+=ht.getLayout().area;var gt=p(it,et,L.squareRatio);gt<=rt?(lt++,rt=gt):(it.area-=it.pop().getLayout().area,S(it,et,q,Z,!1),et=h(q.width,q.height),it.length=it.area=0,rt=1/0)}if(it.length&&S(it,et,q,Z,!0),!E){var at=z.get("childrenVisibleMin");null!=at&&k<at&&(E=!0)}for(lt=0,dt=X.length;lt<dt;lt++)r(X[lt],L,E,N+1)}}}function p(A,L,E){for(var H,N=0,R=1/0,F=0,B=A.length;F<B;F++)(H=A[F].getLayout().area)&&(H<R&&(R=H),H>N&&(N=H));var Z=A.area*A.area,W=L*L*E;return Z?y(W*N/Z,Z/(W*R)):1/0}function S(A,L,E,N,R){var F=L===E.width?0:1,H=1-F,B=["x","y"],Z=["width","height"],W=E[B[F]],$=L?A.area/L:0;(R||$>E[Z[H]])&&($=E[Z[H]]);for(var Y=0,V=A.length;Y<V;Y++){var z=A[Y],k={},X=$?z.getLayout().area/$:0,q=k[Z[H]]=y($-2*N,0),et=E[B[F]]+E[Z[F]]-W,rt=Y===V-1||et<X?et:X,it=k[Z[F]]=y(rt-2*N,0);k[B[H]]=E[B[H]]+h(N,q/2),k[B[F]]=W+h(N,it/2),W+=rt,z.setLayout(k,!0)}E[B[H]]+=$,E[Z[H]]-=$}function g(A,L,E,N,R){var F=A.getLayout(),H=E[R],B=H&&H===A;if(!(H&&!B||R===E.length&&A!==N)){A.setLayout({isInView:!0,invisible:!B&&!L.intersect(F),isAboveViewRoot:B},!0);var Z=new w(L.x-F.x,L.y-F.y,L.width,L.height);c(A.viewChildren||[],function(W){g(W,Z,E,N,R+1)})}}function m(A){return A.get(u)?A.get(e):0}j.exports={seriesType:"treemap",reset:function(A,L,E,N){var R=E.getWidth(),F=E.getHeight(),H=A.option,B=D.getLayoutRect(A.getBoxLayoutParams(),{width:E.getWidth(),height:E.getHeight()}),Z=H.size||[],W=M(n(B.width,Z[0]),R),$=M(n(B.height,Z[1]),F),Y=N&&N.type,z=b.retrieveTargetInfo(N,["treemapZoomToNode","treemapRootToNode"],A),k="treemapRender"===Y||"treemapMove"===Y?N.rootRect:null,X=A.getViewRoot(),q=b.getPathToRoot(X);if("treemapMove"!==Y){var et="treemapZoomToNode"===Y?function C(A,L,E,N,R){var F=(L||{}).node,H=[N,R];if(!F||F===E)return H;for(var B,Z=N*R,W=Z*A.option.zoomToNodeRatio;B=F.parentNode;){for(var $=0,Y=B.children,V=0,z=Y.length;V<z;V++)$+=Y[V].getValue();var k=F.getValue();if(0===k)return H;W*=$/k;var X=B.getModel(),q=X.get(o);(W+=4*q*q+(3*q+Math.max(q,m(X)))*Math.pow(W,.5))>I&&(W=I),F=B}W<Z&&(W=Z);var rt=Math.pow(W/Z,.5);return[N*rt,R*rt]}(A,z,X,W,$):k?[k.width,k.height]:[W,$],rt=H.sort;rt&&"asc"!==rt&&"desc"!==rt&&(rt="desc");var it={squareRatio:H.squareRatio,sort:rt,leafDepth:H.leafDepth};X.hostTree.clearLayouts(),X.setLayout({x:0,y:0,width:et[0],height:et[1],area:et[0]*et[1]}),r(X,it,!1,0);var lt=X.getLayout();c(q,function(ht,gt){var at=(q[gt+1]||X).getValue();ht.setLayout(T.extend({dataExtent:[at,at],borderWidth:0,upperHeight:0},lt))})}var dt=A.getData().tree.root;dt.setLayout(function x(A,L,E){if(L)return{x:L.x,y:L.y};var N={x:0,y:0};if(!E)return N;var R=E.node,F=R.getLayout();if(!F)return N;for(var H=[F.width/2,F.height/2],B=R;B;){var Z=B.getLayout();H[0]+=Z.x,H[1]+=Z.y,B=B.parentNode}return{x:A.width/2-H[0],y:A.height/2-H[1]}}(B,k,z),!0),A.setLayoutInfo(B),g(dt,new w(-B.x,-B.y,R,F),q,X,0)}}},69956:(j,U,i)=>{var T=i(60111),w=i(10754),t=i(66615),M=t.isArray,I="itemStyle";function b(e,s,r,l){var d=e.getModel(),v=e.getLayout();if(v&&!v.invisible&&v.isInView){var x,f=e.getModel(I),p=function y(e,s,r){var l=t.extend({},s),d=r.designatedVisualItemStyle;return t.each(["color","colorAlpha","colorSaturation"],function(v){d[v]=s[v];var f=e.get(v);d[v]=null,null!=f&&(l[v]=f)}),l}(f,s,l),S=f.get("borderColor"),C=f.get("borderColorSaturation");null!=C&&(S=function n(e,s){return null!=s?w.modifyHSL(s,null,null,e):null}(C,x=h(p))),e.setVisual("borderColor",S);var g=e.viewChildren;if(g&&g.length){var m=function o(e,s,r,l,d,v){if(v&&v.length){var f=a(s,"color")||null!=d.color&&"none"!==d.color&&(a(s,"colorAlpha")||a(s,"colorSaturation"));if(f){var p=s.get("visualMin"),S=s.get("visualMax"),C=r.dataExtent.slice();null!=p&&p<C[0]&&(C[0]=p),null!=S&&S>C[1]&&(C[1]=S);var x=s.get("colorMappingBy"),g={type:f.name,dataExtent:C,visual:f.range};"color"!==g.type||"index"!==x&&"id"!==x?g.mappingMethod="linear":(g.mappingMethod="category",g.loop=!0);var m=new T(g);return m.__drColorMappingBy=x,m}}}(0,d,v,0,p,g);t.each(g,function(A,L){if(A.depth>=r.length||A===r[A.depth]){var E=function u(e,s,r,l,d,v){var f=t.extend({},s);if(d){var p=d.type,S="color"===p&&d.__drColorMappingBy,C="index"===S?l:"id"===S?v.mapIdToIndex(r.getId()):r.getValue(e.get("visualDimension"));f[p]=d.mapValueToVisual(C)}return f}(d,p,A,L,m,l);b(A,E,r,l)}})}else x=h(p),e.setVisual("color",x)}}function h(e){var s=c(e,"color");if(s){var r=c(e,"colorAlpha"),l=c(e,"colorSaturation");return l&&(s=w.modifyHSL(s,null,null,l)),r&&(s=w.modifyAlpha(s,r)),s}}function c(e,s){var r=e[s];if(null!=r&&"none"!==r)return r}function a(e,s){var r=e.get(s);return M(r)&&r.length?{name:s,range:r}:null}j.exports={seriesType:"treemap",reset:function(e,s,r,l){var v=e.getData().tree.root;v.isRemoved()||b(v,{},e.getViewRoot().getAncestors(),e)}}},39610:(j,U,i)=>{i(97924),i(17614)},58757:(j,U,i)=>{i(39845),i(83770)},17614:(j,U,i)=>{var T=i(66615),w=i(32694),t=i(82356),M=i(40823),I=i(87483),D=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function b(c,o,a){o[1]>o[0]&&(o=o.slice().reverse());var u=c.coordToPoint([o[0],a]),e=c.coordToPoint([o[1],a]);return{x1:u[0],y1:u[1],x2:e[0],y2:e[1]}}function y(c){return c.getRadiusAxis().inverse?0:1}function h(c){var o=c[0],a=c[c.length-1];o&&a&&Math.abs(Math.abs(o.coord-a.coord)-360)<1e-4&&c.pop()}var n=M.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(c,o){if(this.group.removeAll(),c.get("show")){var a=c.axis,u=a.polar,e=u.getRadiusAxis().getExtent(),s=a.getTicksCoords(),r=a.getMinorTicksCoords(),l=T.map(a.getViewLabels(),function(v){return(v=T.clone(v)).coord=a.dataToCoord(v.tickValue),v});h(l),h(s),T.each(D,function(d){c.get(d+".show")&&(!a.scale.isBlank()||"axisLine"===d)&&this["_"+d](c,u,s,r,e,l)},this)}},_axisLine:function(c,o,a,u,e){var d,s=c.getModel("axisLine.lineStyle"),r=y(o),l=r?0:1;(d=0===e[l]?new w.Circle({shape:{cx:o.cx,cy:o.cy,r:e[r]},style:s.getLineStyle(),z2:1,silent:!0}):new w.Ring({shape:{cx:o.cx,cy:o.cy,r:e[r],r0:e[l]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,this.group.add(d)},_axisTick:function(c,o,a,u,e){var s=c.getModel("axisTick"),r=(s.get("inside")?-1:1)*s.get("length"),l=e[y(o)],d=T.map(a,function(v){return new w.Line({shape:b(o,[l,l+r],v.coord)})});this.group.add(w.mergePath(d,{style:T.defaults(s.getModel("lineStyle").getLineStyle(),{stroke:c.get("axisLine.lineStyle.color")})}))},_minorTick:function(c,o,a,u,e){if(u.length){for(var s=c.getModel("axisTick"),r=c.getModel("minorTick"),l=(s.get("inside")?-1:1)*r.get("length"),d=e[y(o)],v=[],f=0;f<u.length;f++)for(var p=0;p<u[f].length;p++)v.push(new w.Line({shape:b(o,[d,d+l],u[f][p].coord)}));this.group.add(w.mergePath(v,{style:T.defaults(r.getModel("lineStyle").getLineStyle(),T.defaults(s.getLineStyle(),{stroke:c.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(c,o,a,u,e,s){var r=c.getCategories(!0),l=c.getModel("axisLabel"),d=l.get("margin"),v=c.get("triggerEvent");T.each(s,function(f,p){var S=l,C=f.tickValue,x=e[y(o)],g=o.coordToPoint([x+d,f.coord]),m=o.cx,A=o.cy,L=Math.abs(g[0]-m)/x<.3?"center":g[0]>m?"left":"right",E=Math.abs(g[1]-A)/x<.3?"middle":g[1]>A?"top":"bottom";r&&r[C]&&r[C].textStyle&&(S=new t(r[C].textStyle,l,l.ecModel));var N=new w.Text({silent:I.isLabelSilent(c)});this.group.add(N),w.setTextStyle(N.style,S,{x:g[0],y:g[1],textFill:S.getTextColor()||c.get("axisLine.lineStyle.color"),text:f.formattedLabel,textAlign:L,textVerticalAlign:E}),v&&(N.eventData=I.makeAxisEventDataBase(c),N.eventData.targetType="axisLabel",N.eventData.value=f.rawLabel)},this)},_splitLine:function(c,o,a,u,e){var r=c.getModel("splitLine").getModel("lineStyle"),l=r.get("color"),d=0;l=l instanceof Array?l:[l];for(var v=[],f=0;f<a.length;f++){var p=d++%l.length;v[p]=v[p]||[],v[p].push(new w.Line({shape:b(o,e,a[f].coord)}))}for(f=0;f<v.length;f++)this.group.add(w.mergePath(v[f],{style:T.defaults({stroke:l[f%l.length]},r.getLineStyle()),silent:!0,z:c.get("z")}))},_minorSplitLine:function(c,o,a,u,e){if(u.length){for(var r=c.getModel("minorSplitLine").getModel("lineStyle"),l=[],d=0;d<u.length;d++)for(var v=0;v<u[d].length;v++)l.push(new w.Line({shape:b(o,e,u[d][v].coord)}));this.group.add(w.mergePath(l,{style:r.getLineStyle(),silent:!0,z:c.get("z")}))}},_splitArea:function(c,o,a,u,e){if(a.length){var r=c.getModel("splitArea").getModel("areaStyle"),l=r.get("color"),d=0;l=l instanceof Array?l:[l];for(var v=[],f=Math.PI/180,p=-a[0].coord*f,S=Math.min(e[0],e[1]),C=Math.max(e[0],e[1]),x=c.get("clockwise"),g=1;g<a.length;g++){var m=d++%l.length;v[m]=v[m]||[],v[m].push(new w.Sector({shape:{cx:o.cx,cy:o.cy,r0:S,r:C,startAngle:p,endAngle:-a[g].coord*f,clockwise:x},silent:!0})),p=-a[g].coord*f}for(g=0;g<v.length;g++)this.group.add(w.mergePath(v[g],{style:T.defaults({fill:l[g%l.length]},r.getAreaStyle()),silent:!0}))}}});j.exports=n},87483:(j,U,i)=>{var T=i(66615),w=T.retrieve,t=T.defaults,M=T.extend,I=T.each,D=i(42977),b=i(32694),y=i(82356),h=i(68301),n=h.isRadianAroundZero,c=h.remRadian,a=i(33008).createSymbol,u=i(84498),s=i(8544).applyTransform,l=i(84004).shouldShowAllLabels,d=Math.PI,v=function(B,Z){this.opt=Z,this.axisModel=B,t(Z,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new b.Group;var W=new b.Group({position:Z.position.slice(),rotation:Z.rotation});W.updateTransform(),this._transform=W.transform,this._dumbGroup=W};v.prototype={constructor:v,hasBuilder:function(B){return!!f[B]},add:function(B){f[B].call(this)},getGroup:function(){return this.group}};var f={axisLine:function(){var B=this.opt,Z=this.axisModel;if(Z.get("axisLine.show")){var W=this.axisModel.axis.getExtent(),$=this._transform,Y=[W[0],0],V=[W[1],0];$&&(s(Y,Y,$),s(V,V,$));var z=M({lineCap:"round"},Z.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new b.Line({anid:"line",subPixelOptimize:!0,shape:{x1:Y[0],y1:Y[1],x2:V[0],y2:V[1]},style:z,strokeContainThreshold:B.strokeContainThreshold||5,silent:!0,z2:1}));var k=Z.get("axisLine.symbol"),X=Z.get("axisLine.symbolSize"),q=Z.get("axisLine.symbolOffset")||0;if("number"==typeof q&&(q=[q,q]),null!=k){"string"==typeof k&&(k=[k,k]),("string"==typeof X||"number"==typeof X)&&(X=[X,X]);var et=X[0],rt=X[1];I([{rotate:B.rotation+Math.PI/2,offset:q[0],r:0},{rotate:B.rotation-Math.PI/2,offset:q[1],r:Math.sqrt((Y[0]-V[0])*(Y[0]-V[0])+(Y[1]-V[1])*(Y[1]-V[1]))}],function(it,lt){if("none"!==k[lt]&&null!=k[lt]){var dt=a(k[lt],-et/2,-rt/2,et,rt,z.stroke,!0),ht=it.r+it.offset,gt=[Y[0]+ht*Math.cos(B.rotation),Y[1]-ht*Math.sin(B.rotation)];dt.attr({rotation:it.rotate,position:gt,silent:!0,z2:11}),this.group.add(dt)}},this)}}},axisTickLabel:function(){var B=this.axisModel,Z=this.opt,W=function N(B,Z,W){var $=Z.axis,Y=Z.getModel("axisTick");if(Y.get("show")&&!$.scale.isBlank()){for(var V=Y.getModel("lineStyle"),z=W.tickDirection*Y.get("length"),X=E($.getTicksCoords(),B._transform,z,t(V.getLineStyle(),{stroke:Z.get("axisLine.lineStyle.color")}),"ticks"),q=0;q<X.length;q++)B.group.add(X[q]);return X}}(this,B,Z),$=function F(B,Z,W){var $=Z.axis;if(w(W.axisLabelShow,Z.get("axisLabel.show"))&&!$.scale.isBlank()){var V=Z.getModel("axisLabel"),z=V.get("margin"),k=$.getViewLabels(),X=(w(W.labelRotate,V.get("rotate"))||0)*d/180,q=S(W.rotation,X,W.labelDirection),et=Z.getCategories&&Z.getCategories(!0),rt=[],it=x(Z),lt=Z.get("triggerEvent");return I(k,function(dt,ht){var gt=dt.tickValue,at=dt.formattedLabel,ut=dt.rawLabel,Ct=V;et&&et[gt]&&et[gt].textStyle&&(Ct=new y(et[gt].textStyle,V,Z.ecModel));var _t=Ct.getTextColor()||Z.get("axisLine.lineStyle.color"),bt=$.dataToCoord(gt),yt=new b.Text({anid:"label_"+gt,position:[bt,W.labelOffset+W.labelDirection*z],rotation:q.rotation,silent:it,z2:10});b.setTextStyle(yt.style,Ct,{text:at,textAlign:Ct.getShallow("align",!0)||q.textAlign,textVerticalAlign:Ct.getShallow("verticalAlign",!0)||Ct.getShallow("baseline",!0)||q.textVerticalAlign,textFill:"function"==typeof _t?_t("category"===$.type?ut:"value"===$.type?gt+"":gt,ht):_t}),lt&&(yt.eventData=p(Z),yt.eventData.targetType="axisLabel",yt.eventData.value=ut),B._dumbGroup.add(yt),yt.updateTransform(),rt.push(yt),B.group.add(yt),yt.decomposeTransform()}),rt}}(this,B,Z);(function g(B,Z,W){if(!l(B.axis)){var $=B.get("axisLabel.showMinLabel"),Y=B.get("axisLabel.showMaxLabel"),V=(Z=Z||[])[0],z=Z[1],k=Z[Z.length-1],X=Z[Z.length-2],q=(W=W||[])[0],et=W[1],rt=W[W.length-1],it=W[W.length-2];!1===$?(m(V),m(q)):A(V,z)&&($?(m(z),m(et)):(m(V),m(q))),!1===Y?(m(k),m(rt)):A(X,k)&&(Y?(m(X),m(it)):(m(k),m(rt)))}})(B,$,W),function R(B,Z,W){var $=Z.axis,Y=Z.getModel("minorTick");if(Y.get("show")&&!$.scale.isBlank()){var V=$.getMinorTicksCoords();if(V.length)for(var z=Y.getModel("lineStyle"),k=W.tickDirection*Y.get("length"),X=t(z.getLineStyle(),t(Z.getModel("axisTick").getLineStyle(),{stroke:Z.get("axisLine.lineStyle.color")})),q=0;q<V.length;q++)for(var et=E(V[q],B._transform,k,X,"minorticks_"+q),rt=0;rt<et.length;rt++)B.group.add(et[rt])}}(this,B,Z)},axisName:function(){var B=this.opt,Z=this.axisModel,W=w(B.axisName,Z.get("name"));if(W){var et,it,$=Z.get("nameLocation"),Y=B.nameDirection,V=Z.getModel("nameTextStyle"),z=Z.get("nameGap")||0,k=this.axisModel.axis.getExtent(),X=k[0]>k[1]?-1:1,q=["start"===$?k[0]-X*z:"end"===$?k[1]+X*z:(k[0]+k[1])/2,L($)?B.labelOffset+Y*z:0],rt=Z.get("nameRotate");null!=rt&&(rt=rt*d/180),L($)?et=S(B.rotation,rt??B.rotation,Y):(et=function C(B,Z,W,$){var V,z,Y=c(W-B.rotation),k=$[0]>$[1],X="start"===Z&&!k||"start"!==Z&&k;return n(Y-d/2)?(z=X?"bottom":"top",V="center"):n(Y-1.5*d)?(z=X?"top":"bottom",V="center"):(z="middle",V=Y<1.5*d&&Y>d/2?X?"left":"right":X?"right":"left"),{rotation:Y,textAlign:V,textVerticalAlign:z}}(B,$,rt||0,k),null!=(it=B.axisNameAvailableWidth)&&(it=Math.abs(it/Math.sin(et.rotation)),!isFinite(it)&&(it=null)));var lt=V.getFont(),dt=Z.get("nameTruncate",!0)||{},ht=dt.ellipsis,gt=w(B.nameTruncateMaxWidth,dt.maxWidth,it),at=null!=ht&&null!=gt?D.truncateText(W,gt,lt,ht,{minChar:2,placeholder:dt.placeholder}):W,ut=Z.get("tooltip",!0),Ct=Z.mainType,_t={componentType:Ct,name:W,$vars:["name"]};_t[Ct+"Index"]=Z.componentIndex;var bt=new b.Text({anid:"name",__fullText:W,__truncatedText:at,position:q,rotation:et.rotation,silent:x(Z),z2:1,tooltip:ut&&ut.show?M({content:W,formatter:function(){return W},formatterParams:_t},ut):null});b.setTextStyle(bt.style,V,{text:at,textFont:lt,textFill:V.getTextColor()||Z.get("axisLine.lineStyle.color"),textAlign:V.get("align")||et.textAlign,textVerticalAlign:V.get("verticalAlign")||et.textVerticalAlign}),Z.get("triggerEvent")&&(bt.eventData=p(Z),bt.eventData.targetType="axisName",bt.eventData.name=W),this._dumbGroup.add(bt),bt.updateTransform(),this.group.add(bt),bt.decomposeTransform()}}},p=v.makeAxisEventDataBase=function(B){var Z={componentType:B.mainType,componentIndex:B.componentIndex};return Z[B.mainType+"Index"]=B.componentIndex,Z},S=v.innerTextLayout=function(B,Z,W){var Y,V,$=c(Z-B);return n($)?(V=W>0?"top":"bottom",Y="center"):n($-d)?(V=W>0?"bottom":"top",Y="center"):(V="middle",Y=$>0&&$<d?W>0?"right":"left":W>0?"left":"right"),{rotation:$,textAlign:Y,textVerticalAlign:V}},x=v.isLabelSilent=function(B){var Z=B.get("tooltip");return B.get("silent")||!(B.get("triggerEvent")||Z&&Z.show)};function m(B){B&&(B.ignore=!0)}function A(B,Z,W){var $=B&&B.getBoundingRect().clone(),Y=Z&&Z.getBoundingRect().clone();if($&&Y){var V=u.identity([]);return u.rotate(V,V,-B.rotation),$.applyTransform(u.mul([],V,B.getLocalTransform())),Y.applyTransform(u.mul([],V,Z.getLocalTransform())),$.intersect(Y)}}function L(B){return"middle"===B||"center"===B}function E(B,Z,W,$,Y){for(var V=[],z=[],k=[],X=0;X<B.length;X++){var q=B[X].coord;z[0]=q,z[1]=0,k[0]=q,k[1]=W,Z&&(s(z,z,Z),s(k,k,Z));var et=new b.Line({anid:Y+"_"+B[X].tickValue,subPixelOptimize:!0,shape:{x1:z[0],y1:z[1],x2:k[0],y2:k[1]},style:$,z2:2,silent:!0});V.push(et)}return V}j.exports=v},40823:(j,U,i)=>{i(78322);var t=i(53639),M=i(16209),I=t.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(n,c,o,a){this.axisPointerClass&&M.fixValue(n),I.superApply(this,"render",arguments),D(this,n,0,o,0,!0)},updateAxisPointer:function(n,c,o,a,u){D(this,n,0,o,0,!1)},remove:function(n,c){var o=this._axisPointer;o&&o.remove(c),I.superApply(this,"remove",arguments)},dispose:function(n,c){b(this,c),I.superApply(this,"dispose",arguments)}});function D(n,c,o,a,u,e){var s=I.getAxisPointerClass(n.axisPointerClass);if(s){var r=M.getAxisPointerModel(c);r?(n._axisPointer||(n._axisPointer=new s)).render(c,r,a,e):b(n,a)}}function b(n,c,o){var a=n._axisPointer;a&&a.dispose(c,o),n._axisPointer=null}var y=[];I.registerAxisPointerClass=function(n,c){y[n]=c},I.getAxisPointerClass=function(n){return n&&y[n]},j.exports=I},83770:(j,U,i)=>{var T=i(66615),w=i(32694),t=i(87483),M=i(40823),I=i(11030),D=i(31941),b=D.rectCoordAxisBuildSplitArea,y=D.rectCoordAxisHandleRemove,h=["axisLine","axisTickLabel","axisName"],n=["splitArea","splitLine","minorSplitLine"],c=M.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(o,a,u,e){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new w.Group,this.group.add(this._axisGroup),o.get("show")){var r=o.getCoordSysModel(),l=I.layout(r,o),d=new t(o,l);T.each(h,d.add,d),this._axisGroup.add(d.getGroup()),T.each(n,function(v){o.get(v+".show")&&this["_"+v](o,r)},this),w.groupTransition(s,this._axisGroup,o),c.superCall(this,"render",o,a,u,e)}},remove:function(){y(this)},_splitLine:function(o,a){var u=o.axis;if(!u.scale.isBlank()){var e=o.getModel("splitLine"),s=e.getModel("lineStyle"),r=s.get("color");r=T.isArray(r)?r:[r];for(var l=a.coordinateSystem.getRect(),d=u.isHorizontal(),v=0,f=u.getTicksCoords({tickModel:e}),p=[],S=[],C=s.getLineStyle(),x=0;x<f.length;x++){var g=u.toGlobalCoord(f[x].coord);d?(p[0]=g,p[1]=l.y,S[0]=g,S[1]=l.y+l.height):(p[0]=l.x,p[1]=g,S[0]=l.x+l.width,S[1]=g);var m=v++%r.length;this._axisGroup.add(new w.Line({anid:null!=f[x].tickValue?"line_"+f[x].tickValue:null,subPixelOptimize:!0,shape:{x1:p[0],y1:p[1],x2:S[0],y2:S[1]},style:T.defaults({stroke:r[m]},C),silent:!0}))}}},_minorSplitLine:function(o,a){var u=o.axis,s=o.getModel("minorSplitLine").getModel("lineStyle"),r=a.coordinateSystem.getRect(),l=u.isHorizontal(),d=u.getMinorTicksCoords();if(d.length)for(var v=[],f=[],p=s.getLineStyle(),S=0;S<d.length;S++)for(var C=0;C<d[S].length;C++){var x=u.toGlobalCoord(d[S][C].coord);l?(v[0]=x,v[1]=r.y,f[0]=x,f[1]=r.y+r.height):(v[0]=r.x,v[1]=x,f[0]=r.x+r.width,f[1]=x),this._axisGroup.add(new w.Line({anid:"minor_line_"+d[S][C].tickValue,subPixelOptimize:!0,shape:{x1:v[0],y1:v[1],x2:f[0],y2:f[1]},style:p,silent:!0}))}},_splitArea:function(o,a){b(this,this._axisGroup,o,a)}});c.extend({type:"xAxis"}),c.extend({type:"yAxis"})},66970:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(87483),M=i(31691),I=i(18639),D=i(32694),b=["axisLine","axisTickLabel","axisName"],y=T.extendComponentView({type:"parallelAxis",init:function(a,u){y.superApply(this,"init",arguments),(this._brushController=new M(u.getZr())).on("brush",w.bind(this._onBrush,this))},render:function(a,u,e,s){if(!function h(a,u,e){return e&&"axisAreaSelect"===e.type&&u.findComponents({mainType:"parallelAxis",query:e})[0]===a}(a,u,s)){this.axisModel=a,this.api=e,this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new D.Group,this.group.add(this._axisGroup),a.get("show")){var l=function c(a,u){return u.getComponent("parallel",a.get("parallelIndex"))}(a,u),d=l.coordinateSystem,v=a.getAreaSelectStyle(),f=v.width,S=d.getAxisLayout(a.axis.dim),C=w.extend({strokeContainThreshold:f},S),x=new t(a,C);w.each(b,x.add,x),this._axisGroup.add(x.getGroup()),this._refreshBrushController(C,v,a,l,f,e),D.groupTransition(r,this._axisGroup,s&&!1===s.animation?null:a)}}},_refreshBrushController:function(a,u,e,s,r,l){var d=e.axis.getExtent(),v=d[1]-d[0],f=Math.min(30,.1*Math.abs(v)),p=D.BoundingRect.create({x:d[0],y:-r/2,width:v,height:r});p.x-=f,p.width+=2*f,this._brushController.mount({enableGlobalPan:!0,rotation:a.rotation,position:a.position}).setPanels([{panelId:"pl",clipPath:I.makeRectPanelClipPath(p),isTargetByCursor:I.makeRectIsTargetByCursor(p,l,s),getLinearBrushOtherExtent:I.makeLinearBrushOtherExtent(p,0)}]).enableBrush({brushType:"lineX",brushStyle:u,removeOnClick:!0}).updateCovers(function n(a){var u=a.axis;return w.map(a.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[u.dataToCoord(e[0],!0),u.dataToCoord(e[1],!0)]}})}(e))},_onBrush:function(a,u){var e=this.axisModel,s=e.axis,r=w.map(a,function(l){return[s.coordToData(l.range[0],!0),s.coordToData(l.range[1],!0)]});(!e.option.realtime===u.isEnd||u.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:e.id,intervals:r})},dispose:function(){this._brushController.dispose()}});j.exports=y},81077:(j,U,i)=>{var T=i(66615),w=i(32694),t=i(87483),M=i(40823),I=["axisLine","axisTickLabel","axisName"],D=["splitLine","splitArea","minorSplitLine"],b=M.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(h,n){if(this.group.removeAll(),h.get("show")){var c=h.axis,o=c.polar,a=o.getAngleAxis(),u=c.getTicksCoords(),e=c.getMinorTicksCoords(),s=a.getExtent()[0],r=c.getExtent(),l=function y(h,n,c){return{position:[h.cx,h.cy],rotation:c/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:n.getModel("axisLabel").get("rotate"),z2:1}}(o,h,s),d=new t(h,l);T.each(I,d.add,d),this.group.add(d.getGroup()),T.each(D,function(v){h.get(v+".show")&&!c.scale.isBlank()&&this["_"+v](h,o,s,r,u,e)},this)}},_splitLine:function(h,n,c,o,a){var e=h.getModel("splitLine").getModel("lineStyle"),s=e.get("color"),r=0;s=s instanceof Array?s:[s];for(var l=[],d=0;d<a.length;d++){var v=r++%s.length;l[v]=l[v]||[],l[v].push(new w.Circle({shape:{cx:n.cx,cy:n.cy,r:a[d].coord}}))}for(d=0;d<l.length;d++)this.group.add(w.mergePath(l[d],{style:T.defaults({stroke:s[d%s.length],fill:null},e.getLineStyle()),silent:!0}))},_minorSplitLine:function(h,n,c,o,a,u){if(u.length){for(var s=h.getModel("minorSplitLine").getModel("lineStyle"),r=[],l=0;l<u.length;l++)for(var d=0;d<u[l].length;d++)r.push(new w.Circle({shape:{cx:n.cx,cy:n.cy,r:u[l][d].coord}}));this.group.add(w.mergePath(r,{style:T.defaults({fill:null},s.getLineStyle()),silent:!0}))}},_splitArea:function(h,n,c,o,a){if(a.length){var e=h.getModel("splitArea").getModel("areaStyle"),s=e.get("color"),r=0;s=s instanceof Array?s:[s];for(var l=[],d=a[0].coord,v=1;v<a.length;v++){var f=r++%s.length;l[f]=l[f]||[],l[f].push(new w.Sector({shape:{cx:n.cx,cy:n.cy,r0:d,r:a[v].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),d=a[v].coord}for(v=0;v<l.length;v++)this.group.add(w.mergePath(l[v],{style:T.defaults({fill:s[v%s.length]},e.getAreaStyle()),silent:!0}))}}});j.exports=b},9500:(j,U,i)=>{var T=i(66615),w=i(87483),t=i(32694),M=i(49929),I=i(40823),D=i(31941),b=D.rectCoordAxisBuildSplitArea,y=D.rectCoordAxisHandleRemove,h=["axisLine","axisTickLabel","axisName"],n=["splitArea","splitLine"],c=I.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(a,u,e,s){var r=this.group;r.removeAll();var l=this._axisGroup;this._axisGroup=new t.Group;var d=M.layout(a),v=new w(a,d);T.each(h,v.add,v),r.add(this._axisGroup),r.add(v.getGroup()),T.each(n,function(f){a.get(f+".show")&&this["_"+f](a)},this),t.groupTransition(l,this._axisGroup,a),c.superCall(this,"render",a,u,e,s)},remove:function(){y(this)},_splitLine:function(a){var u=a.axis;if(!u.scale.isBlank()){var e=a.getModel("splitLine"),s=e.getModel("lineStyle"),r=s.get("width"),l=s.get("color");l=l instanceof Array?l:[l];for(var d=a.coordinateSystem.getRect(),v=u.isHorizontal(),f=[],p=0,S=u.getTicksCoords({tickModel:e}),C=[],x=[],g=0;g<S.length;++g){var m=u.toGlobalCoord(S[g].coord);v?(C[0]=m,C[1]=d.y,x[0]=m,x[1]=d.y+d.height):(C[0]=d.x,C[1]=m,x[0]=d.x+d.width,x[1]=m);var A=p++%l.length;f[A]=f[A]||[],f[A].push(new t.Line({subPixelOptimize:!0,shape:{x1:C[0],y1:C[1],x2:x[0],y2:x[1]},style:{lineWidth:r},silent:!0}))}for(g=0;g<f.length;++g)this.group.add(t.mergePath(f[g],{style:{stroke:l[g%l.length],lineDash:s.getLineDash(r),lineWidth:r},silent:!0}))}},_splitArea:function(a){b(this,this._axisGroup,a,a)}});j.exports=c},31941:(j,U,i)=>{var T=i(66615),w=i(32694);U.rectCoordAxisBuildSplitArea=function t(I,D,b,y){var h=b.axis;if(!h.scale.isBlank()){var n=b.getModel("splitArea"),c=n.getModel("areaStyle"),o=c.get("color"),a=y.coordinateSystem.getRect(),u=h.getTicksCoords({tickModel:n,clamp:!0});if(u.length){var e=o.length,s=I.__splitAreaColors,r=T.createHashMap(),l=0;if(s)for(var d=0;d<u.length;d++){var v=s.get(u[d].tickValue);if(null!=v){l=(v+(e-1)*d)%e;break}}var f=h.toGlobalCoord(u[0].coord),p=c.getAreaStyle();for(o=T.isArray(o)?o:[o],d=1;d<u.length;d++){var C,x,g,m,S=h.toGlobalCoord(u[d].coord);h.isHorizontal()?(x=a.y,m=a.height,f=(C=f)+(g=S-C)):(C=a.x,g=a.width,f=(x=f)+(m=S-x));var A=u[d-1].tickValue;null!=A&&r.set(A,l),D.add(new w.Rect({anid:null!=A?"area_"+A:null,shape:{x:C,y:x,width:g,height:m},style:T.defaults({fill:o[l]},p),silent:!0})),l=(l+1)%e}I.__splitAreaColors=r}}},U.rectCoordAxisHandleRemove=function M(I){I.__splitAreaColors=null}},10755:(j,U,i)=>{var T=i(53639);T.registerAction({type:"axisAreaSelect",event:"axisAreaSelected"},function(t,M){M.eachComponent({mainType:"parallelAxis",query:t},function(I){I.axis.model.setActiveIntervals(t.intervals)})}),T.registerAction("parallelAxisExpand",function(t,M){M.eachComponent({mainType:"parallel",query:t},function(I){I.setAxisExpand(t)})})},38843:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(16209),M=i(28799);i(75070),i(98594),i(50488),T.registerPreprocessor(function(I){if(I){(!I.axisPointer||0===I.axisPointer.length)&&(I.axisPointer={});var D=I.axisPointer.link;D&&!w.isArray(D)&&(I.axisPointer.link=[D])}}),T.registerProcessor(T.PRIORITY.PROCESSOR.STATISTIC,function(I,D){I.getComponent("axisPointer").coordSysAxesInfo=t.collect(I,D)}),T.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},M)},75070:(j,U,i)=>{var w=i(53639).extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});j.exports=w},98594:(j,U,i)=>{var T=i(53639),w=i(12041),t=T.extendComponentView({type:"axisPointer",render:function(I,D,b){var y=D.getComponent("tooltip"),h=I.get("triggerOn")||y&&y.get("triggerOn")||"mousemove|click";w.register("axisPointer",b,function(n,c,o){"none"!==h&&("leave"===n||h.indexOf(n)>=0)&&o({type:"updateAxisPointer",currTrigger:n,x:c&&c.offsetX,y:c&&c.offsetY})})},remove:function(I,D){w.unregister(D.getZr(),"axisPointer"),t.superApply(this._model,"remove",arguments)},dispose:function(I,D){w.unregister("axisPointer",D),t.superApply(this._model,"dispose",arguments)}});j.exports=t},58894:(j,U,i)=>{var T=i(66615),w=i(78789),t=i(32694),M=i(16209),I=i(53626),D=i(74972),h=(0,i(21617).makeInner)(),n=T.clone,c=T.bind;function o(){}function a(d,v,f,p){u(h(f).lastProp,p)||(h(f).lastProp=p,v?t.updateProps(f,p,d):(f.stopAnimation(),f.attr(p)))}function u(d,v){if(T.isObject(d)&&T.isObject(v)){var f=!0;return T.each(v,function(p,S){f=f&&u(d[S],p)}),!!f}return d===v}function e(d,v){d[v.get("label.show")?"show":"hide"]()}function s(d){return{position:d.position.slice(),rotation:d.rotation||0}}function r(d,v,f){var p=v.get("z"),S=v.get("zlevel");d&&d.traverse(function(C){"group"!==C.type&&(null!=p&&(C.z=p),null!=S&&(C.zlevel=S),C.silent=f)})}(o.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(d,v,f,p){var S=v.get("value"),C=v.get("status");if(this._axisModel=d,this._axisPointerModel=v,this._api=f,p||this._lastValue!==S||this._lastStatus!==C){this._lastValue=S,this._lastStatus=C;var x=this._group,g=this._handle;if(!C||"hide"===C)return x&&x.hide(),void(g&&g.hide());x&&x.show(),g&&g.show();var m={};this.makeElOption(m,S,d,v,f);var A=m.graphicKey;A!==this._lastGraphicKey&&this.clear(f),this._lastGraphicKey=A;var L=this._moveAnimation=this.determineAnimation(d,v);if(x){var E=T.curry(a,v,L);this.updatePointerEl(x,m,E,v),this.updateLabelEl(x,m,E,v)}else x=this._group=new t.Group,this.createPointerEl(x,m,d,v),this.createLabelEl(x,m,d,v),f.getZr().add(x);r(x,v,!0),this._renderHandle(S)}},remove:function(d){this.clear(d)},dispose:function(d){this.clear(d)},determineAnimation:function(d,v){var f=v.get("animation"),p=d.axis,S="category"===p.type,C=v.get("snap");if(!C&&!S)return!1;if("auto"===f||null==f){var x=this.animationThreshold;if(S&&p.getBandWidth()>x)return!0;if(C){var g=M.getAxisInfo(d).seriesDataCount,m=p.getExtent();return Math.abs(m[0]-m[1])/g>x}return!1}return!0===f},makeElOption:function(d,v,f,p,S){},createPointerEl:function(d,v,f,p){var S=v.pointer;if(S){var C=h(d).pointerEl=new t[S.type](n(v.pointer));d.add(C)}},createLabelEl:function(d,v,f,p){if(v.label){var S=h(d).labelEl=new t.Rect(n(v.label));d.add(S),e(S,p)}},updatePointerEl:function(d,v,f){var p=h(d).pointerEl;p&&v.pointer&&(p.setStyle(v.pointer.style),f(p,{shape:v.pointer.shape}))},updateLabelEl:function(d,v,f,p){var S=h(d).labelEl;S&&(S.setStyle(v.label.style),f(S,{shape:v.label.shape,position:v.label.position}),e(S,p))},_renderHandle:function(d){if(!this._dragging&&this.updateHandleTransform){var x,v=this._axisPointerModel,f=this._api.getZr(),p=this._handle,S=v.getModel("handle"),C=v.get("status");if(!S.get("show")||!C||"hide"===C)return p&&f.remove(p),void(this._handle=null);this._handle||(x=!0,p=this._handle=t.createIcon(S.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(A){I.stop(A.event)},onmousedown:c(this._onHandleDragMove,this,0,0),drift:c(this._onHandleDragMove,this),ondragend:c(this._onHandleDragEnd,this)}),f.add(p)),r(p,v,!1),p.setStyle(S.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var m=S.get("size");T.isArray(m)||(m=[m,m]),p.attr("scale",[m[0]/2,m[1]/2]),D.createOrUpdate(this,"_doDispatchAxisPointer",S.get("throttle")||0,"fixRate"),this._moveHandleToValue(d,x)}},_moveHandleToValue:function(d,v){a(this._axisPointerModel,!v&&this._moveAnimation,this._handle,s(this.getHandleTransform(d,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(d,v){var f=this._handle;if(f){this._dragging=!0;var p=this.updateHandleTransform(s(f),[d,v],this._axisModel,this._axisPointerModel);this._payloadInfo=p,f.stopAnimation(),f.attr(s(p)),h(f).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var v=this._payloadInfo,f=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:v.cursorPoint[0],y:v.cursorPoint[1],tooltipOption:v.tooltipOption,axesInfo:[{axisDim:f.axis.dim,axisIndex:f.componentIndex}]})}},_onHandleDragEnd:function(d){if(this._dragging=!1,this._handle){var f=this._axisPointerModel.get("value");this._moveHandleToValue(f),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(d){this._lastValue=null,this._lastStatus=null;var v=d.getZr(),f=this._group,p=this._handle;v&&f&&(this._lastGraphicKey=null,f&&v.remove(f),p&&v.remove(p),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(d,v,f){return{x:d[f=f||0],y:d[1-f],width:v[f],height:v[1-f]}}}).constructor=o,w.enableClassExtend(o),j.exports=o},50488:(j,U,i)=>{var T=i(58894),w=i(83604),t=i(11030),M=i(40823),I=T.extend({makeElOption:function(n,c,o,a,u){var e=o.axis,s=e.grid,r=a.get("type"),l=D(s,e).getOtherAxis(e).getGlobalExtent(),d=e.toGlobalCoord(e.dataToCoord(c,!0));if(r&&"none"!==r){var v=w.buildElStyle(a),f=b[r](e,d,l);f.style=v,n.graphicKey=f.type,n.pointer=f}var p=t.layout(s.model,o);w.buildCartesianSingleLabelElOption(c,n,p,o,a,u)},getHandleTransform:function(n,c,o){var a=t.layout(c.axis.grid.model,c,{labelInside:!1});return a.labelMargin=o.get("handle.margin"),{position:w.getTransformedPosition(c.axis,n,a),rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(n,c,o,a){var u=o.axis,e=u.grid,s=u.getGlobalExtent(!0),r=D(e,u).getOtherAxis(u).getGlobalExtent(),l="x"===u.dim?0:1,d=n.position;d[l]+=c[l],d[l]=Math.min(s[1],d[l]),d[l]=Math.max(s[0],d[l]);var v=(r[1]+r[0])/2,f=[v,v];return f[l]=d[l],{position:d,rotation:n.rotation,cursorPoint:f,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}}});function D(n,c){var o={};return o[c.dim+"AxisIndex"]=c.index,n.getCartesian(o)}var b={line:function(n,c,o){return{type:"Line",subPixelOptimize:!0,shape:w.makeLineShape([c,o[0]],[c,o[1]],y(n))}},shadow:function(n,c,o){var a=Math.max(1,n.getBandWidth());return{type:"Rect",shape:w.makeRectShape([c-a/2,o[0]],[a,o[1]-o[0]],y(n))}}};function y(n){return"x"===n.dim?0:1}M.registerAxisPointerClass("CartesianAxisPointer",I),j.exports=I},74591:(j,U,i)=>{var T=i(42977),w=i(58894),t=i(32694),M=i(83604),I=i(84498),D=i(87483),b=i(40823),y=w.extend({makeElOption:function(o,a,u,e,s){var r=u.axis;"angle"===r.dim&&(this.animationThreshold=Math.PI/18);var f,l=r.polar,v=l.getOtherAxis(r).getExtent();f=r["dataTo"+T.capitalFirst(r.dim)](a);var p=e.get("type");if(p&&"none"!==p){var S=M.buildElStyle(e),C=n[p](r,l,f,v,S);C.style=S,o.graphicKey=C.type,o.pointer=C}var g=function h(o,a,u,e,s){var r=a.axis,l=r.dataToCoord(o),d=e.getAngleAxis().getExtent()[0];d=d/180*Math.PI;var f,p,S,v=e.getRadiusAxis().getExtent();if("radius"===r.dim){var C=I.create();I.rotate(C,C,d),I.translate(C,C,[e.cx,e.cy]),f=t.applyTransform([l,-s],C);var x=a.getModel("axisLabel").get("rotate")||0,g=D.innerTextLayout(d,x*Math.PI/180,-1);p=g.textAlign,S=g.textVerticalAlign}else{var m=v[1];f=e.coordToPoint([m+s,l]);var A=e.cx,L=e.cy;p=Math.abs(f[0]-A)/m<.3?"center":f[0]>A?"left":"right",S=Math.abs(f[1]-L)/m<.3?"middle":f[1]>L?"top":"bottom"}return{position:f,align:p,verticalAlign:S}}(a,u,0,l,e.get("label.margin"));M.buildLabelElOption(o,u,e,s,g)}}),n={line:function(o,a,u,e,s){return"angle"===o.dim?{type:"Line",shape:M.makeLineShape(a.coordToPoint([e[0],u]),a.coordToPoint([e[1],u]))}:{type:"Circle",shape:{cx:a.cx,cy:a.cy,r:u}}},shadow:function(o,a,u,e,s){var r=Math.max(1,o.getBandWidth()),l=Math.PI/180;return"angle"===o.dim?{type:"Sector",shape:M.makeSectorShape(a.cx,a.cy,e[0],e[1],(-u-r/2)*l,(r/2-u)*l)}:{type:"Sector",shape:M.makeSectorShape(a.cx,a.cy,u-r/2,u+r/2,0,2*Math.PI)}}};b.registerAxisPointerClass("PolarAxisPointer",y),j.exports=y},93164:(j,U,i)=>{var T=i(58894),w=i(83604),t=i(49929),M=i(40823),I=["x","y"],D=["width","height"],b=T.extend({makeElOption:function(o,a,u,e,s){var r=u.axis,l=r.coordinateSystem,d=n(l,1-h(r)),v=l.dataToPoint(a)[0],f=e.get("type");if(f&&"none"!==f){var p=w.buildElStyle(e),S=y[f](r,v,d);S.style=p,o.graphicKey=S.type,o.pointer=S}var C=t.layout(u);w.buildCartesianSingleLabelElOption(a,o,C,u,e,s)},getHandleTransform:function(o,a,u){var e=t.layout(a,{labelInside:!1});return e.labelMargin=u.get("handle.margin"),{position:w.getTransformedPosition(a.axis,o,e),rotation:e.rotation+(e.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(o,a,u,e){var s=u.axis,r=s.coordinateSystem,l=h(s),d=n(r,l),v=o.position;v[l]+=a[l],v[l]=Math.min(d[1],v[l]),v[l]=Math.max(d[0],v[l]);var f=n(r,1-l),p=(f[1]+f[0])/2,S=[p,p];return S[l]=v[l],{position:v,rotation:o.rotation,cursorPoint:S,tooltipOption:{verticalAlign:"middle"}}}}),y={line:function(o,a,u){return{type:"Line",subPixelOptimize:!0,shape:w.makeLineShape([a,u[0]],[a,u[1]],h(o))}},shadow:function(o,a,u){var e=o.getBandWidth();return{type:"Rect",shape:w.makeRectShape([a-e/2,u[0]],[e,u[1]-u[0]],h(o))}}};function h(o){return o.isHorizontal()?0:1}function n(o,a){var u=o.getRect();return[u[I[a]],u[I[a]]+u[D[a]]]}M.registerAxisPointerClass("SingleAxisPointer",b),j.exports=b},28799:(j,U,i)=>{var T=i(66615),t=i(21617).makeInner,M=i(16209),I=i(58028),D=T.each,b=T.curry,y=t();function n(v,f,p,S,C){var x=v.axis;if(!x.scale.isBlank()&&x.containData(f)){if(!v.involveSeries)return void p.showPointer(v,f);var g=function c(v,f){var p=f.axis,S=p.dim,C=v,x=[],g=Number.MAX_VALUE,m=-1;return D(f.seriesModels,function(A,L){var N,R,E=A.getData().mapDimension(S,!0);if(A.getAxisTooltipData){var F=A.getAxisTooltipData(E,v,p);R=F.dataIndices,N=F.nestestValue}else{if(!(R=A.getData().indicesOfNearest(E[0],v,"category"===p.type?.5:null)).length)return;N=A.getData().get(E[0],R[0])}if(null!=N&&isFinite(N)){var H=v-N,B=Math.abs(H);B<=g&&((B<g||H>=0&&m<0)&&(g=B,m=H,C=N,x.length=0),D(R,function(Z){x.push({seriesIndex:A.seriesIndex,dataIndexInside:Z,dataIndex:A.getData().getRawIndex(Z)})}))}}),{payloadBatch:x,snapToValue:C}}(f,v),m=g.payloadBatch,A=g.snapToValue;m[0]&&null==C.seriesIndex&&T.extend(C,m[0]),!S&&v.snap&&x.containData(A)&&null!=A&&(f=A),p.showPointer(v,f,m,C),p.showTooltip(v,g,A)}}function o(v,f,p,S){v[f.key]={value:p,payloadBatch:S}}function a(v,f,p,S){var C=p.payloadBatch,x=f.axis,g=x.model,m=f.axisPointerModel;if(f.triggerTooltip&&C.length){var A=f.coordSys.model,L=M.makeKey(A),E=v.map[L];E||(E=v.map[L]={coordSysId:A.id,coordSysIndex:A.componentIndex,coordSysType:A.type,coordSysMainType:A.mainType,dataByAxis:[]},v.list.push(E)),E.dataByAxis.push({axisDim:x.dim,axisIndex:g.componentIndex,axisType:g.type,axisId:g.id,value:S,valueLabelOpt:{precision:m.get("label.precision"),formatter:m.get("label.formatter")},seriesDataIndices:C.slice()})}}function l(v){var f=v.axis.model,p={},S=p.axisDim=v.axis.dim;return p.axisIndex=p[S+"AxisIndex"]=f.componentIndex,p.axisName=p[S+"AxisName"]=f.name,p.axisId=p[S+"AxisId"]=f.id,p}function d(v){return!v||null==v[0]||isNaN(v[0])||null==v[1]||isNaN(v[1])}j.exports=function h(v,f,p){var S=v.currTrigger,C=[v.x,v.y],x=v,g=v.dispatchAction||T.bind(p.dispatchAction,p),m=f.getComponent("axisPointer").coordSysAxesInfo;if(m){d(C)&&(C=I({seriesIndex:x.seriesIndex,dataIndex:x.dataIndex},f).point);var A=d(C),L=x.axesInfo,E=m.axesInfo,N="leave"===S||d(C),R={},F={},H={list:[],map:{}},B={showPointer:b(o,F),showTooltip:b(a,H)};D(m.coordSysMap,function(W,$){var Y=A||W.containPoint(C);D(m.coordSysAxesInfo[$],function(V,z){var k=V.axis,X=function r(v,f){for(var p=0;p<(v||[]).length;p++){var S=v[p];if(f.axis.dim===S.axisDim&&f.axis.model.componentIndex===S.axisIndex)return S}}(L,V);if(!N&&Y&&(!L||X)){var q=X&&X.value;null==q&&!A&&(q=k.pointToData(C)),null!=q&&n(V,q,B,!1,R)}})});var Z={};return D(E,function(W,$){var Y=W.linkGroup;Y&&!F[$]&&D(Y.axesInfo,function(V,z){var k=F[z];if(V!==W&&k){var X=k.value;Y.mapper&&(X=W.axis.scale.parse(Y.mapper(X,l(V),l(W)))),Z[W.key]=X}})}),D(Z,function(W,$){n(E[$],W,B,!0,R)}),function u(v,f,p){var S=p.axesInfo=[];D(f,function(C,x){var g=C.axisPointerModel.option,m=v[x];m?(!C.useHandle&&(g.status="show"),g.value=m.value,g.seriesDataIndices=(m.payloadBatch||[]).slice()):!C.useHandle&&(g.status="hide"),"show"===g.status&&S.push({axisDim:C.axis.dim,axisIndex:C.axis.model.componentIndex,value:g.value})})}(F,E,R),function e(v,f,p,S){if(!d(f)&&v.list.length){var C=((v.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};S({type:"showTip",escapeConnect:!0,x:f[0],y:f[1],tooltipOption:p.tooltipOption,position:p.position,dataIndexInside:C.dataIndexInside,dataIndex:C.dataIndex,seriesIndex:C.seriesIndex,dataByCoordSys:v.list})}else S({type:"hideTip"})}(H,C,v,g),function s(v,f,p){var S=p.getZr(),C="axisPointerLastHighlights",x=y(S)[C]||{},g=y(S)[C]={};D(v,function(L,E){var N=L.axisPointerModel.option;"show"===N.status&&D(N.seriesDataIndices,function(R){g[R.seriesIndex+" | "+R.dataIndex]=R})});var m=[],A=[];T.each(x,function(L,E){!g[E]&&A.push(L)}),T.each(g,function(L,E){!x[E]&&m.push(L)}),A.length&&p.dispatchAction({type:"downplay",escapeConnect:!0,batch:A}),m.length&&p.dispatchAction({type:"highlight",escapeConnect:!0,batch:m})}(E,0,p),R}}},58028:(j,U,i)=>{var T=i(66615),w=i(21617);j.exports=function t(M,I){var y,D=[],b=M.seriesIndex;if(null==b||!(y=I.getSeriesByIndex(b)))return{point:[]};var h=y.getData(),n=w.queryDataIndex(h,M);if(null==n||n<0||T.isArray(n))return{point:[]};var c=h.getItemGraphicEl(n),o=y.coordinateSystem;if(y.getTooltipPosition)D=y.getTooltipPosition(n)||[];else if(o&&o.dataToPoint)D=o.dataToPoint(h.getValues(T.map(o.dimensions,function(u){return h.mapDimension(u)}),n,!0))||[];else if(c){var a=c.getBoundingRect().clone();a.applyTransform(c.transform),D=[a.x+a.width/2,a.y+a.height/2]}return{point:D,el:c}}},12041:(j,U,i)=>{var T=i(66615),w=i(71156),I=(0,i(21617).makeInner)(),D=T.each;function n(u,e,s){u.handler("leave",null,s)}function c(u,e,s,r){e.handler(u,s,r)}U.register=function b(u,e,s){if(!w.node){var r=e.getZr();I(r).records||(I(r).records={}),function y(u,e){function s(r,l){u.on(r,function(d){var v=function o(u){var e={showTip:[],hideTip:[]},s=function(r){var l=e[r.type];l?l.push(r):(r.dispatchAction=s,u.dispatchAction(r))};return{dispatchAction:s,pendings:e}}(e);D(I(u).records,function(f){f&&l(f,d,v.dispatchAction)}),function h(u,e){var l,s=u.showTip.length,r=u.hideTip.length;s?l=u.showTip[s-1]:r&&(l=u.hideTip[r-1]),l&&(l.dispatchAction=null,e.dispatchAction(l))}(v.pendings,e)})}I(u).initialized||(I(u).initialized=!0,s("click",T.curry(c,"click")),s("mousemove",T.curry(c,"mousemove")),s("globalout",n))}(r,e),(I(r).records[u]||(I(r).records[u]={})).handler=s}},U.unregister=function a(u,e){if(!w.node){var s=e.getZr();(I(s).records||{})[u]&&(I(s).records[u]=null)}}},16209:(j,U,i)=>{var T=i(66615),w=i(82356),t=T.each,M=T.curry;function n(s,r){return"all"===s||T.isArray(s)&&T.indexOf(s,r)>=0||s===r}function o(s){var r=(s.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return r&&r.axesInfo[e(s)]}function u(s){return!!s.get("handle.show")}function e(s){return s.type+"||"+s.id}U.collect=function I(s,r){var l={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function D(s,r,l){var d=r.getComponent("tooltip"),v=r.getComponent("axisPointer"),f=v.get("link",!0)||[],p=[];t(l.getCoordinateSystems(),function(S){if(S.axisPointerEnabled){var C=e(S.model),x=s.coordSysAxesInfo[C]={};s.coordSysMap[C]=S;var m=S.model.getModel("tooltip",d);if(t(S.getAxes(),M(N,!1,null)),S.getTooltipAxes&&d&&m.get("show")){var A="axis"===m.get("trigger"),L="cross"===m.get("axisPointer.type"),E=S.getTooltipAxes(m.get("axisPointer.axis"));(A||L)&&t(E.baseAxes,M(N,!L||"cross",A)),L&&t(E.otherAxes,M(N,"cross",!1))}}function N(R,F,H){var B=H.model.getModel("axisPointer",v),Z=B.get("show");if(Z&&("auto"!==Z||R||u(B))){null==F&&(F=B.get("triggerTooltip")),B=R?function b(s,r,l,d,v,f){var p=r.getModel("axisPointer"),S={};t(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(m){S[m]=T.clone(p.get(m))}),S.snap="category"!==s.type&&!!f,"cross"===p.get("type")&&(S.type="line");var C=S.label||(S.label={});if(null==C.show&&(C.show=!1),"cross"===v){var x=p.get("label.show");if(C.show=x??!0,!f){var g=S.lineStyle=p.get("crossStyle");g&&T.defaults(C,g.textStyle)}}return s.model.getModel("axisPointer",new w(S,l,d))}(H,m,v,r,R,F):B;var W=B.get("snap"),$=e(H.model),Y=F||W||"category"===H.type,V=s.axesInfo[$]={key:$,axis:H,coordSys:S,axisPointerModel:B,triggerTooltip:F,involveSeries:Y,snap:W,useHandle:u(B),seriesModels:[]};x[$]=V,s.seriesInvolved|=Y;var z=function h(s,r){for(var l=r.model,d=r.dim,v=0;v<s.length;v++){var f=s[v]||{};if(n(f[d+"AxisId"],l.id)||n(f[d+"AxisIndex"],l.componentIndex)||n(f[d+"AxisName"],l.name))return v}}(f,H);if(null!=z){var k=p[z]||(p[z]={axesInfo:{}});k.axesInfo[$]=V,k.mapper=f[z].mapper,V.linkGroup=k}}}})}(l,s,r),l.seriesInvolved&&function y(s,r){r.eachSeries(function(l){var d=l.coordinateSystem,v=l.get("tooltip.trigger",!0),f=l.get("tooltip.show",!0);!d||"none"===v||!1===v||"item"===v||!1===f||!1===l.get("axisPointer.show",!0)||t(s.coordSysAxesInfo[e(d.model)],function(p){var S=p.axis;d.getAxis(S.dim)===S&&(p.seriesModels.push(l),null==p.seriesDataCount&&(p.seriesDataCount=0),p.seriesDataCount+=l.getData().count())})},this)}(l,s),l},U.fixValue=function c(s){var r=o(s);if(r){var l=r.axisPointerModel,d=r.axis.scale,v=l.option,f=l.get("status"),p=l.get("value");null!=p&&(p=d.parse(p));var S=u(l);null==f&&(v.status=S?"show":"hide");var C=d.getExtent().slice();C[0]>C[1]&&C.reverse(),(null==p||p>C[1])&&(p=C[1]),p<C[0]&&(p=C[0]),v.value=p,S&&(v.status=r.axis.scale.isBlank()?"hide":"show")}},U.getAxisInfo=o,U.getAxisPointerModel=function a(s){var r=o(s);return r&&r.axisPointerModel},U.makeKey=e},83604:(j,U,i)=>{var T=i(66615),w=i(32694),t=i(50585),M=i(42977),I=i(84498),D=i(84004),b=i(87483);function h(r,l,d,v,f){var S=c(d.get("value"),l.axis,l.ecModel,d.get("seriesDataIndices"),{precision:d.get("label.precision"),formatter:d.get("label.formatter")}),C=d.getModel("label"),x=M.normalizeCssArray(C.get("padding")||0),g=C.getFont(),m=t.getBoundingRect(S,g),A=f.position,L=m.width+x[1]+x[3],E=m.height+x[0]+x[2],N=f.align;"right"===N&&(A[0]-=L),"center"===N&&(A[0]-=L/2);var R=f.verticalAlign;"bottom"===R&&(A[1]-=E),"middle"===R&&(A[1]-=E/2),function n(r,l,d,v){var f=v.getWidth(),p=v.getHeight();r[0]=Math.min(r[0]+l,f)-l,r[1]=Math.min(r[1]+d,p)-d,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}(A,L,E,v);var F=C.get("backgroundColor");(!F||"auto"===F)&&(F=l.get("axisLine.lineStyle.color")),r.label={shape:{x:0,y:0,width:L,height:E,r:C.get("borderRadius")},position:A.slice(),style:{text:S,textFont:g,textFill:C.getTextColor(),textPosition:"inside",textPadding:x,fill:F,stroke:C.get("borderColor")||"transparent",lineWidth:C.get("borderWidth")||0,shadowBlur:C.get("shadowBlur"),shadowColor:C.get("shadowColor"),shadowOffsetX:C.get("shadowOffsetX"),shadowOffsetY:C.get("shadowOffsetY")},z2:10}}function c(r,l,d,v,f){r=l.scale.parse(r);var p=l.scale.getLabel(r,{precision:f.precision}),S=f.formatter;if(S){var C={value:D.getAxisRawValue(l,r),axisDimension:l.dim,axisIndex:l.index,seriesData:[]};T.each(v,function(x){var g=d.getSeriesByIndex(x.seriesIndex),A=g&&g.getDataParams(x.dataIndexInside);A&&C.seriesData.push(A)}),T.isString(S)?p=S.replace("{value}",p):T.isFunction(S)&&(p=S(C))}return p}function o(r,l,d){var v=I.create();return I.rotate(v,v,d.rotation),I.translate(v,v,d.position),w.applyTransform([r.dataToCoord(l),(d.labelOffset||0)+(d.labelDirection||1)*(d.labelMargin||0)],v)}U.buildElStyle=function y(r){var v,l=r.get("type"),d=r.getModel(l+"Style");return"line"===l?(v=d.getLineStyle()).fill=null:"shadow"===l&&((v=d.getAreaStyle()).stroke=null),v},U.buildLabelElOption=h,U.getValueLabel=c,U.getTransformedPosition=o,U.buildCartesianSingleLabelElOption=function a(r,l,d,v,f,p){var S=b.innerTextLayout(d.rotation,0,d.labelDirection);d.labelMargin=f.get("label.margin"),h(l,v,f,p,{position:o(v.axis,r,d),align:S.textAlign,verticalAlign:S.textVerticalAlign})},U.makeLineShape=function u(r,l,d){return{x1:r[d=d||0],y1:r[1-d],x2:l[d],y2:l[1-d]}},U.makeRectShape=function e(r,l,d){return{x:r[d=d||0],y:r[1-d],width:l[d],height:l[1-d]}},U.makeSectorShape=function s(r,l,d,v,f,p){return{cx:r,cy:l,r0:d,r:v,startAngle:f,endAngle:p,clockwise:!0}}},27303:(j,U,i)=>{var T=i(53639),w=i(73925);i(4549),i(19217),i(41895),i(85946),i(56698),T.registerPreprocessor(w)},19217:(j,U,i)=>{i(78322);var t=i(53639),M=i(66615),I=i(18494),D=i(82356),b=["#ddd"],y=t.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(c,o){var a=this.option;!o&&I.replaceVisualOption(a,c,["inBrush","outOfBrush"]);var u=a.inBrush=a.inBrush||{};a.outOfBrush=a.outOfBrush||{color:b},u.hasOwnProperty("liftZ")||(u.liftZ=5)},setAreas:function(c){c&&(this.areas=M.map(c,function(o){return h(this.option,o)},this))},setBrushOption:function(c){this.brushOption=h(this.option,c),this.brushType=this.brushOption.brushType}});function h(c,o){return M.merge({brushType:c.brushType,brushMode:c.brushMode,transformable:c.transformable,brushStyle:new D(c.brushStyle).getItemStyle(),removeOnClick:c.removeOnClick,z:c.z},o,!0)}j.exports=y},41895:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(31691),I=i(4549).layoutCovers,D=T.extendComponentView({type:"brush",init:function(y,h){this.ecModel=y,this.api=h,(this._brushController=new t(h.getZr())).on("brush",w.bind(this._onBrush,this)).mount()},render:function(y){return this.model=y,b.apply(this,arguments)},updateTransform:function(y,h){return I(h),b.apply(this,arguments)},updateView:b,dispose:function(){this._brushController.dispose()},_onBrush:function(y,h){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(y,this.ecModel),(!h.isEnd||h.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:w.clone(y),$from:n}),h.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:w.clone(y),$from:n})}});function b(y,h,n,c){(!c||c.$from!==y.id)&&this._brushController.setPanels(y.brushTargetManager.makePanelOpts(n)).enableBrush(y.brushOption).updateCovers(y.areas.slice())}j.exports=D},85946:(j,U,i)=>{var T=i(53639);T.registerAction({type:"brush",event:"brush"},function(w,t){t.eachComponent({mainType:"brush",query:w},function(M){M.setAreas(w.areas)})}),T.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),T.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){})},73925:(j,U,i)=>{var T=i(66615),w=["rect","polygon","keep","clear"];j.exports=function t(I,D){var b=I&&I.brush;if(T.isArray(b)||(b=b?[b]:[]),b.length){var y=[];T.each(b,function(a){var u=a.hasOwnProperty("toolbox")?a.toolbox:[];u instanceof Array&&(y=y.concat(u))});var h=I&&I.toolbox;T.isArray(h)&&(h=h[0]),h||(I.toolbox=[h={feature:{}}]);var n=h.feature||(h.feature={}),c=n.brush||(n.brush={}),o=c.type||(c.type=[]);o.push.apply(o,y),function M(I){var D={};T.each(I,function(b){D[b]=1}),I.length=0,T.each(D,function(b,y){I.push(y)})}(o),D&&!o.length&&o.push.apply(o,w)}}},1841:(j,U,i)=>{var T=i(68418),w=i(94525),M=i(32694).linePolygonIntersect,I={lineX:D(0),lineY:D(1),rect:{point:function(h,n,c){return h&&c.boundingRect.contain(h[0],h[1])},rect:function(h,n,c){return h&&c.boundingRect.intersect(h)}},polygon:{point:function(h,n,c){return h&&c.boundingRect.contain(h[0],h[1])&&T.contain(c.range,h[0],h[1])},rect:function(h,n,c){var o=c.range;if(!h||o.length<=1)return!1;var a=h.x,u=h.y,e=h.width,s=h.height,r=o[0];return!!(T.contain(o,a,u)||T.contain(o,a+e,u)||T.contain(o,a,u+s)||T.contain(o,a+e,u+s)||w.create(h).contain(r[0],r[1])||M(a,u,a+e,u,o)||M(a,u,a,u+s,o)||M(a+e,u,a+e,u+s,o)||M(a,u+s,a+e,u+s,o))||void 0}}};function D(h){var n=["x","y"],c=["width","height"];return{point:function(o,a,u){if(o)return b(o[h],u.range)},rect:function(o,a,u){if(o){var e=u.range,s=[o[n[h]],o[n[h]]+o[c[h]]];return s[1]<s[0]&&s.reverse(),b(s[0],e)||b(s[1],e)||b(e[0],s)||b(e[1],s)}}}}function b(h,n){return n[0]<=h&&h<=n[1]}j.exports=I},4549:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(94525),M=i(18494),I=i(1841),D=i(74972),b=i(39754),y=["inBrush","outOfBrush"],h="__ecBrushSelect",n="__ecInBrushSelectEvent",c=T.PRIORITY.VISUAL.BRUSH;function o(f){f.eachComponent({mainType:"brush"},function(p){(p.brushTargetManager=new b(p.option,f)).setInputRanges(p.areas,f)})}function u(f,p){if(!f.isDisposed()){var S=f.getZr();S[n]=!0,f.dispatchAction({type:"brushSelect",batch:p}),S[n]=!1}}function e(f,p,S,C){for(var x=0,g=p.length;x<g;x++){var m=p[x];if(f[m.brushType](C,S,m.selectors,m))return!0}}function s(f){var p=f.brushSelector;if(w.isString(p)){var S=[];return w.each(I,function(x,g){S[g]=function(m,A,L,E){var N=A.getItemLayout(m);return x[p](N,L,E)}}),S}if(w.isFunction(p)){var C={};return w.each(I,function(x,g){C[g]=p}),C}return p}T.registerLayout(c,function(f,p,S){f.eachComponent({mainType:"brush"},function(C){S&&"takeGlobalCursor"===S.type&&C.setBrushOption("brush"===S.key?S.brushOption:{brushType:!1})}),o(f)}),T.registerVisual(c,function(f,p,S){var x,g,C=[];f.eachComponent({mainType:"brush"},function(m,A){var L={brushId:m.id,brushIndex:A,brushName:m.name,areas:w.clone(m.areas),selected:[]};C.push(L);var E=m.option,N=E.brushLink,R=[],F=[],H=[],B=0;A||(x=E.throttleType,g=E.throttleDelay);var Z=w.map(m.areas,function(k){return function l(f){var p=f.selectors={};return w.each(I[f.brushType],function(S,C){p[C]=function(x){return S(x,p,f)}}),f}(w.defaults({boundingRect:d[k.brushType](k)},k))}),W=M.createVisualMappings(m.option,y,function(k){k.mappingMethod="fixed"});function $(k){return"all"===N||R[k]}function Y(k){return!!k.length}w.isArray(N)&&w.each(N,function(k){R[k]=1}),f.eachSeries(function(k,X){var q=H[X]=[];"parallel"===k.subType?function V(k,X){var q=k.coordinateSystem;B|=q.hasAxisBrushed(),$(X)&&q.eachActiveState(k.getData(),function(et,rt){"active"===et&&(F[rt]=1)})}(k,X):function z(k,X,q){var et=s(k);if(et&&!function r(f,p){var S=f.option.seriesIndex;return null!=S&&"all"!==S&&(w.isArray(S)?w.indexOf(S,p)<0:p!==S)}(m,X)&&(w.each(Z,function(it){et[it.brushType]&&m.brushTargetManager.controlSeries(it,k,f)&&q.push(it),B|=Y(q)}),$(X)&&Y(q))){var rt=k.getData();rt.each(function(it){e(et,q,rt,it)&&(F[it]=1)})}}(k,X,q)}),f.eachSeries(function(k,X){var q={seriesId:k.id,seriesIndex:X,seriesName:k.name,dataIndex:[]};L.selected.push(q);var et=s(k),rt=H[X],it=k.getData(),lt=$(X)?function(dt){return F[dt]?(q.dataIndex.push(it.getRawIndex(dt)),"inBrush"):"outOfBrush"}:function(dt){return e(et,rt,it,dt)?(q.dataIndex.push(it.getRawIndex(dt)),"inBrush"):"outOfBrush"};($(X)?B:Y(rt))&&M.applyVisual(y,W,it,lt)})}),function a(f,p,S,C,x){if(x){var g=f.getZr();g[n]||(g[h]||(g[h]=u),D.createOrUpdate(g,h,S,p)(f,C))}}(p,x,g,C,S)});var d={lineX:w.noop,lineY:w.noop,rect:function(f){return v(f.range)},polygon:function(f){for(var p,S=f.range,C=0,x=S.length;C<x;C++){var g=S[C];g[0]<(p=p||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(p[0][0]=g[0]),g[0]>p[0][1]&&(p[0][1]=g[0]),g[1]<p[1][0]&&(p[1][0]=g[1]),g[1]>p[1][1]&&(p[1][1]=g[1])}return p&&v(p)}};function v(f){return new t(f[0][0],f[1][0],f[0][1]-f[0][0],f[1][1]-f[1][0])}U.layoutCovers=o},9823:(j,U,i)=>{i(61807),i(8572),i(87559)},87559:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(32694),M=i(42977),I=i(68301),D={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]},b={EN:["S","M","T","W","T","F","S"],CN:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},y=T.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(h,n,c){var o=this.group;o.removeAll();var a=h.coordinateSystem,u=a.getRangeInfo(),e=a.getOrient();this._renderDayRect(h,u,o),this._renderLines(h,u,e,o),this._renderYearText(h,u,e,o),this._renderMonthText(h,e,o),this._renderWeekText(h,u,e,o)},_renderDayRect:function(h,n,c){for(var o=h.coordinateSystem,a=h.getModel("itemStyle").getItemStyle(),u=o.getCellWidth(),e=o.getCellHeight(),s=n.start.time;s<=n.end.time;s=o.getNextNDay(s,1).time){var r=o.dataToRect([s],!1).tl,l=new t.Rect({shape:{x:r[0],y:r[1],width:u,height:e},cursor:"default",style:a});c.add(l)}},_renderLines:function(h,n,c,o){var a=this,u=h.coordinateSystem,e=h.getModel("splitLine.lineStyle").getLineStyle(),s=h.get("splitLine.show"),r=e.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var l=n.start,d=0;l.time<=n.end.time;d++){f(l.formatedDate),0===d&&(l=u.getDateInfo(n.start.y+"-"+n.start.m));var v=l.date;v.setMonth(v.getMonth()+1),l=u.getDateInfo(v)}function f(p){a._firstDayOfMonth.push(u.getDateInfo(p)),a._firstDayPoints.push(u.dataToRect([p],!1).tl);var S=a._getLinePointsOfOneWeek(h,p,c);a._tlpoints.push(S[0]),a._blpoints.push(S[S.length-1]),s&&a._drawSplitline(S,e,o)}f(u.getNextNDay(n.end.time,1).formatedDate),s&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,r,c),e,o),s&&this._drawSplitline(a._getEdgesPoints(a._blpoints,r,c),e,o)},_getEdgesPoints:function(h,n,c){var o=[h[0].slice(),h[h.length-1].slice()],a="horizontal"===c?0:1;return o[0][a]=o[0][a]-n/2,o[1][a]=o[1][a]+n/2,o},_drawSplitline:function(h,n,c){var o=new t.Polyline({z2:20,shape:{points:h},style:n});c.add(o)},_getLinePointsOfOneWeek:function(h,n,c){var o=h.coordinateSystem;n=o.getDateInfo(n);for(var a=[],u=0;u<7;u++){var e=o.getNextNDay(n.time,u),s=o.dataToRect([e.time],!1);a[2*e.day]=s.tl,a[2*e.day+1]=s["horizontal"===c?"bl":"tr"]}return a},_formatterLabel:function(h,n){return"string"==typeof h&&h?M.formatTplSimple(h,n):"function"==typeof h?h(n):n.nameMap},_yearTextPositionControl:function(h,n,c,o,a){n=n.slice();var u=["center","bottom"];"bottom"===o?(n[1]+=a,u=["center","top"]):"left"===o?n[0]-=a:"right"===o?(n[0]+=a,u=["center","top"]):n[1]-=a;var e=0;return("left"===o||"right"===o)&&(e=Math.PI/2),{rotation:e,position:n,style:{textAlign:u[0],textVerticalAlign:u[1]}}},_renderYearText:function(h,n,c,o){var a=h.getModel("yearLabel");if(a.get("show")){var u=a.get("margin"),e=a.get("position");e||(e="horizontal"!==c?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],r=(s[0][0]+s[1][0])/2,l=(s[0][1]+s[1][1])/2,d="horizontal"===c?0:1,v={top:[r,s[d][1]],bottom:[r,s[1-d][1]],left:[s[1-d][0],l],right:[s[d][0],l]},f=n.start.y;+n.end.y>+n.start.y&&(f=f+"-"+n.end.y);var p=a.get("formatter"),C=this._formatterLabel(p,{start:n.start.y,end:n.end.y,nameMap:f}),x=new t.Text({z2:30});t.setTextStyle(x.style,a,{text:C}),x.attr(this._yearTextPositionControl(x,v[e],c,e,u)),o.add(x)}},_monthTextPositionControl:function(h,n,c,o,a){var u="left",e="top",s=h[0],r=h[1];return"horizontal"===c?(r+=a,n&&(u="center"),"start"===o&&(e="bottom")):(s+=a,n&&(e="middle"),"start"===o&&(u="right")),{x:s,y:r,textAlign:u,textVerticalAlign:e}},_renderMonthText:function(h,n,c){var o=h.getModel("monthLabel");if(o.get("show")){var a=o.get("nameMap"),u=o.get("margin"),e=o.get("position"),s=o.get("align"),r=[this._tlpoints,this._blpoints];w.isString(a)&&(a=D[a.toUpperCase()]||[]);var l="start"===e?0:1,d="horizontal"===n?0:1;u="start"===e?-u:u;for(var v="center"===s,f=0;f<r[l].length-1;f++){var p=r[l][f].slice(),S=this._firstDayOfMonth[f];v&&(p[d]=(this._firstDayPoints[f][d]+r[0][f+1][d])/2);var x=o.get("formatter"),g=a[+S.m-1],m={yyyy:S.y,yy:(S.y+"").slice(2),MM:S.m,M:+S.m,nameMap:g},A=this._formatterLabel(x,m),L=new t.Text({z2:30});w.extend(t.setTextStyle(L.style,o,{text:A}),this._monthTextPositionControl(p,v,n,e,u)),c.add(L)}}},_weekTextPositionControl:function(h,n,c,o,a){var u="center",e="middle",s=h[0],r=h[1],l="start"===c;return"horizontal"===n?(s=s+o+(l?1:-1)*a[0]/2,u=l?"right":"left"):(r=r+o+(l?1:-1)*a[1]/2,e=l?"bottom":"top"),{x:s,y:r,textAlign:u,textVerticalAlign:e}},_renderWeekText:function(h,n,c,o){var a=h.getModel("dayLabel");if(a.get("show")){var u=h.coordinateSystem,e=a.get("position"),s=a.get("nameMap"),r=a.get("margin"),l=u.getFirstDayOfWeek();w.isString(s)&&(s=b[s.toUpperCase()]||[]);var d=u.getNextNDay(n.end.time,7-n.lweek).time,v=[u.getCellWidth(),u.getCellHeight()];r=I.parsePercent(r,v["horizontal"===c?0:1]),"start"===e&&(d=u.getNextNDay(n.start.time,-(7+n.fweek)).time,r=-r);for(var f=0;f<7;f++){var C,p=u.getNextNDay(d,f),S=u.dataToRect([p.time],!1).center;C=Math.abs((f+l)%7);var x=new t.Text({z2:30});w.extend(t.setTextStyle(x.style,a,{text:s[C]}),this._weekTextPositionControl(S,c,e,r,v)),o.add(x)}}}});j.exports=y},32344:(j,U,i)=>{i(70441),i(88931)},25667:(j,U,i)=>{var T=i(66615),w=i(68301),t=i(46279),M=i(77311),I=T.each,D=w.asc,b=function(a,u,e,s){this._dimName=a,this._axisIndex=u,this.ecModel=s,this._dataZoomModel=e};function n(a,u){var e=a.getAxisModel(),s=a._percentWindow,r=a._valueWindow;if(s){var l=w.getPixelPrecision(r,[0,500]);l=Math.min(l,20);var d=u||0===s[0]&&100===s[1];e.setRange(d?null:+r[0].toFixed(l),d?null:+r[1].toFixed(l))}}b.prototype={constructor:b,hostedBy:function(a){return this._dataZoomModel===a},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[],u=this.ecModel;return u.eachSeries(function(e){if(t.isCoordSupported(e.get("coordinateSystem"))){var s=this._dimName,r=u.queryComponents({mainType:s+"Axis",index:e.get(s+"AxisIndex"),id:e.get(s+"AxisId")})[0];this._axisIndex===(r&&r.componentIndex)&&a.push(e)}},this),a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var r,l,d,a=this._dimName,u=this.ecModel,e=this.getAxisModel();return"x"===a||"y"===a?(l="gridIndex",r="x"===a?"y":"x"):(l="polarIndex",r="angle"===a?"radius":"angle"),u.eachComponent(r+"Axis",function(v){(v.get(l)||0)===(e.get(l)||0)&&(d=v)}),d},getMinMaxSpan:function(){return T.clone(this._minMaxSpan)},calculateDataWindow:function(a){var f,u=this._dataExtent,s=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),l=[0,100],d=[],v=[];I(["start","end"],function(C,x){var g=a[C],m=a[C+"Value"];"percent"===r[x]?(null==g&&(g=l[x]),m=s.parse(w.linearMap(g,l,u))):(f=!0,m=null==m?u[x]:s.parse(m),g=w.linearMap(m,u,l)),v[x]=m,d[x]=g}),D(v),D(d);var p=this._minMaxSpan;function S(C,x,g,m,A){var L=A?"Span":"ValueSpan";M(0,C,g,"all",p["min"+L],p["max"+L]);for(var E=0;E<2;E++)x[E]=w.linearMap(C[E],g,m,!0),A&&(x[E]=s.parse(x[E]))}return f?S(v,d,u,l,!1):S(d,v,l,u,!0),{valueWindow:v,percentWindow:d}},reset:function(a){if(a===this._dataZoomModel){var u=this.getTargetSeriesModels();this._dataExtent=function y(a,u,e){var s=[1/0,-1/0];return I(e,function(r){var l=r.getData();l&&I(l.mapDimension(u,!0),function(d){var v=l.getApproximateExtent(d);v[0]<s[0]&&(s[0]=v[0]),v[1]>s[1]&&(s[1]=v[1])})}),s[1]<s[0]&&(s=[NaN,NaN]),function h(a,u){var e=a.getAxisModel(),s=e.getMin(!0),r="category"===e.get("type"),l=r&&e.getCategories().length;null!=s&&"dataMin"!==s&&"function"!=typeof s?u[0]=s:r&&(u[0]=l>0?0:NaN);var d=e.getMax(!0);null!=d&&"dataMax"!==d&&"function"!=typeof d?u[1]=d:r&&(u[1]=l>0?l-1:NaN),e.get("scale",!0)||(u[0]>0&&(u[0]=0),u[1]<0&&(u[1]=0))}(a,s),s}(this,this._dimName,u),function c(a){var u=a._minMaxSpan={},e=a._dataZoomModel,s=a._dataExtent;I(["min","max"],function(r){var l=e.get(r+"Span"),d=e.get(r+"ValueSpan");null!=d&&(d=a.getAxisModel().axis.scale.parse(d)),null!=d?l=w.linearMap(s[0]+d,s,[0,100],!0):null!=l&&(d=w.linearMap(l,[0,100],s,!0)-s[0]),u[r+"Span"]=l,u[r+"ValueSpan"]=d})}(this);var e=this.calculateDataWindow(a.settledOption);this._valueWindow=e.valueWindow,this._percentWindow=e.percentWindow,n(this)}},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,n(this,!0))},filterData:function(a,u){if(a===this._dataZoomModel){var e=this._dimName,s=this.getTargetSeriesModels(),r=a.get("filterMode"),l=this._valueWindow;"none"!==r&&I(s,function(v){var f=v.getData(),p=f.mapDimension(e,!0);p.length&&("weakFilter"===r?f.filterSelf(function(S){for(var C,x,g,m=0;m<p.length;m++){var A=f.get(p[m],S),L=!isNaN(A),E=A<l[0],N=A>l[1];if(L&&!E&&!N)return!0;L&&(g=!0),E&&(C=!0),N&&(x=!0)}return g&&C&&x}):I(p,function(S){if("empty"===r)v.setData(f=f.map(S,function(x){return function d(v){return v>=l[0]&&v<=l[1]}(x)?x:NaN}));else{var C={};C[S]=l,f.selectRange(C)}}),I(p,function(S){f.setApproximateExtent(l,S)}))})}}},j.exports=b},84580:(j,U,i)=>{i(78322);var t=i(53639),M=i(66615),I=i(71156),D=i(21617),b=i(46279),y=i(25667),h=M.each,n=b.eachAxisDim,c=t.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(e,s,r){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var l=o(e);this.settledOption=l,this.mergeDefaultAndTheme(e,r),this.doInit(l)},mergeOption:function(e){var s=o(e);M.merge(this.option,e,!0),M.merge(this.settledOption,s,!0),this.doInit(s)},doInit:function(e){var s=this.option;I.canvasSupported||(s.realtime=!1),this._setDefaultThrottle(e),a(this,e);var r=this.settledOption;h([["start","startValue"],["end","endValue"]],function(l,d){"value"===this._rangePropMode[d]&&(s[l[0]]=r[l[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(s,r,l,d){var v=this.dependentModels[s.axis][r],f=v.__dzAxisProxy||(v.__dzAxisProxy=new y(s.name,r,this,d));e[s.name+"_"+r]=f},this)},_resetTarget:function(){var e=this.option,s=this._judgeAutoMode();n(function(r){var l=r.axisIndex;e[l]=D.normalizeToArray(e[l])},this),"axisIndex"===s?this._autoSetAxisIndex():"orient"===s&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,s=!1;n(function(l){null!=e[l.axisIndex]&&(s=!0)},this);var r=e.orient;return null==r&&s?"orient":s?void 0:(null==r&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var e=!0,s=this.get("orient",!0),r=this.option,l=this.dependentModels;if(e){var d="vertical"===s?"y":"x";l[d+"Axis"].length?(r[d+"AxisIndex"]=[0],e=!1):h(l.singleAxis,function(v){e&&v.get("orient",!0)===s&&(r.singleAxisIndex=[v.componentIndex],e=!1)})}e&&n(function(v){if(e){var f=[],p=this.dependentModels[v.axis];if(p.length&&!f.length)for(var S=0,C=p.length;S<C;S++)"category"===p[S].get("type")&&f.push(S);r[v.axisIndex]=f,f.length&&(e=!1)}},this),e&&this.ecModel.eachSeries(function(v){this._isSeriesHasAllAxesTypeOf(v,"value")&&n(function(f){var p=r[f.axisIndex],S=v.get(f.axisIndex),C=v.get(f.axisId),x=v.ecModel.queryComponents({mainType:f.axis,index:S,id:C})[0];M.indexOf(p,S=x.componentIndex)<0&&p.push(S)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(s){!e&&(e=s.name)},this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,s){var r=!0;return n(function(l){var d=e.get(l.axisIndex),v=this.dependentModels[l.axis][d];(!v||v.get("type")!==s)&&(r=!1)},this),r},_setDefaultThrottle:function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var s=this.ecModel.option;this.option.throttle=s.animation&&s.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var e;return n(function(s){if(null==e){var r=this.get(s.axisIndex);r.length&&(e=this.dependentModels[s.axis][r[0]])}},this),e},eachTargetAxis:function(e,s){var r=this.ecModel;n(function(l){h(this.get(l.axisIndex),function(d){e.call(s,l,d,this,r)},this)},this)},getAxisProxy:function(e,s){return this._axisProxies[e+"_"+s]},getAxisModel:function(e,s){var r=this.getAxisProxy(e,s);return r&&r.getAxisModel()},setRawRange:function(e){var s=this.option,r=this.settledOption;h([["start","startValue"],["end","endValue"]],function(l){(null!=e[l[0]]||null!=e[l[1]])&&(s[l[0]]=r[l[0]]=e[l[0]],s[l[1]]=r[l[1]]=e[l[1]])},this),a(this,e)},setCalculatedRange:function(e){var s=this.option;h(["start","startValue","end","endValue"],function(r){s[r]=e[r]})},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},getValueRange:function(e,s){if(null!=e||null!=s)return this.getAxisProxy(e,s).getDataValueWindow();var r=this.findRepresentativeAxisProxy();return r?r.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(e){if(e)return e.__dzAxisProxy;var s=this._axisProxies;for(var r in s)if(s.hasOwnProperty(r)&&s[r].hostedBy(this))return s[r];for(var r in s)if(s.hasOwnProperty(r)&&!s[r].hostedBy(this))return s[r]},getRangePropMode:function(){return this._rangePropMode.slice()}});function o(e){var s={};return h(["start","end","startValue","endValue","throttle"],function(r){e.hasOwnProperty(r)&&(s[r]=e[r])}),s}function a(e,s){var r=e._rangePropMode,l=e.get("rangeMode");h([["start","startValue"],["end","endValue"]],function(d,v){var f=null!=s[d[0]],p=null!=s[d[1]];f&&!p?r[v]="percent":!f&&p?r[v]="value":l?r[v]=l[v]:f&&(r[v]="percent")})}j.exports=c},22256:(j,U,i)=>{var w=i(83785).extend({type:"dataZoom",render:function(t,M,I,D){this.dataZoomModel=t,this.ecModel=M,this.api=I},getTargetCoordInfo:function(){var M=this.ecModel,I={};return this.dataZoomModel.eachTargetAxis(function(b,y){var h=M.getComponent(b.axis,y);if(h){var n=h.getCoordSysModel();n&&function D(b,y,h,n){for(var c,o=0;o<h.length;o++)if(h[o].model===b){c=h[o];break}c||h.push(c={model:b,axisModels:[],coordIndex:n}),c.axisModels.push(y)}(n,h,I[n.mainType]||(I[n.mainType]=[]),n.componentIndex)}},this),I}});j.exports=w},42752:(j,U,i)=>{var w=i(84580).extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});j.exports=w},42267:(j,U,i)=>{var T=i(66615),w=i(22256),t=i(77311),M=i(83434),I=T.bind,D=w.extend({type:"dataZoom.inside",init:function(c,o){},render:function(c,o,a,u){D.superApply(this,"render",arguments),this._range=c.getPercentRange(),T.each(this.getTargetCoordInfo(),function(e,s){var r=T.map(e,function(l){return M.generateCoordId(l.model)});T.each(e,function(l){var d=l.model,v={};T.each(["pan","zoom","scrollMove"],function(f){v[f]=I(b[f],this,l,s)},this),M.register(a,{coordId:M.generateCoordId(d),allCoordIds:r,containsPoint:function(f,p,S){return d.coordinateSystem.containPoint([p,S])},dataZoomId:c.id,dataZoomModel:c,getRange:v})},this)},this)},dispose:function(){M.unregister(this.api,this.dataZoomModel.id),D.superApply(this,"dispose",arguments),this._range=null}}),b={zoom:function(c,o,a,u){var e=this._range,s=e.slice(),r=c.axisModels[0];if(r){var l=h[o](null,[u.originX,u.originY],r,a,c),d=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(s[1]-s[0])+s[0],v=Math.max(1/u.scale,0);s[0]=(s[0]-d)*v+d,s[1]=(s[1]-d)*v+d;var f=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(t(0,s,[0,100],0,f.minSpan,f.maxSpan),this._range=s,e[0]!==s[0]||e[1]!==s[1])return s}},pan:y(function(c,o,a,u,e,s){var r=h[u]([s.oldX,s.oldY],[s.newX,s.newY],o,e,a);return r.signal*(c[1]-c[0])*r.pixel/r.pixelLength}),scrollMove:y(function(c,o,a,u,e,s){return h[u]([0,0],[s.scrollDelta,s.scrollDelta],o,e,a).signal*(c[1]-c[0])*s.scrollDelta})};function y(c){return function(o,a,u,e){var s=this._range,r=s.slice(),l=o.axisModels[0];if(l){var d=c(r,l,o,a,u,e);if(t(d,r,[0,100],"all"),this._range=r,s[0]!==r[0]||s[1]!==r[1])return r}}}var h={grid:function(c,o,a,u,e){var s=a.axis,r={},l=e.model.coordinateSystem.getRect();return c=c||[0,0],"x"===s.dim?(r.pixel=o[0]-c[0],r.pixelLength=l.width,r.pixelStart=l.x,r.signal=s.inverse?1:-1):(r.pixel=o[1]-c[1],r.pixelLength=l.height,r.pixelStart=l.y,r.signal=s.inverse?-1:1),r},polar:function(c,o,a,u,e){var s=a.axis,r={},l=e.model.coordinateSystem,d=l.getRadiusAxis().getExtent(),v=l.getAngleAxis().getExtent();return c=c?l.pointToCoord(c):[0,0],o=l.pointToCoord(o),"radiusAxis"===a.mainType?(r.pixel=o[0]-c[0],r.pixelLength=d[1]-d[0],r.pixelStart=d[0],r.signal=s.inverse?1:-1):(r.pixel=o[1]-c[1],r.pixelLength=v[1]-v[0],r.pixelStart=v[0],r.signal=s.inverse?-1:1),r},singleAxis:function(c,o,a,u,e){var s=a.axis,r=e.model.coordinateSystem.getRect(),l={};return c=c||[0,0],"horizontal"===s.orient?(l.pixel=o[0]-c[0],l.pixelLength=r.width,l.pixelStart=r.x,l.signal=s.inverse?1:-1):(l.pixel=o[1]-c[1],l.pixelLength=r.height,l.pixelStart=r.y,l.signal=s.inverse?-1:1),l}};j.exports=D},1009:(j,U,i)=>{var w=i(84580).extend({type:"dataZoom.select"});j.exports=w},65694:(j,U,i)=>{var w=i(22256).extend({type:"dataZoom.select"});j.exports=w},66389:(j,U,i)=>{var w=i(84580).extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});j.exports=w},37862:(j,U,i)=>{var T=i(66615),w=i(53626),t=i(32694),M=i(74972),I=i(22256),D=i(68301),b=i(10942),y=i(77311),h=t.Rect,n=D.linearMap,c=D.asc,o=T.bind,a=T.each,r="horizontal",l="vertical",d=5,v=["line","bar","candlestick","scatter"],f=I.extend({type:"dataZoom.slider",init:function(x,g){this._displayables={},this.api=g},render:function(x,g,m,A){f.superApply(this,"render",arguments),M.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=x.get("orient"),!1!==this.dataZoomModel.get("show")?((!A||"dataZoom"!==A.type||A.from!==this.uid)&&this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){f.superApply(this,"remove",arguments),M.clear(this,"_dispatchZoomAction")},dispose:function(){f.superApply(this,"dispose",arguments),M.clear(this,"_dispatchZoomAction")},_buildView:function(){var x=this.group;x.removeAll(),this._resetLocation(),this._resetInterval();var g=this._displayables.barGroup=new t.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),x.add(g),this._positionGroup()},_resetLocation:function(){var x=this.dataZoomModel,g=this.api,m=this._findCoordRect(),A={width:g.getWidth(),height:g.getHeight()},L=this._orient===r?{right:A.width-m.x-m.width,top:A.height-30-7,width:m.width,height:30}:{right:7,top:m.y,width:30,height:m.height},E=b.getLayoutParams(x.option);T.each(["right","top","width","height"],function(R){"ph"===E[R]&&(E[R]=L[R])});var N=b.getLayoutRect(E,A,x.padding);this._location={x:N.x,y:N.y},this._size=[N.width,N.height],this._orient===l&&this._size.reverse()},_positionGroup:function(){var x=this.group,g=this._location,m=this._orient,A=this.dataZoomModel.getFirstTargetAxisModel(),L=A&&A.get("inverse"),E=this._displayables.barGroup,N=(this._dataShadowInfo||{}).otherAxisInverse;E.attr(m!==r||L?m===r&&L?{scale:N?[-1,1]:[-1,-1]}:m!==l||L?{scale:N?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:N?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:N?[1,1]:[1,-1]});var R=x.getBoundingRect([E]);x.attr("position",[g.x-R.x,g.y-R.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var g=this._size,m=this._displayables.barGroup;m.add(new h({silent:!0,shape:{x:0,y:0,width:g[0],height:g[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40})),m.add(new h({shape:{x:0,y:0,width:g[0],height:g[1]},style:{fill:"transparent"},z2:0,onclick:T.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var x=this._dataShadowInfo=this._prepareDataShadowInfo();if(x){var g=this._size,m=x.series,A=m.getRawData(),L=m.getShadowDim?m.getShadowDim():x.otherDim;if(null!=L){var E=A.getDataExtent(L),N=.3*(E[1]-E[0]);E=[E[0]-N,E[1]+N];var Y,R=[0,g[1]],H=[[g[0],0],[0,0]],B=[],Z=g[0]/(A.count()-1),W=0,$=Math.round(A.count()/g[0]);A.each([L],function(z,k){if($>0&&k%$)W+=Z;else{var X=null==z||isNaN(z)||""===z,q=X?0:n(z,E,R,!0);X&&!Y&&k?(H.push([H[H.length-1][0],0]),B.push([B[B.length-1][0],0])):!X&&Y&&(H.push([W,0]),B.push([W,0])),H.push([W,q]),B.push([W,q]),W+=Z,Y=X}});var V=this.dataZoomModel;this._displayables.barGroup.add(new t.Polygon({shape:{points:H},style:T.defaults({fill:V.get("dataBackgroundColor")},V.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new t.Polyline({shape:{points:B},style:V.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var x=this.dataZoomModel,g=x.get("showDataShadow");if(!1!==g){var m,A=this.ecModel;return x.eachTargetAxis(function(L,E){var N=x.getAxisProxy(L.name,E).getTargetSeriesModels();T.each(N,function(R){if(!(m||!0!==g&&T.indexOf(v,R.get("type"))<0)){var B,F=A.getComponent(L.axis,E).axis,H=function p(x){return{x:"y",y:"x",radius:"angle",angle:"radius"}[x]}(L.name),Z=R.coordinateSystem;null!=H&&Z.getOtherAxis&&(B=Z.getOtherAxis(F).inverse),H=R.getData().mapDimension(H),m={thisAxis:F,series:R,thisDim:L.name,otherDim:H,otherAxisInverse:B}}},this)},this),m}},_renderHandle:function(){var x=this._displayables,g=x.handles=[],m=x.handleLabels=[],A=this._displayables.barGroup,L=this._size,E=this.dataZoomModel;A.add(x.filler=new h({draggable:!0,cursor:S(this._orient),drift:o(this._onDragMove,this,"all"),ondragstart:o(this._showDataInfo,this,!0),ondragend:o(this._onDragEnd,this),onmouseover:o(this._showDataInfo,this,!0),onmouseout:o(this._showDataInfo,this,!1),style:{fill:E.get("fillerColor"),textPosition:"inside"}})),A.add(new h({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:L[0],height:L[1]},style:{stroke:E.get("dataBackgroundColor")||E.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),a([0,1],function(N){var R=t.createIcon(E.get("handleIcon"),{cursor:S(this._orient),draggable:!0,drift:o(this._onDragMove,this,N),ondragend:o(this._onDragEnd,this),onmouseover:o(this._showDataInfo,this,!0),onmouseout:o(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),F=R.getBoundingRect();this._handleHeight=D.parsePercent(E.get("handleSize"),this._size[1]),this._handleWidth=F.width/F.height*this._handleHeight,R.setStyle(E.getModel("handleStyle").getItemStyle());var H=E.get("handleColor");null!=H&&(R.style.fill=H),A.add(g[N]=R);var B=E.textStyleModel;this.group.add(m[N]=new t.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:B.getTextColor(),textFont:B.getFont()},z2:10}))},this)},_resetInterval:function(){var x=this._range=this.dataZoomModel.getPercentRange(),g=this._getViewExtent();this._handleEnds=[n(x[0],[0,100],g,!0),n(x[1],[0,100],g,!0)]},_updateInterval:function(x,g){var m=this.dataZoomModel,A=this._handleEnds,L=this._getViewExtent(),E=m.findRepresentativeAxisProxy().getMinMaxSpan(),N=[0,100];y(g,A,L,m.get("zoomLock")?"all":x,null!=E.minSpan?n(E.minSpan,N,L,!0):null,null!=E.maxSpan?n(E.maxSpan,N,L,!0):null);var R=this._range,F=this._range=c([n(A[0],L,N,!0),n(A[1],L,N,!0)]);return!R||R[0]!==F[0]||R[1]!==F[1]},_updateView:function(x){var g=this._displayables,m=this._handleEnds,A=c(m.slice()),L=this._size;a([0,1],function(E){var R=this._handleHeight;g.handles[E].attr({scale:[R/2,R/2],position:[m[E],L[1]/2-R/2]})},this),g.filler.setShape({x:A[0],y:0,width:A[1]-A[0],height:L[1]}),this._updateDataInfo(x)},_updateDataInfo:function(x){var g=this.dataZoomModel,m=this._displayables,A=m.handleLabels,L=this._orient,E=["",""];if(g.get("showDetail")){var N=g.findRepresentativeAxisProxy();if(N){var R=N.getAxisModel().axis,F=this._range,H=x?N.calculateDataWindow({start:F[0],end:F[1]}).valueWindow:N.getDataValueWindow();E=[this._formatLabel(H[0],R),this._formatLabel(H[1],R)]}}var B=c(this._handleEnds.slice());function Z(W){var $=t.getTransform(m.handles[W].parent,this.group),Y=t.transformDirection(0===W?"right":"left",$),V=this._handleWidth/2+d,z=t.applyTransform([B[W]+(0===W?-V:V),this._size[1]/2],$);A[W].setStyle({x:z[0],y:z[1],textVerticalAlign:L===r?"middle":Y,textAlign:L===r?Y:"center",text:E[W]})}Z.call(this,0),Z.call(this,1)},_formatLabel:function(x,g){var m=this.dataZoomModel,A=m.get("labelFormatter"),L=m.get("labelPrecision");(null==L||"auto"===L)&&(L=g.getPixelPrecision());var E=null==x||isNaN(x)?"":"category"===g.type||"time"===g.type?g.scale.getLabel(Math.round(x)):x.toFixed(Math.min(L,20));return T.isFunction(A)?A(x,E):T.isString(A)?A.replace("{value}",E):E},_showDataInfo:function(x){var g=this._displayables.handleLabels;g[0].attr("invisible",!(x=this._dragging||x)),g[1].attr("invisible",!x)},_onDragMove:function(x,g,m,A){this._dragging=!0,w.stop(A.event);var L=this._displayables.barGroup.getLocalTransform(),E=t.applyTransform([g,m],L,!0),N=this._updateInterval(x,E[0]),R=this.dataZoomModel.get("realtime");this._updateView(!R),N&&R&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(x){var g=this._size,m=this._displayables.barGroup.transformCoordToLocal(x.offsetX,x.offsetY);if(!(m[0]<0||m[0]>g[0]||m[1]<0||m[1]>g[1])){var A=this._handleEnds,E=this._updateInterval("all",m[0]-(A[0]+A[1])/2);this._updateView(),E&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var x=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:x[0],end:x[1]})},_findCoordRect:function(){var x;if(a(this.getTargetCoordInfo(),function(A){if(!x&&A.length){var L=A[0].model.coordinateSystem;x=L.getRect&&L.getRect()}}),!x){var g=this.api.getWidth(),m=this.api.getHeight();x={x:.2*g,y:.2*m,width:.6*g,height:.6*m}}return x}});function S(x){return"vertical"===x?"ns-resize":"ew-resize"}j.exports=f},5707:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(46279);T.registerAction("dataZoom",function(M,I){var D=t.createLinkedNodesFinder(w.bind(I.eachComponent,I,"dataZoom"),t.eachAxisDim,function(y,h){return y.get(h.axisIndex)}),b=[];I.eachComponent({mainType:"dataZoom",query:M},function(y,h){b.push.apply(b,D(y).nodes)}),w.each(b,function(y,h){y.setRawRange({start:M.start,end:M.end,startValue:M.startValue,endValue:M.endValue})})})},82981:(j,U,i)=>{var T=i(53639),w=i(66615),t=w.createHashMap,M=w.each;T.registerProcessor({getTargetSeries:function(I){var D=t();return I.eachComponent("dataZoom",function(b){b.eachTargetAxis(function(y,h,n){var c=n.getAxisProxy(y.name,h);M(c.getTargetSeriesModels(),function(o){D.set(o.uid,o)})})}),D},modifyOutputEnd:!0,overallReset:function(I,D){I.eachComponent("dataZoom",function(b){b.eachTargetAxis(function(y,h,n){n.getAxisProxy(y.name,h).reset(n,D)}),b.eachTargetAxis(function(y,h,n){n.getAxisProxy(y.name,h).filterData(n,D)})}),I.eachComponent("dataZoom",function(b){var y=b.findRepresentativeAxisProxy(),h=y.getDataPercentWindow(),n=y.getDataValueWindow();b.setCalculatedRange({start:h[0],end:h[1],startValue:n[0],endValue:n[1]})})}})},46279:(j,U,i)=>{var T=i(66615),w=i(42977),M=["cartesian2d","polar","singleAxis"];function D(h,n){h=h.slice();var c=T.map(h,w.capitalFirst);n=(n||[]).slice();var o=T.map(n,w.capitalFirst);return function(a,u){T.each(h,function(e,s){for(var r={name:e,capital:c[s]},l=0;l<n.length;l++)r[n[l]]=e+o[l];a.call(u,r)})}}var b=D(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]);U.isCoordSupported=function I(h){return T.indexOf(M,h)>=0},U.createNameEach=D,U.eachAxisDim=b,U.createLinkedNodesFinder=function y(h,n,c){return function(e){var r,s={nodes:[],records:{}};if(n(function(d){s.records[d.name]={}}),!e)return s;u(e,s);do{r=!1,h(l)}while(r);function l(d){!function o(e,s){return T.indexOf(s.nodes,e)>=0}(d,s)&&function a(e,s){var r=!1;return n(function(l){T.each(c(e,l)||[],function(d){s.records[l.name][d]&&(r=!0)})}),r}(d,s)&&(u(d,s),r=!0)}return s};function u(e,s){s.nodes.push(e),n(function(r){T.each(c(e,r)||[],function(l){s.records[r.name][l]=!0})})}}},18128:(j,U,i)=>{var w=i(66615).each,t="\0_ec_hist_store";function y(h){var n=h[t];return n||(n=h[t]=[{}]),n}U.push=function M(h,n){var c=y(h);w(n,function(o,a){for(var u=c.length-1;u>=0&&!c[u][a];u--);if(u<0){var s=h.queryComponents({mainType:"dataZoom",subType:"select",id:a})[0];if(s){var r=s.getPercentRange();c[0][a]={dataZoomId:a,start:r[0],end:r[1]}}}}),c.push(n)},U.pop=function I(h){var n=y(h),c=n[n.length-1];n.length>1&&n.pop();var o={};return w(c,function(a,u){for(var e=n.length-1;e>=0;e--)if(a=n[e][u]){o[u]=a;break}}),o},U.clear=function D(h){h[t]=null},U.count=function b(h){return y(h).length}},83434:(j,U,i)=>{var T=i(66615),w=i(10233),t=i(74972),M="\0_ec_dataZoom_roams";function y(a){var u=a.getZr();return u[M]||(u[M]={})}function n(a){T.each(a,function(u,e){u.count||(u.controller.dispose(),delete a[e])})}function c(a,u){a.dispatchAction({type:"dataZoom",batch:u})}U.register=function I(a,u){var e=y(a),s=u.dataZoomId,r=u.coordId;T.each(e,function(v,f){var p=v.dataZoomInfos;p[s]&&T.indexOf(u.allCoordIds,r)<0&&(delete p[s],v.count--)}),n(e);var l=e[r];l||((l=e[r]={coordId:r,dataZoomInfos:{},count:0}).controller=function h(a,u){var e=new w(a.getZr());return T.each(["pan","zoom","scrollMove"],function(s){e.on(s,function(r){var l=[];T.each(u.dataZoomInfos,function(d){if(r.isAvailableBehavior(d.dataZoomModel.option)){var v=(d.getRange||{})[s],f=v&&v(u.controller,r);!d.dataZoomModel.get("disabled",!0)&&f&&l.push({dataZoomId:d.dataZoomId,start:f[0],end:f[1]})}}),l.length&&u.dispatchAction(l)})}),e}(a,l),l.dispatchAction=T.curry(c,a)),!l.dataZoomInfos[s]&&l.count++,l.dataZoomInfos[s]=u;var d=function o(a){var u,e="type_",s={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return T.each(a,function(l){var d=l.dataZoomModel,v=!d.get("disabled",!0)&&(!d.get("zoomLock",!0)||"move");s[e+v]>s[e+u]&&(u=v),r&=d.get("preventDefaultMouseMove",!0)}),{controlType:u,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}(l.dataZoomInfos);l.controller.enable(d.controlType,d.opt),l.controller.setPointerChecker(u.containsPoint),t.createOrUpdate(l,"dispatchAction",u.dataZoomModel.get("throttle",!0),"fixRate")},U.unregister=function D(a,u){var e=y(a);T.each(e,function(s){s.controller.dispose();var r=s.dataZoomInfos;r[u]&&(delete r[u],s.count--)}),n(e)},U.generateCoordId=function b(a){return a.type+"\0_"+a.id}},44072:(j,U,i)=>{i(42310).registerSubTypeDefaulter("dataZoom",function(){return"slider"})},88931:(j,U,i)=>{i(44072),i(84580),i(22256),i(42752),i(42267),i(82981),i(5707)},75061:(j,U,i)=>{i(44072),i(84580),i(22256),i(1009),i(65694),i(82981),i(5707)},70441:(j,U,i)=>{i(44072),i(84580),i(22256),i(66389),i(37862),i(82981),i(5707)},43046:(j,U,i)=>{var T=i(42310),w=i(83785),M=i(47458).detectSourceFormat,I=i(98159);T.extend({type:"dataset",defaultOption:{seriesLayoutBy:I.SERIES_LAYOUT_BY_COLUMN,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){M(this)}}),w.extend({type:"dataset"})},60272:(j,U,i)=>{var T=i(53639),w=i(66615);function t(M,I){I.update="updateView",T.registerAction(I,function(D,b){var y={};return b.eachComponent({mainType:"geo",query:D},function(h){h[M](D.name),w.each(h.coordinateSystem.regions,function(c){y[c.name]=h.isSelected(c.name)||!1})}),{selected:y,name:D.name}})}i(47913),i(71059),i(52109),i(49597),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"})},52109:(j,U,i)=>{var T=i(88661),t=i(53639).extendComponentView({type:"geo",init:function(M,I){var D=new T(I,!0);this._mapDraw=D,this.group.add(D.group)},render:function(M,I,D,b){if(!b||"geoToggleSelect"!==b.type||b.from!==this.uid){var y=this._mapDraw;M.get("show")?y.draw(M,I,D,this,b):this._mapDraw.group.removeAll(),this.group.silent=M.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});j.exports=t},54177:(j,U,i)=>{i(78322);var t=i(53639),M=i(66615),I=i(21617),D=i(32694),b=i(10942),h=i(68301).parsePercent,n={path:null,compoundPath:null,group:D.Group,image:D.Image,text:D.Text};t.registerPreprocessor(function(v){var f=v.graphic;M.isArray(f)?v.graphic=f[0]&&f[0].elements?[v.graphic[0]]:[{elements:f}]:f&&!f.elements&&(v.graphic=[{elements:[f]}])});var c=t.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(v){var f=this.option.elements;this.option.elements=null,c.superApply(this,"mergeOption",arguments),this.option.elements=f},optionUpdated:function(v,f){var p=this.option,S=(f?p:v).elements,C=p.elements=f?[]:p.elements,x=[];this._flatten(S,x);var g=I.mappingToExists(C,x);I.makeIdAndName(g);var m=this._elOptionsToUpdate=[];M.each(g,function(L,E){var N=L.option;N&&(m.push(N),function s(v,f){var p=v.exist;if(f.id=v.keyInfo.id,!f.type&&p&&(f.type=p.type),null==f.parentId){var S=f.parentOption;S?f.parentId=S.id:p&&(f.parentId=p.parentId)}f.parentOption=null}(L,N),function r(v,f,p){var S=M.extend({},p),C=v[f],x=p.$action||"merge";"merge"===x?C?(M.merge(C,S,!0),b.mergeLayoutParam(C,S,{ignoreSize:!0}),b.copyLayoutParams(p,C)):v[f]=S:"replace"===x?v[f]=S:"remove"===x&&C&&(v[f]=null)}(C,E,N),function l(v,f){v&&(v.hv=f.hv=[e(f,["left","right"]),e(f,["top","bottom"])],"group"===v.type&&(null==v.width&&(v.width=f.width=0),null==v.height&&(v.height=f.height=0)))}(C[E],N))},this);for(var A=C.length-1;A>=0;A--)null==C[A]?C.splice(A,1):delete C[A].$action},_flatten:function(v,f,p){M.each(v,function(S){if(S){p&&(S.parentOption=p),f.push(S);var C=S.children;"group"===S.type&&C&&this._flatten(C,f,S),delete S.children}},this)},useElOptionsToUpdate:function(){var v=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,v}});function o(v,f,p,S){var C=p.type,g=new(n.hasOwnProperty(C)?n[C]:D.getShapeClass(C))(p);f.add(g),S.set(v,g),g.__ecGraphicId=v}function a(v,f){var p=v&&v.parent;p&&("group"===v.type&&v.traverse(function(S){a(S,f)}),f.removeKey(v.__ecGraphicId),p.remove(v))}function e(v,f){var p;return M.each(f,function(S){null!=v[S]&&"auto"!==v[S]&&(p=!0)}),p}t.extendComponentView({type:"graphic",init:function(v,f){this._elMap=M.createHashMap()},render:function(v,f,p){v!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=v,this._updateElements(v),this._relocate(v,p)},_updateElements:function(v){var f=v.useElOptionsToUpdate();if(f){var p=this._elMap,S=this.group;M.each(f,function(C){var x=C.$action,g=C.id,m=p.get(g),A=C.parentId,L=null!=A?p.get(A):S,E=C.style;"text"===C.type&&E&&(C.hv&&C.hv[1]&&(E.textVerticalAlign=E.textBaseline=null),!E.hasOwnProperty("textFill")&&E.fill&&(E.textFill=E.fill),!E.hasOwnProperty("textStroke")&&E.stroke&&(E.textStroke=E.stroke));var N=function u(v){return v=M.extend({},v),M.each(["id","parentId","$action","hv","bounding"].concat(b.LOCATION_PARAMS),function(f){delete v[f]}),v}(C);x&&"merge"!==x?"replace"===x?(a(m,p),o(g,L,N,p)):"remove"===x&&a(m,p):m?m.attr(N):o(g,L,N,p);var R=p.get(g);R&&(R.__ecGraphicWidthOption=C.width,R.__ecGraphicHeightOption=C.height,function d(v,f,p){var S=v.eventData;!v.silent&&!v.ignore&&!S&&(S=v.eventData={componentType:"graphic",componentIndex:f.componentIndex,name:v.name}),S&&(S.info=v.info)}(R,v))})}},_relocate:function(v,f){for(var p=v.option.elements,S=this.group,C=this._elMap,x=f.getWidth(),g=f.getHeight(),m=0;m<p.length;m++)if((L=C.get((A=p[m]).id))&&L.isGroup){var N=(E=L.parent)===S;L.__ecGraphicWidth=h(L.__ecGraphicWidthOption,N?x:E.__ecGraphicWidth)||0,L.__ecGraphicHeight=h(L.__ecGraphicHeightOption,N?g:E.__ecGraphicHeight)||0}for(m=p.length-1;m>=0;m--){var A,L,E;(L=C.get((A=p[m]).id))&&b.positionElement(L,A,(E=L.parent)===S?{width:x,height:g}:{width:E.__ecGraphicWidth,height:E.__ecGraphicHeight},null,{hv:A.hv,boundingMode:A.bounding})}},_clear:function(){var v=this._elMap;v.each(function(f){a(f,v)}),this._elMap=M.createHashMap()},dispose:function(){this._clear()}})},8021:(j,U,i)=>{i(95283),i(50488),i(38843)},95283:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(32694);i(6927),i(58757),T.extendComponentView({type:"grid",render:function(M,I){this.group.removeAll(),M.get("show")&&this.group.add(new t.Rect({shape:M.coordinateSystem.getRect(),style:w.defaults({fill:M.get("backgroundColor")},M.getItemStyle()),silent:!0,z2:-1}))}}),T.registerPreprocessor(function(M){M.xAxis&&M.yAxis&&!M.grid&&(M.grid={})})},31691:(j,U,i)=>{i(78322);var t=i(66615),M=i(24665),I=i(32694),D=i(34631),b=i(12936),y=t.curry,h=t.each,n=t.map,c=Math.min,o=Math.max,a=Math.pow,u=1e4,e=6,s=6,r="globalPan",l={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},d={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},v={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},f=0;function p(ft){M.call(this),this._zr=ft,this.group=new I.Group,this._track=[],this._covers=[],this._uid="brushController_"+f++,this._handlers={},h(Rt,function(xt,wt){this._handlers[wt]=t.bind(xt,this)},this)}function m(ft,xt){var wt=Pt[xt.brushType].createCover(ft,xt);return wt.__brushOption=xt,E(wt,xt),ft.group.add(wt),wt}function A(ft,xt){var wt=R(xt);return wt.endCreating&&(wt.endCreating(ft,xt),E(xt,xt.__brushOption)),xt}function L(ft,xt){var wt=xt.__brushOption;R(xt).updateCoverShape(ft,xt,wt.range,wt)}function E(ft,xt){var wt=xt.z;null==wt&&(wt=u),ft.traverse(function(Nt){Nt.z=wt,Nt.z2=wt})}function N(ft,xt){R(xt).updateCommon(ft,xt),L(ft,xt)}function R(ft){return Pt[ft.__brushOption.brushType]}function F(ft,xt,wt){var Nt=ft._panels;if(!Nt)return!0;var Ot,It=ft._transform;return h(Nt,function(Ft){Ft.isTargetByCursor(xt,wt,It)&&(Ot=Ft)}),Ot}function H(ft,xt){var wt=ft._panels;if(!wt)return!0;var Nt=xt.__brushOption.panelId;return null==Nt||wt[Nt]}function B(ft){var xt=ft._covers,wt=xt.length;return h(xt,function(Nt){ft.group.remove(Nt)},ft),xt.length=0,!!wt}function Z(ft,xt){var wt=n(ft._covers,function(Nt){var Ot=Nt.__brushOption,It=t.clone(Ot.range);return{brushType:Ot.brushType,panelId:Ot.panelId,range:It}});ft.trigger("brush",wt,{isEnd:!!xt.isEnd,removeOnClick:!!xt.removeOnClick})}function $(ft){var xt=ft.length-1;return xt<0&&(xt=0),[ft[0],ft[xt]]}function Y(ft,xt,wt,Nt){var Ot=new I.Group;return Ot.add(new I.Rect({name:"main",style:X(wt),silent:!0,draggable:!0,cursor:"move",drift:y(ft,xt,Ot,"nswe"),ondragend:y(Z,xt,{isEnd:!0})})),h(Nt,function(It){Ot.add(new I.Rect({name:It,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:y(ft,xt,Ot,It),ondragend:y(Z,xt,{isEnd:!0})}))}),Ot}function V(ft,xt,wt,Nt){var Ot=Nt.brushStyle.lineWidth||0,It=o(Ot,s),Ft=wt[0][0],Jt=wt[1][0],qt=Ft-Ot/2,te=Jt-Ot/2,se=wt[0][1],ge=wt[1][1],Ce=se-It+Ot/2,Se=ge-It+Ot/2,Be=se-Ft,ze=ge-Jt,ue=Be+Ot,he=ze+Ot;k(ft,xt,"main",Ft,Jt,Be,ze),Nt.transformable&&(k(ft,xt,"w",qt,te,It,he),k(ft,xt,"e",Ce,te,It,he),k(ft,xt,"n",qt,te,ue,It),k(ft,xt,"s",qt,Se,ue,It),k(ft,xt,"nw",qt,te,It,It),k(ft,xt,"ne",Ce,te,It,It),k(ft,xt,"sw",qt,Se,It,It),k(ft,xt,"se",Ce,Se,It,It))}function z(ft,xt){var wt=xt.__brushOption,Nt=wt.transformable,Ot=xt.childAt(0);Ot.useStyle(X(wt)),Ot.attr({silent:!Nt,cursor:Nt?"move":"default"}),h(["w","e","n","s","se","sw","ne","nw"],function(It){var Ft=xt.childOfName(It),Jt=rt(ft,It);Ft&&Ft.attr({silent:!Nt,invisible:!Nt,cursor:Nt?d[Jt]+"-resize":null})})}function k(ft,xt,wt,Nt,Ot,It,Ft){var Jt=xt.childOfName(wt);Jt&&Jt.setShape(function gt(ft){var xt=c(ft[0][0],ft[1][0]),wt=c(ft[0][1],ft[1][1]);return{x:xt,y:wt,width:o(ft[0][0],ft[1][0])-xt,height:o(ft[0][1],ft[1][1])-wt}}(ht(ft,xt,[[Nt,Ot],[Nt+It,Ot+Ft]])))}function X(ft){return t.defaults({strokeNoScale:!0},ft.brushStyle)}function q(ft,xt,wt,Nt){var Ot=[c(ft,wt),c(xt,Nt)],It=[o(ft,wt),o(xt,Nt)];return[[Ot[0],It[0]],[Ot[1],It[1]]]}function rt(ft,xt){if(xt.length>1)return("e"===(wt=[rt(ft,(xt=xt.split(""))[0]),rt(ft,xt[1])])[0]||"w"===wt[0])&&wt.reverse(),wt.join("");var wt=I.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[xt],function et(ft){return I.getTransform(ft.group)}(ft));return{left:"w",right:"e",top:"n",bottom:"s"}[wt]}function it(ft,xt,wt,Nt,Ot,It,Ft,Jt){var qt=Nt.__brushOption,te=ft(qt.range),se=dt(wt,It,Ft);h(Ot.split(""),function(ge){var Ce=l[ge];te[Ce[0]][Ce[1]]+=se[Ce[0]]}),qt.range=xt(q(te[0][0],te[1][0],te[0][1],te[1][1])),N(wt,Nt),Z(wt,{isEnd:!1})}function lt(ft,xt,wt,Nt,Ot){var It=xt.__brushOption.range,Ft=dt(ft,wt,Nt);h(It,function(Jt){Jt[0]+=Ft[0],Jt[1]+=Ft[1]}),N(ft,xt),Z(ft,{isEnd:!1})}function dt(ft,xt,wt){var Nt=ft.group,Ot=Nt.transformCoordToLocal(xt,wt),It=Nt.transformCoordToLocal(0,0);return[Ot[0]-It[0],Ot[1]-It[1]]}function ht(ft,xt,wt){var Nt=H(ft,xt);return Nt&&!0!==Nt?Nt.clipPath(wt,ft._transform):t.clone(wt)}function ut(ft){var xt=ft.event;xt.preventDefault&&xt.preventDefault()}function Ct(ft,xt,wt){return ft.childOfName("main").contain(xt,wt)}function _t(ft,xt,wt,Nt){var Jt,Ot=ft._creatingCover,It=ft._creatingPanel,Ft=ft._brushOption;if(ft._track.push(wt.slice()),function W(ft){var xt=ft._track;if(!xt.length)return!1;var wt=xt[xt.length-1],Nt=xt[0],Ot=wt[0]-Nt[0],It=wt[1]-Nt[1];return a(Ot*Ot+It*It,.5)>e}(ft)||Ot){if(It&&!Ot){"single"===Ft.brushMode&&B(ft);var qt=t.clone(Ft);qt.brushType=bt(qt.brushType,It),qt.panelId=!0===It?null:It.panelId,Ot=ft._creatingCover=m(ft,qt),ft._covers.push(Ot)}if(Ot){var te=Pt[bt(ft._brushType,It)];Ot.__brushOption.range=te.getCreatingRange(ht(ft,Ot,ft._track)),Nt&&(A(ft,Ot),te.updateCommon(ft,Ot)),L(ft,Ot),Jt={isEnd:Nt}}}else Nt&&"single"===Ft.brushMode&&Ft.removeOnClick&&F(ft,xt,wt)&&B(ft)&&(Jt={isEnd:Nt,removeOnClick:!0});return Jt}function bt(ft,xt){return"auto"===ft?xt.defaultBrushType:ft}p.prototype={constructor:p,enableBrush:function(ft){return this._brushType&&function C(ft){var xt=ft._zr;D.release(xt,r,ft._uid),function g(ft,xt){h(xt,function(wt,Nt){ft.off(Nt,wt)})}(xt,ft._handlers),ft._brushType=ft._brushOption=null}(this),ft.brushType&&function S(ft,xt){var wt=ft._zr;ft._enableGlobalPan||D.take(wt,r,ft._uid),function x(ft,xt){h(xt,function(wt,Nt){ft.on(Nt,wt)})}(wt,ft._handlers),ft._brushType=xt.brushType,ft._brushOption=t.merge(t.clone(v),xt,!0)}(this,ft),this},setPanels:function(ft){if(ft&&ft.length){var xt=this._panels={};t.each(ft,function(wt){xt[wt.panelId]=t.clone(wt)})}else this._panels=null;return this},mount:function(ft){this._enableGlobalPan=(ft=ft||{}).enableGlobalPan;var xt=this.group;return this._zr.add(xt),xt.attr({position:ft.position||[0,0],rotation:ft.rotation||0,scale:ft.scale||[1,1]}),this._transform=xt.getLocalTransform(),this},eachCover:function(ft,xt){h(this._covers,ft,xt)},updateCovers:function(ft){ft=t.map(ft,function(se){return t.merge(t.clone(v),se,!0)});var xt="\0-brush-index-",wt=this._covers,Nt=this._covers=[],Ot=this,It=this._creatingCover;return new b(wt,ft,function Jt(se,ge){return Ft(se.__brushOption,ge)},Ft).add(qt).update(qt).remove(function te(se){wt[se]!==It&&Ot.group.remove(wt[se])}).execute(),this;function Ft(se,ge){return(null!=se.id?se.id:xt+ge)+"-"+se.brushType}function qt(se,ge){var Ce=ft[se];if(null!=ge&&wt[ge]===It)Nt[se]=wt[ge];else{var Se=Nt[se]=null!=ge?(wt[ge].__brushOption=Ce,wt[ge]):A(Ot,m(Ot,Ce));N(Ot,Se)}}},unmount:function(){return this.enableBrush(!1),B(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},t.mixin(p,M);var Rt={mousedown:function(ft){if(this._dragging)yt(this,ft);else if(!ft.target||!ft.target.draggable){ut(ft);var xt=this.group.transformCoordToLocal(ft.offsetX,ft.offsetY);this._creatingCover=null,(this._creatingPanel=F(this,ft,xt))&&(this._dragging=!0,this._track=[xt.slice()])}},mousemove:function(ft){var Nt=this.group.transformCoordToLocal(ft.offsetX,ft.offsetY);if(function at(ft,xt,wt){if(ft._brushType&&!function Tt(ft,xt,wt){var Nt=ft._zr;return xt<0||xt>Nt.getWidth()||wt<0||wt>Nt.getHeight()}(ft,xt)){var Nt=ft._zr,Ot=ft._covers,It=F(ft,xt,wt);if(!ft._dragging)for(var Ft=0;Ft<Ot.length;Ft++){var Jt=Ot[Ft].__brushOption;if(It&&(!0===It||Jt.panelId===It.panelId)&&Pt[Jt.brushType].contain(Ot[Ft],wt[0],wt[1]))return}It&&Nt.setCursorStyle("crosshair")}}(this,ft,Nt),this._dragging){ut(ft);var Ot=_t(this,ft,Nt,!1);Ot&&Z(this,Ot)}},mouseup:function(ft){yt(this,ft)}};function yt(ft,xt){if(ft._dragging){ut(xt);var Ot=ft.group.transformCoordToLocal(xt.offsetX,xt.offsetY),It=_t(ft,xt,Ot,!0);ft._dragging=!1,ft._track=[],ft._creatingCover=null,It&&Z(ft,It)}}var Pt={lineX:Zt(0),lineY:Zt(1),rect:{createCover:function(ft,xt){return Y(y(it,function(wt){return wt},function(wt){return wt}),ft,xt,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(ft){var xt=$(ft);return q(xt[1][0],xt[1][1],xt[0][0],xt[0][1])},updateCoverShape:function(ft,xt,wt,Nt){V(ft,xt,wt,Nt)},updateCommon:z,contain:Ct},polygon:{createCover:function(ft,xt){var wt=new I.Group;return wt.add(new I.Polyline({name:"main",style:X(xt),silent:!0})),wt},getCreatingRange:function(ft){return ft},endCreating:function(ft,xt){xt.remove(xt.childAt(0)),xt.add(new I.Polygon({name:"main",draggable:!0,drift:y(lt,ft,xt),ondragend:y(Z,ft,{isEnd:!0})}))},updateCoverShape:function(ft,xt,wt,Nt){xt.childAt(0).setShape({points:ht(ft,xt,wt)})},updateCommon:z,contain:Ct}};function Zt(ft){return{createCover:function(xt,wt){return Y(y(it,function(Nt){var Ot=[Nt,[0,100]];return ft&&Ot.reverse(),Ot},function(Nt){return Nt[ft]}),xt,wt,[["w","e"],["n","s"]][ft])},getCreatingRange:function(xt){var wt=$(xt);return[c(wt[0][ft],wt[1][ft]),o(wt[0][ft],wt[1][ft])]},updateCoverShape:function(xt,wt,Nt,Ot){var It,Ft=H(xt,wt);if(!0!==Ft&&Ft.getLinearBrushOtherExtent)It=Ft.getLinearBrushOtherExtent(ft,xt._transform);else{var Jt=xt._zr;It=[0,[Jt.getWidth(),Jt.getHeight()][1-ft]]}var qt=[Nt,It];ft&&qt.reverse(),V(xt,wt,qt,Ot)},updateCommon:z,contain:Ct}}j.exports=p},39754:(j,U,i)=>{i(78322);var t=i(66615),M=i(32694),I=i(21617),D=i(18639),b=t.each,y=t.indexOf,h=t.curry,n=["dataToPoint","pointToData"],c=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function o(g,m,A){var L=this._targetInfoList=[],E={},N=e(m,g);b(s,function(R,F){(!A||!A.include||y(A.include,F)>=0)&&R(N,L,E)})}var a=o.prototype;function u(g){return g[0]>g[1]&&g.reverse(),g}function e(g,m){return I.parseFinder(g,m,{includeMainTypes:c})}a.setOutputRanges=function(g,m){this.matchOutputRanges(g,m,function(A,L,E){if((A.coordRanges||(A.coordRanges=[])).push(L),!A.coordRange){A.coordRange=L;var N=d[A.brushType](0,E,L);A.__rangeOffset={offset:f[A.brushType](N.values,A.range,[1,1]),xyMinMax:N.xyMinMax}}})},a.matchOutputRanges=function(g,m,A){b(g,function(L){var E=this.findTargetInfo(L,m);E&&!0!==E&&t.each(E.coordSyses,function(N){var R=d[L.brushType](1,N,L.range);A(L,R.values,N,m)})},this)},a.setInputRanges=function(g,m){b(g,function(A){var L=this.findTargetInfo(A,m);if(A.range=A.range||[],L&&!0!==L){A.panelId=L.panelId;var E=d[A.brushType](0,L.coordSys,A.coordRange),N=A.__rangeOffset;A.range=N?f[A.brushType](E.values,N.offset,function S(g,m){var A=C(g),L=C(m),E=[A[0]/L[0],A[1]/L[1]];return isNaN(E[0])&&(E[0]=1),isNaN(E[1])&&(E[1]=1),E}(E.xyMinMax,N.xyMinMax)):E.values}},this)},a.makePanelOpts=function(g,m){return t.map(this._targetInfoList,function(A){var L=A.getPanelRect();return{panelId:A.panelId,defaultBrushType:m&&m(A),clipPath:D.makeRectPanelClipPath(L),isTargetByCursor:D.makeRectIsTargetByCursor(L,g,A.coordSysModel),getLinearBrushOtherExtent:D.makeLinearBrushOtherExtent(L)}})},a.controlSeries=function(g,m,A){var L=this.findTargetInfo(g,A);return!0===L||L&&y(L.coordSyses,m.coordinateSystem)>=0},a.findTargetInfo=function(g,m){for(var A=this._targetInfoList,L=e(m,g),E=0;E<A.length;E++){var N=A[E],R=g.panelId;if(R){if(N.panelId===R)return N}else for(E=0;E<r.length;E++)if(r[E](L,N))return N}return!0};var s={grid:function(g,m){var A=g.xAxisModels,L=g.yAxisModels,E=g.gridModels,N=t.createHashMap(),R={},F={};!A&&!L&&!E||(b(A,function(H){var B=H.axis.grid.model;N.set(B.id,B),R[B.id]=!0}),b(L,function(H){var B=H.axis.grid.model;N.set(B.id,B),F[B.id]=!0}),b(E,function(H){N.set(H.id,H),R[H.id]=!0,F[H.id]=!0}),N.each(function(H){var Z=[];b(H.coordinateSystem.getCartesians(),function(W,$){(y(A,W.getAxis("x").model)>=0||y(L,W.getAxis("y").model)>=0)&&Z.push(W)}),m.push({panelId:"grid--"+H.id,gridModel:H,coordSysModel:H,coordSys:Z[0],coordSyses:Z,getPanelRect:l.grid,xAxisDeclared:R[H.id],yAxisDeclared:F[H.id]})}))},geo:function(g,m){b(g.geoModels,function(A){var L=A.coordinateSystem;m.push({panelId:"geo--"+A.id,geoModel:A,coordSysModel:A,coordSys:L,coordSyses:[L],getPanelRect:l.geo})})}},r=[function(g,m){var A=g.xAxisModel,L=g.yAxisModel,E=g.gridModel;return!E&&A&&(E=A.axis.grid.model),!E&&L&&(E=L.axis.grid.model),E&&E===m.gridModel},function(g,m){var A=g.geoModel;return A&&A===m.geoModel}],l={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var g=this.coordSys,m=g.getBoundingRect().clone();return m.applyTransform(M.getTransform(g)),m}},d={lineX:h(v,0),lineY:h(v,1),rect:function(g,m,A){var L=m[n[g]]([A[0][0],A[1][0]]),E=m[n[g]]([A[0][1],A[1][1]]),N=[u([L[0],E[0]]),u([L[1],E[1]])];return{values:N,xyMinMax:N}},polygon:function(g,m,A){var L=[[1/0,-1/0],[1/0,-1/0]];return{values:t.map(A,function(N){var R=m[n[g]](N);return L[0][0]=Math.min(L[0][0],R[0]),L[1][0]=Math.min(L[1][0],R[1]),L[0][1]=Math.max(L[0][1],R[0]),L[1][1]=Math.max(L[1][1],R[1]),R}),xyMinMax:L}}};function v(g,m,A,L){var E=A.getAxis(["x","y"][g]),N=u(t.map([0,1],function(F){return m?E.coordToData(E.toLocalCoord(L[F])):E.toGlobalCoord(E.dataToCoord(L[F]))})),R=[];return R[g]=N,R[1-g]=[NaN,NaN],{values:N,xyMinMax:R}}var f={lineX:h(p,0),lineY:h(p,1),rect:function(g,m,A){return[[g[0][0]-A[0]*m[0][0],g[0][1]-A[0]*m[0][1]],[g[1][0]-A[1]*m[1][0],g[1][1]-A[1]*m[1][1]]]},polygon:function(g,m,A){return t.map(g,function(L,E){return[L[0]-A[0]*m[E][0],L[1]-A[1]*m[E][1]]})}};function p(g,m,A,L){return[m[0]-L[g]*A[0],m[1]-L[g]*A[1]]}function C(g){return g?[g[0][1]-g[0][0],g[1][1]-g[1][0]]:[NaN,NaN]}j.exports=o},88661:(j,U,i)=>{var T=i(66615),w=i(10233),t=i(25923),I=i(77515).onIrrelevantElement,D=i(32694),b=i(59191),h=i(96012).getUID,n=i(4360);function c(s){var r=s.getItemStyle(),l=s.get("areaColor");return null!=l&&(r.fill=l),r}function a(s,r){r.eachChild(function(l){T.each(l.__regions,function(d){l.trigger(s.isSelected(d.name)?"emphasis":"normal")})})}function u(s,r){var l=new D.Group;this.uid=h("ec_map_draw"),this._controller=new w(s.getZr()),this._controllerHost={target:r?l:null},this.group=l,this._updateGroup=r,l.add(this._regionsGroup=new D.Group),l.add(this._backgroundGroup=new D.Group)}u.prototype={constructor:u,draw:function(s,r,l,d,v){var f="geo"===s.mainType,p=s.getData&&s.getData();f&&r.eachComponent({mainType:"series",subType:"map"},function($){!p&&$.getHostGeoModel()===s&&(p=$.getData())});var S=s.coordinateSystem;this._updateBackground(S);var A,C=this._regionsGroup,x=this.group,g=S.getTransformInfo(),m=!C.childAt(0)||v;if(m)x.transform=g.roamTransform,x.decomposeTransform(),x.dirty();else{var L=new n;L.transform=g.roamTransform,L.decomposeTransform(),A=L.scale,D.updateProps(x,{scale:L.scale,position:L.position},s)}var N=g.rawScale,R=g.rawPosition;C.removeAll();var F=["itemStyle"],H=["emphasis","itemStyle"],B=["label"],Z=["emphasis","label"],W=T.createHashMap();T.each(S.regions,function($){var Y=W.get($.name)||W.set($.name,new D.Group),V=new D.CompoundPath({segmentIgnoreThreshold:1,shape:{paths:[]}});Y.add(V);var lt,k=(z=s.getRegionModel($.name)||s).getModel(F),X=z.getModel(H),q=c(k),et=c(X),rt=z.getModel(B),it=z.getModel(Z);if(p){lt=p.indexOfName($.name);var dt=p.getItemVisual(lt,"color",!0);dt&&(q.fill=dt)}var ht=function(Pt){return[Pt[0]*N[0]+R[0],Pt[1]*N[1]+R[1]]};T.each($.geometries,function(Pt){if("polygon"===Pt.type){for(var Zt=[],Vt=0;Vt<Pt.exterior.length;++Vt)Zt.push(ht(Pt.exterior[Vt]));for(V.shape.paths.push(new D.Polygon({segmentIgnoreThreshold:1,shape:{points:Zt}})),Vt=0;Vt<(Pt.interiors?Pt.interiors.length:0);++Vt){for(var ft=Pt.interiors[Vt],xt=(Zt=[],0);xt<ft.length;++xt)Zt.push(ht(ft[xt]));V.shape.paths.push(new D.Polygon({segmentIgnoreThreshold:1,shape:{points:Zt}}))}}}),V.setStyle(q),V.style.strokeNoScale=!0,V.culling=!0;var gt=rt.get("show"),at=it.get("show"),ut=p&&isNaN(p.get(p.mapDimension("value"),lt)),Ct=p&&p.getItemLayout(lt);if(f||ut&&(gt||at)||Ct&&Ct.showLabel){var bt,_t=f?$.name:lt;(!p||lt>=0)&&(bt=s);var Rt=new D.Text({position:ht($.center.slice()),scale:[1/x.scale[0],1/x.scale[1]],z2:10,silent:!0});D.setLabelStyle(Rt.style,Rt.hoverStyle={},rt,it,{labelFetcher:bt,labelDataIndex:_t,defaultText:$.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),m||D.updateProps(Rt,{scale:[1/A[0],1/A[1]]},s),Y.add(Rt)}if(p)p.setItemGraphicEl(lt,Y);else{var z=s.getRegionModel($.name);V.eventData={componentType:"geo",componentIndex:s.componentIndex,geoIndex:s.componentIndex,name:$.name,region:z&&z.option||{}}}(Y.__regions||(Y.__regions=[])).push($),Y.highDownSilentOnTouch=!!s.get("selectedMode"),D.setHoverStyle(Y,et),C.add(Y)}),this._updateController(s,r,l),function o(s,r,l,d,v){l.off("click"),l.off("mousedown"),r.get("selectedMode")&&(l.on("mousedown",function(){s._mouseDownFlag=!0}),l.on("click",function(f){if(s._mouseDownFlag){s._mouseDownFlag=!1;for(var p=f.target;!p.__regions;)p=p.parent;if(p){var S={type:("geo"===r.mainType?"geo":"map")+"ToggleSelect",batch:T.map(p.__regions,function(C){return{name:C.name,from:v.uid}})};S[r.mainType+"Id"]=r.id,d.dispatchAction(S),a(r,l)}}}))}(this,s,C,l,d),a(s,C)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&b.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(s){var r=s.map;this._mapName!==r&&T.each(b.makeGraphic(r,this.uid),function(l){this._backgroundGroup.add(l)},this),this._mapName=r},_updateController:function(s,r,l){var d=s.coordinateSystem,v=this._controller,f=this._controllerHost;f.zoomLimit=s.get("scaleLimit"),f.zoom=d.getZoom(),v.enable(s.get("roam")||!1);var p=s.mainType;function S(){var C={type:"geoRoam",componentType:p};return C[p+"Id"]=s.id,C}v.off("pan").on("pan",function(C){this._mouseDownFlag=!1,t.updateViewOnPan(f,C.dx,C.dy),l.dispatchAction(T.extend(S(),{dx:C.dx,dy:C.dy}))},this),v.off("zoom").on("zoom",function(C){if(this._mouseDownFlag=!1,t.updateViewOnZoom(f,C.scale,C.originX,C.originY),l.dispatchAction(T.extend(S(),{zoom:C.scale,originX:C.originX,originY:C.originY})),this._updateGroup){var x=this.group.scale;this._regionsGroup.traverse(function(g){"text"===g.type&&g.attr("scale",[1/x[0],1/x[1]])})}},this),v.setPointerChecker(function(C,x,g){return d.getViewRectAfterRoam().contain(x,g)&&!I(C,l,s)})}},j.exports=u},10233:(j,U,i)=>{var T=i(66615),w=i(24665),t=i(53626),M=i(34631);function I(e){this._zr=e,this._opt={};var s=T.bind,r=s(D,this),l=s(b,this),d=s(y,this),v=s(h,this),f=s(n,this);w.call(this),this.setPointerChecker=function(p){this.pointerChecker=p},this.enable=function(p,S){this.disable(),this._opt=T.defaults(T.clone(S)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==p&&(p=!0),(!0===p||"move"===p||"pan"===p)&&(e.on("mousedown",r),e.on("mousemove",l),e.on("mouseup",d)),(!0===p||"scale"===p||"zoom"===p)&&(e.on("mousewheel",v),e.on("pinch",f))},this.disable=function(){e.off("mousedown",r),e.off("mousemove",l),e.off("mouseup",d),e.off("mousewheel",v),e.off("pinch",f)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function D(e){if(!(t.isMiddleOrRightButtonOnMouseUpDown(e)||e.target&&e.target.draggable)){var s=e.offsetX,r=e.offsetY;this.pointerChecker&&this.pointerChecker(e,s,r)&&(this._x=s,this._y=r,this._dragging=!0)}}function b(e){if(this._dragging&&a("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!M.isTaken(this._zr,"globalPan")){var s=e.offsetX,r=e.offsetY,l=this._x,d=this._y,v=s-l,f=r-d;this._x=s,this._y=r,this._opt.preventDefaultMouseMove&&t.stop(e.event),o(this,"pan","moveOnMouseMove",e,{dx:v,dy:f,oldX:l,oldY:d,newX:s,newY:r})}}function y(e){t.isMiddleOrRightButtonOnMouseUpDown(e)||(this._dragging=!1)}function h(e){var s=a("zoomOnMouseWheel",e,this._opt),r=a("moveOnMouseWheel",e,this._opt),l=e.wheelDelta,d=Math.abs(l),v=e.offsetX,f=e.offsetY;if(0!==l&&(s||r)){if(s){var p=d>3?1.4:d>1?1.2:1.1;c(this,"zoom","zoomOnMouseWheel",e,{scale:l>0?p:1/p,originX:v,originY:f})}if(r){var C=Math.abs(l);c(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(l>0?1:-1)*(C>3?.4:C>1?.15:.05),originX:v,originY:f})}}}function n(e){M.isTaken(this._zr,"globalPan")||c(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY})}function c(e,s,r,l,d){e.pointerChecker&&e.pointerChecker(l,d.originX,d.originY)&&(t.stop(l.event),o(e,s,r,l,d))}function o(e,s,r,l,d){d.isAvailableBehavior=T.bind(a,null,r,l),e.trigger(s,d)}function a(e,s,r){var l=r[e];return!e||l&&(!T.isString(l)||s.event[l+"Key"])}T.mixin(I,w),j.exports=I},18639:(j,U,i)=>{var T=i(94525),t=i(77515).onIrrelevantElement,M=i(32694);function y(h){return T.create(h)}U.makeRectPanelClipPath=function I(h){return h=y(h),function(n,c){return M.clipPointsByRect(n,h)}},U.makeLinearBrushOtherExtent=function D(h,n){return h=y(h),function(c){var o=n??c,u=o?h.x:h.y;return[u,u+((o?h.width:h.height)||0)]}},U.makeRectIsTargetByCursor=function b(h,n,c){return h=y(h),function(o,a,u){return h.contain(a[0],a[1])&&!t(o,n,c)}}},77515:(j,U)=>{var i={axisPointer:1,tooltip:1,brush:1};U.onIrrelevantElement=function T(w,t,M){var I=t.getComponentByElement(w.topTarget),D=I&&I.coordinateSystem;return I&&I!==M&&!i[I.mainType]&&D&&D.model!==M}},34631:(j,U,i)=>{var T=i(53639),w="\0_ec_interaction_mutex";function D(b){return b[w]||(b[w]={})}T.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),U.take=function t(b,y,h){D(b)[y]=h},U.release=function M(b,y,h){var n=D(b);n[y]===h&&(n[y]=null)},U.isTaken=function I(b,y){return!!D(b)[y]}},79520:(j,U,i)=>{var T=i(10942),w=T.getLayoutRect,t=T.box,M=T.positionElement,I=i(42977),D=i(32694);U.layout=function b(h,n,c){var o=n.getBoxLayoutParams(),a=n.get("padding"),u={width:c.getWidth(),height:c.getHeight()},e=w(o,u,a);t(n.get("orient"),h,n.get("itemGap"),e.width,e.height),M(h,o,u,a)},U.makeBackground=function y(a,n){var c=I.normalizeCssArray(n.get("padding")),o=n.getItemStyle(["color","opacity"]);return o.fill=n.get("backgroundColor"),new D.Rect({shape:{x:a.x-c[3],y:a.y-c[0],width:a.width+c[1]+c[3],height:a.height+c[0]+c[2],r:n.get("borderRadius")},style:o,silent:!0,z2:-1})}},25923:(j,U)=>{U.updateViewOnPan=function i(w,t,M){var I=w.target,D=I.position;D[0]+=t,D[1]+=M,I.dirty()},U.updateViewOnZoom=function T(w,t,M,I){var D=w.target,b=w.zoomLimit,y=D.position,h=D.scale,n=w.zoom=w.zoom||1;if(n*=t,b){var c=b.min||0;n=Math.max(Math.min(b.max||1/0,n),c)}var a=n/w.zoom;w.zoom=n,y[0]-=(M-y[0])*(a-1),y[1]-=(I-y[1])*(a-1),h[0]*=a,h[1]*=a,D.dirty()}},22637:(j,U,i)=>{var T=i(66615);j.exports={updateSelectedMap:function(t){this._targetList=T.isArray(t)?t.slice():[],this._selectTargetMap=T.reduce(t||[],function(M,I){return M.set(I.name,I),M},T.createHashMap())},select:function(t,M){var I=null!=M?this._targetList[M]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(b){b.selected=!1}),I&&(I.selected=!0)},unSelect:function(t,M){var I=null!=M?this._targetList[M]:this._selectTargetMap.get(t);I&&(I.selected=!1)},toggleSelected:function(t,M){var I=null!=M?this._targetList[M]:this._selectTargetMap.get(t);if(null!=I)return this[I.selected?"unSelect":"select"](t,M),I.selected},isSelected:function(t,M){var I=null!=M?this._targetList[M]:this._selectTargetMap.get(t);return I&&I.selected}}},77311:j=>{function i(w,t){var M=w[t]-w[1-t];return{span:Math.abs(M),sign:M>0?-1:M<0?1:t?-1:1}}function T(w,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,w))}j.exports=function U(w,t,M,I,D,b){w=w||0;var y=M[1]-M[0];if(null!=D&&(D=T(D,[0,y])),null!=b&&(b=Math.max(b,D??0)),"all"===I){var h=Math.abs(t[1]-t[0]);h=T(h,[0,y]),D=b=T(h,[D,b]),I=0}t[0]=T(t[0],M),t[1]=T(t[1],M);var n=i(t,I);t[I]+=w;var c=D||0,o=M.slice();n.sign<0?o[0]+=c:o[1]-=c,t[I]=T(t[I],o);var a=i(t,I);return null!=D&&(a.sign!==n.sign||a.span<D)&&(t[1-I]=t[I]+n.sign*D),a=i(t,I),null!=b&&a.span>b&&(t[1-I]=t[I]+a.sign*b),t}},60232:(j,U,i)=>{var T=i(53639);i(42633),i(7696),i(58501);var w=i(14131),t=i(42310);T.registerProcessor(T.PRIORITY.PROCESSOR.SERIES_FILTER,w),t.registerSubTypeDefaulter("legend",function(){return"plain"})},42633:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(82356),I=i(21617).isNameSpecified,b=i(3494).legend.selector,y={all:{type:"all",title:w.clone(b.all)},inverse:{type:"inverse",title:w.clone(b.inverse)}},h=T.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(c,o,a){this.mergeDefaultAndTheme(c,a),c.selected=c.selected||{},this._updateSelector(c)},mergeOption:function(c){h.superCall(this,"mergeOption",c),this._updateSelector(c)},_updateSelector:function(c){var o=c.selector;!0===o&&(o=c.selector=["all","inverse"]),w.isArray(o)&&w.each(o,function(a,u){w.isString(a)&&(a={type:a}),o[u]=w.merge(a,y[a.type])})},optionUpdated:function(){this._updateData(this.ecModel);var c=this._data;if(c[0]&&"single"===this.get("selectedMode")){for(var o=!1,a=0;a<c.length;a++){var u=c[a].get("name");if(this.isSelected(u)){this.select(u),o=!0;break}}!o&&this.select(c[0].get("name"))}},_updateData:function(c){var o=[],a=[];c.eachRawSeries(function(s){var l;if(a.push(s.name),s.legendVisualProvider){var v=s.legendVisualProvider.getAllNames();c.isSeriesFiltered(s)||(a=a.concat(v)),v.length?o=o.concat(v):l=!0}else l=!0;l&&I(s)&&o.push(s.name)}),this._availableNames=a;var u=this.get("data")||o,e=w.map(u,function(s){return("string"==typeof s||"number"==typeof s)&&(s={name:s}),new t(s,this,this.ecModel)},this);this._data=e},getData:function(){return this._data},select:function(c){var o=this.option.selected;"single"===this.get("selectedMode")&&w.each(this._data,function(e){o[e.get("name")]=!1}),o[c]=!0},unSelect:function(c){"single"!==this.get("selectedMode")&&(this.option.selected[c]=!1)},toggleSelected:function(c){var o=this.option.selected;o.hasOwnProperty(c)||(o[c]=!0),this[o[c]?"unSelect":"select"](c)},allSelect:function(){var o=this.option.selected;w.each(this._data,function(a){o[a.get("name",!0)]=!0})},inverseSelect:function(){var o=this.option.selected;w.each(this._data,function(a){var u=a.get("name",!0);o.hasOwnProperty(u)||(o[u]=!0),o[u]=!o[u]})},isSelected:function(c){var o=this.option.selected;return!(o.hasOwnProperty(c)&&!o[c])&&w.indexOf(this._availableNames,c)>=0},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}});j.exports=h},58501:(j,U,i)=>{i(78322);var t=i(53639),M=i(66615),D=i(33008).createSymbol,b=i(32694),h=i(79520).makeBackground,n=i(10942),c=M.curry,o=M.each,a=b.Group,u=t.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new a),this.group.add(this._selectorGroup=new a),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(d,v,f){var p=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),d.get("show",!0)){var S=d.get("align"),C=d.get("orient");(!S||"auto"===S)&&(S="right"===d.get("left")&&"vertical"===C?"right":"left");var x=d.get("selector",!0),g=d.get("selectorPosition",!0);x&&(!g||"auto"===g)&&(g="horizontal"===C?"end":"start"),this.renderInner(S,d,v,f,x,C,g);var m=d.getBoxLayoutParams(),A={width:f.getWidth(),height:f.getHeight()},L=d.get("padding"),E=n.getLayoutRect(m,A,L),N=this.layoutInner(d,S,E,p,x,g),R=n.getLayoutRect(M.defaults({width:N.width,height:N.height},m),A,L);this.group.attr("position",[R.x-N.x,R.y-N.y]),this.group.add(this._backgroundEl=h(N,d))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(d,v,f,p,S,C,x){var g=this.getContentGroup(),m=M.createHashMap(),A=v.get("selectedMode"),L=[];f.eachRawSeries(function(E){!E.get("legendHoverLink")&&L.push(E.id)}),o(v.getData(),function(E,N){var R=E.get("name");if(this.newlineDisabled||""!==R&&"\n"!==R){var F=f.getSeriesByName(R)[0];if(!m.get(R))if(F){var H=F.getData(),B=H.getVisual("color"),Z=H.getVisual("borderColor");"function"==typeof B&&(B=B(F.getDataParams(0))),"function"==typeof Z&&(Z=Z(F.getDataParams(0)));var W=H.getVisual("legendSymbol")||"roundRect",$=H.getVisual("symbol");this._createItem(R,N,E,v,W,$,d,B,Z,A).on("click",c(s,R,null,p,L)).on("mouseover",c(r,F.name,null,p,L)).on("mouseout",c(l,F.name,null,p,L)),m.set(R,!0)}else f.eachRawSeries(function(V){if(!m.get(R)&&V.legendVisualProvider){var z=V.legendVisualProvider;if(!z.containName(R))return;var k=z.indexOfName(R),X=z.getItemVisual(k,"color"),q=z.getItemVisual(k,"borderColor");this._createItem(R,N,E,v,"roundRect",null,d,X,q,A).on("click",c(s,null,R,p,L)).on("mouseover",c(r,null,R,p,L)).on("mouseout",c(l,null,R,p,L)),m.set(R,!0)}},this)}else g.add(new a({newline:!0}))},this),S&&this._createSelector(S,v,p,C,x)},_createSelector:function(d,v,f,p,S){var C=this.getSelectorGroup();o(d,function(g){!function x(g){var m=g.type,A=new b.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){f.dispatchAction({type:"all"===m?"legendAllSelect":"legendInverseSelect"})}});C.add(A);var L=v.getModel("selectorLabel"),E=v.getModel("emphasis.selectorLabel");b.setLabelStyle(A.style,A.hoverStyle={},L,E,{defaultText:g.title,isRectText:!1}),b.setHoverStyle(A)}(g)})},_createItem:function(d,v,f,p,S,C,x,g,m,A){var L=p.get("itemWidth"),E=p.get("itemHeight"),N=p.get("inactiveColor"),R=p.get("inactiveBorderColor"),F=p.get("symbolKeepAspect"),H=p.getModel("itemStyle"),B=p.isSelected(d),Z=new a,W=f.getModel("textStyle"),$=f.get("icon"),Y=f.getModel("tooltip"),V=Y.parentModel,z=D(S=$||S,0,0,L,E,B?g:N,F??!0);if(Z.add(e(z,S,H,m,R,B)),!$&&C&&(C!==S||"none"===C)){var k=.8*E;"none"===C&&(C="circle");var X=D(C,(L-k)/2,(E-k)/2,k,k,B?g:N,F??!0);Z.add(e(X,C,H,m,R,B))}var q="left"===x?L+5:-5,et=x,rt=p.get("formatter"),it=d;"string"==typeof rt&&rt?it=rt.replace("{name}",d??""):"function"==typeof rt&&(it=rt(d)),Z.add(new b.Text({style:b.setTextStyle({},W,{text:it,x:q,y:E/2,textFill:B?W.getTextColor():N,textAlign:et,textVerticalAlign:"middle"})}));var lt=new b.Rect({shape:Z.getBoundingRect(),invisible:!0,tooltip:Y.get("show")?M.extend({content:d,formatter:V.get("formatter",!0)||function(){return d},formatterParams:{componentType:"legend",legendIndex:p.componentIndex,name:d,$vars:["name"]}},Y.option):null});return Z.add(lt),Z.eachChild(function(dt){dt.silent=!0}),lt.silent=!A,this.getContentGroup().add(Z),b.setHoverStyle(Z),Z.__legendDataIndex=v,Z},layoutInner:function(d,v,f,p,S,C){var x=this.getContentGroup(),g=this.getSelectorGroup();n.box(d.get("orient"),x,d.get("itemGap"),f.width,f.height);var m=x.getBoundingRect(),A=[-m.x,-m.y];if(S){n.box("horizontal",g,d.get("selectorItemGap",!0));var L=g.getBoundingRect(),E=[-L.x,-L.y],N=d.get("selectorButtonGap",!0),R=d.getOrient().index,F=0===R?"width":"height",H=0===R?"height":"width",B=0===R?"y":"x";"end"===C?E[R]+=m[F]+N:A[R]+=L[F]+N,E[1-R]+=m[H]/2-L[H]/2,g.attr("position",E),x.attr("position",A);var Z={x:0,y:0};return Z[F]=m[F]+N+L[F],Z[H]=Math.max(m[H],L[H]),Z[B]=Math.min(0,L[B]+E[1-R]),Z}return x.attr("position",A),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function e(d,v,f,p,S,C){var x;return"line"!==v&&v.indexOf("empty")<0?(x=f.getItemStyle(),d.style.stroke=p,C||(x.stroke=S)):x=f.getItemStyle(["borderWidth","borderColor"]),d.setStyle(x)}function s(d,v,f,p){l(d,v,f,p),f.dispatchAction({type:"legendToggleSelect",name:d??v}),r(d,v,f,p)}function r(d,v,f,p){var S=f.getZr().storage.getDisplayList()[0];S&&S.useHoverLayer||f.dispatchAction({type:"highlight",seriesName:d,name:v,excludeSeriesId:p})}function l(d,v,f,p){var S=f.getZr().storage.getDisplayList()[0];S&&S.useHoverLayer||f.dispatchAction({type:"downplay",seriesName:d,name:v,excludeSeriesId:p})}j.exports=u},89514:(j,U,i)=>{var T=i(42633),w=i(10942),t=w.mergeLayoutParam,M=w.getLayoutParams,I=T.extend({type:"legend.scroll",setScrollDataIndex:function(y){this.option.scrollDataIndex=y},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(y,h,n,c){var o=M(y);I.superCall(this,"init",y,h,n,c),D(this,y,o)},mergeOption:function(y,h){I.superCall(this,"mergeOption",y,h),D(this,this.option,y)}});function D(y,h,n){var o=[1,1];o[y.getOrient().index]=0,t(h,n,{type:"box",ignoreSize:o})}j.exports=I},44045:(j,U,i)=>{var T=i(66615),w=i(32694),t=i(10942),M=i(58501),I=w.Group,D=["width","height"],b=["x","y"],y=M.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){y.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new I),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new I)},resetInner:function(){y.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(n,c,o,a,u,e,s){var r=this;y.superCall(this,"renderInner",n,c,o,a,u,e,s);var l=this._controllerGroup,d=c.get("pageIconSize",!0);T.isArray(d)||(d=[d,d]),f("pagePrev",0);var v=c.getModel("pageTextStyle");function f(p,S){var C=p+"DataIndex",x=w.createIcon(c.get("pageIcons",!0)[c.getOrient().name][S],{onclick:T.bind(r._pageGo,r,C,c,a)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});x.name=p,l.add(x)}l.add(new w.Text({name:"pageText",style:{textFill:v.getTextColor(),font:v.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),f("pageNext",1)},layoutInner:function(n,c,o,a,u,e){var s=this.getSelectorGroup(),r=n.getOrient().index,l=D[r],d=b[r],v=D[1-r],f=b[1-r];u&&t.box("horizontal",s,n.get("selectorItemGap",!0));var p=n.get("selectorButtonGap",!0),S=s.getBoundingRect(),C=[-S.x,-S.y],x=T.clone(o);u&&(x[l]=o[l]-S[l]-p);var g=this._layoutContentAndController(n,a,x,r,l,v,f);if(u){if("end"===e)C[r]+=g[l]+p;else{var m=S[l]+p;C[r]-=m,g[d]-=m}g[l]+=S[l]+p,C[1-r]+=g[f]+g[v]/2-S[v]/2,g[v]=Math.max(g[v],S[v]),g[f]=Math.min(g[f],S[f]+C[1-r]),s.attr("position",C)}return g},_layoutContentAndController:function(n,c,o,a,u,e,s){var r=this.getContentGroup(),l=this._containerGroup,d=this._controllerGroup;t.box(n.get("orient"),r,n.get("itemGap"),a?o.width:null,a?null:o.height),t.box("horizontal",d,n.get("pageButtonItemGap",!0));var v=r.getBoundingRect(),f=d.getBoundingRect(),p=this._showController=v[u]>o[u],S=[-v.x,-v.y];c||(S[a]=r.position[a]);var C=[0,0],x=[-f.x,-f.y],g=T.retrieve2(n.get("pageButtonGap",!0),n.get("itemGap",!0));p&&("end"===n.get("pageButtonPosition",!0)?x[a]+=o[u]-f[u]:C[a]+=f[u]+g),x[1-a]+=v[e]/2-f[e]/2,r.attr("position",S),l.attr("position",C),d.attr("position",x);var A={x:0,y:0};if(A[u]=p?o[u]:v[u],A[e]=Math.max(v[e],f[e]),A[s]=Math.min(0,f[s]+x[1-a]),l.__rectSize=o[u],p){var L={x:0,y:0};L[u]=Math.max(o[u]-f[u]-g,0),L[e]=A[e],l.setClipPath(new w.Rect({shape:L})),l.__rectSize=L[u]}else d.eachChild(function(N){N.attr({invisible:!0,silent:!0})});var E=this._getPageInfo(n);return null!=E.pageIndex&&w.updateProps(r,{position:E.contentPosition},!!p&&n),this._updatePageInfoView(n,E),A},_pageGo:function(n,c,o){var a=this._getPageInfo(c)[n];null!=a&&o.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:c.id})},_updatePageInfoView:function(n,c){var o=this._controllerGroup;T.each(["pagePrev","pageNext"],function(l){var d=null!=c[l+"DataIndex"],v=o.childOfName(l);v&&(v.setStyle("fill",n.get(d?"pageIconColor":"pageIconInactiveColor",!0)),v.cursor=d?"pointer":"default")});var a=o.childOfName("pageText"),u=n.get("pageFormatter"),e=c.pageIndex,s=null!=e?e+1:0,r=c.pageCount;a&&u&&a.setStyle("text",T.isString(u)?u.replace("{current}",s).replace("{total}",r):u({current:s,total:r}))},_getPageInfo:function(n){var c=n.get("scrollDataIndex",!0),o=this.getContentGroup(),a=this._containerGroup.__rectSize,u=n.getOrient().index,e=D[u],s=b[u],r=this._findTargetItemIndex(c),l=o.children(),d=l[r],v=l.length,f=v?1:0,p={contentPosition:o.position.slice(),pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return p;var S=A(d);p.contentPosition[u]=-S.s;for(var C=r+1,x=S,g=S,m=null;C<=v;++C)(!(m=A(l[C]))&&g.e>x.s+a||m&&!L(m,x.s))&&(x=g.i>x.i?g:m)&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=x.i),++p.pageCount),g=m;for(C=r-1,x=S,g=S,m=null;C>=-1;--C)(!(m=A(l[C]))||!L(g,m.s))&&x.i<g.i&&(g=x,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=x.i),++p.pageCount,++p.pageIndex),x=m;return p;function A(E){if(E){var N=E.getBoundingRect(),R=N[s]+E.position[u];return{s:R,e:R+N[e],i:E.__legendDataIndex}}}function L(E,N){return E.e>=N&&E.s<=N+a}},_findTargetItemIndex:function(n){return this._showController?(this.getContentGroup().eachChild(function(u,e){var s=u.__legendDataIndex;null==a&&null!=s&&(a=e),s===n&&(c=e)}),c??a):0;var c,a}});j.exports=y},7696:(j,U,i)=>{var T=i(53639),w=i(66615);function t(M,I,D){var h,b={},y="toggleSelected"===M;return D.eachComponent("legend",function(n){y&&null!=h?n[h?"select":"unSelect"](I.name):"allSelect"===M||"inverseSelect"===M?n[M]():(n[M](I.name),h=n.isSelected(I.name));var c=n.getData();w.each(c,function(o){var a=o.get("name");if("\n"!==a&&""!==a){var u=n.isSelected(a);b[a]=b.hasOwnProperty(a)?b[a]&&u:u}})}),"allSelect"===M||"inverseSelect"===M?{selected:b}:{name:I.name,selected:b}}T.registerAction("legendToggleSelect","legendselectchanged",w.curry(t,"toggleSelected")),T.registerAction("legendAllSelect","legendselectall",w.curry(t,"allSelect")),T.registerAction("legendInverseSelect","legendinverseselect",w.curry(t,"inverseSelect")),T.registerAction("legendSelect","legendselected",w.curry(t,"select")),T.registerAction("legendUnSelect","legendunselected",w.curry(t,"unSelect"))},14131:j=>{j.exports=function U(i){var T=i.findComponents({mainType:"legend"});T&&T.length&&i.filterSeries(function(w){for(var t=0;t<T.length;t++)if(!T[t].isSelected(w.name))return!1;return!0})}},45084:(j,U,i)=>{i(53639).registerAction("legendScroll","legendscroll",function(w,t){var M=w.scrollDataIndex;null!=M&&t.eachComponent({mainType:"legend",subType:"scroll",query:w},function(I){I.setScrollDataIndex(M)})})},86063:(j,U,i)=>{i(60232),i(89514),i(44045),i(45084)},78498:(j,U,i)=>{var T=i(53639);i(98486),i(38343),T.registerPreprocessor(function(w){w.markArea=w.markArea||{}})},66118:(j,U,i)=>{var T=i(53639);i(67803),i(9728),T.registerPreprocessor(function(w){w.markLine=w.markLine||{}})},87212:(j,U,i)=>{var T=i(53639);i(89584),i(14536),T.registerPreprocessor(function(w){w.markPoint=w.markPoint||{}})},98486:(j,U,i)=>{var w=i(7251).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});j.exports=w},38343:(j,U,i)=>{var T=i(66615),w=i(10754),t=i(47563),M=i(68301),I=i(32694),D=i(54317),b=i(78689),y=function(e,s,r,l){var d=D.dataTransform(e,l[0]),v=D.dataTransform(e,l[1]),f=T.retrieve,p=d.coord,S=v.coord;p[0]=f(p[0],-1/0),p[1]=f(p[1],-1/0),S[0]=f(S[0],1/0),S[1]=f(S[1],1/0);var C=T.mergeAll([{},d,v]);return C.coord=[d.coord,v.coord],C.x0=d.x,C.y0=d.y,C.x1=v.x,C.y1=v.y,C};function h(e){return!isNaN(e)&&!isFinite(e)}function n(e,s,r,l){var d=1-e;return h(s[d])&&h(r[d])}function c(e,s){var r=s.coord[0],l=s.coord[1];return!("cartesian2d"!==e.type||!r||!l||!n(1,r,l)&&!n(0,r,l))||D.dataFilter(e,{coord:r,x:s.x0,y:s.y0})||D.dataFilter(e,{coord:l,x:s.x1,y:s.y1})}function o(e,s,r,l,d){var p,v=l.coordinateSystem,f=e.getItemModel(s),S=M.parsePercent(f.get(r[0]),d.getWidth()),C=M.parsePercent(f.get(r[1]),d.getHeight());if(isNaN(S)||isNaN(C)){if(l.getMarkerPosition)p=l.getMarkerPosition(e.getValues(r,s));else{var m=[x=e.get(r[0],s),g=e.get(r[1],s)];v.clampData&&v.clampData(m,m),p=v.dataToPoint(m,!0)}if("cartesian2d"===v.type){var A=v.getAxis("x"),L=v.getAxis("y"),x=e.get(r[0],s),g=e.get(r[1],s);h(x)?p[0]=A.toGlobalCoord(A.getExtent()["x0"===r[0]?0:1]):h(g)&&(p[1]=L.toGlobalCoord(L.getExtent()["y0"===r[1]?0:1]))}isNaN(S)||(p[0]=S),isNaN(C)||(p[1]=C)}else p=[S,C];return p}var a=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];b.extend({type:"markArea",updateTransform:function(e,s,r){s.eachSeries(function(l){var d=l.markAreaModel;if(d){var v=d.getData();v.each(function(f){var p=T.map(a,function(C){return o(v,f,C,l,r)});v.setItemLayout(f,p),v.getItemGraphicEl(f).setShape("points",p)})}},this)},renderSeries:function(e,s,r,l){var d=e.coordinateSystem,v=e.id,f=e.getData(),p=this.markerGroupMap,S=p.get(v)||p.set(v,{group:new I.Group});this.group.add(S.group),S.__keep=!0;var C=function u(e,s,r){var l,d;e?(l=T.map(e&&e.dimensions,function(S){var C=s.getData(),x=C.getDimensionInfo(C.mapDimension(S))||{};return T.defaults({name:S},x)}),d=new t(T.map(["x0","y0","x1","y1"],function(S,C){return{name:S,type:l[C%2].type}}),r)):d=new t(l=[{name:"value",type:"float"}],r);var f=T.map(r.get("data"),T.curry(y,s,e,r));e&&(f=T.filter(f,T.curry(c,e)));var p=e?function(S,C,x,g){return S.coord[Math.floor(g/2)][g%2]}:function(S){return S.value};return d.initData(f,null,p),d.hasItemOption=!0,d}(d,e,s);s.setData(C),C.each(function(x){var g=T.map(a,function(A){return o(C,x,A,e,l)}),m=!0;T.each(a,function(A){if(m){var L=C.get(A[0],x),E=C.get(A[1],x);(h(L)||d.getAxis("x").containData(L))&&(h(E)||d.getAxis("y").containData(E))&&(m=!1)}}),C.setItemLayout(x,{points:g,allClipped:m}),C.setItemVisual(x,{color:f.getVisual("color")})}),C.diff(S.__data).add(function(x){var g=C.getItemLayout(x);if(!g.allClipped){var m=new I.Polygon({shape:{points:g.points}});C.setItemGraphicEl(x,m),S.group.add(m)}}).update(function(x,g){var m=S.__data.getItemGraphicEl(g),A=C.getItemLayout(x);A.allClipped?m&&S.group.remove(m):(m?I.updateProps(m,{shape:{points:A.points}},s,x):m=new I.Polygon({shape:{points:A.points}}),C.setItemGraphicEl(x,m),S.group.add(m))}).remove(function(x){var g=S.__data.getItemGraphicEl(x);S.group.remove(g)}).execute(),C.eachItemGraphicEl(function(x,g){var m=C.getItemModel(g),A=m.getModel("label"),L=m.getModel("emphasis.label"),E=C.getItemVisual(g,"color");x.useStyle(T.defaults(m.getModel("itemStyle").getItemStyle(),{fill:w.modifyAlpha(E,.4),stroke:E})),x.hoverStyle=m.getModel("emphasis.itemStyle").getItemStyle(),I.setLabelStyle(x.style,x.hoverStyle,A,L,{labelFetcher:s,labelDataIndex:g,defaultText:C.getName(g)||"",isRectText:!0,autoColor:E}),I.setHoverStyle(x,{}),x.dataModel=s}),S.__data=C,S.group.silent=s.get("silent")||e.get("silent")}})},67803:(j,U,i)=>{var w=i(7251).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});j.exports=w},9728:(j,U,i)=>{var T=i(66615),w=i(47563),t=i(68301),M=i(54317),I=i(17122),D=i(78689),y=i(69816).getStackedDimension,h=function(s,r,l,d){var v=s.getData(),f=d.type;if(!T.isArray(d)&&("min"===f||"max"===f||"average"===f||"median"===f||null!=d.xAxis||null!=d.yAxis)){var p,S;if(null!=d.yAxis||null!=d.xAxis)p=r.getAxis(null!=d.yAxis?"y":"x"),S=T.retrieve(d.yAxis,d.xAxis);else{var C=M.getAxisInfo(d,v,r,s);p=C.valueAxis;var x=y(v,C.valueDataDim);S=M.numCalculate(v,x,f)}var g="x"===p.dim?0:1,m=1-g,A=T.clone(d),L={};A.type=null,A.coord=[],L.coord=[],A.coord[m]=-1/0,L.coord[m]=1/0;var E=l.get("precision");E>=0&&"number"==typeof S&&(S=+S.toFixed(Math.min(E,20))),A.coord[g]=L.coord[g]=S,d=[A,L,{type:f,valueIndex:d.valueIndex,value:S}]}return(d=[M.dataTransform(s,d[0]),M.dataTransform(s,d[1]),T.extend({},d[2])])[2].type=d[2].type||"",T.merge(d[2],d[0]),T.merge(d[2],d[1]),d};function n(s){return!isNaN(s)&&!isFinite(s)}function c(s,r,l,d){var v=1-s,f=d.dimensions[s];return n(r[v])&&n(l[v])&&r[s]===l[s]&&d.getAxis(f).containData(r[s])}function o(s,r){if("cartesian2d"===s.type){var l=r[0].coord,d=r[1].coord;if(l&&d&&(c(1,l,d,s)||c(0,l,d,s)))return!0}return M.dataFilter(s,r[0])&&M.dataFilter(s,r[1])}function a(s,r,l,d,v){var S,f=d.coordinateSystem,p=s.getItemModel(r),C=t.parsePercent(p.get("x"),v.getWidth()),x=t.parsePercent(p.get("y"),v.getHeight());if(isNaN(C)||isNaN(x)){if(d.getMarkerPosition)S=d.getMarkerPosition(s.getValues(s.dimensions,r));else{var m=s.get((g=f.dimensions)[0],r),A=s.get(g[1],r);S=f.dataToPoint([m,A])}if("cartesian2d"===f.type){var g,L=f.getAxis("x"),E=f.getAxis("y");n(s.get((g=f.dimensions)[0],r))?S[0]=L.toGlobalCoord(L.getExtent()[l?0:1]):n(s.get(g[1],r))&&(S[1]=E.toGlobalCoord(E.getExtent()[l?0:1]))}isNaN(C)||(S[0]=C),isNaN(x)||(S[1]=x)}else S=[C,x];s.setItemLayout(r,S)}var u=D.extend({type:"markLine",updateTransform:function(s,r,l){r.eachSeries(function(d){var v=d.markLineModel;if(v){var f=v.getData(),p=v.__from,S=v.__to;p.each(function(C){a(p,C,!0,d,l),a(S,C,!1,d,l)}),f.each(function(C){f.setItemLayout(C,[p.getItemLayout(C),S.getItemLayout(C)])}),this.markerGroupMap.get(d.id).updateLayout()}},this)},renderSeries:function(s,r,l,d){var v=s.coordinateSystem,f=s.id,p=s.getData(),S=this.markerGroupMap,C=S.get(f)||S.set(f,new I);this.group.add(C.group);var x=function e(s,r,l){var d;d=s?T.map(s&&s.dimensions,function(x){var g=r.getData().getDimensionInfo(r.getData().mapDimension(x))||{};return T.defaults({name:x},g)}):[{name:"value",type:"float"}];var v=new w(d,l),f=new w(d,l),p=new w([],l),S=T.map(l.get("data"),T.curry(h,r,s,l));s&&(S=T.filter(S,T.curry(o,s)));var C=s?M.dimValueGetter:function(x){return x.value};return v.initData(T.map(S,function(x){return x[0]}),null,C),f.initData(T.map(S,function(x){return x[1]}),null,C),p.initData(T.map(S,function(x){return x[2]})),p.hasItemOption=!0,{from:v,to:f,line:p}}(v,s,r),g=x.from,m=x.to,A=x.line;r.__from=g,r.__to=m,r.setData(A);var L=r.get("symbol"),E=r.get("symbolSize");function N(R,F,H){var B=R.getItemModel(F);a(R,F,H,s,d),R.setItemVisual(F,{symbolRotate:B.get("symbolRotate"),symbolSize:B.get("symbolSize")||E[H?0:1],symbol:B.get("symbol",!0)||L[H?0:1],color:B.get("itemStyle.color")||p.getVisual("color")})}T.isArray(L)||(L=[L,L]),"number"==typeof E&&(E=[E,E]),x.from.each(function(R){N(g,R,!0),N(m,R,!1)}),A.each(function(R){var F=A.getItemModel(R).get("lineStyle.color");A.setItemVisual(R,{color:F||g.getItemVisual(R,"color")}),A.setItemLayout(R,[g.getItemLayout(R),m.getItemLayout(R)]),A.setItemVisual(R,{fromSymbolRotate:g.getItemVisual(R,"symbolRotate"),fromSymbolSize:g.getItemVisual(R,"symbolSize"),fromSymbol:g.getItemVisual(R,"symbol"),toSymbolRotate:m.getItemVisual(R,"symbolRotate"),toSymbolSize:m.getItemVisual(R,"symbolSize"),toSymbol:m.getItemVisual(R,"symbol")})}),C.updateData(A),x.line.eachItemGraphicEl(function(R,F){R.traverse(function(H){H.dataModel=r})}),C.__keep=!0,C.group.silent=r.get("silent")||s.get("silent")}});j.exports=u},89584:(j,U,i)=>{var w=i(7251).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});j.exports=w},14536:(j,U,i)=>{var T=i(66615),w=i(57693),t=i(68301),M=i(47563),I=i(54317);function b(n,c,o){var a=c.coordinateSystem;n.each(function(u){var s,e=n.getItemModel(u),r=t.parsePercent(e.get("x"),o.getWidth()),l=t.parsePercent(e.get("y"),o.getHeight());if(isNaN(r)||isNaN(l)){if(c.getMarkerPosition)s=c.getMarkerPosition(n.getValues(n.dimensions,u));else if(a){var d=n.get(a.dimensions[0],u),v=n.get(a.dimensions[1],u);s=a.dataToPoint([d,v])}}else s=[r,l];isNaN(r)||(s[0]=r),isNaN(l)||(s[1]=l),n.setItemLayout(u,s)})}var y=i(78689).extend({type:"markPoint",updateTransform:function(n,c,o){c.eachSeries(function(a){var u=a.markPointModel;u&&(b(u.getData(),a,o),this.markerGroupMap.get(a.id).updateLayout(u))},this)},renderSeries:function(n,c,o,a){var u=n.coordinateSystem,e=n.id,s=n.getData(),r=this.markerGroupMap,l=r.get(e)||r.set(e,new w),d=function h(n,c,o){var a;a=n?T.map(n&&n.dimensions,function(s){var r=c.getData().getDimensionInfo(c.getData().mapDimension(s))||{};return T.defaults({name:s},r)}):[{name:"value",type:"float"}];var u=new M(a,o),e=T.map(o.get("data"),T.curry(I.dataTransform,c));return n&&(e=T.filter(e,T.curry(I.dataFilter,n))),u.initData(e,null,n?I.dimValueGetter:function(s){return s.value}),u}(u,n,c);c.setData(d),b(c.getData(),n,a),d.each(function(v){var f=d.getItemModel(v),p=f.getShallow("symbol"),S=f.getShallow("symbolSize"),C=f.getShallow("symbolRotate"),x=T.isFunction(p),g=T.isFunction(S),m=T.isFunction(C);if(x||g||m){var A=c.getRawValue(v),L=c.getDataParams(v);x&&(p=p(A,L)),g&&(S=S(A,L)),m&&(C=C(A,L))}d.setItemVisual(v,{symbol:p,symbolSize:S,symbolRotate:C,color:f.get("itemStyle.color")||s.getVisual("color")})}),l.updateData(d),this.group.add(l.group),d.eachItemGraphicEl(function(v){v.traverse(function(f){f.dataModel=c})}),l.__keep=!0,l.group.silent=c.get("silent")||n.get("silent")}});j.exports=y},7251:(j,U,i)=>{i(78322);var t=i(53639),M=i(66615),I=i(71156),D=i(21617),b=i(42977),y=i(88488),h=b.addCommas,n=b.encodeHTML;function c(u){D.defaultEmphasis(u,"label",["show"])}var o=t.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(u,e,s){this.mergeDefaultAndTheme(u,s),this._mergeOption(u,s,!1,!0)},isAnimationEnabled:function(){if(I.node)return!1;var u=this.__hostSeries;return this.getShallow("animation")&&u&&u.isAnimationEnabled()},mergeOption:function(u,e){this._mergeOption(u,e,!1,!1)},_mergeOption:function(u,e,s,r){var l=this.constructor,d=this.mainType+"Model";s||e.eachSeries(function(v){var f=v.get(this.mainType,!0),p=v[d];f&&f.data?(p?p._mergeOption(f,e,!0):(r&&c(f),M.each(f.data,function(S){S instanceof Array?(c(S[0]),c(S[1])):c(S)}),p=new l(f,this,e),M.extend(p,{mainType:this.mainType,seriesIndex:v.seriesIndex,name:v.name,createdBySelf:!0}),p.__hostSeries=v),v[d]=p):v[d]=null},this)},formatTooltip:function(u,e,s,r){var l=this.getData(),d=this.getRawValue(u),v=M.isArray(d)?M.map(d,h).join(", "):h(d),f=l.getName(u),p=n(this.name);return(null!=d||f)&&(p+="html"===r?"<br/>":"\n"),f&&(p+=n(f),null!=d&&(p+=" : ")),null!=d&&(p+=n(v)),p},getData:function(){return this._data},setData:function(u){this._data=u}});M.mixin(o,y),j.exports=o},78689:(j,U,i)=>{var T=i(53639),w=i(66615),t=T.extendComponentView({type:"marker",init:function(){this.markerGroupMap=w.createHashMap()},render:function(M,I,D){var b=this.markerGroupMap;b.each(function(h){h.__keep=!1});var y=this.type+"Model";I.eachSeries(function(h){var n=h[y];n&&this.renderSeries(h,n,I,D)},this),b.each(function(h){!h.__keep&&this.group.remove(h.group)},this)},renderSeries:function(){}});j.exports=t},54317:(j,U,i)=>{var T=i(66615),w=i(68301),M=i(69816).isDimensionStacked,I=T.indexOf;function y(r,l,d,v,f,p){var S=[],x=M(l,v)?l.getCalculationInfo("stackResultDimension"):v,g=s(l,x,r),m=l.indicesOfNearest(x,g)[0];S[f]=l.get(d,m),S[p]=l.get(x,m);var A=l.get(v,m),L=w.getPrecision(l.get(v,m));return(L=Math.min(L,20))>=0&&(S[p]=+S[p].toFixed(L)),[S,A]}var h=T.curry,n={min:h(y,"min"),max:h(y,"max"),average:h(y,"average")};function o(r,l,d,v){var f={};return null!=r.valueIndex||null!=r.valueDim?(f.valueDataDim=null!=r.valueIndex?l.getDimension(r.valueIndex):r.valueDim,f.valueAxis=d.getAxis(function a(r,l){var d=r.getData(),v=d.dimensions;l=d.getDimension(l);for(var f=0;f<v.length;f++){var p=d.getDimensionInfo(v[f]);if(p.name===l)return p.coordDim}}(v,f.valueDataDim)),f.baseAxis=d.getOtherAxis(f.valueAxis),f.baseDataDim=l.mapDimension(f.baseAxis.dim)):(f.baseAxis=v.getBaseAxis(),f.valueAxis=d.getOtherAxis(f.baseAxis),f.baseDataDim=l.mapDimension(f.baseAxis.dim),f.valueDataDim=l.mapDimension(f.valueAxis.dim)),f}function s(r,l,d){if("average"===d){var v=0,f=0;return r.each(l,function(p,S){isNaN(p)||(v+=p,f++)}),v/f}return"median"===d?r.getMedian(l):r.getDataExtent(l,!0)["max"===d?1:0]}U.dataTransform=function c(r,l){var d=r.getData(),v=r.coordinateSystem;if(l&&!function b(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}(l)&&!T.isArray(l.coord)&&v){var f=v.dimensions,p=o(l,d,v,r);if((l=T.clone(l)).type&&n[l.type]&&p.baseAxis&&p.valueAxis){var S=I(f,p.baseAxis.dim),C=I(f,p.valueAxis.dim),x=n[l.type](d,p.baseDataDim,p.valueDataDim,S,C);l.coord=x[0],l.value=x[1]}else{for(var g=[null!=l.xAxis?l.xAxis:l.radiusAxis,null!=l.yAxis?l.yAxis:l.angleAxis],m=0;m<2;m++)n[g[m]]&&(g[m]=s(d,d.mapDimension(f[m]),g[m]));l.coord=g}}return l},U.getAxisInfo=o,U.dataFilter=function u(r,l){return!(r&&r.containData&&l.coord&&!function D(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}(l))||r.containData(l.coord)},U.dimValueGetter=function e(r,l,d,v){return v<2?r.coord&&r.coord[v]:r.value},U.numCalculate=s},36945:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(74972),M=i(28322);i(40978),i(63919),i(42e3),T.extendComponentView({type:"parallel",render:function(y,h,n){this._model=y,this._api=n,this._handlers||(this._handlers={},w.each(D,function(c,o){n.getZr().on(o,this._handlers[o]=w.bind(c,this))},this)),t.createOrUpdate(this,"_throttledDispatchExpand",y.get("axisExpandRate"),"fixRate")},dispose:function(y,h){w.each(this._handlers,function(n,c){h.getZr().off(c,n)}),this._handlers=null},_throttledDispatchExpand:function(y){this._dispatchExpand(y)},_dispatchExpand:function(y){y&&this._api.dispatchAction(w.extend({type:"parallelAxisExpand"},y))}});var D={mousedown:function(y){b(this,"click")&&(this._mouseDownPoint=[y.offsetX,y.offsetY])},mouseup:function(y){var h=this._mouseDownPoint;if(b(this,"click")&&h){var n=[y.offsetX,y.offsetY];if(Math.pow(h[0]-n[0],2)+Math.pow(h[1]-n[1],2)>5)return;var o=this._model.coordinateSystem.getSlidedAxisExpandWindow([y.offsetX,y.offsetY]);"none"!==o.behavior&&this._dispatchExpand({axisExpandWindow:o.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(y){if(!this._mouseDownPoint&&b(this,"mousemove")){var h=this._model,n=h.coordinateSystem.getSlidedAxisExpandWindow([y.offsetX,y.offsetY]),c=n.behavior;"jump"===c&&this._throttledDispatchExpand.debounceNextCall(h.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===c?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===c&&null})}}};function b(y,h){var n=y._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===h}T.registerPreprocessor(M)},42e3:(j,U,i)=>{i(40978),i(10755),i(66970)},36778:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(39755);i(97924),i(39610),i(3263),i(38843),i(74591),T.registerLayout(w.curry(t,"bar")),T.extendComponentView({type:"polar"})},2170:(j,U,i)=>{i(32710),i(80898),i(48676)},48676:(j,U,i)=>{i(78322);var t=i(53639),M=i(66615),I=i(87483),D=i(32694),b=["axisLine","axisTickLabel","axisName"],y=t.extendComponentView({type:"radar",render:function(h,n,c){this.group.removeAll(),this._buildAxes(h),this._buildSplitLineAndArea(h)},_buildAxes:function(h){var n=h.coordinateSystem,c=n.getIndicatorAxes(),o=M.map(c,function(a){return new I(a.model,{position:[n.cx,n.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});M.each(o,function(a){M.each(b,a.add,a),this.group.add(a.getGroup())},this)},_buildSplitLineAndArea:function(h){var n=h.coordinateSystem,c=n.getIndicatorAxes();if(c.length){var o=h.get("shape"),a=h.getModel("splitLine"),u=h.getModel("splitArea"),e=a.getModel("lineStyle"),s=u.getModel("areaStyle"),r=a.get("show"),l=u.get("show"),d=e.get("color"),v=s.get("color");d=M.isArray(d)?d:[d],v=M.isArray(v)?v:[v];var f=[],p=[];if("circle"===o)for(var C=c[0].getTicksCoords(),x=n.cx,g=n.cy,m=0;m<C.length;m++)r&&f[S(f,d,m)].push(new D.Circle({shape:{cx:x,cy:g,r:C[m].coord}})),l&&m<C.length-1&&p[S(p,v,m)].push(new D.Ring({shape:{cx:x,cy:g,r0:C[m].coord,r:C[m+1].coord}}));else{var L,E=M.map(c,function(Z,W){var $=Z.getTicksCoords();return L=null==L?$.length-1:Math.min($.length-1,L),M.map($,function(Y){return n.coordToPoint(Y.coord,W)})}),N=[];for(m=0;m<=L;m++){for(var R=[],F=0;F<c.length;F++)R.push(E[F][m]);R[0]&&R.push(R[0].slice()),r&&f[S(f,d,m)].push(new D.Polyline({shape:{points:R}})),l&&N&&p[S(p,v,m-1)].push(new D.Polygon({shape:{points:R.concat(N)}})),N=R.slice().reverse()}}var H=e.getLineStyle(),B=s.getAreaStyle();M.each(p,function(Z,W){this.group.add(D.mergePath(Z,{style:M.defaults({stroke:"none",fill:v[W%v.length]},B),silent:!0}))},this),M.each(f,function(Z,W){this.group.add(D.mergePath(Z,{style:M.defaults({fill:"none",stroke:d[W%d.length]},H),silent:!0}))},this)}function S(Z,W,$){var Y=$%W.length;return Z[Y]=Z[Y]||[],Y}}});j.exports=y},3263:(j,U,i)=>{i(97924),i(81077)},34406:(j,U,i)=>{var T=i(53639);i(85776),i(9500),i(4531),i(38843),i(93164),T.extendComponentView({type:"single"})},62447:(j,U,i)=>{var T=i(53639),w=i(22049);i(79783),i(20842),i(81115),i(19012),T.registerPreprocessor(w)},81115:(j,U,i)=>{var T=i(66615),w=i(80073),t=i(88488),M=w.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});T.mixin(M,t),j.exports=M},19012:(j,U,i)=>{var T=i(66615),w=i(94525),t=i(84498),M=i(32694),I=i(10942),D=i(25323),b=i(56944),h=i(33008).createSymbol,n=i(84004),c=i(68301),a=i(42977).encodeHTML,u=T.bind,e=T.each,s=Math.PI,r=D.extend({type:"timeline.slider",init:function(p,S){this.api=S},render:function(p,S,C,x){if(this.model=p,this.api=C,this.ecModel=S,this.group.removeAll(),p.get("show",!0)){var g=this._layout(p,C),m=this._createGroup("mainGroup"),A=this._createGroup("labelGroup"),L=this._axis=this._createAxis(g,p);p.formatTooltip=function(E){return a(L.scale.getLabel(E))},e(["AxisLine","AxisTick","Control","CurrentPointer"],function(E){this["_render"+E](g,m,L,p)},this),this._renderAxisLabel(g,A,L,p),this._position(g,p)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(p,S){var C=p.get("label.position"),x=p.get("orient"),g=function l(p,S){return I.getLayoutRect(p.getBoxLayoutParams(),{width:S.getWidth(),height:S.getHeight()},p.get("padding"))}(p,S);null==C||"auto"===C?C="horizontal"===x?g.y+g.height/2<S.getHeight()/2?"-":"+":g.x+g.width/2<S.getWidth()/2?"+":"-":isNaN(C)&&(C={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[x][C]);var m={horizontal:"center",vertical:C>=0||"+"===C?"left":"right"},A={horizontal:C>=0||"+"===C?"top":"bottom",vertical:"middle"},L={horizontal:0,vertical:s/2},E="vertical"===x?g.height:g.width,N=p.getModel("controlStyle"),R=N.get("show",!0),F=R?N.get("itemSize"):0,H=R?N.get("itemGap"):0,B=F+H,Z=p.get("label.rotate")||0;Z=Z*s/180;var W,$,Y,V,z=N.get("position",!0),k=R&&N.get("showPlayBtn",!0),X=R&&N.get("showPrevBtn",!0),q=R&&N.get("showNextBtn",!0),et=0,rt=E;return"left"===z||"bottom"===z?(k&&(W=[0,0],et+=B),X&&($=[et,0],et+=B),q&&(Y=[rt-F,0],rt-=B)):(k&&(W=[rt-F,0],rt-=B),X&&($=[0,0],et+=B),q&&(Y=[rt-F,0],rt-=B)),V=[et,rt],p.get("inverse")&&V.reverse(),{viewRect:g,mainLength:E,orient:x,rotation:L[x],labelRotation:Z,labelPosOpt:C,labelAlign:p.get("label.align")||m[x],labelBaseline:p.get("label.verticalAlign")||p.get("label.baseline")||A[x],playPosition:W,prevBtnPosition:$,nextBtnPosition:Y,axisExtent:V,controlSize:F,controlGap:H}},_position:function(p,S){var C=this._mainGroup,x=this._labelGroup,g=p.viewRect;if("vertical"===p.orient){var m=t.create(),A=g.x,L=g.y+g.height;t.translate(m,m,[-A,-L]),t.rotate(m,m,-s/2),t.translate(m,m,[A,L]),(g=g.clone()).applyTransform(m)}var E=$(g),N=$(C.getBoundingRect()),R=$(x.getBoundingRect()),F=C.position,H=x.position;H[0]=F[0]=E[0][0];var Z,B=p.labelPosOpt;function W(V){var z=V.position;V.origin=[E[0][0]-z[0],E[1][0]-z[1]]}function $(V){return[[V.x,V.x+V.width],[V.y,V.y+V.height]]}function Y(V,z,k,X,q){V[X]+=k[X][q]-z[X][q]}isNaN(B)?(Y(F,N,E,1,Z="+"===B?0:1),Y(H,R,E,1,1-Z)):(Y(F,N,E,1,Z=B>=0?0:1),H[1]=F[1]+B),C.attr("position",F),x.attr("position",H),C.rotation=x.rotation=p.rotation,W(C),W(x)},_createAxis:function(p,S){var C=S.getData(),x=S.get("axisType"),g=n.createScaleByModel(S,x);g.getTicks=function(){return C.mapArray(["value"],function(L){return L})};var m=C.getDataExtent("value");g.setExtent(m[0],m[1]),g.niceTicks();var A=new b("value",g,p.axisExtent,x);return A.model=S,A},_createGroup:function(p){var S=this["_"+p]=new M.Group;return this.group.add(S),S},_renderAxisLine:function(p,S,C,x){var g=C.getExtent();x.get("lineStyle.show")&&S.add(new M.Line({shape:{x1:g[0],y1:0,x2:g[1],y2:0},style:T.extend({lineCap:"round"},x.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(p,S,C,x){var g=x.getData(),m=C.scale.getTicks();e(m,function(A){var L=C.dataToCoord(A),E=g.getItemModel(A),N=E.getModel("itemStyle"),R=E.getModel("emphasis.itemStyle"),F={position:[L,0],onclick:u(this._changeTimeline,this,A)},H=v(E,N,S,F);M.setHoverStyle(H,R.getItemStyle()),E.get("tooltip")?(H.dataIndex=A,H.dataModel=x):H.dataIndex=H.dataModel=null},this)},_renderAxisLabel:function(p,S,C,x){if(C.getLabelModel().get("show")){var m=x.getData(),A=C.getViewLabels();e(A,function(L){var E=L.tickValue,N=m.getItemModel(E),R=N.getModel("label"),F=N.getModel("emphasis.label"),H=C.dataToCoord(L.tickValue),B=new M.Text({position:[H,0],rotation:p.labelRotation-p.rotation,onclick:u(this._changeTimeline,this,E),silent:!1});M.setTextStyle(B.style,R,{text:L.formattedLabel,textAlign:p.labelAlign,textVerticalAlign:p.labelBaseline}),S.add(B),M.setHoverStyle(B,M.setTextStyle({},F))},this)}},_renderControl:function(p,S,C,x){var g=p.controlSize,m=p.rotation,A=x.getModel("controlStyle").getItemStyle(),L=x.getModel("emphasis.controlStyle").getItemStyle(),E=[0,-g/2,g,g],N=x.getPlayState(),R=x.get("inverse",!0);function F(H,B,Z,W){if(H){var Y=function d(p,S,C,x){var g=x.style,m=M.createIcon(p.get(S),x||{},new w(C[0],C[1],C[2],C[3]));return g&&m.setStyle(g),m}(x,B,E,{position:H,origin:[g/2,0],rotation:W?-m:0,rectHover:!0,style:A,onclick:Z});S.add(Y),M.setHoverStyle(Y,L)}}F(p.nextBtnPosition,"controlStyle.nextIcon",u(this._changeTimeline,this,R?"-":"+")),F(p.prevBtnPosition,"controlStyle.prevIcon",u(this._changeTimeline,this,R?"+":"-")),F(p.playPosition,"controlStyle."+(N?"stopIcon":"playIcon"),u(this._handlePlayClick,this,!N),!0)},_renderCurrentPointer:function(p,S,C,x){var g=x.getData(),m=x.getCurrentIndex(),A=g.getItemModel(m).getModel("checkpointStyle"),L=this;this._currentPointer=v(A,A,this._mainGroup,{},this._currentPointer,{onCreate:function(N){N.draggable=!0,N.drift=u(L._handlePointerDrag,L),N.ondragend=u(L._handlePointerDragend,L),f(N,m,C,x,!0)},onUpdate:function(N){f(N,m,C,x)}})},_handlePlayClick:function(p){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:p,from:this.uid})},_handlePointerDrag:function(p,S,C){this._clearTimer(),this._pointerChangeTimeline([C.offsetX,C.offsetY])},_handlePointerDragend:function(p){this._pointerChangeTimeline([p.offsetX,p.offsetY],!0)},_pointerChangeTimeline:function(p,S){var C=this._toAxisCoord(p)[0],g=c.asc(this._axis.getExtent().slice());C>g[1]&&(C=g[1]),C<g[0]&&(C=g[0]),this._currentPointer.position[0]=C,this._currentPointer.dirty();var m=this._findNearestTick(C),A=this.model;(S||m!==A.getCurrentIndex()&&A.get("realtime"))&&this._changeTimeline(m)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(u(function p(){var S=this.model;this._changeTimeline(S.getCurrentIndex()+(S.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(p){var S=this._mainGroup.getLocalTransform();return M.applyTransform(p,S,!0)},_findNearestTick:function(p){var x,S=this.model.getData(),C=1/0,g=this._axis;return S.each(["value"],function(m,A){var L=g.dataToCoord(m),E=Math.abs(L-p);E<C&&(C=E,x=A)}),x},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(p){var S=this.model.getCurrentIndex();"+"===p?p=S+1:"-"===p&&(p=S-1),this.api.dispatchAction({type:"timelineChange",currentIndex:p,from:this.uid})}});function v(p,S,C,x,g,m){var A=S.get("color");if(g)g.setColor(A),C.add(g),m&&m.onUpdate(g);else{var L=p.get("symbol");(g=h(L,-1,-1,2,2,A)).setStyle("strokeNoScale",!0),C.add(g),m&&m.onCreate(g)}var E=S.getItemStyle(["color","symbol","symbolSize"]);g.setStyle(E),x=T.merge({rectHover:!0,z2:100},x,!0);var N=p.get("symbolSize");(N=N instanceof Array?N.slice():[+N,+N])[0]/=2,N[1]/=2,x.scale=N;var R=p.get("symbolOffset");if(R){var F=x.position=x.position||[0,0];F[0]+=c.parsePercent(R[0],N[0]),F[1]+=c.parsePercent(R[1],N[1])}var H=p.get("symbolRotate");return x.rotation=(H||0)*Math.PI/180||0,g.attr(x),g.updateTransform(),g}function f(p,S,C,x,g){if(!p.dragging){var m=x.getModel("checkpointStyle"),A=C.dataToCoord(x.getData().get(["value"],S));g||!m.get("animation",!0)?p.attr({position:[A,0]}):(p.stopAnimation(!0),p.animateTo({position:[A,0]},m.get("animationDuration",!0),m.get("animationEasing",!0)))}}j.exports=r},56944:(j,U,i)=>{var T=i(66615),w=i(20330),t=function(I,D,b,y){w.call(this,I,D,b),this.type=y||"value",this.model=null};t.prototype={constructor:t,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},T.inherits(t,w),j.exports=t},80073:(j,U,i)=>{var T=i(66615),w=i(42310),t=i(47563),M=i(21617),I=w.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(b,y,h){this.mergeDefaultAndTheme(b,h),this._initData()},mergeOption:function(b){I.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(b){null==b&&(b=this.option.currentIndex);var y=this._data.count();this.option.loop?b=(b%y+y)%y:(b>=y&&(b=y-1),b<0&&(b=0)),this.option.currentIndex=b},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(b){this.option.autoPlay=!!b},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var b=this.option,y=b.data||[],h=b.axisType,n=this._names=[];if("category"===h){var c=[];T.each(y,function(u,e){var r,s=M.getDataItemValue(u);T.isObject(u)?(r=T.clone(u)).value=e:r=e,c.push(r),!T.isString(s)&&(null==s||isNaN(s))&&(s=""),n.push(s+"")}),y=c}(this._data=new t([{name:"value",type:{category:"ordinal",time:"time"}[h]||"number"}],this)).initData(y,n)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});j.exports=I},25323:(j,U,i)=>{var w=i(83785).extend({type:"timeline"});j.exports=w},22049:(j,U,i)=>{var T=i(66615);function M(D){var b=D.itemStyle||(D.itemStyle={}),y=b.emphasis||(b.emphasis={}),h=D.label||D.label||{},n=h.normal||(h.normal={}),c={normal:1,emphasis:1};T.each(h,function(o,a){!c[a]&&!I(n,a)&&(n[a]=o)}),y.label&&!I(h,"emphasis")&&(h.emphasis=y.label,delete y.label)}function I(D,b){return D.hasOwnProperty(b)}j.exports=function w(D){var b=D&&D.timeline;T.isArray(b)||(b=b?[b]:[]),T.each(b,function(y){y&&function t(D){var b=D.type,y={number:"value",time:"time"};if(y[b]&&(D.axisType=y[b],delete D.type),M(D),I(D,"controlPosition")){var h=D.controlStyle||(D.controlStyle={});I(h,"position")||(h.position=D.controlPosition),"none"===h.position&&!I(h,"show")&&(h.show=!1,delete h.position),delete D.controlPosition}T.each(D.data||[],function(n){T.isObject(n)&&!T.isArray(n)&&(!I(n,"value")&&I(n,"name")&&(n.value=n.name),M(n))})}(y)})}},20842:(j,U,i)=>{var T=i(53639),w=i(66615);T.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,M){var I=M.getComponent("timeline");return I&&null!=t.currentIndex&&(I.setCurrentIndex(t.currentIndex),!I.get("loop",!0)&&I.isIndexMax()&&I.setPlayState(!1)),M.resetOption("timeline"),w.defaults({currentIndex:I.option.currentIndex},t)}),T.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,M){var I=M.getComponent("timeline");I&&null!=t.playState&&I.setPlayState(t.playState)})},79783:(j,U,i)=>{i(42310).registerSubTypeDefaulter("timeline",function(){return"slider"})},3715:(j,U,i)=>{var T=i(66615),w=i(53639),t=i(32694),I=i(10942).getLayoutRect,b=i(42977).windowOpen;w.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),w.extendComponentView({type:"title",render:function(y,h,n){if(this.group.removeAll(),y.get("show")){var c=this.group,o=y.getModel("textStyle"),a=y.getModel("subtextStyle"),u=y.get("textAlign"),e=T.retrieve2(y.get("textBaseline"),y.get("textVerticalAlign")),s=new t.Text({style:t.setTextStyle({},o,{text:y.get("text"),textFill:o.getTextColor()},{disableBox:!0}),z2:10}),r=s.getBoundingRect(),l=y.get("subtext"),d=new t.Text({style:t.setTextStyle({},a,{text:l,textFill:a.getTextColor(),y:r.height+y.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),v=y.get("link"),f=y.get("sublink"),p=y.get("triggerEvent",!0);s.silent=!v&&!p,d.silent=!f&&!p,v&&s.on("click",function(){b(v,"_"+y.get("target"))}),f&&d.on("click",function(){b(f,"_"+y.get("subtarget"))}),s.eventData=d.eventData=p?{componentType:"title",componentIndex:y.componentIndex}:null,c.add(s),l&&c.add(d);var S=c.getBoundingRect(),C=y.getBoxLayoutParams();C.width=S.width,C.height=S.height;var x=I(C,{width:n.getWidth(),height:n.getHeight()},y.get("padding"));u||("middle"===(u=y.get("left")||y.get("right"))&&(u="center"),"right"===u?x.x+=x.width:"center"===u&&(x.x+=x.width/2)),e||("center"===(e=y.get("top")||y.get("bottom"))&&(e="middle"),"bottom"===e?x.y+=x.height:"middle"===e&&(x.y+=x.height/2),e=e||"top"),c.attr("position",[x.x,x.y]);var g={textAlign:u,textVerticalAlign:e};s.setStyle(g),d.setStyle(g),S=c.getBoundingRect();var m=x.margin,A=y.getItemStyle(["color","opacity"]);A.fill=y.get("backgroundColor");var L=new t.Rect({shape:{x:S.x-m[3],y:S.y-m[0],width:S.width+m[1]+m[3],height:S.height+m[0]+m[2],r:y.get("borderRadius")},style:A,subPixelOptimize:!0,silent:!0});c.add(L)}}})},61860:(j,U,i)=>{i(71407),i(66981),i(96445),i(32431),i(25656),i(10107),i(86831)},71407:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(5081),M=T.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){M.superApply(this,"optionUpdated",arguments),w.each(this.option.feature,function(D,b){var y=t.get(b);y&&w.merge(D,y.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}});j.exports=M},66981:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(50585),M=i(5081),I=i(32694),D=i(82356),b=i(12936),y=i(79520),h=T.extendComponentView({type:"toolbox",render:function(c,o,a,u){var e=this.group;if(e.removeAll(),c.get("show")){var s=+c.get("itemSize"),r=c.get("feature")||{},l=this._features||(this._features={}),d=[];w.each(r,function(p,S){d.push(S)}),new b(this._featureNames||[],d).add(v).update(v).remove(w.curry(v,null)).execute(),this._featureNames=d,y.layout(e,c,a),e.add(y.makeBackground(e.getBoundingRect(),c)),e.eachChild(function(p){var S=p.__title,C=p.hoverStyle;if(C&&S){var x=t.getBoundingRect(S,t.makeFont(C)),g=p.position[0]+e.position[0],A=!1;p.position[1]+e.position[1]+s+x.height>a.getHeight()&&(C.textPosition="top",A=!0);var L=A?-5-x.height:s+8;g+x.width/2>a.getWidth()?(C.textPosition=["100%",L],C.textAlign="right"):g-x.width/2<0&&(C.textPosition=[0,L],C.textAlign="left")}})}function v(p,S){var A,C=d[p],x=d[S],g=r[C],m=new D(g,c,c.ecModel);if(u&&null!=u.newTitle&&u.featureName===C&&(g.title=u.newTitle),C&&!x){if(function n(c){return 0===c.indexOf("my")}(C))A={model:m,onclick:m.option.onclick,featureName:C};else{var L=M.get(C);if(!L)return;A=new L(m,o,a)}l[C]=A}else{if(!(A=l[x]))return;A.model=m,A.ecModel=o,A.api=a}C||!x?m.get("show")&&!A.unusable?(function f(p,S,C){var x=p.getModel("iconStyle"),g=p.getModel("emphasis.iconStyle"),m=S.getIcons?S.getIcons():p.get("icon"),A=p.get("title")||{};if("string"==typeof m){var L=m,E=A;A={},(m={})[C]=L,A[C]=E}var N=p.iconPaths={};w.each(m,function(R,F){var H=I.createIcon(R,{},{x:-s/2,y:-s/2,width:s,height:s});H.setStyle(x.getItemStyle()),H.hoverStyle=g.getItemStyle(),H.setStyle({text:A[F],textAlign:g.get("textAlign"),textBorderRadius:g.get("textBorderRadius"),textPadding:g.get("textPadding"),textFill:null});var B=c.getModel("tooltip");B&&B.get("show")&&H.attr("tooltip",w.extend({content:A[F],formatter:B.get("formatter",!0)||function(){return A[F]},formatterParams:{componentType:"toolbox",name:F,title:A[F],$vars:["name","title"]},position:B.get("position",!0)||"bottom"},B.option)),I.setHoverStyle(H),c.get("showTitle")&&(H.__title=A[F],H.on("mouseover",function(){var Z=g.getItemStyle(),W="vertical"===c.get("orient")?null==c.get("right")?"right":"left":null==c.get("bottom")?"bottom":"top";H.setStyle({textFill:g.get("textFill")||Z.fill||Z.stroke||"#000",textBackgroundColor:g.get("textBackgroundColor"),textPosition:g.get("textPosition")||W})}).on("mouseout",function(){H.setStyle({textFill:null,textBackgroundColor:null})})),H.trigger(p.get("iconStatus."+F)||"normal"),e.add(H),H.on("click",w.bind(S.onclick,S,o,a,F)),N[F]=H})}(m,A,C),m.setIconStatus=function(E,N){var R=this.option,F=this.iconPaths;R.iconStatus=R.iconStatus||{},R.iconStatus[E]=N,F[E]&&F[E].trigger(N)},A.render&&A.render(m,o,a,u)):A.remove&&A.remove(o,a):A.dispose&&A.dispose(o,a)}},updateView:function(c,o,a,u){w.each(this._features,function(e){e.updateView&&e.updateView(e.model,o,a,u)})},remove:function(c,o){w.each(this._features,function(a){a.remove&&a.remove(c,o)}),this.group.removeAll()},dispose:function(c,o){w.each(this._features,function(a){a.dispose&&a.dispose(c,o)})}});j.exports=h},56698:(j,U,i)=>{var T=i(66615),w=i(5081),t=i(3494);function I(y,h,n){this.model=y,this.ecModel=h,this.api=n}I.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:T.clone(t.toolbox.brush.title)};var D=I.prototype;D.render=D.updateView=function(y,h,n){var c,o,a;h.eachComponent({mainType:"brush"},function(u){c=u.brushType,o=u.brushOption.brushMode||"single",a|=u.areas.length}),this._brushType=c,this._brushMode=o,T.each(y.get("type",!0),function(u){y.setIconStatus(u,("keep"===u?"multiple"===o:"clear"===u?a:u===c)?"emphasis":"normal")})},D.getIcons=function(){var y=this.model,h=y.get("icon",!0),n={};return T.each(y.get("type",!0),function(c){h[c]&&(n[c]=h[c])}),n},D.onclick=function(y,h,n){var c=this._brushType,o=this._brushMode;"clear"===n?(h.dispatchAction({type:"axisAreaSelect",intervals:[]}),h.dispatchAction({type:"brush",command:"clear",areas:[]})):h.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?c:c!==n&&n,brushMode:"keep"===n?"multiple"===o?"single":"multiple":o}})},w.register("brush",I),j.exports=I},25656:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(53626),M=i(3494),I=i(5081),D=M.toolbox.dataView,b=new Array(60).join("-"),y="\t";function n(p){var S=[];return w.each(p,function(C,x){var g=C.categoryAxis,A=C.valueAxis.dim,L=[" "].concat(w.map(C.series,function(B){return B.name})),E=[g.model.getCategories()];w.each(C.series,function(B){var Z=B.getRawData();E.push(B.getRawData().mapArray(Z.mapDimension(A),function(W){return W}))});for(var N=[L.join(y)],R=0;R<E[0].length;R++){for(var F=[],H=0;H<E.length;H++)F.push(E[H][R]);N.push(F.join(y))}S.push(N.join("\n"))}),S.join("\n\n"+b+"\n\n")}function c(p){return w.map(p,function(S){var C=S.getRawData(),x=[S.name],g=[];return C.each(C.dimensions,function(){for(var m=arguments.length,L=C.getName(arguments[m-1]),E=0;E<m-1;E++)g[E]=arguments[E];x.push((L?L+y:"")+g.join(y))}),x.join("\n")}).join("\n\n"+b+"\n\n")}function a(p){return p.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var e=new RegExp("["+y+"]+","g");function d(p){this._dom=null,this.model=p}function v(p,S){return w.map(p,function(C,x){var g=S&&S[x];if(w.isObject(g)&&!w.isArray(g)){w.isObject(C)&&!w.isArray(C)||(C={value:C});var A=null!=g.name&&null==C.name;return C=w.defaults(C,g),A&&delete C.name,C}return C})}d.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:w.clone(D.title),lang:w.clone(D.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},d.prototype.onclick=function(p,S){var C=S.getDom(),x=this.model;this._dom&&C.removeChild(this._dom);var g=document.createElement("div");g.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",g.style.backgroundColor=x.get("backgroundColor")||"#fff";var m=document.createElement("h4"),A=x.get("lang")||[];m.innerHTML=A[0]||x.get("title"),m.style.cssText="margin: 10px 20px;",m.style.color=x.get("textColor");var L=document.createElement("div"),E=document.createElement("textarea");L.style.cssText="display:block;width:100%;overflow:auto;";var N=x.get("optionToContent"),R=x.get("contentToOption"),F=function o(p){var S=function h(p){var S={},C=[],x=[];return p.eachRawSeries(function(g){var m=g.coordinateSystem;if(!m||"cartesian2d"!==m.type&&"polar"!==m.type)C.push(g);else{var A=m.getBaseAxis();if("category"===A.type){var L=A.dim+"_"+A.index;S[L]||(S[L]={categoryAxis:A,valueAxis:m.getOtherAxis(A),series:[]},x.push({axisDim:A.dim,axisIndex:A.index})),S[L].series.push(g)}else C.push(g)}}),{seriesGroupByCategoryAxis:S,other:C,meta:x}}(p);return{value:w.filter([n(S.seriesGroupByCategoryAxis),c(S.other)],function(C){return C.replace(/[\n\t\s]/g,"")}).join("\n\n"+b+"\n\n"),meta:S.meta}}(p);if("function"==typeof N){var H=N(S.getOption());"string"==typeof H?L.innerHTML=H:w.isDom(H)&&L.appendChild(H)}else L.appendChild(E),E.readOnly=x.get("readOnly"),E.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",E.style.color=x.get("textColor"),E.style.borderColor=x.get("textareaBorderColor"),E.style.backgroundColor=x.get("textareaColor"),E.value=F.value;var B=F.meta,Z=document.createElement("div");Z.style.cssText="position:absolute;bottom:0;left:0;right:0;";var W="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",$=document.createElement("div"),Y=document.createElement("div");W+=";background-color:"+x.get("buttonColor"),W+=";color:"+x.get("buttonTextColor");var V=this;function z(){C.removeChild(g),V._dom=null}t.addEventListener($,"click",z),t.addEventListener(Y,"click",function(){var k;try{k="function"==typeof R?R(L,S.getOption()):function l(p,S){var C=p.split(new RegExp("\n*"+b+"\n*","g")),x={series:[]};return w.each(C,function(g,m){if(function u(p){if(p.slice(0,p.indexOf("\n")).indexOf(y)>=0)return!0}(g)){var A=function s(p){for(var S=p.split(/\n+/g),C=a(S.shift()).split(e),x=[],g=w.map(C,function(E){return{name:E,data:[]}}),m=0;m<S.length;m++){var A=a(S[m]).split(e);x.push(A.shift());for(var L=0;L<A.length;L++)g[L]&&(g[L].data[m]=A[L])}return{series:g,categories:x}}(g),L=S[m],E=L.axisDim+"Axis";L&&(x[E]=x[E]||[],x[E][L.axisIndex]={data:A.categories},x.series=x.series.concat(A.series))}else A=function r(p){for(var S=p.split(/\n+/g),C=a(S.shift()),x=[],g=0;g<S.length;g++){var m=a(S[g]);if(m){var E,A=m.split(e),L="",N=!1;isNaN(A[0])?(N=!0,L=A[0],A=A.slice(1),x[g]={name:L,value:[]},E=x[g].value):E=x[g]=[];for(var R=0;R<A.length;R++)E.push(+A[R]);1===E.length&&(N?x[g].value=E[0]:x[g]=E[0])}}return{name:C,data:x}}(g),x.series.push(A)}),x}(E.value,B)}catch(X){throw z(),new Error("Data view format error "+X)}k&&S.dispatchAction({type:"changeDataView",newOption:k}),z()}),$.innerHTML=A[1],Y.innerHTML=A[2],Y.style.cssText=W,$.style.cssText=W,!x.get("readOnly")&&Z.appendChild(Y),Z.appendChild($),g.appendChild(m),g.appendChild(L),g.appendChild(Z),L.style.height=C.clientHeight-80+"px",C.appendChild(g),this._dom=g},d.prototype.remove=function(p,S){this._dom&&S.getDom().removeChild(this._dom)},d.prototype.dispose=function(p,S){this.remove(p,S)},I.register("dataView",d),T.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(p,S){var C=[];w.each(p.newOption.series,function(x){var g=S.getSeriesByName(x.name)[0];if(g){var m=g.get("data");C.push({name:x.name,data:v(x.data,m)})}else C.push(w.extend({type:"scatter"},x))}),S.mergeOption(w.defaults({series:C},p.newOption))}),j.exports=d},10107:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(31691),M=i(39754),I=i(18128),D=i(77311),b=i(3494),y=i(5081);i(75061);var n=w.each,c="\0_ec_\0toolbox-dataZoom_";function o(d,v,f){(this._brushController=new t(f.getZr())).on("brush",w.bind(this._onBrush,this)).mount()}o.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:w.clone(b.toolbox.dataZoom.title),brushStyle:{borderWidth:0,color:"rgba(0,0,0,0.2)"}};var a=o.prototype;a.render=function(d,v,f,p){this.model=d,this.ecModel=v,this.api=f,function r(d,v,f,p,S){var C=f._isZoomActive;p&&"takeGlobalCursor"===p.type&&(C="dataZoomSelect"===p.key&&p.dataZoomSelectActive),f._isZoomActive=C,d.setIconStatus("zoom",C?"emphasis":"normal");var x=new M(e(d.option),v,{include:["grid"]});f._brushController.setPanels(x.makePanelOpts(S,function(g){return g.xAxisDeclared&&!g.yAxisDeclared?"lineX":!g.xAxisDeclared&&g.yAxisDeclared?"lineY":"rect"})).enableBrush(!!C&&{brushType:"auto",brushStyle:d.getModel("brushStyle").getItemStyle()})}(d,v,this,p,f),function s(d,v){d.setIconStatus("back",I.count(v)>1?"emphasis":"normal")}(d,v)},a.onclick=function(d,v,f){u[f].call(this)},a.remove=function(d,v){this._brushController.unmount()},a.dispose=function(d,v){this._brushController.dispose()};var u={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(I.pop(this.ecModel))}};function e(d){var v={};return w.each(["xAxisIndex","yAxisIndex"],function(f){v[f]=d[f],null==v[f]&&(v[f]="all"),(!1===v[f]||"none"===v[f])&&(v[f]=[])}),v}a._onBrush=function(d,v){if(v.isEnd&&d.length){var f={},p=this.ecModel;this._brushController.updateCovers([]),new M(e(this.model.option),p,{include:["grid"]}).matchOutputRanges(d,p,function(g,m,A){if("cartesian2d"===A.type){var L=g.brushType;"rect"===L?(C("x",A,m[0]),C("y",A,m[1])):C({lineX:"x",lineY:"y"}[L],A,m)}}),I.push(p,f),this._dispatchZoomAction(f)}function C(g,m,A){var L=m.getAxis(g),E=L.model,N=function x(g,m,A){var L;return A.eachComponent({mainType:"dataZoom",subType:"select"},function(E){E.getAxisModel(g,m.componentIndex)&&(L=E)}),L}(g,E,p),R=N.findRepresentativeAxisProxy(E).getMinMaxSpan();(null!=R.minValueSpan||null!=R.maxValueSpan)&&(A=D(0,A.slice(),L.scale.getExtent(),0,R.minValueSpan,R.maxValueSpan)),N&&(f[N.id]={dataZoomId:N.id,startValue:A[0],endValue:A[1]})}},a._dispatchZoomAction=function(d){var v=[];n(d,function(f,p){v.push(w.clone(f))}),v.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:v})},y.register("dataZoom",o),T.registerPreprocessor(function(d){if(d){var v=d.dataZoom||(d.dataZoom=[]);w.isArray(v)||(d.dataZoom=v=[v]);var f=d.toolbox;if(f&&(w.isArray(f)&&(f=f[0]),f&&f.feature)){var p=f.feature.dataZoom;S("xAxis",p),S("yAxis",p)}}function S(x,g){if(g){var m=x+"Index",A=g[m];null!=A&&"all"!==A&&!w.isArray(A)&&(A=!1===A||"none"===A?[]:[A]),function C(x,g){var m=d[x];w.isArray(m)||(m=m?[m]:[]),n(m,g)}(x,function(L,E){if(null==A||"all"===A||-1!==w.indexOf(A,E)){var N={type:"select",$fromToolbox:!0,filterMode:g.filterMode||"filter",id:c+x+E};N[m]=E,v.push(N)}})}}}),j.exports=o},32431:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(3494),M=i(5081),I=t.toolbox.magicType,D="__ec_magicType_stack__";function b(o){this.model=o}b.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:w.clone(I.title),option:{},seriesIndex:{}};var y=b.prototype;y.getIcons=function(){var o=this.model,a=o.get("icon"),u={};return w.each(o.get("type"),function(e){a[e]&&(u[e]=a[e])}),u};var h={line:function(o,a,u,e){if("bar"===o)return w.merge({id:a,type:"line",data:u.get("data"),stack:u.get("stack"),markPoint:u.get("markPoint"),markLine:u.get("markLine")},e.get("option.line")||{},!0)},bar:function(o,a,u,e){if("line"===o)return w.merge({id:a,type:"bar",data:u.get("data"),stack:u.get("stack"),markPoint:u.get("markPoint"),markLine:u.get("markLine")},e.get("option.bar")||{},!0)},stack:function(o,a,u,e){var s=u.get("stack")===D;if("line"===o||"bar"===o)return e.setIconStatus("stack",s?"normal":"emphasis"),w.merge({id:a,stack:s?"":D},e.get("option.stack")||{},!0)}},n=[["line","bar"],["stack"]];y.onclick=function(o,a,u){var e=this.model,s=e.get("seriesIndex."+u);if(h[u]){var d,r={series:[]};w.each(n,function(f){w.indexOf(f,u)>=0&&w.each(f,function(p){e.setIconStatus(p,"normal")})}),e.setIconStatus(u,"emphasis"),o.eachComponent({mainType:"series",query:null==s?null:{seriesIndex:s}},function(f){var C=h[u](f.subType,f.id,f,e);C&&(w.defaults(C,f.option),r.series.push(C));var x=f.coordinateSystem;if(x&&"cartesian2d"===x.type&&("line"===u||"bar"===u)){var g=x.getAxesByScale("ordinal")[0];if(g){var A=g.dim+"Axis",E=o.queryComponents({mainType:A,index:f.get(name+"Index"),id:f.get(name+"Id")})[0].componentIndex;r[A]=r[A]||[];for(var N=0;N<=E;N++)r[A][E]=r[A][E]||{};r[A][E].boundaryGap="bar"===u}}}),"stack"===u&&(d=r.series&&r.series[0]&&r.series[0].stack===D?w.merge({stack:I.title.tiled},I.title):w.clone(I.title)),a.dispatchAction({type:"changeMagicType",currentType:u,newOption:r,newTitle:d,featureName:"magicType"})}},T.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(o,a){a.mergeOption(o.newOption)}),M.register("magicType",b),j.exports=b},86831:(j,U,i)=>{var T=i(53639),w=i(18128),t=i(3494),M=i(5081);function D(h){this.model=h}D.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.toolbox.restore.title},D.prototype.onclick=function(h,n,c){w.clear(h),n.dispatchAction({type:"restore",from:this.uid})},M.register("restore",D),T.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(h,n){n.resetOption("recreate")}),j.exports=D},96445:(j,U,i)=>{var T=i(71156),w=i(3494),t=i(5081),M=w.toolbox.saveAsImage;function I(y){this.model=y}I.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:M.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:M.lang.slice()},I.prototype.unusable=!T.canvasSupported,I.prototype.onclick=function(y,h){var n=this.model,c=n.get("name")||y.get("title.0.text")||"echarts",a="svg"===h.getZr().painter.getType()?"svg":n.get("type",!0)||"png",u=h.getConnectedDataURL({type:a,backgroundColor:n.get("backgroundColor",!0)||y.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if("function"!=typeof MouseEvent||T.browser.ie||T.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var r=atob(u.split(",")[1]),l=r.length,d=new Uint8Array(l);l--;)d[l]=r.charCodeAt(l);var v=new Blob([d]);window.navigator.msSaveOrOpenBlob(v,c+"."+a)}else{var f=n.get("lang"),p='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(f&&f[0]||"")+'" /></body>';window.open().document.write(p)}else{var e=document.createElement("a");e.download=c+"."+a,e.target="_blank",e.href=u;var s=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});e.dispatchEvent(s)}},t.register("saveAsImage",I),j.exports=I},5081:(j,U)=>{var i={};U.register=function T(t,M){i[t]=M},U.get=function w(t){return i[t]}},1520:(j,U,i)=>{var T=i(53639);i(38843),i(14140),i(34394),T.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),T.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})},50521:(j,U,i)=>{var T=i(66615),w=i(10754),t=i(53626),M=i(14842),I=i(71156),D=i(42977),b=T.each,y=D.toCamelCase,h=["","-webkit-","-moz-","-o-"];function u(r,l,d,v,f){var p=l&&l.painter;if(d){var S=p&&p.getViewportRoot();S&&M.transformLocalCoord(r,S,document.body,v,f)}else{r[0]=v,r[1]=f;var C=p&&p.getViewportRootOffset();C&&(r[0]+=C.offsetLeft,r[1]+=C.offsetTop)}r[2]=r[0]/l.getWidth(),r[3]=r[1]/l.getHeight()}function e(r,l,d){if(I.wxa)return null;var v=document.createElement("div");v.domBelongToZr=!0,this.el=v;var f=this._zr=l.getZr(),p=this._appendToBody=d&&d.appendToBody;this._styleCoord=[0,0,0,0],u(this._styleCoord,f,p,l.getWidth()/2,l.getHeight()/2),p?document.body.appendChild(v):r.appendChild(v),this._container=r,this._show=!1;var S=this;v.onmouseenter=function(){S._enterable&&(clearTimeout(S._hideTimeout),S._show=!0),S._inContent=!0},v.onmousemove=function(C){if(C=C||window.event,!S._enterable){var x=f.handler,g=f.painter.getViewportRoot();t.normalizeEvent(g,C,!0),x.dispatch("mousemove",C)}},v.onmouseleave=function(){S._enterable&&S._show&&S.hideLater(S._hideDelay),S._inContent=!1}}e.prototype={constructor:e,_enterable:!0,update:function(r){var l=this._container,d=l.currentStyle||document.defaultView.getComputedStyle(l),v=l.style;"absolute"!==v.position&&"absolute"!==d.position&&(v.position="relative"),r.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var l=this._styleCoord[3],d=this._styleCoord[2]*this._zr.getWidth(),v=l*this._zr.getHeight();this.moveTo(d,v)},show:function(r){clearTimeout(this._hideTimeout);var l=this.el,d=this._styleCoord;l.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+function a(r){var l=[],d=r.get("transitionDuration"),v=r.get("backgroundColor"),f=r.getModel("textStyle"),p=r.get("padding");return d&&l.push(function c(r){var l="cubic-bezier(0.23, 1, 0.32, 1)",d="left "+r+"s "+l+",top "+r+"s "+l;return T.map(h,function(v){return v+"transition:"+d}).join(";")}(d)),v&&(I.canvasSupported?l.push("background-Color:"+v):(l.push("background-Color:#"+w.toHex(v)),l.push("filter:alpha(opacity=70)"))),b(["width","color","radius"],function(S){var C="border-"+S,x=y(C),g=r.get(x);null!=g&&l.push(C+":"+g+("color"===S?"":"px"))}),l.push(function o(r){var l=[],d=r.get("fontSize"),v=r.getTextColor();v&&l.push("color:"+v),l.push("font:"+r.getFont());var f=r.get("lineHeight");null==f&&(f=Math.round(3*d/2)),d&&l.push("line-height:"+f+"px");var p=r.get("textShadowColor"),S=r.get("textShadowBlur")||0,C=r.get("textShadowOffsetX")||0,x=r.get("textShadowOffsetY")||0;return S&&l.push("text-shadow:"+C+"px "+x+"px "+S+"px "+p),b(["decoration","align"],function(g){var m=r.get(g);m&&l.push("text-"+g+":"+m)}),l.join(";")}(f)),null!=p&&l.push("padding:"+D.normalizeCssArray(p).join("px ")+"px"),l.join(";")+";"}(r)+";left:"+d[0]+"px;top:"+d[1]+"px;"+(r.get("extraCssText")||""),l.style.display=l.innerHTML?"block":"none",l.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(r){this.el.innerHTML=r??""},setEnterable:function(r){this._enterable=r},getSize:function(){var r=this.el;return[r.clientWidth,r.clientHeight]},moveTo:function(r,l){var d=this._styleCoord;u(d,this._zr,this._appendToBody,r,l);var v=this.el.style;v.left=d[0]+"px",v.top=d[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(r){this._show&&(!this._inContent||!this._enterable)&&(r?(this._hideDelay=r,this._show=!1,this._hideTimeout=setTimeout(T.bind(this.hide,this),r)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var r=this.el.clientWidth,l=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var d=document.defaultView.getComputedStyle(this.el);d&&(r+=parseInt(d.borderLeftWidth,10)+parseInt(d.borderRightWidth,10),l+=parseInt(d.borderTopWidth,10)+parseInt(d.borderBottomWidth,10))}return{width:r,height:l}}},j.exports=e},14140:(j,U,i)=>{var w=i(53639).extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});j.exports=w},18484:(j,U,i)=>{var T=i(66615),w=i(62018),t=i(32694);function M(b,y,h,n){b[0]=h,b[1]=n,b[2]=b[0]/y.getWidth(),b[3]=b[1]/y.getHeight()}function I(b){var y=this._zr=b.getZr();this._styleCoord=[0,0,0,0],M(this._styleCoord,y,b.getWidth()/2,b.getHeight()/2),this._show=!1}I.prototype={constructor:I,_enterable:!0,update:function(b){b.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var y=this._styleCoord[3],h=this._styleCoord[2]*this._zr.getWidth(),n=y*this._zr.getHeight();this.moveTo(h,n)},show:function(b){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(b,y,h){this.el&&this._zr.remove(this.el);for(var n={},c=b,o="{marker",u=c.indexOf(o);u>=0;){var e=c.indexOf("|}"),s=c.substr(u+o.length,e-u-o.length);n["marker"+s]=s.indexOf("sub")>-1?{textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:y[s],textOffset:[3,0]}:{textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:y[s]},u=(c=c.substr(e+1)).indexOf("{marker")}var r=h.getModel("textStyle"),l=r.get("fontSize"),d=h.get("textLineHeight");null==d&&(d=Math.round(3*l/2)),this.el=new w({style:t.setTextStyle({},r,{rich:n,text:b,textBackgroundColor:h.get("backgroundColor"),textBorderRadius:h.get("borderRadius"),textFill:h.get("textStyle.color"),textPadding:h.get("padding"),textLineHeight:d}),z:h.get("z")}),this._zr.add(this.el);var v=this;this.el.on("mouseover",function(){v._enterable&&(clearTimeout(v._hideTimeout),v._show=!0),v._inContent=!0}),this.el.on("mouseout",function(){v._enterable&&v._show&&v.hideLater(v._hideDelay),v._inContent=!1})},setEnterable:function(b){this._enterable=b},getSize:function(){var b=this.el.getBoundingRect();return[b.width,b.height]},moveTo:function(b,y){if(this.el){var h=this._styleCoord;M(h,this._zr,b,y),this.el.attr("position",[h[0],h[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(b){this._show&&(!this._inContent||!this._enterable)&&(b?(this._hideDelay=b,this._show=!1,this._hideTimeout=setTimeout(T.bind(this.hide,this),b)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var b=this.getSize();return{width:b[0],height:b[1]}}},j.exports=I},34394:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(71156),M=i(50521),I=i(18484),D=i(42977),b=i(68301),y=i(32694),h=i(58028),n=i(10942),c=i(82356),o=i(12041),a=i(84004),u=i(83604),s=i(21617).getTooltipRenderMode,r=w.bind,l=w.each,d=b.parsePercent,v=new y.Rect({shape:{x:-1,y:-1,width:2,height:2}}),f=T.extendComponentView({type:"tooltip",init:function(A,L){if(!t.node){var R,E=A.getComponent("tooltip"),N=E.get("renderMode");this._renderMode=s(N),"html"===this._renderMode?(R=new M(L.getDom(),L,{appendToBody:E.get("appendToBody",!0)}),this._newLine="<br/>"):(R=new I(L),this._newLine="\n"),this._tooltipContent=R}},render:function(A,L,E){if(!t.node){this.group.removeAll(),this._tooltipModel=A,this._ecModel=L,this._api=E,this._lastDataByCoordSys=null,this._alwaysShowContent=A.get("alwaysShowContent");var N=this._tooltipContent;N.update(A),N.setEnterable(A.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var L=this._tooltipModel.get("triggerOn");o.register("itemTooltip",this._api,r(function(E,N,R){"none"!==L&&(L.indexOf(E)>=0?this._tryShow(N,R):"leave"===E&&this._hide(R))},this))},_keepShow:function(){var A=this._tooltipModel,L=this._ecModel,E=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==A.get("triggerOn")){var N=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!E.isDisposed()&&N.manuallyShowTip(A,L,E,{x:N._lastX,y:N._lastY})})}},manuallyShowTip:function(A,L,E,N){if(N.from!==this.uid&&!t.node){var R=S(N,E);this._ticket="";var F=N.dataByCoordSys;if(N.tooltip&&null!=N.x&&null!=N.y){var H=v;H.position=[N.x,N.y],H.update(),H.tooltip=N.tooltip,this._tryShow({offsetX:N.x,offsetY:N.y,target:H},R)}else if(F)this._tryShow({offsetX:N.x,offsetY:N.y,position:N.position,dataByCoordSys:N.dataByCoordSys,tooltipOption:N.tooltipOption},R);else if(null!=N.seriesIndex){if(this._manuallyAxisShowTip(A,L,E,N))return;var B=h(N,L),Z=B.point[0],W=B.point[1];null!=Z&&null!=W&&this._tryShow({offsetX:Z,offsetY:W,position:N.position,target:B.el},R)}else null!=N.x&&null!=N.y&&(E.dispatchAction({type:"updateAxisPointer",x:N.x,y:N.y}),this._tryShow({offsetX:N.x,offsetY:N.y,position:N.position,target:E.getZr().findHover(N.x,N.y).target},R))}},manuallyHideTip:function(A,L,E,N){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,N.from!==this.uid&&this._hide(S(N,E))},_manuallyAxisShowTip:function(W,L,E,N){var R=N.seriesIndex,F=N.dataIndex,H=L.getComponent("axisPointer").coordSysAxesInfo;if(null!=R&&null!=F&&null!=H){var B=L.getSeriesByIndex(R);if(B&&"axis"===(W=p([B.getData().getItemModel(F),B,(B.coordinateSystem||{}).model,W])).get("trigger"))return E.dispatchAction({type:"updateAxisPointer",seriesIndex:R,dataIndex:F,position:N.position}),!0}},_tryShow:function(A,L){var E=A.target;if(this._tooltipModel){this._lastX=A.offsetX,this._lastY=A.offsetY;var R=A.dataByCoordSys;R&&R.length?this._showAxisTooltip(R,A):E&&null!=E.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(A,E,L)):E&&E.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(A,E,L)):(this._lastDataByCoordSys=null,this._hide(L))}},_showOrMove:function(A,L){var E=A.get("showDelay");L=w.bind(L,this),clearTimeout(this._showTimout),E>0?this._showTimout=setTimeout(L,E):L()},_showAxisTooltip:function(A,L){var E=this._ecModel,R=[L.offsetX,L.offsetY],F=[],H=[],B=p([L.tooltipOption,this._tooltipModel]),Z=this._renderMode,W=this._newLine,$={};l(A,function(V){l(V.dataByAxis,function(z){var k=E.getComponent(z.axisDim+"Axis",z.axisIndex),X=z.value,q=[];if(k&&null!=X){var et=u.getValueLabel(X,k.axis,E,z.seriesDataIndices,z.valueLabelOpt);w.each(z.seriesDataIndices,function(it){var lt=E.getSeriesByIndex(it.seriesIndex),dt=it.dataIndexInside,ht=lt&&lt.getDataParams(dt);if(ht.axisDim=z.axisDim,ht.axisIndex=z.axisIndex,ht.axisType=z.axisType,ht.axisId=z.axisId,ht.axisValue=a.getAxisRawValue(k.axis,X),ht.axisValueLabel=et,ht){H.push(ht);var at,gt=lt.formatTooltip(dt,!0,null,Z);w.isObject(gt)?(at=gt.html,w.merge($,gt.markers)):at=gt,q.push(at)}});var rt=et;F.push("html"!==Z?q.join(W):(rt?D.encodeHTML(rt)+W:"")+q.join(W))}})},this),F.reverse(),F=F.join(this._newLine+this._newLine);var Y=L.position;this._showOrMove(B,function(){this._updateContentNotChangedOnAxis(A)?this._updatePosition(B,Y,R[0],R[1],this._tooltipContent,H):this._showTooltipContent(B,F,H,Math.random(),R[0],R[1],Y,void 0,$)})},_showSeriesItemTooltip:function(A,L,E){var R=L.seriesIndex,F=this._ecModel.getSeriesByIndex(R),H=L.dataModel||F,B=L.dataIndex,Z=L.dataType,W=H.getData(Z),$=p([W.getItemModel(B),H,F&&(F.coordinateSystem||{}).model,this._tooltipModel]),Y=$.get("trigger");if(null==Y||"item"===Y){var k,X,V=H.getDataParams(B,Z),z=H.formatTooltip(B,!1,Z,this._renderMode);w.isObject(z)?(k=z.html,X=z.markers):(k=z,X=null);var q="item_"+H.name+"_"+B;this._showOrMove($,function(){this._showTooltipContent($,k,V,q,A.offsetX,A.offsetY,A.position,A.target,X)}),E({type:"showTip",dataIndexInside:B,dataIndex:W.getRawIndex(B),seriesIndex:R,from:this.uid})}},_showComponentItemTooltip:function(A,L,E){var N=L.tooltip;"string"==typeof N&&(N={content:N,formatter:N});var F=new c(N,this._tooltipModel,this._ecModel),H=F.get("content"),B=Math.random();this._showOrMove(F,function(){this._showTooltipContent(F,H,F.get("formatterParams")||{},B,A.offsetX,A.offsetY,A.position,L)}),E({type:"showTip",from:this.uid})},_showTooltipContent:function(A,L,E,N,R,F,H,B,Z){if(this._ticket="",A.get("showContent")&&A.get("show")){var W=this._tooltipContent,$=A.get("formatter");H=H||A.get("position");var Y=L;if($&&"string"==typeof $)Y=D.formatTpl($,E,!0);else if("function"==typeof $){var V=r(function(z,k){z===this._ticket&&(W.setContent(k,Z,A),this._updatePosition(A,H,R,F,W,E,B))},this);this._ticket=N,Y=$(E,N,V)}W.setContent(Y,Z,A),W.show(A),this._updatePosition(A,H,R,F,W,E,B)}},_updatePosition:function(A,L,E,N,R,F,H){var B=this._api.getWidth(),Z=this._api.getHeight();L=L||A.get("position");var W=R.getSize(),$=A.get("align"),Y=A.get("verticalAlign"),V=H&&H.getBoundingRect().clone();if(H&&V.applyTransform(H.transform),"function"==typeof L&&(L=L([E,N],F,R.el,V,{viewSize:[B,Z],contentSize:W.slice()})),w.isArray(L))E=d(L[0],B),N=d(L[1],Z);else if(w.isObject(L)){L.width=W[0],L.height=W[1];var z=n.getLayoutRect(L,{width:B,height:Z});E=z.x,N=z.y,$=null,Y=null}else if("string"==typeof L&&H){var k=function g(A,L,E){var N=E[0],R=E[1],H=0,B=0,Z=L.width,W=L.height;switch(A){case"inside":H=L.x+Z/2-N/2,B=L.y+W/2-R/2;break;case"top":H=L.x+Z/2-N/2,B=L.y-R-5;break;case"bottom":H=L.x+Z/2-N/2,B=L.y+W+5;break;case"left":H=L.x-N-5,B=L.y+W/2-R/2;break;case"right":H=L.x+Z+5,B=L.y+W/2-R/2}return[H,B]}(L,V,W);E=k[0],N=k[1]}else k=function C(A,L,E,N,R,F,H){var B=E.getOuterSize(),Z=B.width,W=B.height;return null!=F&&(A+Z+F>N?A-=Z+F:A+=F),null!=H&&(L+W+H>R?L-=W+H:L+=H),[A,L]}(E,N,R,B,Z,$?null:20,Y?null:20),E=k[0],N=k[1];$&&(E-=m($)?W[0]/2:"right"===$?W[0]:0),Y&&(N-=m(Y)?W[1]/2:"bottom"===Y?W[1]:0),A.get("confine")&&(k=function x(A,L,E,N,R){var F=E.getOuterSize(),H=F.width,B=F.height;return A=Math.min(A+H,N)-H,L=Math.min(L+B,R)-B,[A=Math.max(A,0),L=Math.max(L,0)]}(E,N,R,B,Z),E=k[0],N=k[1]),R.moveTo(E,N)},_updateContentNotChangedOnAxis:function(A){var L=this._lastDataByCoordSys,E=!!L&&L.length===A.length;return E&&l(L,function(N,R){var F=N.dataByAxis||{},B=(A[R]||{}).dataByAxis||[];(E&=F.length===B.length)&&l(F,function(Z,W){var $=B[W]||{},Y=Z.seriesDataIndices||[],V=$.seriesDataIndices||[];(E&=Z.value===$.value&&Z.axisType===$.axisType&&Z.axisId===$.axisId&&Y.length===V.length)&&l(Y,function(z,k){var X=V[k];E&=z.seriesIndex===X.seriesIndex&&z.dataIndex===X.dataIndex})})}),this._lastDataByCoordSys=A,!!E},_hide:function(A){this._lastDataByCoordSys=null,A({type:"hideTip",from:this.uid})},dispose:function(A,L){t.node||(this._tooltipContent.dispose(),o.unregister("itemTooltip",L))}});function p(A){for(var L=A.pop();A.length;){var E=A.pop();E&&(c.isInstance(E)&&(E=E.get("tooltip",!0)),"string"==typeof E&&(E={formatter:E}),L=new c(E,L,L.ecModel))}return L}function S(A,L){return A.dispatchAction||w.bind(L.dispatchAction,L)}function m(A){return"center"===A||"middle"===A}j.exports=f},69112:(j,U,i)=>{i(86699),i(90359)},20102:(j,U,i)=>{var T=i(66615),w=i(98343),t=i(68301),M=[20,140],I=w.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(y,h){I.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(n){n.mappingMethod="linear",n.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){I.superApply(this,"resetItemSize",arguments);var y=this.itemSize;"horizontal"===this._orient&&y.reverse(),(null==y[0]||isNaN(y[0]))&&(y[0]=M[0]),(null==y[1]||isNaN(y[1]))&&(y[1]=M[1])},_resetRange:function(){var y=this.getExtent(),h=this.option.range;!h||h.auto?(y.auto=1,this.option.range=y):T.isArray(h)&&(h[0]>h[1]&&h.reverse(),h[0]=Math.max(h[0],y[0]),h[1]=Math.min(h[1],y[1]))},completeVisualOption:function(){w.prototype.completeVisualOption.apply(this,arguments),T.each(this.stateList,function(y){var h=this.option.controller[y].symbolSize;h&&h[0]!==h[1]&&(h[0]=0)},this)},setSelected:function(y){this.option.range=y.slice(),this._resetRange()},getSelected:function(){var y=this.getExtent(),h=t.asc((this.get("range")||[]).slice());return h[0]>y[1]&&(h[0]=y[1]),h[1]>y[1]&&(h[1]=y[1]),h[0]<y[0]&&(h[0]=y[0]),h[1]<y[0]&&(h[1]=y[0]),h},getValueState:function(y){var h=this.option.range,n=this.getExtent();return(h[0]<=n[0]||h[0]<=y)&&(h[1]>=n[1]||y<=h[1])?"inRange":"outOfRange"},findTargetDataIndices:function(y){var h=[];return this.eachTargetSeries(function(n){var c=[],o=n.getData();o.each(this.getDataDimension(o),function(a,u){y[0]<=a&&a<=y[1]&&c.push(u)},this),h.push({seriesId:n.id,dataIndex:c})},this),h},getVisualMeta:function(y){var h=D(0,0,this.getExtent()),n=D(0,0,this.option.range.slice()),c=[];function o(d,v){c.push({value:d,color:y(d,v)})}for(var a=0,u=0,e=n.length,s=h.length;u<s&&(!n.length||h[u]<=n[0]);u++)h[u]<n[a]&&o(h[u],"outOfRange");for(var r=1;a<e;a++,r=0)r&&c.length&&o(n[a],"outOfRange"),o(n[a],"inRange");for(r=1;u<s;u++)(!n.length||n[n.length-1]<h[u])&&(r&&(c.length&&o(c[c.length-1].value,"outOfRange"),r=0),o(h[u],"outOfRange"));var l=c.length;return{stops:c,outerColors:[l?c[0].color:"transparent",l?c[l-1].color:"transparent"]}}});function D(y,h,n){if(n[0]===n[1])return n.slice();for(var o=(n[1]-n[0])/200,a=n[0],u=[],e=0;e<=200&&a<n[1];e++)u.push(a),a+=o;return u.push(n[1]),u}j.exports=I},82544:(j,U,i)=>{var T=i(66615),w=i(98481),t=i(53626),M=i(75757),I=i(32694),D=i(68301),b=i(77311),y=i(93961),h=i(21617),n=D.linearMap,c=T.each,o=Math.min,a=Math.max,s=M.extend({type:"visualMap.continuous",init:function(){s.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._hoverLinkDataIndices=[]},doRender:function(C,x,g,m){(!m||"selectDataRange"!==m.type||m.from!==this.uid)&&this._buildView()},_buildView:function(){this.group.removeAll();var C=this.visualMapModel,x=this.group;this._orient=C.get("orient"),this._useHandle=C.get("calculable"),this._resetInterval(),this._renderBar(x);var g=C.get("text");this._renderEndsText(x,g,0),this._renderEndsText(x,g,1),this._updateView(!0),this.renderBackground(x),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(x)},_renderEndsText:function(C,x,g){if(x){var m=x[1-g];m=null!=m?m+"":"";var A=this.visualMapModel,L=A.get("textGap"),E=A.itemSize,N=this._shapes.barGroup,R=this._applyTransform([E[0]/2,0===g?-L:E[1]+L],N),F=this._applyTransform(0===g?"bottom":"top",N),H=this._orient,B=this.visualMapModel.textStyleModel;this.group.add(new I.Text({style:{x:R[0],y:R[1],textVerticalAlign:"horizontal"===H?"middle":F,textAlign:"horizontal"===H?F:"center",text:m,textFont:B.getFont(),textFill:B.getTextColor()}}))}},_renderBar:function(C){var x=this.visualMapModel,g=this._shapes,m=x.itemSize,A=this._orient,L=this._useHandle,E=y.getItemAlign(x,this.api,m),N=g.barGroup=this._createBarGroup(E);N.add(g.outOfRange=r()),N.add(g.inRange=r(null,L?p(this._orient):null,T.bind(this._dragHandle,this,"all",!1),T.bind(this._dragHandle,this,"all",!0)));var R=x.textStyleModel.getTextRect("\u56fd"),F=a(R.width,R.height);L&&(g.handleThumbs=[],g.handleLabels=[],g.handleLabelPoints=[],this._createHandle(N,0,m,F,A,E),this._createHandle(N,1,m,F,A,E)),this._createIndicator(N,m,F,A),C.add(N)},_createHandle:function(C,x,g,m,A){var L=T.bind(this._dragHandle,this,x,!1),E=T.bind(this._dragHandle,this,x,!0),N=r(function l(C,x){return 0===C?[[0,0],[x,0],[x,-x]]:[[0,0],[x,0],[x,x]]}(x,m),p(this._orient),L,E);N.position[0]=g[0],C.add(N);var R=this.visualMapModel.textStyleModel,F=new I.Text({draggable:!0,drift:L,onmousemove:function(Z){t.stop(Z.event)},ondragend:E,style:{x:0,y:0,text:"",textFont:R.getFont(),textFill:R.getTextColor()}});this.group.add(F);var H=["horizontal"===A?m/2:1.5*m,"horizontal"===A?0===x?-1.5*m:1.5*m:0===x?-m/2:m/2],B=this._shapes;B.handleThumbs[x]=N,B.handleLabelPoints[x]=H,B.handleLabels[x]=F},_createIndicator:function(C,x,g,m){var A=r([[0,0]],"move");A.position[0]=x[0],A.attr({invisible:!0,silent:!0}),C.add(A);var L=this.visualMapModel.textStyleModel,E=new I.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:L.getFont(),textFill:L.getTextColor()}});this.group.add(E);var N=["horizontal"===m?g/2:9,0],R=this._shapes;R.indicator=A,R.indicatorLabel=E,R.indicatorLabelPoint=N},_dragHandle:function(C,x,g,m){if(this._useHandle){if(this._dragging=!x,!x){var A=this._applyTransform([g,m],this._shapes.barGroup,!0);this._updateInterval(C,A[1]),this._updateView()}x===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),x?!this._hovering&&this._clearHoverLinkToSeries():f(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[C],!1)}},_resetInterval:function(){var C=this.visualMapModel,x=this._dataInterval=C.getSelected(),g=C.getExtent(),m=[0,C.itemSize[1]];this._handleEnds=[n(x[0],g,m,!0),n(x[1],g,m,!0)]},_updateInterval:function(C,x){var g=this.visualMapModel,m=this._handleEnds,A=[0,g.itemSize[1]];b(x=x||0,m,A,C,0);var L=g.getExtent();this._dataInterval=[n(m[0],A,L,!0),n(m[1],A,L,!0)]},_updateView:function(C){var x=this.visualMapModel,g=x.getExtent(),m=this._shapes,A=[0,x.itemSize[1]],L=C?A:this._handleEnds,E=this._createBarVisual(this._dataInterval,g,L,"inRange"),N=this._createBarVisual(g,g,A,"outOfRange");m.inRange.setStyle({fill:E.barColor,opacity:E.opacity}).setShape("points",E.barPoints),m.outOfRange.setStyle({fill:N.barColor,opacity:N.opacity}).setShape("points",N.barPoints),this._updateHandle(L,E)},_createBarVisual:function(C,x,g,m){var A={forceState:m,convertOpacityToAlpha:!0},L=this._makeColorGradient(C,A),E=[this.getControllerVisual(C[0],"symbolSize",A),this.getControllerVisual(C[1],"symbolSize",A)],N=this._createBarPoints(g,E);return{barColor:new w(0,0,0,1,L),barPoints:N,handlesColor:[L[0].color,L[L.length-1].color]}},_makeColorGradient:function(C,x){var m=[],A=(C[1]-C[0])/100;m.push({color:this.getControllerVisual(C[0],"color",x),offset:0});for(var L=1;L<100;L++){var E=C[0]+A*L;if(E>C[1])break;m.push({color:this.getControllerVisual(E,"color",x),offset:L/100})}return m.push({color:this.getControllerVisual(C[1],"color",x),offset:1}),m},_createBarPoints:function(C,x){var g=this.visualMapModel.itemSize;return[[g[0]-x[0],C[0]],[g[0],C[0]],[g[0],C[1]],[g[0]-x[1],C[1]]]},_createBarGroup:function(C){var x=this._orient,g=this.visualMapModel.get("inverse");return new I.Group("horizontal"!==x||g?"horizontal"===x&&g?{scale:"bottom"===C?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==x||g?{scale:"left"===C?[1,1]:[-1,1]}:{scale:"left"===C?[1,-1]:[-1,-1]}:{scale:"bottom"===C?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(C,x){if(this._useHandle){var g=this._shapes,m=this.visualMapModel,A=g.handleThumbs,L=g.handleLabels;c([0,1],function(E){var N=A[E];N.setStyle("fill",x.handlesColor[E]),N.position[1]=C[E];var R=I.applyTransform(g.handleLabelPoints[E],I.getTransform(N,this.group));L[E].setStyle({x:R[0],y:R[1],text:m.formatValueText(this._dataInterval[E]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===E?"bottom":"top":"left",g.barGroup)})},this)}},_showIndicator:function(C,x,g,m){var A=this.visualMapModel,L=A.getExtent(),E=A.itemSize,R=n(C,L,[0,E[1]],!0),F=this._shapes,H=F.indicator;if(H){H.position[1]=R,H.attr("invisible",!1),H.setShape("points",function d(C,x,g,m){return C?[[0,-o(x,a(g,0))],[6,0],[0,o(x,a(m-g,0))]]:[[0,0],[5,-5],[5,5]]}(!!g,m,R,E[1]));var Z=this.getControllerVisual(C,"color",{convertOpacityToAlpha:!0});H.setStyle("fill",Z);var W=I.applyTransform(F.indicatorLabelPoint,I.getTransform(H,this.group)),$=F.indicatorLabel;$.attr("invisible",!1);var Y=this._applyTransform("left",F.barGroup),V=this._orient;$.setStyle({text:(g||"")+A.formatValueText(x),textVerticalAlign:"horizontal"===V?Y:"middle",textAlign:"horizontal"===V?"center":Y,x:W[0],y:W[1]})}},_enableHoverLinkToSeries:function(){var C=this;this._shapes.barGroup.on("mousemove",function(x){if(C._hovering=!0,!C._dragging){var g=C.visualMapModel.itemSize,m=C._applyTransform([x.offsetX,x.offsetY],C._shapes.barGroup,!0,!0);m[1]=o(a(0,m[1]),g[1]),C._doHoverLinkToSeries(m[1],0<=m[0]&&m[0]<=g[0])}}).on("mouseout",function(){C._hovering=!1,!C._dragging&&C._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var C=this.api.getZr();this.visualMapModel.option.hoverLink?(C.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),C.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(C,x){var g=this.visualMapModel;if(g.option.hoverLink){var A=[0,g.itemSize[1]],L=g.getExtent();C=o(a(A[0],C),A[1]);var E=function v(C,x,g){var m=6,A=C.get("hoverLinkDataSize");return A&&(m=n(A,x,g,!0)/2),m}(g,L,A),N=[C-E,C+E],R=n(C,A,L,!0),F=[n(N[0],A,L,!0),n(N[1],A,L,!0)];N[0]<A[0]&&(F[0]=-1/0),N[1]>A[1]&&(F[1]=1/0),x&&(F[0]===-1/0?this._showIndicator(R,F[1],"< ",E):F[1]===1/0?this._showIndicator(R,F[0],"> ",E):this._showIndicator(R,R,"\u2248 ",E));var H=this._hoverLinkDataIndices,B=[];(x||f(g))&&(B=this._hoverLinkDataIndices=g.findTargetDataIndices(F));var Z=h.compressBatches(H,B);this._dispatchHighDown("downplay",y.makeHighDownBatch(Z[0],g)),this._dispatchHighDown("highlight",y.makeHighDownBatch(Z[1],g))}},_hoverLinkFromSeriesMouseOver:function(C){var x=C.target,g=this.visualMapModel;if(x&&null!=x.dataIndex){var m=this.ecModel.getSeriesByIndex(x.seriesIndex);if(g.isTargetSeries(m)){var A=m.getData(x.dataType),L=A.get(g.getDataDimension(A),x.dataIndex,!0);isNaN(L)||this._showIndicator(L,L)}}},_hideIndicator:function(){var C=this._shapes;C.indicator&&C.indicator.attr("invisible",!0),C.indicatorLabel&&C.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var C=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",y.makeHighDownBatch(C,this.visualMapModel)),C.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var C=this.api.getZr();C.off("mouseover",this._hoverLinkFromSeriesMouseOver),C.off("mouseout",this._hideIndicator)},_applyTransform:function(C,x,g,m){var A=I.getTransform(x,m?null:this.group);return I[T.isArray(C)?"applyTransform":"transformDirection"](C,A,g)},_dispatchHighDown:function(C,x){x&&x.length&&this.api.dispatchAction({type:C,batch:x})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function r(C,x,g,m){return new I.Polygon({shape:{points:C},draggable:!!g,cursor:x,drift:g,onmousemove:function(A){t.stop(A.event)},ondragend:m})}function f(C){return!!(C.get("hoverLinkOnHandle")??C.get("realtime"))}function p(C){return"vertical"===C?"ns-resize":"ew-resize"}j.exports=s},71333:(j,U,i)=>{i(78322);var t=i(66615),M=i(98343),I=i(60111),D=i(56815),y=i(68301).reformIntervals,h=M.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(a,u){h.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var e=this._mode=this._determineMode();n[this._mode].call(this),this._resetSelected(a,u);var s=this.option.categories;this.resetVisual(function(r,l){"categories"===e?(r.mappingMethod="category",r.categories=t.clone(s)):(r.dataExtent=this.getExtent(),r.mappingMethod="piecewise",r.pieceList=t.map(this._pieceList,function(v){return v=t.clone(v),"inRange"!==l&&(v.visual=null),v}))})},completeVisualOption:function(){var a=this.option,u={},e=I.listVisualTypes(),s=this.isCategory();function r(l,d,v){return l&&l[d]&&(t.isObject(l[d])?l[d].hasOwnProperty(v):l[d]===v)}t.each(a.pieces,function(l){t.each(e,function(d){l.hasOwnProperty(d)&&(u[d]=1)})}),t.each(u,function(l,d){var v=0;t.each(this.stateList,function(f){v|=r(a,f,d)||r(a.target,f,d)},this),!v&&t.each(this.stateList,function(f){(a[f]||(a[f]={}))[d]=D.get(d,"inRange"===f?"active":"inactive",s)})},this),M.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(a,u){var e=this.option,s=this._pieceList,r=(u?e:a).selected||{};if(e.selected=r,t.each(s,function(d,v){var f=this.getSelectedMapKey(d);r.hasOwnProperty(f)||(r[f]=!0)},this),"single"===e.selectedMode){var l=!1;t.each(s,function(d,v){var f=this.getSelectedMapKey(d);r[f]&&(l?r[f]=!1:l=!0)},this)}},getSelectedMapKey:function(a){return"categories"===this._mode?a.value+"":a.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var a=this.option;return a.pieces&&a.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(a){this.option.selected=t.clone(a)},getValueState:function(a){var u=I.findPieceIndex(a,this._pieceList);return null!=u&&this.option.selected[this.getSelectedMapKey(this._pieceList[u])]?"inRange":"outOfRange"},findTargetDataIndices:function(a){var u=[];return this.eachTargetSeries(function(e){var s=[],r=e.getData();r.each(this.getDataDimension(r),function(l,d){I.findPieceIndex(l,this._pieceList)===a&&s.push(d)},this),u.push({seriesId:e.id,dataIndex:s})},this),u},getRepresentValue:function(a){var u;if(this.isCategory())u=a.value;else if(null!=a.value)u=a.value;else{var e=a.interval||[];u=e[0]===-1/0&&e[1]===1/0?0:(e[0]+e[1])/2}return u},getVisualMeta:function(a){if(!this.isCategory()){var u=[],e=[],s=this,l=this._pieceList.slice();if(l.length){var d=l[0].interval[0];d!==-1/0&&l.unshift({interval:[-1/0,d]}),(d=l[l.length-1].interval[1])!==1/0&&l.push({interval:[d,1/0]})}else l.push({interval:[-1/0,1/0]});var v=-1/0;return t.each(l,function(f){var p=f.interval;p&&(p[0]>v&&r([v,p[0]],"outOfRange"),r(p.slice()),v=p[1])},this),{stops:u,outerColors:e}}function r(f,p){var S=s.getRepresentValue({interval:f});p||(p=s.getValueState(S));var C=a(S,p);f[0]===-1/0?e[0]=C:f[1]===1/0?e[1]=C:u.push({value:f[0],color:C},{value:f[1],color:C})}}}),n={splitNumber:function(){var a=this.option,u=this._pieceList,e=Math.min(a.precision,20),s=this.getExtent(),r=a.splitNumber;r=Math.max(parseInt(r,10),1),a.splitNumber=r;for(var l=(s[1]-s[0])/r;+l.toFixed(e)!==l&&e<5;)e++;a.precision=e,l=+l.toFixed(e),a.minOpen&&u.push({interval:[-1/0,s[0]],close:[0,0]});for(var d=0,v=s[0];d<r;v+=l,d++)u.push({interval:[v,d===r-1?s[1]:v+l],close:[1,1]});a.maxOpen&&u.push({interval:[s[1],1/0],close:[0,0]}),y(u),t.each(u,function(p,S){p.index=S,p.text=this.formatValueText(p.interval)},this)},categories:function(){var a=this.option;t.each(a.categories,function(u){this._pieceList.push({text:this.formatValueText(u,!0),value:u})},this),c(a,this._pieceList)},pieces:function(){var a=this.option,u=this._pieceList;t.each(a.pieces,function(e,s){t.isObject(e)||(e={value:e});var r={text:"",index:s};if(null!=e.label&&(r.text=e.label),e.hasOwnProperty("value")){var l=r.value=e.value;r.interval=[l,l],r.close=[1,1]}else{for(var d=r.interval=[],v=r.close=[0,0],f=[1,0,1],p=[-1/0,1/0],S=[],C=0;C<2;C++){for(var x=[["gte","gt","min"],["lte","lt","max"]][C],g=0;g<3&&null==d[C];g++)d[C]=e[x[g]],v[C]=f[g],S[C]=2===g;null==d[C]&&(d[C]=p[C])}S[0]&&d[1]===1/0&&(v[0]=0),S[1]&&d[0]===-1/0&&(v[1]=0),d[0]===d[1]&&v[0]&&v[1]&&(r.value=d[0])}r.visual=I.retrieveVisuals(e),u.push(r)},this),c(a,u),y(u),t.each(u,function(e){var s=e.close;e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,[["<","\u2264"][s[1]],[">","\u2265"][s[0]]])},this)}};function c(a,u){var e=a.inverse;("vertical"===a.orient?!e:e)&&u.reverse()}j.exports=h},46035:(j,U,i)=>{var T=i(66615),w=i(75757),t=i(32694),I=i(33008).createSymbol,D=i(10942),b=i(93961),y=w.extend({type:"visualMap.piecewise",doRender:function(){var n=this.group;n.removeAll();var c=this.visualMapModel,o=c.get("textGap"),a=c.textStyleModel,u=a.getFont(),e=a.getTextColor(),s=this._getItemAlign(),r=c.itemSize,l=this._getViewData(),d=l.endsText,v=T.retrieve(c.get("showLabel",!0),!d);d&&this._renderEndsText(n,d[0],r,v,s),T.each(l.viewPieceList,function f(p){var S=p.piece,C=new t.Group;C.onclick=T.bind(this._onItemClick,this,S),this._enableHoverLink(C,p.indexInModelPieceList);var x=c.getRepresentValue(S);if(this._createItemSymbol(C,x,[0,0,r[0],r[1]]),v){var g=this.visualMapModel.getValueState(x);C.add(new t.Text({style:{x:"right"===s?-o:r[0]+o,y:r[1]/2,text:S.text,textVerticalAlign:"middle",textAlign:s,textFont:u,textFill:e,opacity:"outOfRange"===g?.5:1}}))}n.add(C)},this),d&&this._renderEndsText(n,d[1],r,v,s),D.box(c.get("orient"),n,c.get("itemGap")),this.renderBackground(n),this.positionGroup(n)},_enableHoverLink:function(n,c){function o(a){var u=this.visualMapModel;u.option.hoverLink&&this.api.dispatchAction({type:a,batch:b.makeHighDownBatch(u.findTargetDataIndices(c),u)})}n.on("mouseover",T.bind(o,this,"highlight")).on("mouseout",T.bind(o,this,"downplay"))},_getItemAlign:function(){var n=this.visualMapModel,c=n.option;if("vertical"===c.orient)return b.getItemAlign(n,this.api,n.itemSize);var o=c.align;return(!o||"auto"===o)&&(o="left"),o},_renderEndsText:function(n,c,o,a,u){if(c){var e=new t.Group,s=this.visualMapModel.textStyleModel;e.add(new t.Text({style:{x:a?"right"===u?o[0]:0:o[0]/2,y:o[1]/2,textVerticalAlign:"middle",textAlign:a?u:"center",text:c,textFont:s.getFont(),textFill:s.getTextColor()}})),n.add(e)}},_getViewData:function(){var n=this.visualMapModel,c=T.map(n.getPieceList(),function(e,s){return{piece:e,indexInModelPieceList:s}}),o=n.get("text"),a=n.get("orient"),u=n.get("inverse");return("horizontal"===a?u:!u)?c.reverse():o&&(o=o.slice().reverse()),{viewPieceList:c,endsText:o}},_createItemSymbol:function(n,c,o){n.add(I(this.getControllerVisual(c,"symbol"),o[0],o[1],o[2],o[3],this.getControllerVisual(c,"color")))},_onItemClick:function(n){var c=this.visualMapModel,o=c.option,a=T.clone(o.selected),u=c.getSelectedMapKey(n);"single"===o.selectedMode?(a[u]=!0,T.each(a,function(e,s){a[s]=s===u})):a[u]=!a[u],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})}});j.exports=y},98343:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(71156),M=i(56815),I=i(60111),D=i(18494),b=i(21617),y=i(68301),h=I.mapVisual,n=I.eachVisual,c=w.isArray,o=w.each,a=y.asc,u=y.linearMap,e=w.noop,s=T.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(l,d,v){this.targetVisuals={},this.controllerVisuals={},this.mergeDefaultAndTheme(l,v)},optionUpdated:function(l,d){var v=this.option;t.canvasSupported||(v.realtime=!1),!d&&D.replaceVisualOption(v,l,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(l){var d=this.stateList;l=w.bind(l,this),this.controllerVisuals=D.createVisualMappings(this.option.controller,d,l),this.targetVisuals=D.createVisualMappings(this.option.target,d,l)},getTargetSeriesIndices:function(){var l=this.option.seriesIndex,d=[];return null==l||"all"===l?this.ecModel.eachSeries(function(v,f){d.push(f)}):d=b.normalizeToArray(l),d},eachTargetSeries:function(l,d){w.each(this.getTargetSeriesIndices(),function(v){l.call(d,this.ecModel.getSeriesByIndex(v))},this)},isTargetSeries:function(l){var d=!1;return this.eachTargetSeries(function(v){v===l&&(d=!0)}),d},formatValueText:function(l,d,v){var x,g,f=this.option,p=f.precision,S=this.dataBound,C=f.formatter;return v=v||["<",">"],w.isArray(l)&&(l=l.slice(),x=!0),g=d?l:x?[m(l[0]),m(l[1])]:m(l),w.isString(C)?C.replace("{value}",x?g[0]:g).replace("{value2}",x?g[1]:g):w.isFunction(C)?x?C(l[0],l[1]):C(l):x?l[0]===S[0]?v[0]+" "+g[1]:l[1]===S[1]?v[1]+" "+g[0]:g[0]+" - "+g[1]:g;function m(A){return A===S[0]?"min":A===S[1]?"max":(+A).toFixed(Math.min(p,20))}},resetExtent:function(){var l=this.option,d=a([l.min,l.max]);this._dataExtent=d},getDataDimension:function(l){var d=this.option.dimension;if(null!=d||l.dimensions.length){if(null!=d)return l.getDimension(d);for(var f=l.dimensions,p=f.length-1;p>=0;p--){var S=f[p];if(!l.getDimensionInfo(S).isCalculationCoord)return S}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var l=this.ecModel,d=this.option,v={inRange:d.inRange,outOfRange:d.outOfRange},f=d.target||(d.target={}),p=d.controller||(d.controller={});w.merge(f,v),w.merge(p,v);var S=this.isCategory();function C(m){c(d.color)&&!m.inRange&&(m.inRange={color:d.color.slice().reverse()}),m.inRange=m.inRange||{color:l.get("gradientColor")},o(this.stateList,function(A){var L=m[A];if(w.isString(L)){var E=M.get(L,"active",S);E?(m[A]={},m[A][L]=E):delete m[A]}},this)}C.call(this,f),C.call(this,p),function x(m,A,L){var E=m[A],N=m[L];E&&!N&&(N=m[L]={},o(E,function(R,F){if(I.isValidType(F)){var H=M.get(F,"inactive",S);null!=H&&(N[F]=H,"color"===F&&!N.hasOwnProperty("opacity")&&!N.hasOwnProperty("colorAlpha")&&(N.opacity=[0,0]))}}))}.call(this,f,"inRange","outOfRange"),function g(m){var A=(m.inRange||{}).symbol||(m.outOfRange||{}).symbol,L=(m.inRange||{}).symbolSize||(m.outOfRange||{}).symbolSize,E=this.get("inactiveColor");o(this.stateList,function(N){var R=this.itemSize,F=m[N];F||(F=m[N]={color:S?E:[E]}),null==F.symbol&&(F.symbol=A&&w.clone(A)||(S?"roundRect":["roundRect"])),null==F.symbolSize&&(F.symbolSize=L&&w.clone(L)||(S?R[0]:[R[0],R[0]])),F.symbol=h(F.symbol,function(Z){return"none"===Z||"square"===Z?"roundRect":Z});var H=F.symbolSize;if(null!=H){var B=-1/0;n(H,function(Z){Z>B&&(B=Z)}),F.symbolSize=h(H,function(Z){return u(Z,[0,B],[0,R[0]],!0)})}},this)}.call(this,p)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:e,getValueState:e,getVisualMeta:e});j.exports=s},75757:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(32694),M=i(42977),I=i(10942),D=i(60111),b=T.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(y,h){this.ecModel=y,this.api=h},render:function(y,h,n,c){this.visualMapModel=y,!1!==y.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(y){var h=this.visualMapModel,n=M.normalizeCssArray(h.get("padding")||0),c=y.getBoundingRect();y.add(new t.Rect({z2:-1,silent:!0,shape:{x:c.x-n[3],y:c.y-n[0],width:c.width+n[3]+n[1],height:c.height+n[0]+n[2]},style:{fill:h.get("backgroundColor"),stroke:h.get("borderColor"),lineWidth:h.get("borderWidth")}}))},getControllerVisual:function(y,h,n){var c=(n=n||{}).forceState,o=this.visualMapModel,a={};if("symbol"===h&&(a.symbol=o.get("itemSymbol")),"color"===h){var u=o.get("contentColor");a.color=u}function e(d){return a[d]}function s(d,v){a[d]=v}var r=o.controllerVisuals[c||o.getValueState(y)],l=D.prepareVisualTypes(r);return w.each(l,function(d){var v=r[d];n.convertOpacityToAlpha&&"opacity"===d&&(d="colorAlpha",v=r.__alphaForOpacity),D.dependsOn(d,h)&&v&&v.applyVisual(y,e,s)}),a[h]},positionGroup:function(y){var n=this.api;I.positionElement(y,this.visualMapModel.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:w.noop});j.exports=b},93961:(j,U,i)=>{var T=i(66615),t=i(10942).getLayoutRect;U.getItemAlign=function M(D,b,y){var h=D.option,n=h.align;if(null!=n&&"auto"!==n)return n;for(var c={width:b.getWidth(),height:b.getHeight()},o="horizontal"===h.orient?1:0,a=[["left","right","width"],["top","bottom","height"]],u=a[o],e=[0,null,10],s={},r=0;r<3;r++)s[a[1-o][r]]=e[r],s[u[r]]=2===r?y[0]:h[u[r]];var l=[["x","width",3],["y","height",0]][o],d=t(s,c,h.padding);return u[(d.margin[l[2]]||0)+d[l[0]]+.5*d[l[1]]<.5*c[l[1]]?0:1]},U.makeHighDownBatch=function I(D,b){return T.each(D||[],function(y){null!=y.dataIndex&&(y.dataIndexInside=y.dataIndex,y.dataIndex=null),y.highlightKey="visualMap"+(b?b.componentIndex:"")}),D}},99832:(j,U,i)=>{var T=i(66615),w=T.each;function M(I,D){return I&&I.hasOwnProperty&&I.hasOwnProperty(D)}j.exports=function t(I){var D=I&&I.visualMap;T.isArray(D)||(D=D?[D]:[]),w(D,function(b){if(b){M(b,"splitList")&&!M(b,"pieces")&&(b.pieces=b.splitList,delete b.splitList);var y=b.pieces;y&&T.isArray(y)&&w(y,function(h){T.isObject(h)&&(M(h,"start")&&!M(h,"min")&&(h.min=h.start),M(h,"end")&&!M(h,"max")&&(h.max=h.end))})}})}},20802:(j,U,i)=>{i(42310).registerSubTypeDefaulter("visualMap",function(w){return w.categories||(w.pieces?w.pieces.length>0:w.splitNumber>0)&&!w.calculable?"piecewise":"continuous"})},74461:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(18494),M=i(60111),I=T.PRIORITY.VISUAL.COMPONENT;function D(b,y,h,n){for(var c=y.targetVisuals[n],o=M.prepareVisualTypes(c),a={color:b.getData().getVisual("color")},u=0,e=o.length;u<e;u++){var s=o[u],r=c["opacity"===s?"__alphaForOpacity":s];r&&r.applyVisual(h,l,d)}return a.color;function l(v){return a[v]}function d(v,f){a[v]=f}}T.registerVisual(I,{createOnAllSeries:!0,reset:function(b,y){var h=[];return y.eachComponent("visualMap",function(n){var c=b.pipelineContext;!n.isTargetSeries(b)||c&&c.large||h.push(t.incrementalApplyVisual(n.stateList,n.targetVisuals,w.bind(n.getValueState,n),n.getDataDimension(b.getData())))}),h}}),T.registerVisual(I,{createOnAllSeries:!0,reset:function(b,y){var h=b.getData(),n=[];y.eachComponent("visualMap",function(c){if(c.isTargetSeries(b)){var o=c.getVisualMeta(w.bind(D,null,b,c))||{stops:[],outerColors:[]},a=c.getDataDimension(h),u=h.getDimensionInfo(a);null!=u&&(o.dimension=u.index,n.push(o))}}),b.getData().setVisual("visualMeta",n)}})},61714:(j,U,i)=>{i(53639).registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(t,M){M.eachComponent({mainType:"visualMap",query:t},function(I){I.setSelected(t.selected)})})},86699:(j,U,i)=>{var T=i(53639),w=i(99832);i(20802),i(74461),i(20102),i(82544),i(61714),T.registerPreprocessor(w)},90359:(j,U,i)=>{var T=i(53639),w=i(99832);i(20802),i(74461),i(71333),i(46035),i(61714),T.registerPreprocessor(w)},78322:(j,U)=>{var i;typeof window<"u"?i=window.__DEV__:typeof global<"u"&&(i=global.__DEV__),typeof i>"u"&&(i=!0),U.__DEV__=i},20330:(j,U,i)=>{var T=i(66615),w=T.each,t=T.map,M=i(68301),I=M.linearMap,D=M.getPixelPrecision,b=M.round,y=i(89453),h=y.createAxisTicks,n=y.createAxisLabels,c=y.calculateCategoryInterval,o=[0,1],a=function(r,l,d){this.dim=r,this.scale=l,this._extent=d||[0,0],this.inverse=!1,this.onBand=!1};function u(r,l){var f=(r[1]-r[0])/l/2;r[0]+=f,r[1]-=f}a.prototype={constructor:a,contain:function(r){var l=this._extent,d=Math.min(l[0],l[1]),v=Math.max(l[0],l[1]);return r>=d&&r<=v},containData:function(r){return this.scale.contain(r)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(r){return D(r||this.scale.getExtent(),this._extent)},setExtent:function(r,l){var d=this._extent;d[0]=r,d[1]=l},dataToCoord:function(r,l){var d=this._extent,v=this.scale;return r=v.normalize(r),this.onBand&&"ordinal"===v.type&&u(d=d.slice(),v.count()),I(r,o,d,l)},coordToData:function(r,l){var d=this._extent,v=this.scale;this.onBand&&"ordinal"===v.type&&u(d=d.slice(),v.count());var f=I(r,d,o,l);return this.scale.scale(f)},pointToData:function(r,l){},getTicksCoords:function(r){var l=(r=r||{}).tickModel||this.getTickModel(),d=h(this,l),f=t(d.ticks,function(S){return{coord:this.dataToCoord(S),tickValue:S}},this);return function e(r,l,d,v){var f=l.length;if(r.onBand&&!d&&f){var S,p=r.getExtent();if(1===f)l[0].coord=p[0],S=l[1]={coord:p[0]};else{var g=(l[f-1].coord-l[0].coord)/(l[f-1].tickValue-l[0].tickValue);w(l,function(E){E.coord-=g/2});var m=r.scale.getExtent();l.push(S={coord:l[f-1].coord+g*(1+m[1]-l[f-1].tickValue)})}var A=p[0]>p[1];L(l[0].coord,p[0])&&(v?l[0].coord=p[0]:l.shift()),v&&L(p[0],l[0].coord)&&l.unshift({coord:p[0]}),L(p[1],S.coord)&&(v?S.coord=p[1]:l.pop()),v&&L(S.coord,p[1])&&l.push({coord:p[1]})}function L(E,N){return E=b(E),N=b(N),A?E>N:E<N}}(this,f,l.get("alignWithLabel"),r.clamp),f},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var l=this.model.getModel("minorTick").get("splitNumber");l>0&&l<100||(l=5);var d=this.scale.getMinorTicks(l);return t(d,function(f){return t(f,function(p){return{coord:this.dataToCoord(p),tickValue:p}},this)},this)},getViewLabels:function(){return n(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var r=this._extent,l=this.scale.getExtent(),d=l[1]-l[0]+(this.onBand?1:0);0===d&&(d=1);var v=Math.abs(r[1]-r[0]);return Math.abs(v)/d},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return c(this)}},j.exports=a},23133:(j,U,i)=>{var T=i(66615),w=i(8544),t=i(84498),M=i(94525),I=i(4360),D=w.applyTransform;function b(){I.call(this)}function y(c){this.name=c,I.call(this),this._roamTransformable=new b,this._rawTransformable=new b}function h(c,o,a,u){var e=a.seriesModel,s=e?e.coordinateSystem:null;return s===this?s[c](u):null}T.mixin(b,I),y.prototype={constructor:y,type:"view",dimensions:["x","y"],setBoundingRect:function(c,o,a,u){return this._rect=new M(c,o,a,u),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(c,o,a,u){this.transformTo(c,o,a,u),this._viewRect=new M(c,o,a,u)},transformTo:function(c,o,a,u){var e=this.getBoundingRect(),s=this._rawTransformable;s.transform=e.calculateTransform(new M(c,o,a,u)),s.decomposeTransform(),this._updateTransform()},setCenter:function(c){c&&(this._center=c,this._updateCenterAndZoom())},setZoom:function(c){c=c||1;var o=this.zoomLimit;o&&(null!=o.max&&(c=Math.min(o.max,c)),null!=o.min&&(c=Math.max(o.min,c))),this._zoom=c,this._updateCenterAndZoom()},getDefaultCenter:function(){var c=this.getBoundingRect();return[c.x+c.width/2,c.y+c.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var c=this._rawTransformable.getLocalTransform(),o=this._roamTransformable,a=this.getDefaultCenter(),u=this.getCenter(),e=this.getZoom();u=w.applyTransform([],u,c),a=w.applyTransform([],a,c),o.origin=u,o.position=[a[0]-u[0],a[1]-u[1]],o.scale=[e,e],this._updateTransform()},_updateTransform:function(){var c=this._roamTransformable,o=this._rawTransformable;o.parent=c,c.updateTransform(),o.updateTransform(),t.copy(this.transform||(this.transform=[]),o.transform||t.create()),this._rawTransform=o.getLocalTransform(),this.invTransform=this.invTransform||[],t.invert(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var c=this._roamTransformable.transform,o=this._rawTransformable;return{roamTransform:c?T.slice(c):t.create(),rawScale:T.slice(o.scale),rawPosition:T.slice(o.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var c=this.getBoundingRect().clone();return c.applyTransform(this.transform),c},dataToPoint:function(c,o,a){var u=o?this._rawTransform:this.transform;return a=a||[],u?D(a,c,u):w.copy(a,c)},pointToData:function(c){var o=this.invTransform;return o?D([],c,o):[c[0],c[1]]},convertToPixel:T.curry(h,"dataToPoint"),convertFromPixel:T.curry(h,"pointToData"),containPoint:function(c){return this.getViewRectAfterRoam().contain(c[0],c[1])}},T.mixin(y,I),j.exports=y},34616:(j,U,i)=>{var T=i(66615),w={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},t={};t.categoryAxis=T.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},w),t.valueAxis=T.merge({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},w),t.timeAxis=T.defaults({scale:!0,min:"dataMin",max:"dataMax"},t.valueAxis),t.logAxis=T.defaults({scale:!0,logBase:10},t.valueAxis),j.exports=t},84004:(j,U,i)=>{i(78322);var t=i(66615),M=i(67140),I=i(70098),D=i(10465),b=i(68301),y=i(98253),h=y.prepareLayoutBarSeries,n=y.makeColumnLayout,c=y.retrieveColumnLayout,o=i(94525);function a(C,x){var E,N,R,g=C.type,m=x.getMin(),A=x.getMax(),L=C.getExtent();"ordinal"===g?E=x.getCategories().length:(N=x.get("boundaryGap"),t.isArray(N)||(N=[N||0,N||0]),"boolean"==typeof N[0]&&(N=[0,0]),N[0]=b.parsePercent(N[0],1),N[1]=b.parsePercent(N[1],1),R=L[1]-L[0]||Math.abs(L[0])),"dataMin"===m?m=L[0]:"function"==typeof m&&(m=m({min:L[0],max:L[1]})),"dataMax"===A?A=L[1]:"function"==typeof A&&(A=A({min:L[0],max:L[1]}));var F=null!=m,H=null!=A;null==m&&(m="ordinal"===g?E?0:NaN:L[0]-N[0]*R),null==A&&(A="ordinal"===g?E?E-1:NaN:L[1]+N[1]*R),(null==m||!isFinite(m))&&(m=NaN),(null==A||!isFinite(A))&&(A=NaN),C.setBlank(t.eqNaN(m)||t.eqNaN(A)||"ordinal"===g&&!C.getOrdinalMeta().categories.length),x.getNeedCrossZero()&&(m>0&&A>0&&!F&&(m=0),m<0&&A<0&&!H&&(A=0));var B=x.ecModel;if(B&&"time"===g){var W,Z=h("bar",B);if(t.each(Z,function(V){W|=V.getBaseAxis()===x.axis}),W){var $=n(Z),Y=function u(C,x,g,m){var A=g.axis.getExtent(),L=A[1]-A[0],E=c(m,g.axis);if(void 0===E)return{min:C,max:x};var N=1/0;t.each(E,function(W){N=Math.min(W.offset,N)});var R=-1/0;t.each(E,function(W){R=Math.max(W.offset+W.width,R)}),N=Math.abs(N),R=Math.abs(R);var F=N+R,H=x-C,Z=H/(1-(N+R)/L)-H;return{min:C-=Z*(N/F),max:x+=Z*(R/F)}}(m,A,x,$);m=Y.min,A=Y.max}}return{extent:[m,A],fixMin:F,fixMax:H}}function l(C){var m,x=C.getLabelModel().get("formatter"),g="category"===C.type?C.scale.getExtent()[0]:null;return"string"==typeof x?(m=x,x=function(A){return A=C.scale.getLabel(A),m.replace("{value}",A??"")}):"function"==typeof x?function(m,A){return null!=g&&(A=m-g),x(d(C,m),A)}:function(m){return C.scale.getLabel(m)}}function d(C,x){return"category"===C.type?C.scale.getLabel(x):x}function f(C,x){var g=x*Math.PI/180,m=C.plain(),A=m.width,L=m.height,E=A*Math.abs(Math.cos(g))+Math.abs(L*Math.sin(g)),N=A*Math.abs(Math.sin(g))+Math.abs(L*Math.cos(g));return new o(m.x,m.y,E,N)}function p(C){return C.get("interval")??"auto"}i(71395),i(95512),U.getScaleExtent=a,U.niceScaleExtent=function e(C,x){var g=a(C,x),m=g.extent,A=x.get("splitNumber");"log"===C.type&&(C.base=x.get("logBase"));var L=C.type;C.setExtent(m[0],m[1]),C.niceExtent({splitNumber:A,fixMin:g.fixMin,fixMax:g.fixMax,minInterval:"interval"===L||"time"===L?x.get("minInterval"):null,maxInterval:"interval"===L||"time"===L?x.get("maxInterval"):null});var E=x.get("interval");null!=E&&C.setInterval&&C.setInterval(E)},U.createScaleByModel=function s(C,x){if(x=x||C.get("type"))switch(x){case"category":return new M(C.getOrdinalMeta?C.getOrdinalMeta():C.getCategories(),[1/0,-1/0]);case"value":return new I;default:return(D.getClass(x)||I).create(C)}},U.ifAxisCrossZero=function r(C){var x=C.scale.getExtent(),g=x[0],m=x[1];return!(g>0&&m>0||g<0&&m<0)},U.makeLabelFormatter=l,U.getAxisRawValue=d,U.estimateLabelUnionRect=function v(C){var g=C.scale;if(C.model.get("axisLabel.show")&&!g.isBlank()){var A,L,m="category"===C.type,E=g.getExtent();L=m?g.count():(A=g.getTicks()).length;var F,N=C.getLabelModel(),R=l(C),H=1;L>40&&(H=Math.ceil(L/40));for(var B=0;B<L;B+=H){var W=R(A?A[B]:E[0]+B),Y=f(N.getTextRect(W),N.get("rotate")||0);F?F.union(Y):F=Y}return F}},U.getOptionCategoryInterval=p,U.shouldShowAllLabels=function S(C){return"category"===C.type&&0===p(C.getLabelModel())}},69896:(j,U,i)=>{var T=i(66615);j.exports={getMin:function(t){var M=this.option,I=t||null==M.rangeStart?M.min:M.rangeStart;return this.axis&&null!=I&&"dataMin"!==I&&"function"!=typeof I&&!T.eqNaN(I)&&(I=this.axis.scale.parse(I)),I},getMax:function(t){var M=this.option,I=t||null==M.rangeEnd?M.max:M.rangeEnd;return this.axis&&null!=I&&"dataMax"!==I&&"function"!=typeof I&&!T.eqNaN(I)&&(I=this.axis.scale.parse(I)),I},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:T.noop,setRange:function(t,M){this.option.rangeStart=t,this.option.rangeEnd=M},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}}},69710:(j,U,i)=>{var T=i(66615),w=i(34616),t=i(42310),M=i(10942),I=M.getLayoutParams,D=M.mergeLayoutParam,b=i(20872),y=["value","category","time","log"];j.exports=function h(n,c,o,a){T.each(y,function(u){c.extend({type:n+"Axis."+u,mergeDefaultAndTheme:function(e,s){var r=this.layoutMode,l=r?I(e):{},d=s.getTheme();T.merge(e,d.get(u+"Axis")),T.merge(e,this.getDefaultOption()),e.type=o(n,e),r&&D(e,l,r)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=b.createByAxisModel(this))},getCategories:function(e){var s=this.option;if("category"===s.type)return e?s.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:T.mergeAll([{},w[u+"Axis"],a],!0)})}),t.registerSubTypeDefaulter(n+"Axis",T.curry(o,n))}},89453:(j,U,i)=>{var T=i(66615),w=i(50585),M=i(21617).makeInner,I=i(84004),D=I.makeLabelFormatter,b=I.getOptionCategoryInterval,y=I.shouldShowAllLabels,h=M();function a(C,x){var L,E,g=s(C,"labels"),m=b(x);return r(g,m)||(T.isFunction(m)?L=S(C,m):(E="auto"===m?function d(C){return h(C).autoInterval??(h(C).autoInterval=C.calculateCategoryInterval())}(C):m,L=p(C,E)),l(g,m,{labels:L,labelCategoryInterval:E}))}function s(C,x){return h(C)[x]||(h(C)[x]=[])}function r(C,x){for(var g=0;g<C.length;g++)if(C[g].key===x)return C[g].value}function l(C,x,g){return C.push({key:x,value:g}),g}function p(C,x,g){var m=D(C),A=C.scale,L=A.getExtent(),E=C.getLabelModel(),N=[],R=Math.max((x||0)+1,1),F=L[0],H=A.count();0!==F&&R>1&&H/R>2&&(F=Math.round(Math.ceil(F/R)*R));var B=y(C),Z=E.get("showMinLabel")||B,W=E.get("showMaxLabel")||B;Z&&F!==L[0]&&Y(L[0]);for(var $=F;$<=L[1];$+=R)Y($);function Y(V){N.push(g?V:{formattedLabel:m(V),rawLabel:A.getLabel(V),tickValue:V})}return W&&$-R!==L[1]&&Y(L[1]),N}function S(C,x,g){var m=C.scale,A=D(C),L=[];return T.each(m.getTicks(),function(E){var N=m.getLabel(E);x(E,N)&&L.push(g?E:{formattedLabel:A(E),rawLabel:N,tickValue:E})}),L}U.createAxisLabels=function n(C){return"category"===C.type?function o(C){var x=C.getLabelModel(),g=a(C,x);return!x.get("show")||C.scale.isBlank()?{labels:[],labelCategoryInterval:g.labelCategoryInterval}:g}(C):function e(C){var x=C.scale.getTicks(),g=D(C);return{labels:T.map(x,function(m,A){return{formattedLabel:g(m,A),rawLabel:C.scale.getLabel(m),tickValue:m}})}}(C)},U.createAxisTicks=function c(C,x){return"category"===C.type?function u(C,x){var L,E,g=s(C,"ticks"),m=b(x),A=r(g,m);if(A)return A;if((!x.get("show")||C.scale.isBlank())&&(L=[]),T.isFunction(m))L=S(C,m,!0);else if("auto"===m){var N=a(C,C.getLabelModel());E=N.labelCategoryInterval,L=T.map(N.labels,function(R){return R.tickValue})}else L=p(C,E=m,!0);return l(g,m,{ticks:L,tickCategoryInterval:E})}(C,x):{ticks:C.scale.getTicks()}},U.calculateCategoryInterval=function v(C){var x=function f(C){var x=C.getLabelModel();return{axisRotate:C.getRotate?C.getRotate():C.isHorizontal&&!C.isHorizontal()?90:0,labelRotate:x.get("rotate")||0,font:x.getFont()}}(C),g=D(C),m=(x.axisRotate-x.labelRotate)/180*Math.PI,A=C.scale,L=A.getExtent(),E=A.count();if(L[1]-L[0]<1)return 0;var N=1;E>40&&(N=Math.max(1,Math.floor(E/40)));for(var R=L[0],F=C.dataToCoord(R+1)-C.dataToCoord(R),H=Math.abs(F*Math.cos(m)),B=Math.abs(F*Math.sin(m)),Z=0,W=0;R<=L[1];R+=N){var Y,V=w.getBoundingRect(g(R),x.font,"center","top");Y=1.3*V.height,Z=Math.max(Z,1.3*V.width,7),W=Math.max(W,Y,7)}var z=Z/H,k=W/B;isNaN(z)&&(z=1/0),isNaN(k)&&(k=1/0);var X=Math.max(0,Math.floor(Math.min(z,k))),q=h(C.model),et=C.getExtent(),rt=q.lastAutoInterval,it=q.lastTickCount;return null!=rt&&null!=it&&Math.abs(rt-X)<=1&&Math.abs(it-E)<=1&&rt>X&&q.axisExtend0===et[0]&&q.axisExtend1===et[1]?X=rt:(q.lastTickCount=E,q.lastAutoInterval=X,q.axisExtend0=et[0],q.axisExtend1=et[1]),X}},61807:(j,U,i)=>{var T=i(66615),w=i(10942),t=i(68301),M=i(51548),I=864e5;function D(h,n,c){this._model=h}function b(h,n,c,o){var a=c.calendarModel,u=c.seriesModel,e=a?a.coordinateSystem:u?u.coordinateSystem:null;return e===this?e[h](o):null}D.prototype={constructor:D,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(h){var n=(h=t.parseDate(h)).getFullYear(),c=h.getMonth()+1;c=c<10?"0"+c:c;var o=h.getDate();o=o<10?"0"+o:o;var a=h.getDay();return{y:n,m:c,d:o,day:a=Math.abs((a+7-this.getFirstDayOfWeek())%7),time:h.getTime(),formatedDate:n+"-"+c+"-"+o,date:h}},getNextNDay:function(h,n){return 0===(n=n||0)||(h=new Date(this.getDateInfo(h).time)).setDate(h.getDate()+n),this.getDateInfo(h)},update:function(h,n){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var c=this._rangeInfo.weeks||1,o=["width","height"],a=this._model.get("cellSize").slice(),u=this._model.getBoxLayoutParams(),e="horizontal"===this._orient?[c,7]:[7,c];T.each([0,1],function(d){l(a,d)&&(u[o[d]]=a[d]*e[d])});var s={width:n.getWidth(),height:n.getHeight()},r=this._rect=w.getLayoutRect(u,s);function l(d,v){return null!=d[v]&&"auto"!==d[v]}T.each([0,1],function(d){l(a,d)||(a[d]=r[o[d]]/e[d])}),this._sw=a[0],this._sh=a[1]},dataToPoint:function(h,n){T.isArray(h)&&(h=h[0]),null==n&&(n=!0);var c=this.getDateInfo(h),o=this._rangeInfo;if(n&&!(c.time>=o.start.time&&c.time<o.end.time+I))return[NaN,NaN];var u=c.day,e=this._getRangeInfo([o.start.time,c.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+u*this._sw+this._sw/2,this._rect.y+e*this._sh+this._sh/2]:[this._rect.x+e*this._sw+this._sw/2,this._rect.y+u*this._sh+this._sh/2]},pointToData:function(h){var n=this.pointToDate(h);return n&&n.time},dataToRect:function(h,n){var c=this.dataToPoint(h,n);return{contentShape:{x:c[0]-(this._sw-this._lineWidth)/2,y:c[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:c,tl:[c[0]-this._sw/2,c[1]-this._sh/2],tr:[c[0]+this._sw/2,c[1]-this._sh/2],br:[c[0]+this._sw/2,c[1]+this._sh/2],bl:[c[0]-this._sw/2,c[1]+this._sh/2]}},pointToDate:function(h){var n=Math.floor((h[0]-this._rect.x)/this._sw)+1,c=Math.floor((h[1]-this._rect.y)/this._sh)+1,o=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(c,n-1,o):this._getDateByWeeksAndDay(n,c-1,o)},convertToPixel:T.curry(b,"dataToPoint"),convertFromPixel:T.curry(b,"pointToData"),_initRangeOption:function(){var h=this._model.get("range"),n=h;if(T.isArray(n)&&1===n.length&&(n=n[0]),/^\d{4}$/.test(n)&&(h=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var c=this.getDateInfo(n),o=c.date;o.setMonth(o.getMonth()+1);var a=this.getNextNDay(o,-1);h=[c.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(h=[n,n]);var u=this._getRangeInfo(h);return u.start.time>u.end.time&&h.reverse(),h},_getRangeInfo:function(h){var n;(h=[this.getDateInfo(h[0]),this.getDateInfo(h[1])])[0].time>h[1].time&&(n=!0,h.reverse());var c=Math.floor(h[1].time/I)-Math.floor(h[0].time/I)+1,o=new Date(h[0].time),a=o.getDate(),u=h[1].date.getDate();o.setDate(a+c-1);var e=o.getDate();if(e!==u)for(var s=o.getTime()-h[1].time>0?1:-1;(e=o.getDate())!==u&&(o.getTime()-h[1].time)*s>0;)c-=s,o.setDate(e-s);var r=Math.floor((c+h[0].day+6)/7),l=n?1-r:r-1;return n&&h.reverse(),{range:[h[0].formatedDate,h[1].formatedDate],start:h[0],end:h[1],allDay:c,weeks:r,nthWeek:l,fweek:h[0].day,lweek:h[1].day}},_getDateByWeeksAndDay:function(h,n,c){var o=this._getRangeInfo(c);if(h>o.weeks||0===h&&n<o.fweek||h===o.weeks&&n>o.lweek)return!1;var a=7*(h-1)-o.fweek+n,u=new Date(o.start.time);return u.setDate(o.start.d+a),this.getDateInfo(u)}},D.dimensions=D.prototype.dimensions,D.getDimensionsInfo=D.prototype.getDimensionsInfo,D.create=function(h,n){var c=[];return h.eachComponent("calendar",function(o){var a=new D(o,h,n);c.push(a),o.coordinateSystem=a}),h.eachSeries(function(o){"calendar"===o.get("coordinateSystem")&&(o.coordinateSystem=c[o.get("calendarIndex")||0])}),c},M.register("calendar",D),j.exports=D},8572:(j,U,i)=>{var T=i(66615),w=i(42310),t=i(10942),M=t.getLayoutParams,I=t.sizeCalculable,D=t.mergeLayoutParam,b=w.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(n,c,o,a){var u=M(n);b.superApply(this,"init",arguments),y(n,u)},mergeOption:function(n,c){b.superApply(this,"mergeOption",arguments),y(this.option,n)}});function y(n,c){var o=n.cellSize;T.isArray(o)?1===o.length&&(o[1]=o[0]):o=n.cellSize=[o,o];var a=T.map([0,1],function(u){return I(c,u)&&(o[u]="auto"),null!=o[u]&&"auto"!==o[u]});D(n,c,{type:"box",ignoreSize:a})}j.exports=b},96748:j=>{j.exports=function U(i){var T=i.getRect(),w=i.getRangeInfo();return{coordSys:{type:"calendar",x:T.x,y:T.y,width:T.width,height:T.height,cellWidth:i.getCellWidth(),cellHeight:i.getCellHeight(),rangeInfo:{start:w.start,end:w.end,weeks:w.weeks,dayCount:w.allDay}},api:{coord:function(t,M){return i.dataToPoint(t,M)}}}}},25758:(j,U,i)=>{var T=i(66615),w=i(20330),t=function(I,D,b,y,h){w.call(this,I,D,b),this.type=y||"value",this.position=h||"bottom"};t.prototype={constructor:t,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var I=this.position;return"top"===I||"bottom"===I},getGlobalExtent:function(I){var D=this.getExtent();return D[0]=this.toGlobalCoord(D[0]),D[1]=this.toGlobalCoord(D[1]),I&&D[0]>D[1]&&D.reverse(),D},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(I,D){return this.coordToData(this.toLocalCoord(I["x"===this.dim?0:1]),D)},toLocalCoord:null,toGlobalCoord:null},T.inherits(t,w),j.exports=t},39845:(j,U,i)=>{var T=i(66615),w=i(42310),t=i(69710),M=i(69896),I=w.extend({type:"cartesian2dAxis",axis:null,init:function(){I.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){I.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){I.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function D(h,n){return n.type||(n.data?"category":"value")}T.merge(I.prototype,M);var b={offset:0};t("x",I,D,b),t("y",I,D,b),j.exports=I},71491:(j,U,i)=>{var T=i(66615);function w(I){return this._axes[I]}var t=function(I){this._axes={},this._dimList=[],this.name=I||""};t.prototype={constructor:t,type:"cartesian",getAxis:function(I){return this._axes[I]},getAxes:function(){return T.map(this._dimList,w,this)},getAxesByScale:function(I){return I=I.toLowerCase(),T.filter(this.getAxes(),function(D){return D.scale.type===I})},addAxis:function(I){var D=I.dim;this._axes[D]=I,this._dimList.push(D)},dataToCoord:function(I){return this._dataCoordConvert(I,"dataToCoord")},coordToData:function(I){return this._dataCoordConvert(I,"coordToData")},_dataCoordConvert:function(I,D){for(var b=this._dimList,y=I instanceof Array?[]:{},h=0;h<b.length;h++){var n=b[h];y[n]=this._axes[n][D](I[n])}return y}},j.exports=t},53474:(j,U,i)=>{var T=i(66615),w=i(94525),t=i(71491);function M(D){t.call(this,D)}M.prototype={constructor:M,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(D){var b=this.getAxis("x"),y=this.getAxis("y");return b.contain(b.toLocalCoord(D[0]))&&y.contain(y.toLocalCoord(D[1]))},containData:function(D){return this.getAxis("x").containData(D[0])&&this.getAxis("y").containData(D[1])},dataToPoint:function(D,b,y){var h=this.getAxis("x"),n=this.getAxis("y");return(y=y||[])[0]=h.toGlobalCoord(h.dataToCoord(D[0])),y[1]=n.toGlobalCoord(n.dataToCoord(D[1])),y},clampData:function(D,b){var y=this.getAxis("x").scale,h=this.getAxis("y").scale,n=y.getExtent(),c=h.getExtent(),o=y.parse(D[0]),a=h.parse(D[1]);return(b=b||[])[0]=Math.min(Math.max(Math.min(n[0],n[1]),o),Math.max(n[0],n[1])),b[1]=Math.min(Math.max(Math.min(c[0],c[1]),a),Math.max(c[0],c[1])),b},pointToData:function(D,b){var y=this.getAxis("x"),h=this.getAxis("y");return(b=b||[])[0]=y.coordToData(y.toLocalCoord(D[0])),b[1]=h.coordToData(h.toLocalCoord(D[1])),b},getOtherAxis:function(D){return this.getAxis("x"===D.dim?"y":"x")},getArea:function(){var D=this.getAxis("x").getGlobalExtent(),b=this.getAxis("y").getGlobalExtent(),y=Math.min(D[0],D[1]),h=Math.min(b[0],b[1]),n=Math.max(D[0],D[1])-y,c=Math.max(b[0],b[1])-h;return new w(y,h,n,c)}},T.inherits(M,t),j.exports=M},6927:(j,U,i)=>{i(78322);var t=i(66615),M=t.isObject,I=t.each,D=t.map,b=t.indexOf,n=i(10942).getLayoutRect,c=i(84004),o=c.createScaleByModel,a=c.ifAxisCrossZero,u=c.niceScaleExtent,e=c.estimateLabelUnionRect,s=i(53474),r=i(25758),l=i(51548),v=i(69816).getStackedDimension;function f(N,R,F){return N.getCoordSysModel()===R}function p(N,R,F){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(N,R,F),this.model=N}i(65834);var S=p.prototype;function C(N,R,F,H){F.getAxesOnZeroOf=function(){return Z?[Z]:[]};var Z,B=N[R],W=F.model,$=W.get("axisLine.onZero"),Y=W.get("axisLine.onZeroAxisIndex");if($){if(null!=Y)x(B[Y])&&(Z=B[Y]);else for(var V in B)if(B.hasOwnProperty(V)&&x(B[V])&&!H[z(B[V])]){Z=B[V];break}Z&&(H[z(Z)]=!0)}function z(k){return k.dim+"_"+k.index}}function x(N){return N&&"category"!==N.type&&"time"!==N.type&&a(N)}S.type="grid",S.axisPointerEnabled=!0,S.getRect=function(){return this._rect},S.update=function(N,R){var F=this._axesMap;this._updateScale(N,this.model),I(F.x,function(B){u(B.scale,B.model)}),I(F.y,function(B){u(B.scale,B.model)});var H={};I(F.x,function(B){C(F,"y",B,H)}),I(F.y,function(B){C(F,"x",B,H)}),this.resize(this.model,R)},S.resize=function(N,R,F){var H=n(N.getBoxLayoutParams(),{width:R.getWidth(),height:R.getHeight()});this._rect=H;var B=this._axesList;function Z(){I(B,function(W){var $=W.isHorizontal(),Y=$?[0,H.width]:[0,H.height],V=W.inverse?1:0;W.setExtent(Y[V],Y[1-V]),function g(N,R){var F=N.getExtent(),H=F[0]+F[1];N.toGlobalCoord="x"===N.dim?function(B){return B+R}:function(B){return H-B+R},N.toLocalCoord="x"===N.dim?function(B){return B-R}:function(B){return H-B+R}}(W,$?H.x:H.y)})}Z(),!F&&N.get("containLabel")&&(I(B,function(W){if(!W.model.get("axisLabel.inside")){var $=e(W);if($){var Y=W.isHorizontal()?"height":"width",V=W.model.get("axisLabel.margin");H[Y]-=$[Y]+V,"top"===W.position?H.y+=$.height+V:"left"===W.position&&(H.x+=$.width+V)}}}),Z())},S.getAxis=function(N,R){var F=this._axesMap[N];if(null!=F){if(null==R)for(var H in F)if(F.hasOwnProperty(H))return F[H];return F[R]}},S.getAxes=function(){return this._axesList.slice()},S.getCartesian=function(N,R){if(null!=N&&null!=R)return this._coordsMap["x"+N+"y"+R];M(N)&&(R=N.yAxisIndex,N=N.xAxisIndex);for(var H=0,B=this._coordsList;H<B.length;H++)if(B[H].getAxis("x").index===N||B[H].getAxis("y").index===R)return B[H]},S.getCartesians=function(){return this._coordsList.slice()},S.convertToPixel=function(N,R,F){var H=this._findConvertTarget(N,R);return H.cartesian?H.cartesian.dataToPoint(F):H.axis?H.axis.toGlobalCoord(H.axis.dataToCoord(F)):null},S.convertFromPixel=function(N,R,F){var H=this._findConvertTarget(N,R);return H.cartesian?H.cartesian.pointToData(F):H.axis?H.axis.coordToData(H.axis.toLocalCoord(F)):null},S._findConvertTarget=function(N,R){var $,Y,F=R.seriesModel,H=R.xAxisModel||F&&F.getReferringComponents("xAxis")[0],B=R.yAxisModel||F&&F.getReferringComponents("yAxis")[0],Z=R.gridModel;return F?b(this._coordsList,$=F.coordinateSystem)<0&&($=null):H&&B?$=this.getCartesian(H.componentIndex,B.componentIndex):H?Y=this.getAxis("x",H.componentIndex):B?Y=this.getAxis("y",B.componentIndex):Z&&Z.coordinateSystem===this&&($=this._coordsList[0]),{cartesian:$,axis:Y}},S.containPoint=function(N){var R=this._coordsList[0];if(R)return R.containPoint(N)},S._initCartesian=function(N,R,F){var H={left:!1,right:!1,top:!1,bottom:!1},B={x:{},y:{}},Z={x:0,y:0};if(R.eachComponent("xAxis",W("x"),this),R.eachComponent("yAxis",W("y"),this),!Z.x||!Z.y)return this._axesMap={},void(this._axesList=[]);function W($){return function(Y,V){if(f(Y,N)){var z=Y.get("position");"x"===$?"top"!==z&&"bottom"!==z&&(z=H.bottom?"top":"bottom"):"left"!==z&&"right"!==z&&(z=H.left?"right":"left"),H[z]=!0;var k=new r($,o(Y),[0,0],Y.get("type"),z);k.onBand="category"===k.type&&Y.get("boundaryGap"),k.inverse=Y.get("inverse"),Y.axis=k,k.model=Y,k.grid=this,k.index=V,this._axesList.push(k),B[$][V]=k,Z[$]++}}}this._axesMap=B,I(B.x,function($,Y){I(B.y,function(V,z){var k="x"+Y+"y"+z,X=new s(k);X.grid=this,X.model=N,this._coordsMap[k]=X,this._coordsList.push(X),X.addAxis($),X.addAxis(V)},this)},this)},S._updateScale=function(N,R){function F(H,B,Z){I(H.mapDimension(B.dim,!0),function(W){B.scale.unionExtentFromData(H,v(H,W))})}I(this._axesList,function(H){H.scale.setExtent(1/0,-1/0)}),N.eachSeries(function(H){if(L(H)){var B=A(H),Z=B[0],W=B[1];if(!f(Z,R)||!f(W,R))return;var $=this.getCartesian(Z.componentIndex,W.componentIndex),Y=H.getData(),V=$.getAxis("x"),z=$.getAxis("y");"list"===Y.type&&(F(Y,V),F(Y,z))}},this)},S.getTooltipAxes=function(N){var R=[],F=[];return I(this.getCartesians(),function(H){var B=null!=N&&"auto"!==N?H.getAxis(N):H.getBaseAxis(),Z=H.getOtherAxis(B);b(R,B)<0&&R.push(B),b(F,Z)<0&&F.push(Z)}),{baseAxes:R,otherAxes:F}};var m=["xAxis","yAxis"];function A(N,R){return D(m,function(F){return N.getReferringComponents(F)[0]})}function L(N){return"cartesian2d"===N.get("coordinateSystem")}p.create=function(N,R){var F=[];return N.eachComponent("grid",function(H,B){var Z=new p(H,N,R);Z.name="grid_"+B,Z.resize(H,R,!0),H.coordinateSystem=Z,F.push(Z)}),N.eachSeries(function(H){if(L(H)){var B=A(H),Z=B[0],W=B[1],$=Z.getCoordSysModel();H.coordinateSystem=$.coordinateSystem.getCartesian(Z.componentIndex,W.componentIndex)}}),F},p.dimensions=p.prototype.dimensions=s.prototype.dimensions,l.register("cartesian2d",p),j.exports=p},65834:(j,U,i)=>{i(39845);var w=i(42310).extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});j.exports=w},11030:(j,U,i)=>{var T=i(66615);U.layout=function w(t,M,I){I=I||{};var D=t.coordinateSystem,b=M.axis,y={},h=b.getAxesOnZeroOf()[0],n=b.position,c=h?"onZero":n,o=b.dim,a=D.getRect(),u=[a.x,a.x+a.width,a.y,a.y+a.height],e={left:0,right:1,top:0,bottom:1,onZero:2},s=M.get("offset")||0,r="x"===o?[u[2]-s,u[3]+s]:[u[0]-s,u[1]+s];if(h){var l=h.toGlobalCoord(h.dataToCoord(0));r[e.onZero]=Math.max(Math.min(l,r[1]),r[0])}y.position=["y"===o?r[e[c]]:u[0],"x"===o?r[e[c]]:u[3]],y.rotation=Math.PI/2*("x"===o?0:1),y.labelDirection=y.tickDirection=y.nameDirection={top:-1,bottom:1,left:-1,right:1}[n],y.labelOffset=h?r[e[n]]-r[e.onZero]:0,M.get("axisTick.inside")&&(y.tickDirection=-y.tickDirection),T.retrieve(I.labelInside,M.get("axisLabel.inside"))&&(y.labelDirection=-y.labelDirection);var v=M.get("axisLabel.rotate");return y.labelRotate="top"===c?-v:v,y.z2=1,y}},40334:(j,U,i)=>{var T=i(66615);function w(M,I){return I=I||[0,0],T.map(["x","y"],function(D,b){var y=this.getAxis(D),h=I[b],n=M[b]/2;return"category"===y.type?y.getBandWidth():Math.abs(y.dataToCoord(h-n)-y.dataToCoord(h+n))},this)}j.exports=function t(M){var I=M.grid.getRect();return{coordSys:{type:"cartesian2d",x:I.x,y:I.y,width:I.width,height:I.height},api:{coord:function(D){return M.dataToPoint(D)},size:T.bind(w,M)}}}},85577:(j,U,i)=>{var T=i(66615),w=i(94525),t=i(23133),M=i(59191);function I(y,h,n,c){t.call(this,y),this.map=h;var o=M.load(h,n);this._nameCoordMap=o.nameCoordMap,this._regionsMap=o.regionsMap,this._invertLongitute=c??!0,this.regions=o.regions,this._rect=o.boundingRect}function D(y,h,n,c){var o=n.geoModel,a=n.seriesModel,u=o?o.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return u===this?u[y](c):null}I.prototype={constructor:I,type:"geo",dimensions:["lng","lat"],containCoord:function(y){for(var h=this.regions,n=0;n<h.length;n++)if(h[n].contain(y))return!0;return!1},transformTo:function(y,h,n,c){var o=this.getBoundingRect(),a=this._invertLongitute;o=o.clone(),a&&(o.y=-o.y-o.height);var u=this._rawTransformable;if(u.transform=o.calculateTransform(new w(y,h,n,c)),u.decomposeTransform(),a){var e=u.scale;e[1]=-e[1]}u.updateTransform(),this._updateTransform()},getRegion:function(y){return this._regionsMap.get(y)},getRegionByCoord:function(y){for(var h=this.regions,n=0;n<h.length;n++)if(h[n].contain(y))return h[n]},addGeoCoord:function(y,h){this._nameCoordMap.set(y,h)},getGeoCoord:function(y){return this._nameCoordMap.get(y)},getBoundingRect:function(){return this._rect},dataToPoint:function(y,h,n){if("string"==typeof y&&(y=this.getGeoCoord(y)),y)return t.prototype.dataToPoint.call(this,y,h,n)},convertToPixel:T.curry(D,"dataToPoint"),convertFromPixel:T.curry(D,"pointToData")},T.mixin(I,t),j.exports=I},47913:(j,U,i)=>{var T=i(66615),w=i(21617),t=i(42310),M=i(82356),I=i(22637),D=i(71059),b=t.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(h){t.prototype.init.apply(this,arguments),w.defaultEmphasis(h,"label",["show"])},optionUpdated:function(){var h=this.option,n=this;h.regions=D.getFilledRegions(h.regions,h.map,h.nameMap),this._optionModelMap=T.reduce(h.regions||[],function(c,o){return o.name&&c.set(o.name,new M(o,n)),c},T.createHashMap()),this.updateSelectedMap(h.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(h){return this._optionModelMap.get(h)||new M(null,this,this.ecModel)},getFormattedLabel:function(h,n){n=n||"normal";var o=this.getRegionModel(h).get(("normal"===n?"":n+".")+"label.formatter"),a={name:h};return"function"==typeof o?(a.status=n,o(a)):"string"==typeof o?o.replace("{a}",h??""):void 0},setZoom:function(h){this.option.zoom=h},setCenter:function(h){this.option.center=h}});T.mixin(b,I),j.exports=b},6540:(j,U,i)=>{var T=i(94525),w=i(53020),t=i(8544),M=i(68418);function I(b,y,h){if(this.name=b,this.geometries=y,h)h=[h[0],h[1]];else{var n=this.getBoundingRect();h=[n.x+n.width/2,n.y+n.height/2]}this.center=h}I.prototype={constructor:I,properties:null,getBoundingRect:function(){var b=this._rect;if(b)return b;for(var y=Number.MAX_VALUE,h=[y,y],n=[-y,-y],c=[],o=[],a=this.geometries,u=0;u<a.length;u++)"polygon"===a[u].type&&(w.fromPoints(a[u].exterior,c,o),t.min(h,h,c),t.max(n,n,o));return 0===u&&(h[0]=h[1]=n[0]=n[1]=0),this._rect=new T(h[0],h[1],n[0]-h[0],n[1]-h[1])},contain:function(b){var y=this.getBoundingRect(),h=this.geometries;if(!y.contain(b[0],b[1]))return!1;t:for(var n=0,c=h.length;n<c;n++)if("polygon"===h[n].type){var a=h[n].interiors;if(M.contain(h[n].exterior,b[0],b[1])){for(var u=0;u<(a?a.length:0);u++)if(M.contain(a[u]))continue t;return!0}}return!1},transformTo:function(b,y,h,n){var c=this.getBoundingRect(),o=c.width/c.height;h?n||(n=h/o):h=o*n;for(var a=new T(b,y,h,n),u=c.calculateTransform(a),e=this.geometries,s=0;s<e.length;s++)if("polygon"===e[s].type){for(var r=e[s].exterior,l=e[s].interiors,d=0;d<r.length;d++)t.applyTransform(r[d],r[d],u);for(var v=0;v<(l?l.length:0);v++)for(d=0;d<l[v].length;d++)t.applyTransform(l[v][d],l[v][d],u)}(c=this._rect).copy(a),this.center=[c.x+c.width/2,c.y+c.height/2]},cloneShallow:function(b){null==b&&(b=this.name);var y=new I(b,this.geometries,this.center);return y._rect=this._rect,y.transformTo=null,y}},j.exports=I},40451:j=>{var U=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];j.exports=function i(T,w){"china"===T&&"\u53f0\u6e7e"===w.name&&w.geometries.push({type:"polygon",exterior:U[0]})}},46246:j=>{var U={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};j.exports=function i(T,w){if("world"===T){var t=U[w.name];if(t){var M=w.center;M[0]=t[0],M[1]=t[1]}}}},88239:(j,U,i)=>{for(var T=i(66615),w=i(6540),t=[126,25],M=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],I=0;I<M.length;I++)for(var D=0;D<M[I].length;D++)M[I][D][0]/=10.5,M[I][D][1]/=-14,M[I][D][0]+=t[0],M[I][D][1]+=t[1];j.exports=function b(y,h){"china"===y&&h.push(new w("\u5357\u6d77\u8bf8\u5c9b",T.map(M,function(n){return{type:"polygon",exterior:n}}),t))}},29356:j=>{var U={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]};j.exports=function i(T,w){if("china"===T){var t=U[w.name];if(t){var M=w.center;M[0]+=t[0]/10.5,M[1]+=-t[1]/14}}}},71059:(j,U,i)=>{i(78322);var t=i(53639),M=i(66615),I=i(85577),D=i(10942),b=i(68301),y=i(59191),h=i(38511);function n(u,e){var s=u.get("boundingCoords");if(null!=s){var r=s[0],l=s[1];isNaN(r[0])||isNaN(r[1])||isNaN(l[0])||isNaN(l[1])||this.setBoundingRect(r[0],r[1],l[0]-r[0],l[1]-r[1])}var v,d=this.getBoundingRect(),f=u.get("layoutCenter"),p=u.get("layoutSize"),S=e.getWidth(),C=e.getHeight(),x=d.width/d.height*this.aspectScale,g=!1;if(f&&p&&(f=[b.parsePercent(f[0],S),b.parsePercent(f[1],C)],p=b.parsePercent(p,Math.min(S,C)),!isNaN(f[0])&&!isNaN(f[1])&&!isNaN(p)&&(g=!0)),g){var m={};x>1?(m.width=p,m.height=p/x):(m.height=p,m.width=p*x),m.y=f[1]-m.height/2,m.x=f[0]-m.width/2}else(v=u.getBoxLayoutParams()).aspect=x,m=D.getLayoutRect(v,{width:S,height:C});this.setViewRect(m.x,m.y,m.width,m.height),this.setCenter(u.get("center")),this.setZoom(u.get("zoom"))}function c(u,e){M.each(e.get("geoCoord"),function(s,r){u.addGeoCoord(r,s)})}var o={dimensions:I.prototype.dimensions,create:function(u,e){var s=[];u.eachComponent("geo",function(l,d){var v=l.get("map"),f=l.get("aspectScale"),p=!0,S=h.retrieveMap(v);S&&S[0]&&"svg"===S[0].type?(null==f&&(f=1),p=!1):null==f&&(f=.75);var C=new I(v+d,v,l.get("nameMap"),p);C.aspectScale=f,C.zoomLimit=l.get("scaleLimit"),s.push(C),c(C,l),l.coordinateSystem=C,C.model=l,C.resize=n,C.resize(l,e)}),u.eachSeries(function(l){if("geo"===l.get("coordinateSystem")){var v=l.get("geoIndex")||0;l.coordinateSystem=s[v]}});var r={};return u.eachSeriesByType("map",function(l){if(!l.getHostGeoModel()){var d=l.getMapType();r[d]=r[d]||[],r[d].push(l)}}),M.each(r,function(l,d){var v=M.map(l,function(p){return p.get("nameMap")}),f=new I(d,d,M.mergeAll(v));f.zoomLimit=M.retrieve.apply(null,M.map(l,function(p){return p.get("scaleLimit")})),s.push(f),f.resize=n,f.aspectScale=l[0].get("aspectScale"),f.resize(l[0],e),M.each(l,function(p){p.coordinateSystem=f,c(f,p)})}),s},getFilledRegions:function(u,e,s){for(var r=(u||[]).slice(),l=M.createHashMap(),d=0;d<r.length;d++)l.set(r[d].name,r[d]);var v=y.load(e,s);return M.each(v.regions,function(f){var p=f.name;!l.get(p)&&r.push({name:p})}),r}};t.registerCoordinateSystem("geo",o),j.exports=o},36782:(j,U,i)=>{var w=i(66615).each,t=i(93153),I=i(21617).makeInner,D=i(88239),b=i(29356),y=i(46246),h=i(40451),n=I();function o(a){for(var u,e=0;e<a.length;e++){var s=a[e].getBoundingRect();(u=u||s.clone()).union(s)}return u}j.exports={load:function(a,u,e){var s=n(u).parsed;if(s)return s;var d,r=u.specialAreas||{},l=u.geoJSON;try{d=l?t(l,e):[]}catch(v){throw new Error("Invalid geoJson format\n"+v.message)}return D(a,d),w(d,function(v){var f=v.name;b(a,v),y(a,v),h(a,v);var p=r[f];p&&v.transformTo(p.left,p.top,p.width,p.height)}),n(u).parsed={regions:d,boundingRect:o(d)}}}},42454:(j,U,i)=>{var T=i(10990),w=T.parseSVG,t=T.makeViewBoxTransform,M=i(29367),I=i(68341),D=i(66615),b=D.assert,y=D.createHashMap,h=i(94525),o=(0,i(21617).makeInner)();function u(e,s){var l,d,r=e.svgXML;try{l=r&&w(r,{ignoreViewBox:!0,ignoreRootClip:!0})||{},b(null!=(d=l.root))}catch(x){throw new Error("Invalid svg format\n"+x.message)}var v=l.width,f=l.height,p=l.viewBoxRect;if(s||(s=null==v||null==f?d.getBoundingRect():new h(0,0,0,0),null!=v&&(s.width=v),null!=f&&(s.height=f)),p){var S=t(p,s.width,s.height),C=d;(d=new M).add(C),C.scale=S.scale,C.position=S.position}return d.setClipPath(new I({shape:s.plain()})),{root:d,boundingRect:s}}j.exports={load:function(e,s){var r=o(s).originRoot;if(r)return{root:r,boundingRect:o(s).boundingRect};var l=u(s);return o(s).originRoot=l.root,o(s).boundingRect=l.boundingRect,l},makeGraphic:function(e,s,r){var l=o(s),d=l.rootMap||(l.rootMap=y()),v=d.get(r);if(v)return v;var f=l.originRoot;return l.originRootHostKey?v=u(s,l.boundingRect).root:(l.originRootHostKey=r,v=f),d.set(r,v)},removeGraphic:function(e,s,r){var l=o(s),d=l.rootMap;d&&d.removeKey(r),r===l.originRootHostKey&&(l.originRootHostKey=null)}}},59191:(j,U,i)=>{i(78322);var t=i(66615),M=t.each,I=t.createHashMap,D=i(38511),b=i(36782),y=i(42454),h=i(94525),n={geoJSON:b,svg:y},c={load:function(e,s,r){var f,l=[],d=I(),v=I(),p=u(e);return M(p,function(S){var C=n[S.type].load(e,S,r);M(C.regions,function(g){var m=g.name;s&&s.hasOwnProperty(m)&&(g=g.cloneShallow(m=s[m])),l.push(g),d.set(m,g),v.set(m,g.center)});var x=C.boundingRect;x&&(f?f.union(x):f=x.clone())}),{regions:l,regionsMap:d,nameCoordMap:v,boundingRect:f||new h(0,0,0,0)}},makeGraphic:o("makeGraphic"),removeGraphic:o("removeGraphic")};function o(e){return function(s,r){var l=u(s),d=[];return M(l,function(v){var f=n[v.type][e];f&&d.push(f(s,v,r))}),d}}function u(e){return D.retrieveMap(e)||[]}j.exports=c},38511:(j,U,i)=>{i(78322);var t=i(66615),M=t.createHashMap,I=t.isString,D=t.isArray,b=t.each,n=i(10990).parseXML,c=M(),o={registerMap:function(u,e,s){var r;return D(e)?r=e:e.svg?r=[{type:"svg",source:e.svg,specialAreas:e.specialAreas}]:(e.geoJson&&!e.features&&(s=e.specialAreas,e=e.geoJson),r=[{type:"geoJSON",source:e,specialAreas:s}]),b(r,function(l){var d=l.type;"geoJson"===d&&(d=l.type="geoJSON"),(0,a[d])(l)}),c.set(u,r)},retrieveMap:function(u){return c.get(u)}},a={geoJSON:function(u){var e=u.source;u.geoJSON=I(e)?typeof JSON<"u"&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(u){u.svgXML=n(u.source)}};j.exports=o},93153:(j,U,i)=>{var T=i(66615),w=i(6540);function M(D,b,y){for(var h=[],n=b[0],c=b[1],o=0;o<D.length;o+=2){var a=D.charCodeAt(o)-64,u=D.charCodeAt(o+1)-64;a=a>>1^-(1&a),u=u>>1^-(1&u),n=a+=n,c=u+=c,h.push([a/y,u/y])}return h}j.exports=function I(D,b){return function t(D){if(!D.UTF8Encoding)return D;var b=D.UTF8Scale;null==b&&(b=1024);for(var y=D.features,h=0;h<y.length;h++)for(var c=y[h].geometry,o=c.coordinates,a=c.encodeOffsets,u=0;u<o.length;u++){var e=o[u];if("Polygon"===c.type)o[u]=M(e,a[u],b);else if("MultiPolygon"===c.type)for(var s=0;s<e.length;s++)e[s]=M(e[s],a[u][s],b)}D.UTF8Encoding=!1}(D),T.map(T.filter(D.features,function(y){return y.geometry&&y.properties&&y.geometry.coordinates.length>0}),function(y){var h=y.properties,n=y.geometry,c=n.coordinates,o=[];"Polygon"===n.type&&o.push({type:"polygon",exterior:c[0],interiors:c.slice(1)}),"MultiPolygon"===n.type&&T.each(c,function(u){u[0]&&o.push({type:"polygon",exterior:u[0],interiors:u.slice(1)})});var a=new w(h[b||"name"],o,h.cp);return a.properties=h,a})}},93827:(j,U,i)=>{var T=i(66615);function w(M,I){return I=I||[0,0],T.map([0,1],function(D){var b=I[D],y=M[D]/2,h=[],n=[];return h[D]=b-y,n[D]=b+y,h[1-D]=n[1-D]=I[1-D],Math.abs(this.dataToPoint(h)[D]-this.dataToPoint(n)[D])},this)}j.exports=function t(M){var I=M.getBoundingRect();return{coordSys:{type:"geo",x:I.x,y:I.y,width:I.width,height:I.height,zoom:M.getZoom()},api:{coord:function(D){return M.dataToPoint(D)},size:T.bind(w,M)}}}},22792:(j,U,i)=>{var T=i(66615),w=i(42310),t=i(97005),M=i(69710),I=i(68301),D=i(69896),b=w.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return t([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(c){var o=this.activeIntervals=T.clone(c);if(o)for(var a=o.length-1;a>=0;a--)I.asc(o[a])},getActiveState:function(c){var o=this.activeIntervals;if(!o.length)return"normal";if(null==c||isNaN(c))return"inactive";if(1===o.length){var a=o[0];if(a[0]<=c&&c<=a[1])return"active"}else for(var u=0,e=o.length;u<e;u++)if(o[u][0]<=c&&c<=o[u][1])return"active";return"inactive"}});T.merge(b.prototype,D),M("parallel",b,function h(c,o){return o.type||(o.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10}),j.exports=b},37315:(j,U,i)=>{var T=i(66615),w=i(84498),t=i(10942),M=i(84004),I=i(1192),D=i(32694),b=i(68301),y=i(77311),h=T.each,n=Math.min,c=Math.max,o=Math.floor,a=Math.ceil,u=b.round,e=Math.PI;function s(f,p,S){this._axesMap=T.createHashMap(),this._axesLayout={},this.dimensions=f.dimensions,this._model=f,this._init(f,p,S)}function r(f,p){return n(c(f,p[0]),p[1])}function l(f,p){var S=p.layoutLength/(p.axisCount-1);return{position:S*f,axisNameAvailableWidth:S,axisLabelShow:!0}}function d(f,p){var A,N,C=p.axisExpandWidth,g=p.axisCollapseWidth,m=p.winInnerIndices,L=g,E=!1;return f<m[0]?(A=f*g,N=g):f<=m[1]?(A=p.axisExpandWindow0Pos+f*C-p.axisExpandWindow[0],L=C,E=!0):(A=p.layoutLength-(p.axisCount-1-f)*g,N=g),{position:A,axisNameAvailableWidth:L,axisLabelShow:E,nameTruncateMaxWidth:N}}s.prototype={type:"parallel",constructor:s,_init:function(f,p,S){var x=f.parallelAxisIndex;h(f.dimensions,function(g,m){var A=x[m],L=p.getComponent("parallelAxis",A),E=this._axesMap.set(g,new I(g,M.createScaleByModel(L),[0,0],L.get("type"),A));E.onBand="category"===E.type&&L.get("boundaryGap"),E.inverse=L.get("inverse"),L.axis=E,E.model=L,E.coordinateSystem=L.coordinateSystem=this},this)},update:function(f,p){this._updateAxesFromSeries(this._model,f)},containPoint:function(f){var p=this._makeLayoutInfo(),S=p.axisBase,C=p.layoutBase,x=p.pixelDimIndex,g=f[1-x],m=f[x];return g>=S&&g<=S+p.axisLength&&m>=C&&m<=C+p.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(f,p){p.eachSeries(function(S){if(f.contains(S,p)){var C=S.getData();h(this.dimensions,function(x){var g=this._axesMap.get(x);g.scale.unionExtentFromData(C,C.mapDimension(x)),M.niceScaleExtent(g.scale,g.model)},this)}},this)},resize:function(f,p){this._rect=t.getLayoutRect(f.getBoxLayoutParams(),{width:p.getWidth(),height:p.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var H,f=this._model,p=this._rect,S=["x","y"],C=["width","height"],x=f.get("layout"),g="horizontal"===x?0:1,m=p[C[g]],A=[0,m],L=this.dimensions.length,E=r(f.get("axisExpandWidth"),A),N=r(f.get("axisExpandCount")||0,[0,L]),R=f.get("axisExpandable")&&L>3&&L>N&&N>1&&E>0&&m>0,F=f.get("axisExpandWindow");F?(H=r(F[1]-F[0],A),F[1]=F[0]+H):(H=r(E*(N-1),A),(F=[E*(f.get("axisExpandCenter")||o(L/2))-H/2])[1]=F[0]+H);var Z=(m-H)/(L-N);Z<3&&(Z=0);var W=[o(u(F[0]/E,1))+1,a(u(F[1]/E,1))-1];return{layout:x,pixelDimIndex:g,layoutBase:p[S[g]],layoutLength:m,axisBase:p[S[1-g]],axisLength:p[C[1-g]],axisExpandable:R,axisExpandWidth:E,axisCollapseWidth:Z,axisExpandWindow:F,axisCount:L,winInnerIndices:W,axisExpandWindow0Pos:Z/E*F[0]}},_layoutAxes:function(){var f=this._rect,p=this._axesMap,S=this.dimensions,C=this._makeLayoutInfo(),x=C.layout;p.each(function(g){var m=[0,C.axisLength],A=g.inverse?1:0;g.setExtent(m[A],m[1-A])}),h(S,function(g,m){var A=(C.axisExpandable?d:l)(m,C),L={horizontal:{x:A.position,y:C.axisLength},vertical:{x:0,y:A.position}},N=[L[x].x+f.x,L[x].y+f.y],R={horizontal:e/2,vertical:0}[x],F=w.create();w.rotate(F,F,R),w.translate(F,F,N),this._axesLayout[g]={position:N,rotation:R,transform:F,axisNameAvailableWidth:A.axisNameAvailableWidth,axisLabelShow:A.axisLabelShow,nameTruncateMaxWidth:A.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(f){return this._axesMap.get(f)},dataToPoint:function(f,p){return this.axisCoordToPoint(this._axesMap.get(p).dataToCoord(f),p)},eachActiveState:function(f,p,S,C){null==S&&(S=0),null==C&&(C=f.count());var x=this._axesMap,g=this.dimensions,m=[],A=[];T.each(g,function(Z){m.push(f.mapDimension(Z)),A.push(x.get(Z).model)});for(var L=this.hasAxisBrushed(),E=S;E<C;E++){var N;if(L){N="active";for(var R=f.getValues(m,E),F=0,H=g.length;F<H;F++)if("inactive"===A[F].getActiveState(R[F])){N="inactive";break}}else N="normal";p(N,E)}},hasAxisBrushed:function(){for(var f=this.dimensions,p=this._axesMap,S=!1,C=0,x=f.length;C<x;C++)"normal"!==p.get(f[C]).model.getActiveState()&&(S=!0);return S},axisCoordToPoint:function(f,p){return D.applyTransform([f,0],this._axesLayout[p].transform)},getAxisLayout:function(f){return T.clone(this._axesLayout[f])},getSlidedAxisExpandWindow:function(f){var p=this._makeLayoutInfo(),S=p.pixelDimIndex,C=p.axisExpandWindow.slice(),x=C[1]-C[0],g=[0,p.axisExpandWidth*(p.axisCount-1)];if(!this.containPoint(f))return{behavior:"none",axisExpandWindow:C};var A,m=f[S]-p.layoutBase-p.axisExpandWindow0Pos,L="slide",E=p.axisCollapseWidth,N=this._model.get("axisExpandSlideTriggerArea"),R=null!=N[0];return E?(R&&E&&m<x*N[0]?(L="jump",A=m-x*N[2]):R&&E&&m>x*(1-N[0])?(L="jump",A=m-x*(1-N[2])):(A=m-x*N[1])>=0&&(A=m-x*(1-N[1]))<=0&&(A=0),(A*=p.axisExpandWidth/E)?y(A,C,g,"all"):L="none"):((C=[c(0,g[1]*m/(x=C[1]-C[0])-x/2)])[1]=n(g[1],C[0]+x),C[0]=C[1]-x),{axisExpandWindow:C,behavior:L}}},j.exports=s},1192:(j,U,i)=>{var T=i(66615),w=i(20330),t=function(I,D,b,y,h){w.call(this,I,D,b),this.type=y||"value",this.axisIndex=h};t.prototype={constructor:t,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},T.inherits(t,w),j.exports=t},63919:(j,U,i)=>{var T=i(66615),w=i(42310);i(22792);var t=w.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){w.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(M){M&&T.merge(this.option,M,!0),this._initDimensions()},contains:function(M,I){var D=M.get("parallelIndex");return null!=D&&I.getComponent("parallel",D)===this},setAxisExpand:function(M){T.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(I){M.hasOwnProperty(I)&&(this.option[I]=M[I])},this)},_initDimensions:function(){var M=this.dimensions=[],I=this.parallelAxisIndex=[],D=T.filter(this.dependentModels.parallelAxis,function(b){return(b.get("parallelIndex")||0)===this.componentIndex},this);T.each(D,function(b){M.push("dim"+b.get("dim")),I.push(b.componentIndex)})}});j.exports=t},40978:(j,U,i)=>{var T=i(37315);i(51548).register("parallel",{create:function t(M,I){var D=[];return M.eachComponent("parallel",function(b,y){var h=new T(b,M,I);h.name="parallel_"+y,h.resize(b,I),b.coordinateSystem=h,h.model=b,D.push(h)}),M.eachSeries(function(b){if("parallel"===b.get("coordinateSystem")){var y=M.queryComponents({mainType:"parallel",index:b.get("parallelIndex"),id:b.get("parallelId")})[0];b.coordinateSystem=y.coordinateSystem}}),D}})},28322:(j,U,i)=>{var T=i(66615),w=i(21617);j.exports=function t(D){(function M(D){if(!D.parallel){var b=!1;T.each(D.series,function(y){y&&"parallel"===y.type&&(b=!0)}),b&&(D.parallel=[{}])}})(D),function I(D){var b=w.normalizeToArray(D.parallelAxis);T.each(b,function(y){if(T.isObject(y)){var h=y.parallelIndex||0,n=w.normalizeToArray(D.parallel)[h];n&&n.parallelAxisDefault&&T.merge(y,n.parallelAxisDefault,!1)}})}(D)}},51898:(j,U,i)=>{var T=i(66615),w=i(50585),t=i(20330),D=(0,i(21617).makeInner)();function b(h,n){t.call(this,"angle",h,n=n||[0,360]),this.type="category"}b.prototype={constructor:b,pointToData:function(h,n){return this.polar.pointToData(h,n)["radius"===this.dim?0:1]},dataToAngle:t.prototype.dataToCoord,angleToData:t.prototype.coordToData,calculateCategoryInterval:function(){var h=this,n=h.getLabelModel(),c=h.scale,o=c.getExtent(),a=c.count();if(o[1]-o[0]<1)return 0;var u=o[0],e=h.dataToCoord(u+1)-h.dataToCoord(u),s=Math.abs(e),r=w.getBoundingRect(u,n.getFont(),"center","top"),d=Math.max(r.height,7)/s;isNaN(d)&&(d=1/0);var v=Math.max(0,Math.floor(d)),f=D(h.model),p=f.lastAutoInterval,S=f.lastTickCount;return null!=p&&null!=S&&Math.abs(p-v)<=1&&Math.abs(S-a)<=1&&p>v?v=p:(f.lastTickCount=a,f.lastAutoInterval=v),v}},T.inherits(b,t),j.exports=b},82291:(j,U,i)=>{var T=i(66615),w=i(42310),t=i(69710),M=i(69896),I=w.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});T.merge(I.prototype,M);function b(y,h){return h.type||(h.data?"category":"value")}t("angle",I,b,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),t("radius",I,b,{splitNumber:5})},45193:(j,U,i)=>{var T=i(39617),w=i(51898),t=function(I){this.name=I||"",this.cx=0,this.cy=0,this._radiusAxis=new T,this._angleAxis=new w,this._radiusAxis.polar=this._angleAxis.polar=this};t.prototype={type:"polar",axisPointerEnabled:!0,constructor:t,dimensions:["radius","angle"],model:null,containPoint:function(I){var D=this.pointToCoord(I);return this._radiusAxis.contain(D[0])&&this._angleAxis.contain(D[1])},containData:function(I){return this._radiusAxis.containData(I[0])&&this._angleAxis.containData(I[1])},getAxis:function(I){return this["_"+I+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(I){var D=[],b=this._angleAxis,y=this._radiusAxis;return b.scale.type===I&&D.push(b),y.scale.type===I&&D.push(y),D},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(I){var D=this._angleAxis;return I===D?this._radiusAxis:D},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(I){var D=null!=I&&"auto"!==I?this.getAxis(I):this.getBaseAxis();return{baseAxes:[D],otherAxes:[this.getOtherAxis(D)]}},dataToPoint:function(I,D){return this.coordToPoint([this._radiusAxis.dataToRadius(I[0],D),this._angleAxis.dataToAngle(I[1],D)])},pointToData:function(I,D){var b=this.pointToCoord(I);return[this._radiusAxis.radiusToData(b[0],D),this._angleAxis.angleToData(b[1],D)]},pointToCoord:function(I){var D=I[0]-this.cx,b=I[1]-this.cy,y=this.getAngleAxis(),h=y.getExtent(),n=Math.min(h[0],h[1]),c=Math.max(h[0],h[1]);y.inverse?n=c-360:c=n+360;var o=Math.sqrt(D*D+b*b);D/=o,b/=o;for(var a=Math.atan2(-b,D)/Math.PI*180,u=a<n?1:-1;a<n||a>c;)a+=360*u;return[o,a]},coordToPoint:function(I){var D=I[0],b=I[1]/180*Math.PI;return[Math.cos(b)*D+this.cx,-Math.sin(b)*D+this.cy]},getArea:function(){var I=this.getAngleAxis(),b=this.getRadiusAxis().getExtent().slice();b[0]>b[1]&&b.reverse();var y=I.getExtent(),h=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:b[0],r:b[1],startAngle:-y[0]*h,endAngle:-y[1]*h,clockwise:I.inverse,contain:function(n,c){var o=n-this.cx,a=c-this.cy,u=o*o+a*a,e=this.r,s=this.r0;return u<=e*e&&u>=s*s}}}},j.exports=t},53967:(j,U,i)=>{var T=i(53639);i(82291);var w=T.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var M;return this.ecModel.eachComponent(t,function(D){D.getCoordSysModel()===this&&(M=D)},this),M},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});j.exports=w},39617:(j,U,i)=>{var T=i(66615),w=i(20330);function t(I,D){w.call(this,"radius",I,D),this.type="category"}t.prototype={constructor:t,pointToData:function(I,D){return this.polar.pointToData(I,D)["radius"===this.dim?0:1]},dataToRadius:w.prototype.dataToCoord,radiusToData:w.prototype.coordToData},T.inherits(t,w),j.exports=t},97924:(j,U,i)=>{i(78322);var t=i(66615),M=i(45193),D=i(68301).parsePercent,b=i(84004),y=b.createScaleByModel,h=b.niceScaleExtent,n=i(51548),o=i(69816).getStackedDimension;function u(r,l){var d=this,v=d.getAngleAxis(),f=d.getRadiusAxis();if(v.scale.setExtent(1/0,-1/0),f.scale.setExtent(1/0,-1/0),r.eachSeries(function(C){if(C.coordinateSystem===d){var x=C.getData();t.each(x.mapDimension("radius",!0),function(g){f.scale.unionExtentFromData(x,o(x,g))}),t.each(x.mapDimension("angle",!0),function(g){v.scale.unionExtentFromData(x,o(x,g))})}}),h(v.scale,v.model),h(f.scale,f.model),"category"===v.type&&!v.onBand){var p=v.getExtent(),S=360/v.scale.count();v.inverse?p[1]+=S:p[1]-=S,v.setExtent(p[0],p[1])}}function e(r,l){if(r.type=l.get("type"),r.scale=y(l),r.onBand=l.get("boundaryGap")&&"category"===r.type,r.inverse=l.get("inverse"),"angleAxis"===l.mainType){r.inverse^=l.get("clockwise");var d=l.get("startAngle");r.setExtent(d,d+(r.inverse?-360:360))}l.axis=r,r.model=l}i(53967),n.register("polar",{dimensions:M.prototype.dimensions,create:function(r,l){var d=[];return r.eachComponent("polar",function(v,f){var p=new M(f);p.update=u;var S=p.getRadiusAxis(),C=p.getAngleAxis(),x=v.findAxisModel("radiusAxis"),g=v.findAxisModel("angleAxis");e(S,x),e(C,g),function a(r,l,d){var v=l.get("center"),f=d.getWidth(),p=d.getHeight();r.cx=D(v[0],f),r.cy=D(v[1],p);var S=r.getRadiusAxis(),C=Math.min(f,p)/2,x=l.get("radius");null==x?x=[0,"100%"]:t.isArray(x)||(x=[0,x]),x=[D(x[0],C),D(x[1],C)],S.inverse?S.setExtent(x[1],x[0]):S.setExtent(x[0],x[1])}(p,v,l),d.push(p),v.coordinateSystem=p,p.model=v}),r.eachSeries(function(v){if("polar"===v.get("coordinateSystem")){var f=r.queryComponents({mainType:"polar",index:v.get("polarIndex"),id:v.get("polarId")})[0];v.coordinateSystem=f.coordinateSystem}}),d}})},95302:(j,U,i)=>{var T=i(66615);function w(M,I){return T.map(["Radius","Angle"],function(D,b){var y=this["get"+D+"Axis"](),h=I[b],n=M[b]/2,c="dataTo"+D,o="category"===y.type?y.getBandWidth():Math.abs(y[c](h-n)-y[c](h+n));return"Angle"===D&&(o=o*Math.PI/180),o},this)}j.exports=function t(M){var I=M.getRadiusAxis(),D=M.getAngleAxis(),b=I.getExtent();return b[0]>b[1]&&b.reverse(),{coordSys:{type:"polar",cx:M.cx,cy:M.cy,r:b[1],r0:b[0]},api:{coord:T.bind(function(y){var h=I.dataToRadius(y[0]),n=D.dataToAngle(y[1]),c=M.coordToPoint([h,n]);return c.push(h,n*Math.PI/180),c}),size:T.bind(w,M)}}}},55971:(j,U,i)=>{var T=i(66615),w=i(20330);function t(I,D,b){w.call(this,I,D,b),this.type="value",this.angle=0,this.name=""}T.inherits(t,w),j.exports=t},32710:(j,U,i)=>{var T=i(66615),w=i(55971),t=i(70098),M=i(68301),I=i(84004),D=I.getScaleExtent,b=I.niceScaleExtent,y=i(51548),h=i(95512);function n(o,a,u){this._model=o,this.dimensions=[],this._indicatorAxes=T.map(o.getIndicatorModels(),function(e,s){var r="indicator_"+s,l=new w(r,"log"===e.get("axisType")?new h:new t);return l.name=e.get("name"),l.model=e,e.axis=l,this.dimensions.push(r),l},this),this.resize(o,u)}n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(o,a){return this.coordToPoint(this._indicatorAxes[a].dataToCoord(o),a)},n.prototype.coordToPoint=function(o,a){var e=this._indicatorAxes[a].angle;return[this.cx+o*Math.cos(e),this.cy-o*Math.sin(e)]},n.prototype.pointToData=function(o){var a=o[0]-this.cx,u=o[1]-this.cy,e=Math.sqrt(a*a+u*u);a/=e,u/=e;for(var l,s=Math.atan2(-u,a),r=1/0,d=-1,v=0;v<this._indicatorAxes.length;v++){var f=this._indicatorAxes[v],p=Math.abs(s-f.angle);p<r&&(l=f,d=v,r=p)}return[d,+(l&&l.coordToData(e))]},n.prototype.resize=function(o,a){var u=o.get("center"),e=a.getWidth(),s=a.getHeight(),r=Math.min(e,s)/2;this.cx=M.parsePercent(u[0],e),this.cy=M.parsePercent(u[1],s),this.startAngle=o.get("startAngle")*Math.PI/180;var l=o.get("radius");("string"==typeof l||"number"==typeof l)&&(l=[0,l]),this.r0=M.parsePercent(l[0],r),this.r=M.parsePercent(l[1],r),T.each(this._indicatorAxes,function(d,v){d.setExtent(this.r0,this.r);var f=this.startAngle+v*Math.PI*2/this._indicatorAxes.length;f=Math.atan2(Math.sin(f),Math.cos(f)),d.angle=f},this)},n.prototype.update=function(o,a){var u=this._indicatorAxes,e=this._model;T.each(u,function(l){l.scale.setExtent(1/0,-1/0)}),o.eachSeriesByType("radar",function(l,d){if("radar"===l.get("coordinateSystem")&&o.getComponent("radar",l.get("radarIndex"))===e){var v=l.getData();T.each(u,function(f){f.scale.unionExtentFromData(v,v.mapDimension(f.dim))})}},this);var s=e.get("splitNumber");function r(l){var d=Math.pow(10,Math.floor(Math.log(l)/Math.LN10)),v=l/d;return 2===v?v=5:v*=2,v*d}T.each(u,function(l,d){var v=D(l.scale,l.model).extent;b(l.scale,l.model);var f=l.model,p=l.scale,S=f.getMin(),C=f.getMax(),x=p.getInterval();if(null!=S&&null!=C)p.setExtent(+S,+C),p.setInterval((C-S)/s);else if(null!=S)do{p.setExtent(+S,g=S+x*s),p.setInterval(x),x=r(x)}while(g<v[1]&&isFinite(g)&&isFinite(v[1]));else if(null!=C)do{p.setExtent(m=C-x*s,+C),p.setInterval(x),x=r(x)}while(m>v[0]&&isFinite(m)&&isFinite(v[0]));else{p.getTicks().length-1>s&&(x=r(x));var g=Math.ceil(v[1]/x)*x,m=M.round(g-x*s);p.setExtent(m,g),p.setInterval(x)}})},n.dimensions=[],n.create=function(o,a){var u=[];return o.eachComponent("radar",function(e){var s=new n(e,o,a);u.push(s),e.coordinateSystem=s}),o.eachSeriesByType("radar",function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=u[e.get("radarIndex")||0])}),u},y.register("radar",n),j.exports=n},80898:(j,U,i)=>{var T=i(53639),w=i(66615),t=i(34616),M=i(82356),I=i(69896),D=t.valueAxis;function b(n,c){return w.defaults({show:c},n)}var y=T.extendComponentModel({type:"radar",optionUpdated:function(){var n=this.get("boundaryGap"),c=this.get("splitNumber"),o=this.get("scale"),a=this.get("axisLine"),u=this.get("axisTick"),e=this.get("axisType"),s=this.get("axisLabel"),r=this.get("name"),l=this.get("name.show"),d=this.get("name.formatter"),v=this.get("nameGap"),f=this.get("triggerEvent"),p=w.map(this.get("indicator")||[],function(S){null!=S.max&&S.max>0&&!S.min?S.min=0:null!=S.min&&S.min<0&&!S.max&&(S.max=0);var C=r;null!=S.color&&(C=w.defaults({color:S.color},r)),S=w.merge(w.clone(S),{boundaryGap:n,splitNumber:c,scale:o,axisLine:a,axisTick:u,axisType:e,axisLabel:s,name:S.text,nameLocation:"end",nameGap:v,nameTextStyle:C,triggerEvent:f},!1),l||(S.name=""),"string"==typeof d?S.name=d.replace("{value}",S.name??""):"function"==typeof d&&(S.name=d(S.name,S));var g=w.extend(new M(S,null,this.ecModel),I);return g.mainType="radar",g.componentIndex=this.componentIndex,g},this);this.getIndicatorModels=function(){return p}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:w.merge({lineStyle:{color:"#bbb"}},D.axisLine),axisLabel:b(D.axisLabel,!1),axisTick:b(D.axisTick,!1),axisType:"interval",splitLine:b(D.splitLine,!0),splitArea:b(D.splitArea,!0),indicator:[]}});j.exports=y},4531:(j,U,i)=>{var T=i(66615),w=i(42310),t=i(69710),M=i(69896),I=w.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});T.merge(I.prototype,M),t("single",I,function b(h,n){return n.type||(n.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}}),j.exports=I},46384:(j,U,i)=>{var T=i(87641),w=i(84004),M=i(10942).getLayoutRect,D=i(66615).each;function b(h,n,c){this.dimension="single",this.dimensions=["single"],this._axis=null,this._init(h,n,c),this.model=h}b.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:b,_init:function(h,n,c){var a=new T(this.dimension,w.createScaleByModel(h),[0,0],h.get("type"),h.get("position"));a.onBand="category"===a.type&&h.get("boundaryGap"),a.inverse=h.get("inverse"),a.orient=h.get("orient"),h.axis=a,a.model=h,a.coordinateSystem=this,this._axis=a},update:function(h,n){h.eachSeries(function(c){if(c.coordinateSystem===this){var o=c.getData();D(o.mapDimension(this.dimension,!0),function(a){this._axis.scale.unionExtentFromData(o,a)},this),w.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(h,n){this._rect=M({left:h.get("left"),top:h.get("top"),right:h.get("right"),bottom:h.get("bottom"),width:h.get("width"),height:h.get("height")},{width:n.getWidth(),height:n.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var h=this._rect,n=this._axis,c=n.isHorizontal(),o=c?[0,h.width]:[0,h.height],a=n.reverse?1:0;n.setExtent(o[a],o[1-a]),this._updateAxisTransform(n,c?h.x:h.y)},_updateAxisTransform:function(h,n){var c=h.getExtent(),o=c[0]+c[1],a=h.isHorizontal();h.toGlobalCoord=a?function(u){return u+n}:function(u){return o-u+n},h.toLocalCoord=a?function(u){return u-n}:function(u){return o-u+n}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(h){var n=this.getRect(),c=this.getAxis();return"horizontal"===c.orient?c.contain(c.toLocalCoord(h[0]))&&h[1]>=n.y&&h[1]<=n.y+n.height:c.contain(c.toLocalCoord(h[1]))&&h[0]>=n.y&&h[0]<=n.y+n.height},pointToData:function(h){var n=this.getAxis();return[n.coordToData(n.toLocalCoord(h["horizontal"===n.orient?0:1]))]},dataToPoint:function(h){var n=this.getAxis(),c=this.getRect(),o=[],a="horizontal"===n.orient?0:1;return h instanceof Array&&(h=h[0]),o[a]=n.toGlobalCoord(n.dataToCoord(+h)),o[1-a]=0===a?c.y+c.height/2:c.x+c.width/2,o}},j.exports=b},87641:(j,U,i)=>{var T=i(66615),w=i(20330),t=function(I,D,b,y,h){w.call(this,I,D,b),this.type=y||"value",this.position=h||"bottom",this.orient=null};t.prototype={constructor:t,model:null,isHorizontal:function(){var I=this.position;return"top"===I||"bottom"===I},pointToData:function(I,D){return this.coordinateSystem.pointToData(I,D)[0]},toGlobalCoord:null,toLocalCoord:null},T.inherits(t,w),j.exports=t},34641:(j,U,i)=>{var T=i(66615);function w(M,I){var D=this.getAxis(),b=I instanceof Array?I[0]:I,y=(M instanceof Array?M[0]:M)/2;return"category"===D.type?D.getBandWidth():Math.abs(D.dataToCoord(b-y)-D.dataToCoord(b+y))}j.exports=function t(M){var I=M.getRect();return{coordSys:{type:"singleAxis",x:I.x,y:I.y,width:I.width,height:I.height},api:{coord:function(D){return M.dataToPoint(D)},size:T.bind(w,M)}}}},49929:(j,U,i)=>{var T=i(66615);U.layout=function w(t,M){M=M||{};var D=t.axis,b={},y=D.position,h=D.orient,n=t.coordinateSystem.getRect(),c=[n.x,n.x+n.width,n.y,n.y+n.height],o={horizontal:{top:c[2],bottom:c[3]},vertical:{left:c[0],right:c[1]}};b.position=["vertical"===h?o.vertical[y]:c[0],"horizontal"===h?o.horizontal[y]:c[3]],b.rotation=Math.PI/2*{horizontal:0,vertical:1}[h],b.labelDirection=b.tickDirection=b.nameDirection={top:-1,bottom:1,right:1,left:-1}[y],t.get("axisTick.inside")&&(b.tickDirection=-b.tickDirection),T.retrieve(M.labelInside,t.get("axisLabel.inside"))&&(b.labelDirection=-b.labelDirection);var e=M.rotate;return null==e&&(e=t.get("axisLabel.rotate")),b.labelRotation="top"===y?-e:e,b.z2=1,b}},85776:(j,U,i)=>{var T=i(46384);i(51548).register("single",{create:function t(M,I){var D=[];return M.eachComponent("singleAxis",function(b,y){var h=new T(b,M,I);h.name="single_"+y,h.resize(b,I),b.coordinateSystem=h,D.push(h)}),M.eachSeries(function(b){if("singleAxis"===b.get("coordinateSystem")){var y=M.queryComponents({mainType:"singleAxis",index:b.get("singleAxisIndex"),id:b.get("singleAxisId")})[0];b.coordinateSystem=y&&y.coordinateSystem}}),D},dimensions:T.prototype.dimensions})},12936:j=>{function U(t){return t}function i(t,M,I,D,b){this._old=t,this._new=M,this._oldKeyGetter=I||U,this._newKeyGetter=D||U,this.context=b}function T(t,M,I,D,b){for(var y=0;y<t.length;y++){var h="_ec_"+b[D](t[y],y),n=M[h];null==n?(I.push(h),M[h]=y):(n.length||(M[h]=n=[n]),n.push(y))}}i.prototype={constructor:i,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,M=this._new,D={},b=[],y=[];for(T(t,{},b,"_oldKeyGetter",this),T(M,D,y,"_newKeyGetter",this),h=0;h<t.length;h++)null!=(c=D[n=b[h]])?((o=c.length)?(1===o&&(D[n]=null),c=c.shift()):D[n]=null,this._update&&this._update(c,h)):this._remove&&this._remove(h);for(var h=0;h<y.length;h++){var n;if(D.hasOwnProperty(n=y[h])){var c;if(null==(c=D[n]))continue;if(c.length)for(var a=0,o=c.length;a<o;a++)this._add&&this._add(c[a]);else this._add&&this._add(c)}}}},j.exports=i},65541:(j,U,i)=>{var T=i(66615);j.exports=function w(M){null!=M&&T.extend(this,M),this.otherDims={}}},76677:(j,U,i)=>{i(78322);var t=i(66615),I=i(78789).enableClassCheck;function D(a){return"_EC_"+a}var b=function(a){this._directed=a||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={}},y=b.prototype;function h(a,u){this.id=a??"",this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=u??-1}function n(a,u,e){this.node1=a,this.node2=u,this.dataIndex=e??-1}y.type="graph",y.isDirected=function(){return this._directed},y.addNode=function(a,u){var e=this._nodesMap;if(!e[D(a=null==a?""+u:""+a)]){var s=new h(a,u);return s.hostGraph=this,this.nodes.push(s),e[D(a)]=s,s}},y.getNodeByIndex=function(a){var u=this.data.getRawIndex(a);return this.nodes[u]},y.getNodeById=function(a){return this._nodesMap[D(a)]},y.addEdge=function(a,u,e){var s=this._nodesMap,r=this._edgesMap;if("number"==typeof a&&(a=this.nodes[a]),"number"==typeof u&&(u=this.nodes[u]),h.isInstance(a)||(a=s[D(a)]),h.isInstance(u)||(u=s[D(u)]),a&&u){var l=a.id+"-"+u.id,d=new n(a,u,e);return d.hostGraph=this,this._directed&&(a.outEdges.push(d),u.inEdges.push(d)),a.edges.push(d),a!==u&&u.edges.push(d),this.edges.push(d),r[l]=d,d}},y.getEdgeByIndex=function(a){var u=this.edgeData.getRawIndex(a);return this.edges[u]},y.getEdge=function(a,u){h.isInstance(a)&&(a=a.id),h.isInstance(u)&&(u=u.id);var e=this._edgesMap;return this._directed?e[a+"-"+u]:e[a+"-"+u]||e[u+"-"+a]},y.eachNode=function(a,u){for(var e=this.nodes,s=e.length,r=0;r<s;r++)e[r].dataIndex>=0&&a.call(u,e[r],r)},y.eachEdge=function(a,u){for(var e=this.edges,s=e.length,r=0;r<s;r++)e[r].dataIndex>=0&&e[r].node1.dataIndex>=0&&e[r].node2.dataIndex>=0&&a.call(u,e[r],r)},y.breadthFirstTraverse=function(a,u,e,s){if(h.isInstance(u)||(u=this._nodesMap[D(u)]),u){for(var r="out"===e?"outEdges":"in"===e?"inEdges":"edges",l=0;l<this.nodes.length;l++)this.nodes[l].__visited=!1;if(!a.call(s,u,null))for(var d=[u];d.length;){var v=d.shift(),f=v[r];for(l=0;l<f.length;l++){var p=f[l],S=p.node1===v?p.node2:p.node1;if(!S.__visited){if(a.call(s,S,v))return;d.push(S),S.__visited=!0}}}}},y.update=function(){for(var a=this.data,u=this.edgeData,e=this.nodes,s=this.edges,r=0,l=e.length;r<l;r++)e[r].dataIndex=-1;for(r=0,l=a.count();r<l;r++)e[a.getRawIndex(r)].dataIndex=r;for(u.filterSelf(function(d){var v=s[u.getRawIndex(d)];return v.node1.dataIndex>=0&&v.node2.dataIndex>=0}),r=0,l=s.length;r<l;r++)s[r].dataIndex=-1;for(r=0,l=u.count();r<l;r++)s[u.getRawIndex(r)].dataIndex=r},y.clone=function(){for(var a=new b(this._directed),u=this.nodes,e=this.edges,s=0;s<u.length;s++)a.addNode(u[s].id,u[s].dataIndex);for(s=0;s<e.length;s++){var r=e[s];a.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return a},h.prototype={constructor:h,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(a){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(a)}},n.prototype.getModel=function(a){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(a)};var c=function(a,u){return{getValue:function(e){var s=this[a][u];return s.get(s.getDimension(e||"value"),this.dataIndex)},setVisual:function(e,s){this.dataIndex>=0&&this[a][u].setItemVisual(this.dataIndex,e,s)},getVisual:function(e,s){return this[a][u].getItemVisual(this.dataIndex,e,s)},setLayout:function(e,s){this.dataIndex>=0&&this[a][u].setItemLayout(this.dataIndex,e,s)},getLayout:function(){return this[a][u].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][u].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][u].getRawIndex(this.dataIndex)}}};t.mixin(h,c("hostGraph","data")),t.mixin(n,c("hostGraph","edgeData")),b.Node=h,b.Edge=n,I(h),I(n),j.exports=b},47563:(j,U,i)=>{i(78322);var t=i(66615),M=i(82356),I=i(12936),D=i(8189),b=i(54727),y=b.defaultDimValueGetters,h=b.DefaultDataProvider,c=i(2747).summarizeDimensions,o=i(65541),a=t.isObject,u="undefined",e=-1,s="e\0\0",r={float:typeof Float64Array===u?Array:Float64Array,int:typeof Int32Array===u?Array:Int32Array,ordinal:Array,number:Array,time:Array},l=typeof Uint32Array===u?Array:Uint32Array,d=typeof Int32Array===u?Array:Int32Array,v=typeof Uint16Array===u?Array:Uint16Array;function f(z){return z._rawCount>65535?l:v}function p(z){var k=z.constructor;return k===Array?z.slice():new k(z)}var S=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],C=["_extent","_approximateExtent","_rawExtent"];function x(z,k){t.each(S.concat(k.__wrappedMethods||[]),function(X){k.hasOwnProperty(X)&&(z[X]=k[X])}),z.__wrappedMethods=k.__wrappedMethods,t.each(C,function(X){z[X]=t.clone(k[X])}),z._calculationInfo=t.extend(k._calculationInfo)}var g=function(z,k){z=z||["x","y"];for(var X={},q=[],et={},rt=0;rt<z.length;rt++){var it=z[rt];t.isString(it)?it=new o({name:it}):it instanceof o||(it=new o(it));var lt=it.name;it.type=it.type||"float",it.coordDim||(it.coordDim=lt,it.coordDimIndex=0),it.otherDims=it.otherDims||{},q.push(lt),X[lt]=it,it.index=rt,it.createInvertedIndices&&(et[lt]=[])}this.dimensions=q,this._dimensionInfos=X,this.hostModel=k,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=c(this),this._invertedIndicesMap=et,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},m=g.prototype;function A(z,k,X,q,et){var rt=r[k.type],it=q-1,lt=k.name,dt=z[lt][it];if(dt&&dt.length<X){for(var ht=new rt(Math.min(et-it*X,X)),gt=0;gt<dt.length;gt++)ht[gt]=dt[gt];z[lt][it]=ht}for(var at=q*X;at<et;at+=X)z[lt].push(new rt(Math.min(et-at,X)))}function L(z){var k=z._invertedIndicesMap;t.each(k,function(X,q){var rt=z._dimensionInfos[q].ordinalMeta;if(rt){X=k[q]=new d(rt.categories.length);for(var it=0;it<X.length;it++)X[it]=e;for(it=0;it<z._count;it++)X[z.get(q,it)]=it}})}function E(z,k,X){var q;if(null!=k){var et=z._chunkSize,rt=Math.floor(X/et),lt=z.dimensions[k],dt=z._storage[lt][rt];if(dt){q=dt[X%et];var ht=z._dimensionInfos[lt].ordinalMeta;ht&&ht.categories.length&&(q=ht.categories[q])}}return q}function N(z){return z}function R(z){return z<this._count&&z>=0?this._indices[z]:-1}function F(z,k){var X=z._idList[k];return null==X&&(X=E(z,z._idDimIdx,k)),null==X&&(X=s+k),X}function H(z){return t.isArray(z)||(z=[z]),z}function Z(z,k){var X=z.dimensions,q=new g(t.map(X,z.getDimensionInfo,z),z.hostModel);x(q,z);for(var et=q._storage={},rt=z._storage,it=0;it<X.length;it++){var lt=X[it];rt[lt]&&(t.indexOf(k,lt)>=0?(et[lt]=W(rt[lt]),q._rawExtent[lt]=[1/0,-1/0],q._extent[lt]=null):et[lt]=rt[lt])}return q}function W(z){for(var k=new Array(z.length),X=0;X<z.length;X++)k[X]=p(z[X]);return k}m.type="list",m.hasItemOption=!0,m.getDimension=function(z){return("number"==typeof z||!isNaN(z)&&!this._dimensionInfos.hasOwnProperty(z))&&(z=this.dimensions[z]),z},m.getDimensionInfo=function(z){return this._dimensionInfos[this.getDimension(z)]},m.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},m.mapDimension=function(z,k){var X=this._dimensionsSummary;if(null==k)return X.encodeFirstDimNotExtra[z];var q=X.encode[z];return!0===k?(q||[]).slice():q&&q[k]},m.initData=function(z,k,X){(D.isInstance(z)||t.isArrayLike(z))&&(z=new h(z,this.dimensions.length)),this._rawData=z,this._storage={},this._indices=null,this._nameList=k||[],this._idList=[],this._nameRepeatCount={},X||(this.hasItemOption=!1),this.defaultDimValueGetter=y[this._rawData.getSource().sourceFormat],this._dimValueGetter=X=X||this.defaultDimValueGetter,this._dimValueGetterArrayRows=y.arrayRows,this._rawExtent={},this._initDataFromProvider(0,z.count()),z.pure&&(this.hasItemOption=!1)},m.getProvider=function(){return this._rawData},m.appendData=function(z){var k=this._rawData,X=this.count();k.appendData(z);var q=k.count();k.persistent||(q+=X),this._initDataFromProvider(X,q)},m.appendValues=function(z,k){for(var X=this._chunkSize,q=this._storage,et=this.dimensions,rt=et.length,it=this._rawExtent,lt=this.count(),dt=lt+Math.max(z.length,k?k.length:0),ht=this._chunkCount,gt=0;gt<rt;gt++)it[at=et[gt]]||(it[at]=[1/0,-1/0]),q[at]||(q[at]=[]),A(q,this._dimensionInfos[at],X,ht,dt),this._chunkCount=q[at].length;for(var ut=new Array(rt),Ct=lt;Ct<dt;Ct++){for(var _t=Ct-lt,bt=Math.floor(Ct/X),Rt=Ct%X,yt=0;yt<rt;yt++){var at,Tt=this._dimValueGetterArrayRows(z[_t]||ut,at=et[yt],_t,yt);q[at][bt][Rt]=Tt;var Pt=it[at];Tt<Pt[0]&&(Pt[0]=Tt),Tt>Pt[1]&&(Pt[1]=Tt)}k&&(this._nameList[Ct]=k[_t])}this._rawCount=this._count=dt,this._extent={},L(this)},m._initDataFromProvider=function(z,k){if(!(z>=k)){for(var ut,X=this._chunkSize,q=this._rawData,et=this._storage,rt=this.dimensions,it=rt.length,lt=this._dimensionInfos,dt=this._nameList,ht=this._idList,gt=this._rawExtent,at=this._nameRepeatCount={},Ct=this._chunkCount,_t=0;_t<it;_t++){gt[bt=rt[_t]]||(gt[bt]=[1/0,-1/0]);var Rt=lt[bt];0===Rt.otherDims.itemName&&(ut=this._nameDimIdx=_t),0===Rt.otherDims.itemId&&(this._idDimIdx=_t),et[bt]||(et[bt]=[]),A(et,Rt,X,Ct,k),this._chunkCount=et[bt].length}for(var yt=new Array(it),Tt=z;Tt<k;Tt++){yt=q.getItem(Tt,yt);for(var Pt=Math.floor(Tt/X),Zt=Tt%X,Vt=0;Vt<it;Vt++){var bt,ft=et[bt=rt[Vt]][Pt],xt=this._dimValueGetter(yt,bt,Tt,Vt);ft[Zt]=xt;var wt=gt[bt];xt<wt[0]&&(wt[0]=xt),xt>wt[1]&&(wt[1]=xt)}if(!q.pure){var Nt=dt[Tt];if(yt&&null==Nt)if(null!=yt.name)dt[Tt]=Nt=yt.name;else if(null!=ut){var Ot=rt[ut],It=et[Ot][Pt];if(It){Nt=It[Zt];var Ft=lt[Ot].ordinalMeta;Ft&&Ft.categories.length&&(Nt=Ft.categories[Nt])}}var Jt=null==yt?null:yt.id;null==Jt&&null!=Nt&&(at[Nt]=at[Nt]||0,Jt=Nt,at[Nt]>0&&(Jt+="__ec__"+at[Nt]),at[Nt]++),null!=Jt&&(ht[Tt]=Jt)}}!q.persistent&&q.clean&&q.clean(),this._rawCount=this._count=k,this._extent={},L(this)}},m.count=function(){return this._count},m.getIndices=function(){var k=this._indices;if(k){var q=this._count;if((X=k.constructor)===Array){z=new X(q);for(var et=0;et<q;et++)z[et]=k[et]}else z=new X(k.buffer,0,q)}else{var X,z=new(X=f(this))(this.count());for(et=0;et<z.length;et++)z[et]=et}return z},m.get=function(z,k){if(!(k>=0&&k<this._count))return NaN;var X=this._storage;if(!X[z])return NaN;k=this.getRawIndex(k);var q=Math.floor(k/this._chunkSize);return X[z][q][k%this._chunkSize]},m.getByRawIndex=function(z,k){if(!(k>=0&&k<this._rawCount))return NaN;var X=this._storage[z];return X?X[Math.floor(k/this._chunkSize)][k%this._chunkSize]:NaN},m._getFast=function(z,k){var X=Math.floor(k/this._chunkSize);return this._storage[z][X][k%this._chunkSize]},m.getValues=function(z,k){var X=[];t.isArray(z)||(k=z,z=this.dimensions);for(var q=0,et=z.length;q<et;q++)X.push(this.get(z[q],k));return X},m.hasValue=function(z){for(var k=this._dimensionsSummary.dataDimsOnCoord,X=0,q=k.length;X<q;X++)if(isNaN(this.get(k[X],z)))return!1;return!0},m.getDataExtent=function(z){z=this.getDimension(z);var X=[1/0,-1/0];if(!this._storage[z])return X;var rt,q=this.count();if(!this._indices)return this._rawExtent[z].slice();if(rt=this._extent[z])return rt.slice();for(var it=(rt=X)[0],lt=rt[1],dt=0;dt<q;dt++){var ht=this._getFast(z,this.getRawIndex(dt));ht<it&&(it=ht),ht>lt&&(lt=ht)}return this._extent[z]=rt=[it,lt],rt},m.getApproximateExtent=function(z){return z=this.getDimension(z),this._approximateExtent[z]||this.getDataExtent(z)},m.setApproximateExtent=function(z,k){k=this.getDimension(k),this._approximateExtent[k]=z.slice()},m.getCalculationInfo=function(z){return this._calculationInfo[z]},m.setCalculationInfo=function(z,k){a(z)?t.extend(this._calculationInfo,z):this._calculationInfo[z]=k},m.getSum=function(z){var X=0;if(this._storage[z])for(var q=0,et=this.count();q<et;q++){var rt=this.get(z,q);isNaN(rt)||(X+=rt)}return X},m.getMedian=function(z){var k=[];this.each(z,function(et,rt){isNaN(et)||k.push(et)});var X=[].concat(k).sort(function(et,rt){return et-rt}),q=this.count();return 0===q?0:q%2==1?X[(q-1)/2]:(X[q/2]+X[q/2-1])/2},m.rawIndexOf=function(z,k){var q=(z&&this._invertedIndicesMap[z])[k];return null==q||isNaN(q)?e:q},m.indexOfName=function(z){for(var k=0,X=this.count();k<X;k++)if(this.getName(k)===z)return k;return-1},m.indexOfRawIndex=function(z){if(z>=this._rawCount||z<0)return-1;if(!this._indices)return z;var k=this._indices,X=k[z];if(null!=X&&X<this._count&&X===z)return z;for(var q=0,et=this._count-1;q<=et;){var rt=(q+et)/2|0;if(k[rt]<z)q=rt+1;else{if(!(k[rt]>z))return rt;et=rt-1}}return-1},m.indicesOfNearest=function(z,k,X){var rt=[];if(!this._storage[z])return rt;null==X&&(X=1/0);for(var it=1/0,lt=-1,dt=0,ht=0,gt=this.count();ht<gt;ht++){var at=k-this.get(z,ht),ut=Math.abs(at);ut<=X&&((ut<it||ut===it&&at>=0&&lt<0)&&(it=ut,lt=at,dt=0),at===lt&&(rt[dt++]=ht))}return rt.length=dt,rt},m.getRawIndex=N,m.getRawDataItem=function(z){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(z));for(var k=[],X=0;X<this.dimensions.length;X++)k.push(this.get(this.dimensions[X],z));return k},m.getName=function(z){var k=this.getRawIndex(z);return this._nameList[k]||E(this,this._nameDimIdx,k)||""},m.getId=function(z){return F(this,this.getRawIndex(z))},m.each=function(z,k,X,q){"use strict";if(this._count){"function"==typeof z&&(q=X,X=k,k=z,z=[]),X=X||q||this;for(var et=(z=t.map(H(z),this.getDimension,this)).length,rt=0;rt<this.count();rt++)switch(et){case 0:k.call(X,rt);break;case 1:k.call(X,this.get(z[0],rt),rt);break;case 2:k.call(X,this.get(z[0],rt),this.get(z[1],rt),rt);break;default:for(var it=0,lt=[];it<et;it++)lt[it]=this.get(z[it],rt);lt[it]=rt,k.apply(X,lt)}}},m.filterSelf=function(z,k,X,q){"use strict";if(this._count){"function"==typeof z&&(q=X,X=k,k=z,z=[]),X=X||q||this,z=t.map(H(z),this.getDimension,this);for(var et=this.count(),it=new(f(this))(et),lt=[],dt=z.length,ht=0,gt=z[0],at=0;at<et;at++){var ut,Ct=this.getRawIndex(at);if(0===dt)ut=k.call(X,at);else if(1===dt){var _t=this._getFast(gt,Ct);ut=k.call(X,_t,at)}else{for(var bt=0;bt<dt;bt++)lt[bt]=this._getFast(gt,Ct);lt[bt]=at,ut=k.apply(X,lt)}ut&&(it[ht++]=Ct)}return ht<et&&(this._indices=it),this._count=ht,this._extent={},this.getRawIndex=this._indices?R:N,this}},m.selectRange=function(z){"use strict";if(this._count){var k=[];for(var X in z)z.hasOwnProperty(X)&&k.push(X);var q=k.length;if(q){var et=this.count(),it=new(f(this))(et),lt=0,dt=k[0],ht=z[dt][0],gt=z[dt][1],at=!1;if(!this._indices){var ut=0;if(1===q){for(var Ct=this._storage[k[0]],_t=0;_t<this._chunkCount;_t++)for(var bt=Ct[_t],Rt=Math.min(this._count-_t*this._chunkSize,this._chunkSize),yt=0;yt<Rt;yt++)((Tt=bt[yt])>=ht&&Tt<=gt||isNaN(Tt))&&(it[lt++]=ut),ut++;at=!0}else if(2===q){Ct=this._storage[dt];var Pt=this._storage[k[1]],Zt=z[k[1]][0],Vt=z[k[1]][1];for(_t=0;_t<this._chunkCount;_t++){bt=Ct[_t];var ft=Pt[_t];for(Rt=Math.min(this._count-_t*this._chunkSize,this._chunkSize),yt=0;yt<Rt;yt++){var xt=ft[yt];((Tt=bt[yt])>=ht&&Tt<=gt||isNaN(Tt))&&(xt>=Zt&&xt<=Vt||isNaN(xt))&&(it[lt++]=ut),ut++}}at=!0}}if(!at)if(1===q)for(yt=0;yt<et;yt++){var wt=this.getRawIndex(yt);((Tt=this._getFast(dt,wt))>=ht&&Tt<=gt||isNaN(Tt))&&(it[lt++]=wt)}else for(yt=0;yt<et;yt++){var Nt=!0;for(wt=this.getRawIndex(yt),_t=0;_t<q;_t++){var Tt,Ot=k[_t];((Tt=this._getFast(X,wt))<z[Ot][0]||Tt>z[Ot][1])&&(Nt=!1)}Nt&&(it[lt++]=this.getRawIndex(yt))}return lt<et&&(this._indices=it),this._count=lt,this._extent={},this.getRawIndex=this._indices?R:N,this}}},m.mapArray=function(z,k,X,q){"use strict";"function"==typeof z&&(q=X,X=k,k=z,z=[]);var et=[];return this.each(z,function(){et.push(k&&k.apply(this,arguments))},X=X||q||this),et},m.map=function(z,k,X,q){"use strict";X=X||q||this;var et=Z(this,z=t.map(H(z),this.getDimension,this));et._indices=this._indices,et.getRawIndex=et._indices?R:N;for(var rt=et._storage,it=[],lt=this._chunkSize,dt=z.length,ht=this.count(),gt=[],at=et._rawExtent,ut=0;ut<ht;ut++){for(var Ct=0;Ct<dt;Ct++)gt[Ct]=this.get(z[Ct],ut);gt[dt]=ut;var _t=k&&k.apply(X,gt);if(null!=_t){"object"!=typeof _t&&(it[0]=_t,_t=it);for(var bt=this.getRawIndex(ut),Rt=Math.floor(bt/lt),yt=bt%lt,Tt=0;Tt<_t.length;Tt++){var Pt=z[Tt],Zt=_t[Tt],Vt=at[Pt],ft=rt[Pt];ft&&(ft[Rt][yt]=Zt),Zt<Vt[0]&&(Vt[0]=Zt),Zt>Vt[1]&&(Vt[1]=Zt)}}}return et},m.downSample=function(z,k,X,q){for(var et=Z(this,[z]),rt=et._storage,it=[],lt=Math.floor(1/k),dt=rt[z],ht=this.count(),gt=this._chunkSize,at=et._rawExtent[z],ut=new(f(this))(ht),Ct=0,_t=0;_t<ht;_t+=lt){lt>ht-_t&&(it.length=lt=ht-_t);for(var bt=0;bt<lt;bt++){var Rt=this.getRawIndex(_t+bt),yt=Math.floor(Rt/gt);it[bt]=dt[yt][Rt%gt]}var Pt=X(it),Zt=this.getRawIndex(Math.min(_t+q(it,Pt)||0,ht-1));dt[Math.floor(Zt/gt)][Zt%gt]=Pt,Pt<at[0]&&(at[0]=Pt),Pt>at[1]&&(at[1]=Pt),ut[Ct++]=Zt}return et._count=Ct,et._indices=ut,et.getRawIndex=R,et},m.getItemModel=function(z){var k=this.hostModel;return new M(this.getRawDataItem(z),k,k&&k.ecModel)},m.diff=function(z){var k=this;return new I(z?z.getIndices():[],this.getIndices(),function(X){return F(z,X)},function(X){return F(k,X)})},m.getVisual=function(z){var k=this._visual;return k&&k[z]},m.setVisual=function(z,k){if(a(z))for(var X in z)z.hasOwnProperty(X)&&this.setVisual(X,z[X]);else this._visual=this._visual||{},this._visual[z]=k},m.setLayout=function(z,k){if(a(z))for(var X in z)z.hasOwnProperty(X)&&this.setLayout(X,z[X]);else this._layout[z]=k},m.getLayout=function(z){return this._layout[z]},m.getItemLayout=function(z){return this._itemLayouts[z]},m.setItemLayout=function(z,k,X){this._itemLayouts[z]=X?t.extend(this._itemLayouts[z]||{},k):k},m.clearItemLayouts=function(){this._itemLayouts.length=0},m.getItemVisual=function(z,k,X){var q=this._itemVisuals[z],et=q&&q[k];return null!=et||X?et:this.getVisual(k)},m.setItemVisual=function(z,k,X){var q=this._itemVisuals[z]||{},et=this.hasItemVisual;if(this._itemVisuals[z]=q,a(k))for(var rt in k)k.hasOwnProperty(rt)&&(q[rt]=k[rt],et[rt]=!0);else q[k]=X,et[k]=!0},m.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var Y=function(z){z.seriesIndex=this.seriesIndex,z.dataIndex=this.dataIndex,z.dataType=this.dataType};m.setItemGraphicEl=function(z,k){var X=this.hostModel;k&&(k.dataIndex=z,k.dataType=this.dataType,k.seriesIndex=X&&X.seriesIndex,"group"===k.type&&k.traverse(Y,k)),this._graphicEls[z]=k},m.getItemGraphicEl=function(z){return this._graphicEls[z]},m.eachItemGraphicEl=function(z,k){t.each(this._graphicEls,function(X,q){X&&z&&z.call(k,X,q)})},m.cloneShallow=function(z){if(!z){var k=t.map(this.dimensions,this.getDimensionInfo,this);z=new g(k,this.hostModel)}return z._storage=this._storage,x(z,this),z._indices=this._indices?new(0,this._indices.constructor)(this._indices):null,z.getRawIndex=z._indices?R:N,z},m.wrapMethod=function(z,k){var X=this[z];"function"==typeof X&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(z),this[z]=function(){var q=X.apply(this,arguments);return k.apply(this,[q].concat(t.slice(arguments)))})},m.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],m.CHANGABLE_METHODS=["filterSelf","selectRange"],j.exports=g},20872:(j,U,i)=>{var T=i(66615),w=T.createHashMap,t=T.isObject,M=T.map;function I(n){this.categories=n.categories||[],this._needCollect=n.needCollect,this._deduplication=n.deduplication}I.createByAxisModel=function(n){var c=n.option,o=c.data,a=o&&M(o,y);return new I({categories:a,needCollect:!a,deduplication:!1!==c.dedplication})};var D=I.prototype;function b(n){return n._map||(n._map=w(n.categories))}function y(n){return t(n)&&null!=n.value?n.value:n+""}D.getOrdinal=function(n){return b(this).get(n)},D.parseAndCollect=function(n){var c,o=this._needCollect;if("string"!=typeof n&&!o)return n;if(o&&!this._deduplication)return this.categories[c=this.categories.length]=n,c;var a=b(this);return null==(c=a.get(n))&&(o?(this.categories[c=this.categories.length]=n,a.set(n,c)):c=NaN),c},j.exports=I},8189:(j,U,i)=>{var T=i(66615),w=T.createHashMap,t=T.isTypedArray,I=i(78789).enableClassCheck,D=i(98159),b=D.SOURCE_FORMAT_ORIGINAL,y=D.SERIES_LAYOUT_BY_COLUMN,h=D.SOURCE_FORMAT_UNKNOWN,n=D.SOURCE_FORMAT_TYPED_ARRAY,c=D.SOURCE_FORMAT_KEYED_COLUMNS;function o(u){this.fromDataset=u.fromDataset,this.data=u.data||(u.sourceFormat===c?{}:[]),this.sourceFormat=u.sourceFormat||h,this.seriesLayoutBy=u.seriesLayoutBy||y,this.dimensionsDefine=u.dimensionsDefine,this.encodeDefine=u.encodeDefine&&w(u.encodeDefine),this.startIndex=u.startIndex||0,this.dimensionsDetectCount=u.dimensionsDetectCount}o.seriesDataToSource=function(u){return new o({data:u,sourceFormat:t(u)?n:b,fromDataset:!1})},I(o),j.exports=o},38248:(j,U,i)=>{var T=i(66615),w=i(91426),t=i(47563),M=i(51440),I=function(h,n){this.name=h||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=n};function D(h){this._nodes=[],this.hostModel=h}I.prototype={constructor:I,isRemoved:function(){return this.dataIndex<0},eachNode:function(h,n,c){"function"==typeof h&&(c=n,n=h,h=null),T.isString(h=h||{})&&(h={order:h});var u,o=h.order||"preorder",a=this[h.attr||"children"];"preorder"===o&&(u=n.call(c,this));for(var e=0;!u&&e<a.length;e++)a[e].eachNode(h,n,c);"postorder"===o&&n.call(c,this)},updateDepthAndHeight:function(h){var n=0;this.depth=h;for(var c=0;c<this.children.length;c++){var o=this.children[c];o.updateDepthAndHeight(h+1),o.height>n&&(n=o.height)}this.height=n+1},getNodeById:function(h){if(this.getId()===h)return this;for(var n=0,c=this.children,o=c.length;n<o;n++){var a=c[n].getNodeById(h);if(a)return a}},contains:function(h){if(h===this)return!0;for(var n=0,c=this.children,o=c.length;n<o;n++){var a=c[n].contains(h);if(a)return a}},getAncestors:function(h){for(var n=[],c=h?this:this.parentNode;c;)n.push(c),c=c.parentNode;return n.reverse(),n},getValue:function(h){var n=this.hostTree.data;return n.get(n.getDimension(h||"value"),this.dataIndex)},setLayout:function(h,n){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,h,n)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(h){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(h)},setVisual:function(h,n){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,h,n)},getVisual:function(h,n){return this.hostTree.data.getItemVisual(this.dataIndex,h,n)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(h){for(var n=h.parentNode;n;){if(n===this)return!0;n=n.parentNode}return!1},isDescendantOf:function(h){return h!==this&&h.isAncestorOf(this)}},D.prototype={constructor:D,type:"tree",eachNode:function(h,n,c){this.root.eachNode(h,n,c)},getNodeByDataIndex:function(h){var n=this.data.getRawIndex(h);return this._nodes[n]},getNodeByName:function(h){return this.root.getNodeByName(h)},update:function(){for(var h=this.data,n=this._nodes,c=0,o=n.length;c<o;c++)n[c].dataIndex=-1;for(c=0,o=h.count();c<o;c++)n[h.getRawIndex(c)].dataIndex=c},clearLayouts:function(){this.data.clearItemLayouts()}},D.createTree=function(h,n,c){var o=new D(n),a=[],u=1;!function e(l,d){var v=l.value;u=Math.max(u,T.isArray(v)?v.length:1),a.push(l);var f=new I(l.name,o);d?function b(h,n){h.parentNode!==n&&(n.children.push(h),h.parentNode=n)}(f,d):o.root=f,o._nodes.push(f);var p=l.children;if(p)for(var S=0;S<p.length;S++)e(p[S],f)}(h),o.root.updateDepthAndHeight(0);var s=M(a,{coordDimensions:["value"],dimensionsCount:u}),r=new t(s,n);return r.initData(a),c&&c(r),w({mainData:r,struct:o,structAttr:"tree"}),o.update(),o},j.exports=D},39433:(j,U,i)=>{var T=i(66615),w=T.createHashMap,t=T.each,M=T.isString,I=T.defaults,D=T.extend,b=T.isObject,y=T.clone,n=i(21617).normalizeToArray,c=i(47458),o=c.guessOrdinal,a=c.BE_ORDINAL,u=i(8189),s=i(2747).OTHER_DIMENSIONS,r=i(65541);function v(p,S,C){if(C||null!=S.get(p)){for(var x=0;null!=S.get(p+x);)x++;p+=x}return S.set(p,!0),p}j.exports=function l(p,S,C){u.isInstance(S)||(S=u.seriesDataToSource(S)),C=C||{},p=(p||[]).slice();for(var x=(C.dimsDef||[]).slice(),g=w(),m=w(),A=[],L=function d(p,S,C,x){var g=Math.max(p.dimensionsDetectCount||1,S.length,C.length,x||0);return t(S,function(m){var A=m.dimsDef;A&&(g=Math.max(g,A.length))}),g}(S,p,x,C.dimCount),E=0;E<L;E++){var N=x[E]=D({},b(x[E])?x[E]:{name:x[E]}),R=N.name,F=A[E]=new r;null!=R&&null==g.get(R)&&(F.name=F.displayName=R,g.set(R,E)),null!=N.type&&(F.type=N.type),null!=N.displayName&&(F.displayName=N.displayName)}var H=C.encodeDef;!H&&C.encodeDefaulter&&(H=C.encodeDefaulter(S,L)),(H=w(H)).each(function(X,q){if(1===(X=n(X).slice()).length&&!M(X[0])&&X[0]<0)H.set(q,!1);else{var et=H.set(q,[]);t(X,function(rt,it){M(rt)&&(rt=g.get(rt)),null!=rt&&rt<L&&(et[it]=rt,Z(A[rt],q,it))})}});var B=0;function Z(X,q,et){null!=s.get(q)?X.otherDims[q]=et:(X.coordDim=q,X.coordDimIndex=et,m.set(q,!0))}t(p,function(rt,q){var et,it,lt;if(M(rt))et=rt,rt={};else{et=rt.name;var dt=rt.ordinalMeta;rt.ordinalMeta=null,(rt=y(rt)).ordinalMeta=dt,it=rt.dimsDef,lt=rt.otherDims,rt.name=rt.coordDim=rt.coordDimIndex=rt.dimsDef=rt.otherDims=null}if(!1!==(ht=H.get(et))){var ht;if(!(ht=n(ht)).length)for(var gt=0;gt<(it&&it.length||1);gt++){for(;B<A.length&&null!=A[B].coordDim;)B++;B<A.length&&ht.push(B++)}t(ht,function(at,ut){var Ct=A[at];if(Z(I(Ct,rt),et,ut),null==Ct.name&&it){var _t=it[ut];!b(_t)&&(_t={name:_t}),Ct.name=Ct.displayName=_t.name,Ct.defaultTooltip=_t.defaultTooltip}lt&&I(Ct.otherDims,lt)})}});var W=C.generateCoord,$=C.generateCoordCount,Y=null!=$;$=W?$||1:0;for(var V=W||"value",z=0;z<L;z++)null==(F=A[z]=A[z]||new r).coordDim&&(F.coordDim=v(V,m,Y),F.coordDimIndex=0,(!W||$<=0)&&(F.isExtraCoord=!0),$--),null==F.name&&(F.name=v(F.coordDim,g)),null==F.type&&(o(S,z,F.name)===a.Must||F.isExtraCoord&&(null!=F.otherDims.itemName||null!=F.otherDims.seriesName))&&(F.type="ordinal");return A}},51440:(j,U,i)=>{var T=i(39433);j.exports=function w(t,M){return T((M=M||{}).coordDimensions||[],t,{dimsDef:M.dimensionsDefine||t.dimensionsDefine,encodeDef:M.encodeDefine||t.encodeDefine,dimCount:M.dimensionsCount,encodeDefaulter:M.encodeDefaulter,generateCoord:M.generateCoord,generateCoordCount:M.generateCoordCount})}},54727:(j,U,i)=>{i(78322);var t=i(66615),I=t.extend,b=t.each,y=t.isObject,h=i(21617),n=h.getDataItemValue,c=h.isDataItemOption,a=i(68301).parseDate,u=i(8189),e=i(98159),s=e.SOURCE_FORMAT_TYPED_ARRAY,r=e.SOURCE_FORMAT_ARRAY_ROWS,l=e.SOURCE_FORMAT_ORIGINAL,d=e.SOURCE_FORMAT_OBJECT_ROWS;function v(F,H){u.isInstance(F)||(F=u.seriesDataToSource(F)),this._source=F;var B=this._data=F.data,Z=F.sourceFormat;Z===s&&(this._offset=0,this._dimSize=H,this._data=B),I(this,p[Z===r?Z+"_"+F.seriesLayoutBy:Z])}var f=v.prototype;f.pure=!1,f.persistent=!0,f.getSource=function(){return this._source};var p={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(F){return this._data[F+this._source.startIndex]},appendData:x},arrayRows_row:{pure:!0,count:function(){var F=this._data[0];return F?Math.max(0,F.length-this._source.startIndex):0},getItem:function(F){F+=this._source.startIndex;for(var H=[],B=this._data,Z=0;Z<B.length;Z++){var W=B[Z];H.push(W?W[F]:null)}return H},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:S,getItem:C,appendData:x},keyedColumns:{pure:!0,count:function(){var H=this._data[this._source.dimensionsDefine[0].name];return H?H.length:0},getItem:function(F){for(var H=[],B=this._source.dimensionsDefine,Z=0;Z<B.length;Z++){var W=this._data[B[Z].name];H.push(W?W[F]:null)}return H},appendData:function(F){var H=this._data;b(F,function(B,Z){for(var W=H[Z]||(H[Z]=[]),$=0;$<(B||[]).length;$++)W.push(B[$])})}},original:{count:S,getItem:C,appendData:x},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(F,H){H=H||[];for(var B=this._dimSize*(F-=this._offset),Z=0;Z<this._dimSize;Z++)H[Z]=this._data[B+Z];return H},appendData:function(F){this._data=F},clean:function(){this._offset+=this.count(),this._data=null}}};function S(){return this._data.length}function C(F){return this._data[F]}function x(F){for(var H=0;H<F.length;H++)this._data.push(F[H])}var g={arrayRows:m,objectRows:function(F,H,B,Z){return null!=B?F[Z]:F},keyedColumns:m,original:function(F,H,B,Z){var W=n(F);return null!=B&&W instanceof Array?W[B]:W},typedArray:m};function m(F,H,B,Z){return null!=B?F[B]:F}var A={arrayRows:L,objectRows:function(F,H,B,Z){return E(F[H],this._dimensionInfos[H])},keyedColumns:L,original:function(F,H,B,Z){var W=F&&(null==F.value?F:F.value);return!this._rawData.pure&&c(F)&&(this.hasItemOption=!0),E(W instanceof Array?W[Z]:W,this._dimensionInfos[H])},typedArray:function(F,H,B,Z){return F[Z]}};function L(F,H,B,Z){return E(F[Z],this._dimensionInfos[H])}function E(F,H){var B=H&&H.type;if("ordinal"===B){var Z=H&&H.ordinalMeta;return Z?Z.parseAndCollect(F):F}return"time"===B&&"number"!=typeof F&&null!=F&&"-"!==F&&(F=+a(F)),null==F||""===F?NaN:+F}U.DefaultDataProvider=v,U.defaultDimValueGetters=A,U.retrieveRawValue=function N(F,H,B){if(F){var Z=F.getRawDataItem(H);if(null!=Z){var $,Y,W=F.getProvider().getSource().sourceFormat,V=F.getDimensionInfo(B);return V&&($=V.name,Y=V.index),g[W](Z,H,Y,$)}}},U.retrieveRawAttr=function R(F,H,B){if(F){var Z=F.getProvider().getSource().sourceFormat;if(Z===l||Z===d){var W=F.getRawDataItem(H);if(Z===l&&!y(W)&&(W=null),W)return W[B]}}}},69816:(j,U,i)=>{var T=i(66615),w=T.each,t=T.isString;function I(b,y){return!!y&&y===b.getCalculationInfo("stackedDimension")}U.enableDataStack=function M(b,y,h){var a,u,e,s,n=(h=h||{}).byIndex,c=h.stackedCoordDimension,o=!(!b||!b.get("stack"));if(w(y,function(v,f){t(v)&&(y[f]=v={name:v}),o&&!v.isExtraCoord&&(!n&&!a&&v.ordinalMeta&&(a=v),!u&&"ordinal"!==v.type&&"time"!==v.type&&(!c||c===v.coordDim)&&(u=v))}),u&&!n&&!a&&(n=!0),u){e="__\0ecstackresult",s="__\0ecstackedover",a&&(a.createInvertedIndices=!0);var r=u.coordDim,l=u.type,d=0;w(y,function(v){v.coordDim===r&&d++}),y.push({name:e,coordDim:r,coordDimIndex:d,type:l,isExtraCoord:!0,isCalculationCoord:!0}),d++,y.push({name:s,coordDim:s,coordDimIndex:d,type:l,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:u&&u.name,stackedByDimension:a&&a.name,isStackedByIndex:n,stackedOverDimension:s,stackResultDimension:e}},U.isDimensionStacked=I,U.getStackedDimension=function D(b,y){return I(b,y)?b.getCalculationInfo("stackResultDimension"):y}},2747:(j,U,i)=>{var T=i(66615),w=T.each,t=T.createHashMap,b=(i(78322),t(["tooltip","label","itemName","itemId","seriesName"]));function h(o,a){return o.hasOwnProperty(a)||(o[a]=[]),o[a]}U.OTHER_DIMENSIONS=b,U.summarizeDimensions=function y(o){var a={},u=a.encode={},e=t(),s=[],r=[],l=a.userOutput={dimensionNames:o.dimensions.slice(),encode:{}};w(o.dimensions,function(S){var C=o.getDimensionInfo(S),x=C.coordDim;if(x){var g=C.coordDimIndex;h(u,x)[g]=S,C.isExtraCoord||(e.set(x,1),function c(o){return!("ordinal"===o||"time"===o)}(C.type)&&(s[0]=S),h(l.encode,x)[g]=C.index),C.defaultTooltip&&r.push(S)}b.each(function(m,A){var L=h(u,A),E=C.otherDims[A];null!=E&&!1!==E&&(L[E]=C.name)})});var d=[],v={};e.each(function(S,C){var x=u[C];v[C]=x[0],d=d.concat(x)}),a.dataDimsOnCoord=d,a.encodeFirstDimNotExtra=v;var f=u.label;f&&f.length&&(s=f.slice());var p=u.tooltip;return p&&p.length?r=p.slice():r.length||(r=s.slice()),u.defaultedLabel=s,u.defaultedTooltip=r,a},U.getDimensionTypeByAxis=function n(o){return"category"===o?"ordinal":"time"===o?"time":"float"}},91426:(j,U,i)=>{var T=i(66615),w=T.each,t="\0__link_datas",M="\0__link_mainData";function D(u,e){if(function n(u){return u[M]===u}(this)){var s=T.extend({},this[t]);s[this.dataType]=e,c(e,s,u)}else o(e,this.dataType,this[M],u);return e}function b(u,e){return u.struct&&u.struct.update(this),e}function y(u,e){return w(e[t],function(s,r){s!==e&&o(s.cloneShallow(),r,e,u)}),e}function h(u){var e=this[M];return null==u||null==e?e:e[t][u]}function c(u,e,s){u[t]={},w(e,function(r,l){o(r,l,u,s)})}function o(u,e,s,r){s[t][e]=u,u[M]=s,u.dataType=e,r.struct&&(u[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=u),u.getLinkedData=h}j.exports=function I(u){var e=u.mainData,s=u.datas;s||(s={main:e},u.datasAttr={main:"data"}),u.datas=u.mainData=null,c(e,s,u),w(s,function(r){w(e.TRANSFERABLE_METHODS,function(l){r.wrapMethod(l,T.curry(D,u))})}),e.wrapMethod("cloneShallow",T.curry(y,u)),w(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,T.curry(b,u))}),T.assert(s[e.dataType]===e)}},47458:(j,U,i)=>{i(78322);var t=i(21617),M=t.makeInner,I=t.getDataItemValue,D=i(66615),b=D.createHashMap,y=D.each,h=D.map,n=D.isArray,c=D.isString,o=D.isObject,a=D.isTypedArray,u=D.isArrayLike,e=D.extend,r=i(8189),l=i(98159),d=l.SOURCE_FORMAT_ORIGINAL,v=l.SOURCE_FORMAT_ARRAY_ROWS,f=l.SOURCE_FORMAT_OBJECT_ROWS,p=l.SOURCE_FORMAT_KEYED_COLUMNS,S=l.SOURCE_FORMAT_UNKNOWN,C=l.SOURCE_FORMAT_TYPED_ARRAY,x=l.SERIES_LAYOUT_BY_ROW,g={Must:1,Might:2,Not:3},m=M();function F(z){if(z){var k=b();return h(z,function(X,q){if(null==(X=e({},o(X)?X:{name:X})).name)return X;X.name+="",null==X.displayName&&(X.displayName=X.name);var et=k.get(X.name);return et?X.name+="-"+et.count++:k.set(X.name,{count:1}),X})}}function H(z,k,X,q){if(null==q&&(q=1/0),k===x)for(var et=0;et<X.length&&et<q;et++)z(X[et]?X[et][0]:null,et);else{var rt=X[0]||[];for(et=0;et<rt.length&&et<q;et++)z(rt[et],et)}}function $(z){var k=z.option;if(!k.data)return z.ecModel.getComponent("dataset",k.datasetIndex||0)}function V(z,k,X,q,et,rt){var it,dt,ht;if(a(z))return g.Not;if(q){var gt=q[rt];o(gt)?(dt=gt.name,ht=gt.type):c(gt)&&(dt=gt)}if(null!=ht)return"ordinal"===ht?g.Must:g.Not;if(k===v)if(X===x){for(var at=z[rt],ut=0;ut<(at||[]).length&&ut<5;ut++)if(null!=(it=Rt(at[et+ut])))return it}else for(ut=0;ut<z.length&&ut<5;ut++){var Ct=z[et+ut];if(Ct&&null!=(it=Rt(Ct[rt])))return it}else if(k===f){if(!dt)return g.Not;for(ut=0;ut<z.length&&ut<5;ut++)if((_t=z[ut])&&null!=(it=Rt(_t[dt])))return it}else if(k===p){if(!dt)return g.Not;if(!(at=z[dt])||a(at))return g.Not;for(ut=0;ut<at.length&&ut<5;ut++)if(null!=(it=Rt(at[ut])))return it}else if(k===d)for(ut=0;ut<z.length&&ut<5;ut++){var _t,bt=I(_t=z[ut]);if(!n(bt))return g.Not;if(null!=(it=Rt(bt[rt])))return it}function Rt(yt){var Tt=c(yt);return null!=yt&&isFinite(yt)&&""!==yt?Tt?g.Might:g.Not:Tt&&"-"!==yt?g.Must:void 0}return g.Not}U.BE_ORDINAL=g,U.detectSourceFormat=function A(z){var k=z.option.source,X=S;if(a(k))X=C;else if(n(k)){0===k.length&&(X=v);for(var q=0,et=k.length;q<et;q++){var rt=k[q];if(null!=rt){if(n(rt)){X=v;break}if(o(rt)){X=f;break}}}}else if(o(k)){for(var it in k)if(k.hasOwnProperty(it)&&u(k[it])){X=p;break}}else if(null!=k)throw new Error("Invalid data");m(z).sourceFormat=X},U.getSource=function L(z){return m(z).source},U.resetSourceDefaulter=function E(z){m(z).datasetMap=b()},U.prepareSource=function N(z){var k=z.option,X=k.data,q=a(X)?C:d,et=!1,rt=k.seriesLayoutBy,it=k.sourceHeader,lt=k.dimensions,dt=$(z);if(dt){var ht=dt.option;X=ht.source,q=m(dt).sourceFormat,et=!0,rt=rt||ht.seriesLayoutBy,null==it&&(it=ht.sourceHeader),lt=lt||ht.dimensions}var gt=function R(z,k,X,q,et){if(!z)return{dimensionsDefine:F(et)};var rt,it;if(k===v)"auto"===q||null==q?H(function(dt){null!=dt&&"-"!==dt&&(c(dt)?null==it&&(it=1):it=0)},X,z,10):it=q?1:0,!et&&1===it&&(et=[],H(function(dt,ht){et[ht]=dt??""},X,z)),rt=et?et.length:X===x?z.length:z[0]?z[0].length:null;else if(k===f)et||(et=function B(z){for(var X,k=0;k<z.length&&!(X=z[k++]););if(X){var q=[];return y(X,function(et,rt){q.push(rt)}),q}}(z));else if(k===p)et||(et=[],y(z,function(dt,ht){et.push(ht)}));else if(k===d){var lt=I(z[0]);rt=n(lt)&&lt.length||1}return{startIndex:it,dimensionsDefine:F(et),dimensionsDetectCount:rt}}(X,q,rt,it,lt);m(z).source=new r({data:X,fromDataset:et,seriesLayoutBy:rt,sourceFormat:q,dimensionsDefine:gt.dimensionsDefine,startIndex:gt.startIndex,dimensionsDetectCount:gt.dimensionsDetectCount,encodeDefine:k.encode})},U.makeSeriesEncodeForAxisCoordSys=function Z(z,k,X){var q={},et=$(k);if(!et||!z)return q;var gt,at,rt=[],it=[],dt=m(k.ecModel).datasetMap,ht=et.uid+"_"+X.seriesLayoutBy;z=z.slice(),y(z,function(bt,Rt){!o(bt)&&(z[Rt]={name:bt}),"ordinal"===bt.type&&null==gt&&(gt=Rt,at=_t(z[Rt])),q[bt.name]=[]});var ut=dt.get(ht)||dt.set(ht,{categoryWayDim:at,valueWayDim:0});function Ct(bt,Rt,yt){for(var Tt=0;Tt<yt;Tt++)bt.push(Rt+Tt)}function _t(bt){var Rt=bt.dimsDef;return Rt?Rt.length:1}return y(z,function(bt,Rt){var yt=bt.name,Tt=_t(bt);if(null==gt)Ct(q[yt],Pt=ut.valueWayDim,Tt),Ct(it,Pt,Tt),ut.valueWayDim+=Tt;else if(gt===Rt)Ct(q[yt],0,Tt),Ct(rt,0,Tt);else{var Pt;Ct(q[yt],Pt=ut.categoryWayDim,Tt),Ct(it,Pt,Tt),ut.categoryWayDim+=Tt}}),rt.length&&(q.itemName=rt),it.length&&(q.seriesName=it),q},U.makeSeriesEncodeForNameBased=function W(z,k,X){var q={};if(!$(z))return q;var lt,rt=k.sourceFormat,it=k.dimensionsDefine;(rt===f||rt===p)&&y(it,function(gt,at){"name"===(o(gt)?gt.name:gt)&&(lt=at)});var dt=function(){for(var gt={},at={},ut=[],Ct=0,_t=Math.min(5,X);Ct<_t;Ct++){var bt=V(k.data,rt,k.seriesLayoutBy,it,k.startIndex,Ct);ut.push(bt);var Rt=bt===g.Not;if(Rt&&null==gt.v&&Ct!==lt&&(gt.v=Ct),(null==gt.n||gt.n===gt.v||!Rt&&ut[gt.n]===g.Not)&&(gt.n=Ct),yt(gt)&&ut[gt.n]!==g.Not)return gt;Rt||(bt===g.Might&&null==at.v&&Ct!==lt&&(at.v=Ct),(null==at.n||at.n===at.v)&&(at.n=Ct))}function yt(Tt){return null!=Tt.v&&null!=Tt.n}return yt(gt)?gt:yt(at)?at:null}();if(dt){q.value=dt.v;var ht=lt??dt.n;q.itemName=[ht],q.seriesName=[ht]}return q},U.guessOrdinal=function Y(z,k){return V(z.data,z.sourceFormat,z.seriesLayoutBy,z.dimensionsDefine,z.startIndex,k)}},98159:(j,U)=>{U.SOURCE_FORMAT_ORIGINAL="original",U.SOURCE_FORMAT_ARRAY_ROWS="arrayRows",U.SOURCE_FORMAT_OBJECT_ROWS="objectRows",U.SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",U.SOURCE_FORMAT_UNKNOWN="unknown",U.SOURCE_FORMAT_TYPED_ARRAY="typedArray",U.SERIES_LAYOUT_BY_COLUMN="column",U.SERIES_LAYOUT_BY_ROW="row"},53639:(j,U,i)=>{i(78322);var t=i(47540),M=i(66615),I=i(10754),D=i(71156),b=i(14856),y=i(24665),h=i(43709),n=i(68165),c=i(51548),o=i(98024),a=i(2909),u=i(21730),e=i(42310),s=i(4263),r=i(83785),l=i(24023),d=i(32694),v=i(21617),p=i(74972).throttle,S=i(94110),C=i(42240),x=i(42716),g=i(53128),m=i(55876),A=i(64192);i(43046);var L=i(38511),E=M.assert,N=M.each,R=M.isFunction,F=M.isObject,H=e.parseClassType,$=1e3,et=3e3,dt={PROCESSOR:{FILTER:$,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:et,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3}},ht="__flagInMainProcess",gt="__optionUpdated",at=/^[a-zA-Z0-9_]+$/;function ut(mt,Dt){return function(Ut,Kt,$t){!Dt&&this._disposed||(Ut=Ut&&Ut.toLowerCase(),y.prototype[mt].call(this,Ut,Kt,$t))}}function Ct(){y.call(this)}function _t(mt,jt,Ut){Ut=Ut||{},"string"==typeof jt&&(jt=rr[jt]),this._dom=mt;var $t=this._zr=t.init(mt,{renderer:Ut.renderer||"canvas",devicePixelRatio:Ut.devicePixelRatio,width:Ut.width,height:Ut.height});this._throttledZrFlush=p(M.bind($t.flush,$t),17),(jt=M.clone(jt))&&a(jt,!0),this._theme=jt,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new c;var ee=this._api=function Be(mt){var Dt=mt._coordSysMgr;return M.extend(new n(mt),{getCoordinateSystems:M.bind(Dt.getCoordinateSystems,Dt),getComponentByElement:function(Ut){for(;Ut;){var Kt=Ut.__ecComponentInfo;if(null!=Kt)return mt._model.getComponent(Kt.mainType,Kt.index);Ut=Ut.parent}}})}(this);function le(re,pe){return re.__prio-pe.__prio}b(Oe,le),b(Ie,le),this._scheduler=new g(this,ee,Ie,Oe),y.call(this,this._ecEventProcessor=new ze),this._messageCenter=new Ct,this._initEvents(),this.resize=M.bind(this.resize,this),this._pendingActions=[],$t.animation.on("frame",this._onframe,this),function wt(mt,Dt){mt.on("rendered",function(){Dt.trigger("rendered"),mt.animation.isFinished()&&!Dt[gt]&&!Dt._scheduler.unfinished&&!Dt._pendingActions.length&&Dt.trigger("finished")})}($t,this),M.setAsPrimitive(this)}Ct.prototype.on=ut("on",!0),Ct.prototype.off=ut("off",!0),Ct.prototype.one=ut("one",!0),M.mixin(Ct,y);var bt=_t.prototype;function Rt(mt,Dt,Ut){if(!this._disposed){var jt,Kt=this._model,$t=this._coordSysMgr.getCoordinateSystems();Dt=v.parseFinder(Kt,Dt);for(var ee=0;ee<$t.length;ee++){var le=$t[ee];if(le[mt]&&null!=(jt=le[mt](Kt,Dt,Ut)))return jt}}}bt._onframe=function(){if(!this._disposed){var mt=this._scheduler;if(this[gt]){var Dt=this[gt].silent;this[ht]=!0,Tt(this),yt.update.call(this),this[ht]=!1,this[gt]=!1,ft.call(this,Dt),xt.call(this,Dt)}else if(mt.unfinished){var Ut=1,Kt=this._model;mt.unfinished=!1;do{var jt=+new Date;mt.performSeriesTasks(Kt),mt.performDataProcessorTasks(Kt),Zt(this,Kt),mt.performVisualTasks(Kt),Jt(this,this._model,0,"remain"),Ut-=+new Date-jt}while(Ut>0&&mt.unfinished);mt.unfinished||this._zr.flush()}}},bt.getDom=function(){return this._dom},bt.getZr=function(){return this._zr},bt.setOption=function(mt,Dt,Ut){if(!this._disposed){var Kt;if(F(Dt)&&(Ut=Dt.lazyUpdate,Kt=Dt.silent,Dt=Dt.notMerge),this[ht]=!0,!this._model||Dt){var $t=new o(this._api),jt=this._theme,ee=this._model=new h;ee.scheduler=this._scheduler,ee.init(null,null,jt,$t)}this._model.setOption(mt,we),Ut?(this[gt]={silent:Kt},this[ht]=!1):(Tt(this),yt.update.call(this),this._zr.flush(),this[gt]=!1,this[ht]=!1,ft.call(this,Kt),xt.call(this,Kt))}},bt.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},bt.getModel=function(){return this._model},bt.getOption=function(){return this._model&&this._model.getOption()},bt.getWidth=function(){return this._zr.getWidth()},bt.getHeight=function(){return this._zr.getHeight()},bt.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},bt.getRenderedCanvas=function(mt){if(D.canvasSupported)return(mt=mt||{}).pixelRatio=mt.pixelRatio||1,mt.backgroundColor=mt.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(mt)},bt.getSvgDataURL=function(){if(D.svgSupported){var mt=this._zr,Dt=mt.storage.getDisplayList();return M.each(Dt,function(Ut){Ut.stopAnimation(!0)}),mt.painter.toDataURL()}},bt.getDataURL=function(mt){if(!this._disposed){var Ut=this._model,Kt=[],$t=this;N((mt=mt||{}).excludeComponents,function(ee){Ut.eachComponent({mainType:ee},function(le){var re=$t._componentsMap[le.__viewId];re.group.ignore||(Kt.push(re),re.group.ignore=!0)})});var jt="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(mt).toDataURL("image/"+(mt&&mt.type||"png"));return N(Kt,function(ee){ee.group.ignore=!1}),jt}},bt.getConnectedDataURL=function(mt){if(!this._disposed&&D.canvasSupported){var Dt="svg"===mt.type,Ut=this.group,Kt=Math.min,$t=Math.max,jt=1/0;if(ar[Ut]){var ee=jt,le=jt,re=-jt,pe=-jt,be=[],Te=mt&&mt.pixelRatio||1;M.each(ae,function(Cr,pn){if(Cr.group===Ut){var In=Dt?Cr.getZr().painter.getSvgDom().innerHTML:Cr.getRenderedCanvas(M.clone(mt)),tn=Cr.getDom().getBoundingClientRect();ee=Kt(tn.left,ee),le=Kt(tn.top,le),re=$t(tn.right,re),pe=$t(tn.bottom,pe),be.push({dom:In,left:tn.left,top:tn.top})}});var Qe=(re*=Te)-(ee*=Te),Ze=(pe*=Te)-(le*=Te),qe=M.createCanvas(),yr=t.init(qe,{renderer:Dt?"svg":"canvas"});if(yr.resize({width:Qe,height:Ze}),Dt){var gn="";return N(be,function(Cr){gn+='<g transform="translate('+(Cr.left-ee)+","+(Cr.top-le)+')">'+Cr.dom+"</g>"}),yr.painter.getSvgRoot().innerHTML=gn,mt.connectedBackgroundColor&&yr.painter.setBackgroundColor(mt.connectedBackgroundColor),yr.refreshImmediately(),yr.painter.toDataURL()}return mt.connectedBackgroundColor&&yr.add(new d.Rect({shape:{x:0,y:0,width:Qe,height:Ze},style:{fill:mt.connectedBackgroundColor}})),N(be,function(Cr){var pn=new d.Image({style:{x:Cr.left*Te-ee,y:Cr.top*Te-le,image:Cr.dom}});yr.add(pn)}),yr.refreshImmediately(),qe.toDataURL("image/"+(mt&&mt.type||"png"))}return this.getDataURL(mt)}},bt.convertToPixel=M.curry(Rt,"convertToPixel"),bt.convertFromPixel=M.curry(Rt,"convertFromPixel"),bt.containPixel=function(mt,Dt){var Kt;if(!this._disposed)return mt=v.parseFinder(this._model,mt),M.each(mt,function($t,jt){jt.indexOf("Models")>=0&&M.each($t,function(ee){var le=ee.coordinateSystem;if(le&&le.containPoint)Kt|=!!le.containPoint(Dt);else if("seriesModels"===jt){var re=this._chartsMap[ee.__viewId];re&&re.containPoint&&(Kt|=re.containPoint(Dt,ee))}},this)},this),!!Kt},bt.getVisual=function(mt,Dt){var $t=(mt=v.parseFinder(this._model,mt,{defaultMainType:"series"})).seriesModel.getData(),jt=mt.hasOwnProperty("dataIndexInside")?mt.dataIndexInside:mt.hasOwnProperty("dataIndex")?$t.indexOfRawIndex(mt.dataIndex):null;return null!=jt?$t.getItemVisual(jt,Dt):$t.getVisual(Dt)},bt.getViewOfComponentModel=function(mt){return this._componentsMap[mt.__viewId]},bt.getViewOfSeriesModel=function(mt){return this._chartsMap[mt.__viewId]};var yt={prepareAndUpdate:function(mt){Tt(this),yt.update.call(this,mt)},update:function(mt){var Dt=this._model,Ut=this._api,Kt=this._zr,$t=this._coordSysMgr,jt=this._scheduler;if(Dt){jt.restoreData(Dt,mt),jt.performSeriesTasks(Dt),$t.create(Dt,Ut),jt.performDataProcessorTasks(Dt,mt),Zt(this,Dt),$t.update(Dt,Ut),Ot(Dt),jt.performVisualTasks(Dt,mt),It(this,Dt,Ut,mt);var ee=Dt.get("backgroundColor")||"transparent";if(D.canvasSupported)Kt.setBackgroundColor(ee);else{var le=I.parse(ee);ee=I.stringify(le,"rgb"),0===le[3]&&(ee="transparent")}qt(Dt,Ut)}},updateTransform:function(mt){var Dt=this._model,Ut=this,Kt=this._api;if(Dt){var $t=[];Dt.eachComponent(function(ee,le){var re=Ut.getViewOfComponentModel(le);if(re&&re.__alive)if(re.updateTransform){var pe=re.updateTransform(le,Dt,Kt,mt);pe&&pe.update&&$t.push(re)}else $t.push(re)});var jt=M.createHashMap();Dt.eachSeries(function(ee){var le=Ut._chartsMap[ee.__viewId];if(le.updateTransform){var re=le.updateTransform(ee,Dt,Kt,mt);re&&re.update&&jt.set(ee.uid,1)}else jt.set(ee.uid,1)}),Ot(Dt),this._scheduler.performVisualTasks(Dt,mt,{setDirty:!0,dirtyMap:jt}),Jt(Ut,Dt,0,mt,jt),qt(Dt,this._api)}},updateView:function(mt){var Dt=this._model;Dt&&(l.markUpdateMethod(mt,"updateView"),Ot(Dt),this._scheduler.performVisualTasks(Dt,mt,{setDirty:!0}),It(this,this._model,this._api,mt),qt(Dt,this._api))},updateVisual:function(mt){yt.update.call(this,mt)},updateLayout:function(mt){yt.update.call(this,mt)}};function Tt(mt){var Dt=mt._model,Ut=mt._scheduler;Ut.restorePipelines(Dt),Ut.prepareStageTasks(),Nt(mt,"component",Dt,Ut),Nt(mt,"chart",Dt,Ut),Ut.plan()}function Pt(mt,Dt,Ut,Kt,$t){var jt=mt._model;if(Kt){var ee={};ee[Kt+"Id"]=Ut[Kt+"Id"],ee[Kt+"Index"]=Ut[Kt+"Index"],ee[Kt+"Name"]=Ut[Kt+"Name"];var le={mainType:Kt,query:ee};$t&&(le.subType=$t);var re=Ut.excludeSeriesId;null!=re&&(re=M.createHashMap(v.normalizeToArray(re))),jt&&jt.eachComponent(le,function(be){(!re||null==re.get(be.id))&&pe(mt["series"===Kt?"_chartsMap":"_componentsMap"][be.__viewId])},mt)}else N(mt._componentsViews.concat(mt._chartsViews),pe);function pe(be){be&&be.__alive&&be[Dt]&&be[Dt](be.__model,jt,mt._api,Ut)}}function Zt(mt,Dt){var Ut=mt._chartsMap,Kt=mt._scheduler;Dt.eachSeries(function($t){Kt.updateStreamModes($t,Ut[$t.__viewId])})}function Vt(mt,Dt){var Ut=mt.type,Kt=mt.escapeConnect,$t=ue[Ut],jt=$t.actionInfo,ee=(jt.update||"update").split(":"),le=ee.pop();ee=null!=ee[0]&&H(ee[0]),this[ht]=!0;var re=[mt],pe=!1;mt.batch&&(pe=!0,re=M.map(mt.batch,function(Ze){return(Ze=M.defaults(M.extend({},Ze),mt)).batch=null,Ze}));var Te,be=[],Qe="highlight"===Ut||"downplay"===Ut;N(re,function(Ze){(Te=(Te=$t.action(Ze,this._model,this._api))||M.extend({},Ze)).type=jt.event||Te.type,be.push(Te),Qe?Pt(this,le,Ze,"series"):ee&&Pt(this,le,Ze,ee.main,ee.sub)},this),"none"!==le&&!Qe&&!ee&&(this[gt]?(Tt(this),yt.update.call(this,mt),this[gt]=!1):yt[le].call(this,mt)),Te=pe?{type:jt.event||Ut,escapeConnect:Kt,batch:be}:be[0],this[ht]=!1,!Dt&&this._messageCenter.trigger(Te.type,Te)}function ft(mt){for(var Dt=this._pendingActions;Dt.length;){var Ut=Dt.shift();Vt.call(this,Ut,mt)}}function xt(mt){!mt&&this.trigger("updated")}function Nt(mt,Dt,Ut,Kt){for(var $t="component"===Dt,jt=$t?mt._componentsViews:mt._chartsViews,ee=$t?mt._componentsMap:mt._chartsMap,le=mt._zr,re=mt._api,pe=0;pe<jt.length;pe++)jt[pe].__alive=!1;function be(Qe){var Ze="_ec_"+Qe.id+"_"+Qe.type,qe=ee[Ze];if(!qe){var yr=H(Qe.type);(qe=new($t?r.getClass(yr.main,yr.sub):l.getClass(yr.sub))).init(Ut,re),ee[Ze]=qe,jt.push(qe),le.add(qe.group)}Qe.__viewId=qe.__id=Ze,qe.__alive=!0,qe.__model=Qe,qe.group.__ecComponentInfo={mainType:Qe.mainType,index:Qe.componentIndex},!$t&&Kt.prepareView(qe,Qe,Ut,re)}for($t?Ut.eachComponent(function(Qe,Ze){"series"!==Qe&&be(Ze)}):Ut.eachSeries(be),pe=0;pe<jt.length;){var Te=jt[pe];Te.__alive?pe++:(!$t&&Te.renderTask.dispose(),le.remove(Te.group),Te.dispose(Ut,re),jt.splice(pe,1),delete ee[Te.__id],Te.__id=Te.group.__ecComponentInfo=null)}}function Ot(mt){mt.clearColorPalette(),mt.eachSeries(function(Dt){Dt.clearColorPalette()})}function It(mt,Dt,Ut,Kt){(function Ft(mt,Dt,Ut,Kt,$t){N($t||mt._componentsViews,function(jt){var ee=jt.__model;jt.render(ee,Dt,Ut,Kt),Se(ee,jt)})})(mt,Dt,Ut,Kt),N(mt._chartsViews,function($t){$t.__alive=!1}),Jt(mt,Dt,0,Kt),N(mt._chartsViews,function($t){$t.__alive||$t.remove(Dt,Ut)})}function Jt(mt,Dt,Ut,Kt,$t){var ee,jt=mt._scheduler;Dt.eachSeries(function(le){var re=mt._chartsMap[le.__viewId];re.__alive=!0;var pe=re.renderTask;jt.updatePayload(pe,Kt),$t&&$t.get(le.uid)&&pe.dirty(),ee|=pe.perform(jt.getPerformArgs(pe)),re.group.silent=!!le.get("silent"),Se(le,re),function Ce(mt,Dt){var Ut=mt.get("blendMode")||null;Dt.group.traverse(function(Kt){Kt.isGroup||Kt.style.blend!==Ut&&Kt.setStyle("blend",Ut),Kt.eachPendingDisplayable&&Kt.eachPendingDisplayable(function($t){$t.setStyle("blend",Ut)})})}(le,re)}),jt.unfinished|=ee,function ge(mt,Dt){var $t=0;mt._zr.storage.traverse(function(jt){$t++}),$t>Dt.get("hoverLayerThreshold")&&!D.node&&Dt.eachSeries(function(jt){if(!jt.preventUsingHoverLayer){var ee=mt._chartsMap[jt.__viewId];ee.__alive&&ee.group.traverse(function(le){le.useHoverLayer=!0})}})}(mt,Dt),C(mt._zr.dom,Dt)}function qt(mt,Dt){N(Ae,function(Ut){Ut(mt,Dt)})}bt.resize=function(mt){if(!this._disposed){this._zr.resize(mt);var Dt=this._model;if(this._loadingFX&&this._loadingFX.resize(),Dt){var Ut=Dt.resetOption("media"),Kt=mt&&mt.silent;this[ht]=!0,Ut&&Tt(this),yt.update.call(this),this[ht]=!1,ft.call(this,Kt),xt.call(this,Kt)}}},bt.showLoading=function(mt,Dt){if(!this._disposed&&(F(mt)&&(Dt=mt,mt=""),mt=mt||"default",this.hideLoading(),vr[mt])){var Ut=vr[mt](this._api,Dt),Kt=this._zr;this._loadingFX=Ut,Kt.add(Ut)}},bt.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},bt.makeActionFromEvent=function(mt){var Dt=M.extend({},mt);return Dt.type=he[mt.type],Dt},bt.dispatchAction=function(mt,Dt){if(!this._disposed&&(F(Dt)||(Dt={silent:!!Dt}),ue[mt.type]&&this._model)){if(this[ht])return void this._pendingActions.push(mt);Vt.call(this,mt,Dt.silent),Dt.flush?this._zr.flush(!0):!1!==Dt.flush&&D.browser.weChat&&this._throttledZrFlush(),ft.call(this,Dt.silent),xt.call(this,Dt.silent)}},bt.appendData=function(mt){if(!this._disposed){var Dt=mt.seriesIndex;this.getModel().getSeriesByIndex(Dt).appendData(mt),this._scheduler.unfinished=!0}},bt.on=ut("on",!1),bt.off=ut("off",!1),bt.one=ut("one",!1);var te=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function Se(mt,Dt){var Ut=mt.get("z"),Kt=mt.get("zlevel");Dt.group.traverse(function($t){"group"!==$t.type&&(null!=Ut&&($t.z=Ut),null!=Kt&&($t.zlevel=Kt))})}function ze(){}bt._initEvents=function(){N(te,function(mt){var Dt=function(Ut){var jt,Kt=this.getModel(),$t=Ut.target;if("globalout"===mt)jt={};else if($t&&null!=$t.dataIndex){var le=$t.dataModel||Kt.getSeriesByIndex($t.seriesIndex);jt=le&&le.getDataParams($t.dataIndex,$t.dataType,$t)||{}}else $t&&$t.eventData&&(jt=M.extend({},$t.eventData));if(jt){var re=jt.componentType,pe=jt.componentIndex;("markLine"===re||"markPoint"===re||"markArea"===re)&&(re="series",pe=jt.seriesIndex);var be=re&&null!=pe&&Kt.getComponent(re,pe),Te=be&&this["series"===be.mainType?"_chartsMap":"_componentsMap"][be.__viewId];jt.event=Ut,jt.type=mt,this._ecEventProcessor.eventInfo={targetEl:$t,packedEvent:jt,model:be,view:Te},this.trigger(mt,jt)}};Dt.zrEventfulCallAtLast=!0,this._zr.on(mt,Dt,this)},this),N(he,function(mt,Dt){this._messageCenter.on(Dt,function(Ut){this.trigger(Dt,Ut)},this)},this)},bt.isDisposed=function(){return this._disposed},bt.clear=function(){this._disposed||this.setOption({series:[]},!0)},bt.dispose=function(){if(!this._disposed){this._disposed=!0,v.setAttribute(this.getDom(),tr,"");var mt=this._api,Dt=this._model;N(this._componentsViews,function(Ut){Ut.dispose(Dt,mt)}),N(this._chartsViews,function(Ut){Ut.dispose(Dt,mt)}),this._zr.dispose(),delete ae[this.id]}},M.mixin(_t,y),ze.prototype={constructor:ze,normalizeQuery:function(mt){var Dt={},Ut={},Kt={};if(M.isString(mt)){var $t=H(mt);Dt.mainType=$t.main||null,Dt.subType=$t.sub||null}else{var jt=["Index","Name","Id"],ee={name:1,dataIndex:1,dataType:1};M.each(mt,function(le,re){for(var pe=!1,be=0;be<jt.length;be++){var Te=jt[be],Qe=re.lastIndexOf(Te);if(Qe>0&&Qe===re.length-Te.length){var Ze=re.slice(0,Qe);"data"!==Ze&&(Dt.mainType=Ze,Dt[Te.toLowerCase()]=le,pe=!0)}}ee.hasOwnProperty(re)&&(Ut[re]=le,pe=!0),pe||(Kt[re]=le)})}return{cptQuery:Dt,dataQuery:Ut,otherQuery:Kt}},filter:function(mt,Dt,Ut){var Kt=this.eventInfo;if(!Kt)return!0;var $t=Kt.targetEl,jt=Kt.packedEvent,ee=Kt.model,le=Kt.view;if(!ee||!le)return!0;var re=Dt.cptQuery,pe=Dt.dataQuery;return be(re,ee,"mainType")&&be(re,ee,"subType")&&be(re,ee,"index","componentIndex")&&be(re,ee,"name")&&be(re,ee,"id")&&be(pe,jt,"name")&&be(pe,jt,"dataIndex")&&be(pe,jt,"dataType")&&(!le.filterForExposedEvent||le.filterForExposedEvent(mt,Dt.otherQuery,$t,jt));function be(Te,Qe,Ze,qe){return null==Te[Ze]||Qe[qe||Ze]===Te[Ze]}},afterTrigger:function(){this.eventInfo=null}};var ue={},he={},Ie=[],we=[],Ae=[],Oe=[],rr={},vr={},ae={},ar={},Je=new Date-0,He=new Date-0,tr="_echarts_instance_";function Ht(mt){ar[mt]=!1}var Qt=Ht;function Re(mt){return ae[v.getAttribute(mt,tr)]}function ke(mt,Dt){rr[mt]=Dt}function je(mt){we.push(mt)}function or(mt,Dt){Zn(Ie,mt,Dt,$)}function Dr(mt,Dt,Ut){"function"==typeof Dt&&(Ut=Dt,Dt="");var Kt=F(mt)?mt.type:[mt,mt={event:Dt}][0];mt.event=(mt.event||Kt).toLowerCase(),Dt=mt.event,E(at.test(Kt)&&at.test(Dt)),ue[Kt]||(ue[Kt]={action:Ut,actionInfo:mt}),he[Dt]=Kt}function vn(mt,Dt){Zn(Oe,mt,Dt,et,"visual")}function Zn(mt,Dt,Ut,Kt,$t){(R(Dt)||F(Dt))&&(Ut=Dt,Dt=Kt);var jt=g.wrapStageHandler(Ut,$t);return jt.__prio=Dt,jt.__raw=Ut,mt.push(jt),jt}function ai(mt,Dt){vr[mt]=Dt}vn(2e3,S),je(a),or(900,u),ai("default",x),Dr({type:"highlight",event:"highlight",update:"highlight"},M.noop),Dr({type:"downplay",event:"downplay",update:"downplay"},M.noop),ke("light",m),ke("dark",A),U.version="4.9.0",U.dependencies={zrender:"4.3.2"},U.PRIORITY=dt,U.init=function Mt(mt,Dt,Ut){var Kt=Re(mt);if(Kt)return Kt;var $t=new _t(mt,Dt,Ut);return $t.id="ec_"+Je++,ae[$t.id]=$t,v.setAttribute(mt,tr,$t.id),function pt(mt){var $t="__connectUpdateStatus";function jt(ee,le){for(var re=0;re<ee.length;re++)ee[re][$t]=le}N(he,function(ee,le){mt._messageCenter.on(le,function(re){if(ar[mt.group]&&0!==mt[$t]){if(re&&re.escapeConnect)return;var pe=mt.makeActionFromEvent(re),be=[];N(ae,function(Te){Te!==mt&&Te.group===mt.group&&be.push(Te)}),jt(be,0),N(be,function(Te){1!==Te[$t]&&Te.dispatchAction(pe)}),jt(be,2)}})})}($t),$t},U.connect=function kt(mt){if(M.isArray(mt)){var Dt=mt;mt=null,N(Dt,function(Ut){null!=Ut.group&&(mt=Ut.group)}),mt=mt||"g_"+He++,N(Dt,function(Ut){Ut.group=mt})}return ar[mt]=!0,mt},U.disConnect=Ht,U.disconnect=Qt,U.dispose=function ce(mt){"string"==typeof mt?mt=ae[mt]:mt instanceof _t||(mt=Re(mt)),mt instanceof _t&&!mt.isDisposed()&&mt.dispose()},U.getInstanceByDom=Re,U.getInstanceById=function De(mt){return ae[mt]},U.registerTheme=ke,U.registerPreprocessor=je,U.registerProcessor=or,U.registerPostUpdate=function zr(mt){Ae.push(mt)},U.registerAction=Dr,U.registerCoordinateSystem=function mr(mt,Dt){c.register(mt,Dt)},U.getCoordinateSystemDimensions=function qr(mt){var Dt=c.get(mt);if(Dt)return Dt.getDimensionsInfo?Dt.getDimensionsInfo():Dt.dimensions.slice()},U.registerLayout=function _r(mt,Dt){Zn(Oe,mt,Dt,1e3,"layout")},U.registerVisual=vn,U.registerLoading=ai,U.extendComponentModel=function oi(mt){return e.extend(mt)},U.extendComponentView=function si(mt){return r.extend(mt)},U.extendSeriesModel=function li(mt){return s.extend(mt)},U.extendChartView=function Hi(mt){return l.extend(mt)},U.setCanvasCreator=function ki(mt){M.$override("createCanvas",mt)},U.registerMap=function Vi(mt,Dt,Ut){L.registerMap(mt,Dt,Ut)},U.getMap=function Ui(mt){var Dt=L.retrieveMap(mt);return Dt&&Dt[0]&&{geoJson:Dt[0].geoJSON,specialAreas:Dt[0].specialAreas}},U.dataTool={};var Mn=i(43022);!function(){for(var mt in Mn)Mn.hasOwnProperty(mt)&&(U[mt]=Mn[mt])}()},43022:(j,U,i)=>{var T=i(47540);U.zrender=T;var w=i(84498);U.matrix=w;var t=i(8544);U.vector=t;var M=i(66615),I=i(10754);U.color=I;var D=i(32694),b=i(68301);U.number=b;var y=i(42977);U.format=y;var h=i(74972);U.throttle=h.throttle;var c=i(8143);U.helper=c;var o=i(93153);U.parseGeoJSON=o;var a=i(47563);U.List=a;var u=i(82356);U.Model=u;var e=i(20330);U.Axis=e;var s=i(71156);U.env=s;var r=o,l={};M.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(v){l[v]=M[v]});var d={};M.each(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(v){d[v]=D[v]}),U.parseGeoJson=r,U.util=l,U.graphic=d},8143:(j,U,i)=>{var T=i(66615),w=i(8127),t=i(84004),M=i(69896),I=i(82356),D=i(10942);U.getLayoutRect=D.getLayoutRect;var y=i(69816),h=y.enableDataStack,n=y.isDimensionStacked,c=y.getStackedDimension,o=i(39433);U.completeDimensions=o;var a=i(51440);U.createDimensions=a;var u=i(33008);U.createSymbol=u.createSymbol;var s={isDimensionStacked:n,enableDataStack:h,getStackedDimension:c};U.createList=function e(d){return w(d.getSource(),d)},U.dataStack=s,U.createScale=function r(d,v){var f=v;I.isInstance(v)||(f=new I(v),T.mixin(f,M));var p=t.createScaleByModel(f);return p.setExtent(d[0],d[1]),t.niceScaleExtent(p,f),p},U.mixinAxisModelCommonMethods=function l(d){T.mixin(d,M)}},3494:j=>{j.exports={legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}}},98253:(j,U,i)=>{var T=i(66615),t=i(68301).parsePercent,I=i(69816).isDimensionStacked,D=i(79104),b="__ec_stack_",h=typeof Float32Array<"u"?Float32Array:Array;function n(S){return S.get("stack")||b+S.seriesIndex}function c(S){return S.dim+S.index}function a(S,C){var x=[];return C.eachSeriesByType(S,function(g){v(g)&&!f(g)&&x.push(g)}),x}function e(S){var C=function u(S){var C={};T.each(S,function(N){var F=N.coordinateSystem.getBaseAxis();if("time"===F.type||"value"===F.type)for(var H=N.getData(),B=F.dim+"_"+F.index,Z=H.mapDimension(F.dim),W=0,$=H.count();W<$;++W){var Y=H.get(Z,W);C[B]?C[B].push(Y):C[B]=[Y]}});var x=[];for(var g in C)if(C.hasOwnProperty(g)){var m=C[g];if(m){m.sort(function(N,R){return N-R});for(var A=null,L=1;L<m.length;++L){var E=m[L]-m[L-1];E>0&&(A=null===A?E:Math.min(A,E))}x[g]=A}}return x}(S),x=[];return T.each(S,function(g){var E,A=g.coordinateSystem.getBaseAxis(),L=A.getExtent();if("category"===A.type)E=A.getBandWidth();else if("value"===A.type||"time"===A.type){var R=C[A.dim+"_"+A.index],F=Math.abs(L[1]-L[0]),H=A.scale.getExtent(),B=Math.abs(H[1]-H[0]);E=R?F/B*R:F}else{var Z=g.getData();E=Math.abs(L[1]-L[0])/Z.count()}var W=t(g.get("barWidth"),E),$=t(g.get("barMaxWidth"),E),Y=t(g.get("barMinWidth")||1,E),V=g.get("barGap"),z=g.get("barCategoryGap");x.push({bandWidth:E,barWidth:W,barMaxWidth:$,barMinWidth:Y,barGap:V,barCategoryGap:z,axisKey:c(A),stackId:n(g)})}),s(x)}function s(S){var C={};T.each(S,function(g,m){var A=g.axisKey,L=g.bandWidth,E=C[A]||{bandWidth:L,remainedWidth:L,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},N=E.stacks;C[A]=E;var R=g.stackId;N[R]||E.autoWidthCount++,N[R]=N[R]||{width:0,maxWidth:0};var F=g.barWidth;F&&!N[R].width&&(N[R].width=F,F=Math.min(E.remainedWidth,F),E.remainedWidth-=F);var H=g.barMaxWidth;H&&(N[R].maxWidth=H);var B=g.barMinWidth;B&&(N[R].minWidth=B);var Z=g.barGap;null!=Z&&(E.gap=Z);var W=g.barCategoryGap;null!=W&&(E.categoryGap=W)});var x={};return T.each(C,function(g,m){x[m]={};var A=g.stacks,L=g.bandWidth,E=t(g.categoryGap,L),N=t(g.gap,1),R=g.remainedWidth,F=g.autoWidthCount,H=(R-E)/(F+(F-1)*N);H=Math.max(H,0),T.each(A,function($){var Y=$.maxWidth,V=$.minWidth;if($.width){var z=$.width;Y&&(z=Math.min(z,Y)),V&&(z=Math.max(z,V)),$.width=z,R-=z+N*z,F--}else z=H,Y&&Y<z&&(z=Math.min(Y,R)),V&&V>z&&(z=V),z!==H&&($.width=z,R-=z+N*z,F--)}),H=(R-E)/(F+(F-1)*N),H=Math.max(H,0);var Z,B=0;T.each(A,function($,Y){$.width||($.width=H),Z=$,B+=$.width*(1+N)}),Z&&(B-=Z.width*N);var W=-B/2;T.each(A,function($,Y){x[m][Y]=x[m][Y]||{bandWidth:L,offset:W,width:$.width},W+=$.width*(1+N)})}),x}function r(S,C,x){if(S&&C){var g=S[c(C)];return null!=g&&null!=x&&(g=g[n(x)]),g}}var d={seriesType:"bar",plan:D(),reset:function(S){if(v(S)&&f(S)){var C=S.getData(),x=S.coordinateSystem,g=x.grid.getRect(),m=x.getBaseAxis(),A=x.getOtherAxis(m),L=C.mapDimension(A.dim),E=C.mapDimension(m.dim),N=A.isHorizontal(),R=N?0:1,F=r(e([S]),m,S).width;return F>.5||(F=.5),{progress:function H(B,Z){for(var z,W=B.count,$=new h(2*W),Y=new h(2*W),V=new h(W),k=[],X=[],q=0,et=0;null!=(z=B.next());)X[R]=Z.get(L,z),X[1-R]=Z.get(E,z),k=x.dataToPoint(X,null,k),Y[q]=N?g.x+g.width:k[0],$[q++]=k[0],Y[q]=N?k[1]:g.y+g.height,$[q++]=k[1],V[et++]=z;Z.setLayout({largePoints:$,largeDataIndices:V,largeBackgroundPoints:Y,barWidth:F,valueAxisStart:p(0,A),backgroundStart:N?g.x:g.y,valueAxisHorizontal:N})}}}}};function v(S){return S.coordinateSystem&&"cartesian2d"===S.coordinateSystem.type}function f(S){return S.pipelineContext&&S.pipelineContext.large}function p(S,C,x){return C.toGlobalCoord(C.dataToCoord("log"===C.type?1:0))}U.getLayoutOnAxis=function o(S){var C=[],x=S.axis,g="axis0";if("category"===x.type){for(var m=x.getBandWidth(),A=0;A<S.count;A++)C.push(T.defaults({bandWidth:m,axisKey:g,stackId:b+A},S));var L=s(C),E=[];for(A=0;A<S.count;A++){var N=L[g][b+A];N.offsetCenter=N.offset+N.width/2,E.push(N)}return E}},U.prepareLayoutBarSeries=a,U.makeColumnLayout=e,U.retrieveColumnLayout=r,U.layout=function l(S,C){var x=a(S,C),g=e(x),m={},A={};T.each(x,function(L){var E=L.getData(),N=L.coordinateSystem,R=N.getBaseAxis(),F=n(L),H=g[c(R)][F],B=H.offset,Z=H.width,W=N.getOtherAxis(R),$=L.get("barMinHeight")||0;m[F]=m[F]||[],A[F]=A[F]||[],E.setLayout({bandWidth:H.bandWidth,offset:B,size:Z});for(var Y=E.mapDimension(W.dim),V=E.mapDimension(R.dim),z=I(E,Y),k=W.isHorizontal(),X=p(0,W),q=0,et=E.count();q<et;q++){var ht,gt,at,ut,Ct,rt=E.get(Y,q),it=E.get(V,q),lt=rt>=0?"p":"n",dt=X;z&&(m[F][it]||(m[F][it]={p:X,n:X}),dt=m[F][it][lt]),k?(ht=dt,gt=(Ct=N.dataToPoint([rt,it]))[1]+B,at=Ct[0]-X,ut=Z,Math.abs(at)<$&&(at=(at<0?-1:1)*$),isNaN(at)||z&&(m[F][it][lt]+=at)):(ht=(Ct=N.dataToPoint([it,rt]))[0]+B,gt=dt,at=Z,ut=Ct[1]-X,Math.abs(ut)<$&&(ut=(ut<=0?-1:1)*$),isNaN(ut)||z&&(m[F][it][lt]+=ut)),E.setItemLayout(q,{x:ht,y:gt,width:at,height:ut})}},this)},U.largeLayout=d},39755:(j,U,i)=>{var T=i(66615),t=i(68301).parsePercent,I=i(69816).isDimensionStacked;function D(c){return c.get("stack")||"__ec_stack_"+c.seriesIndex}function b(c,o){return o.dim+c.model.componentIndex}j.exports=function y(c,o,a){var u={},e=function h(c,o){var a={};T.each(c,function(e,s){var r=e.getData(),l=e.coordinateSystem,d=l.getBaseAxis(),v=b(l,d),f=d.getExtent(),p="category"===d.type?d.getBandWidth():Math.abs(f[1]-f[0])/r.count(),S=a[v]||{bandWidth:p,remainedWidth:p,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},C=S.stacks;a[v]=S;var x=D(e);C[x]||S.autoWidthCount++,C[x]=C[x]||{width:0,maxWidth:0};var g=t(e.get("barWidth"),p),m=t(e.get("barMaxWidth"),p),A=e.get("barGap"),L=e.get("barCategoryGap");g&&!C[x].width&&(g=Math.min(S.remainedWidth,g),C[x].width=g,S.remainedWidth-=g),m&&(C[x].maxWidth=m),null!=A&&(S.gap=A),null!=L&&(S.categoryGap=L)});var u={};return T.each(a,function(e,s){u[s]={};var r=e.stacks,d=t(e.categoryGap,e.bandWidth),v=t(e.gap,1),f=e.remainedWidth,p=e.autoWidthCount,S=(f-d)/(p+(p-1)*v);S=Math.max(S,0),T.each(r,function(m,A){var L=m.maxWidth;L&&L<S&&(L=Math.min(L,f),m.width&&(L=Math.min(L,m.width)),f-=L,m.width=L,p--)}),S=(f-d)/(p+(p-1)*v),S=Math.max(S,0);var x,C=0;T.each(r,function(m,A){m.width||(m.width=S),x=m,C+=m.width*(1+v)}),x&&(C-=x.width*v);var g=-C/2;T.each(r,function(m,A){u[s][A]=u[s][A]||{offset:g,width:m.width},g+=m.width*(1+v)})}),u}(T.filter(o.getSeriesByType(c),function(s){return!o.isSeriesFiltered(s)&&s.coordinateSystem&&"polar"===s.coordinateSystem.type}));o.eachSeriesByType(c,function(s){if("polar"===s.coordinateSystem.type){var r=s.getData(),l=s.coordinateSystem,d=l.getBaseAxis(),v=b(l,d),f=D(s),p=e[v][f],S=p.offset,C=p.width,x=l.getOtherAxis(d),g=s.coordinateSystem.cx,m=s.coordinateSystem.cy,A=s.get("barMinHeight")||0,L=s.get("barMinAngle")||0;u[f]=u[f]||[];for(var E=r.mapDimension(x.dim),N=r.mapDimension(d.dim),R=I(r,E),F="radius"!==d.dim||!s.get("roundCap",!0),H="radius"===x.dim?x.dataToRadius(0):x.dataToAngle(0),B=0,Z=r.count();B<Z;B++){var z,k,X,q,W=r.get(E,B),$=r.get(N,B),Y=W>=0?"p":"n",V=H;if(R&&(u[f][$]||(u[f][$]={p:H,n:H}),V=u[f][$][Y]),"radius"===x.dim){var et=x.dataToRadius(W)-H,rt=d.dataToAngle($);Math.abs(et)<A&&(et=(et<0?-1:1)*A),z=V,k=V+et,q=(X=rt-S)-C,R&&(u[f][$][Y]=k)}else{var it=x.dataToAngle(W,F)-H,lt=d.dataToRadius($);Math.abs(it)<L&&(it=(it<0?-1:1)*L),k=(z=lt+S)+C,X=V,q=V+it,R&&(u[f][$][Y]=q)}r.setItemLayout(B,{cx:g,cy:m,r0:z,r:k,startAngle:-X*Math.PI/180,endAngle:-q*Math.PI/180})}}},this)}},19051:(j,U,i)=>{var w=i(66615).map,t=i(79104),I=i(69816).isDimensionStacked;j.exports=function D(b){return{seriesType:b,plan:t(),reset:function(y){var h=y.getData(),n=y.coordinateSystem,o=y.pipelineContext.large;if(n){var a=w(n.dimensions,function(r){return h.mapDimension(r)}).slice(0,2),u=a.length,e=h.getCalculationInfo("stackResultDimension");return I(h,a[0])&&(a[0]=e),I(h,a[1])&&(a[1]=e),u&&{progress:function s(r,l){for(var v=o&&new Float32Array((r.end-r.start)*u),f=r.start,p=0,S=[],C=[];f<r.end;f++){var x;if(1===u){var g=l.get(a[0],f);x=!isNaN(g)&&n.dataToPoint(g,null,C)}else{g=S[0]=l.get(a[0],f);var m=S[1]=l.get(a[1],f);x=!isNaN(g)&&!isNaN(m)&&n.dataToPoint(S,null,C)}o?(v[p++]=x?x[0]:NaN,v[p++]=x?x[1]:NaN):l.setItemLayout(f,x&&x.slice()||[NaN,NaN])}o&&l.setLayout("symbolPoints",v)}}}}}}},42716:(j,U,i)=>{var T=i(66615),w=i(32694),t=i(50585),M=Math.PI;j.exports=function I(D,b){T.defaults(b=b||{},{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var y=new w.Group,h=new w.Rect({style:{fill:b.maskColor},zlevel:b.zlevel,z:1e4});y.add(h);var n=b.fontSize+" sans-serif",c=new w.Rect({style:{fill:"none",text:b.text,font:n,textPosition:"right",textDistance:10,textFill:b.textColor},zlevel:b.zlevel,z:10001});if(y.add(c),b.showSpinner){var o=new w.Arc({shape:{startAngle:-M/2,endAngle:-M/2+.1,r:b.spinnerRadius},style:{stroke:b.color,lineCap:"round",lineWidth:b.lineWidth},zlevel:b.zlevel,z:10001});o.animateShape(!0).when(1e3,{endAngle:3*M/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*M/2}).delay(300).start("circularInOut"),y.add(o)}return y.resize=function(){var a=t.getWidth(b.text,n),u=b.showSpinner?b.spinnerRadius:0,e=(D.getWidth()-2*u-(b.showSpinner&&a?10:0)-a)/2-(b.showSpinner?0:a/2),s=D.getHeight()/2;b.showSpinner&&o.setShape({cx:e,cy:s}),c.setShape({x:e-u,y:s-u,width:2*u,height:2*u}),h.setShape({x:0,y:0,width:D.getWidth(),height:D.getHeight()})},y.resize(),y}},42310:(j,U,i)=>{var T=i(66615),w=i(82356),t=i(96012),M=i(78789),I=M.enableClassManagement,D=M.parseClassType,y=i(21617).makeInner,h=i(10942),n=i(94680),c=y(),o=w.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,s,r,l){w.call(this,e,s,r,l),this.uid=t.getUID("ec_cpt_model")},init:function(e,s,r,l){this.mergeDefaultAndTheme(e,r)},mergeDefaultAndTheme:function(e,s){var r=this.layoutMode,l=r?h.getLayoutParams(e):{},d=s.getTheme();T.merge(e,d.get(this.mainType)),T.merge(e,this.getDefaultOption()),r&&h.mergeLayoutParam(e,l,r)},mergeOption:function(e,s){T.merge(this.option,e,!0);var r=this.layoutMode;r&&h.mergeLayoutParam(this.option,e,r)},optionUpdated:function(e,s){},getDefaultOption:function(){var e=c(this);if(!e.defaultOption){for(var s=[],r=this.constructor;r;){var l=r.prototype.defaultOption;l&&s.push(l),r=r.superClass}for(var d={},v=s.length-1;v>=0;v--)d=T.merge(d,s[v],!0);e.defaultOption=d}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});I(o,{registerWhenExtend:!0}),t.enableSubTypeDefaulter(o),t.enableTopologicalTravel(o,function a(e){var s=[];return T.each(o.getClassesByMainType(e),function(r){s=s.concat(r.prototype.dependencies||[])}),s=T.map(s,function(r){return D(r).main}),"dataset"!==e&&T.indexOf(s,"dataset")<=0&&s.unshift("dataset"),s}),T.mixin(o,n),j.exports=o},43709:(j,U,i)=>{i(78322);var t=i(66615),M=t.each,I=t.filter,D=t.map,b=t.isArray,y=t.indexOf,h=t.isObject,n=t.isString,c=t.createHashMap,o=t.assert,a=t.clone,u=t.merge,e=t.extend,s=t.mixin,r=i(21617),l=i(82356),d=i(42310),v=i(80863),f=i(37479),S=i(47458).resetSourceDefaulter,C="\0_ec_inner",x=l.extend({init:function(B,Z,W,$){W=W||{},this.option=null,this._theme=new l(W),this._optionManager=$},setOption:function(B,Z){o(!(C in B),"please use chart.getOption()"),this._optionManager.setOption(B,Z),this.resetOption(null)},resetOption:function(B){var Z=!1,W=this._optionManager;if(!B||"recreate"===B){var $=W.mountOption("recreate"===B);this.option&&"recreate"!==B?(this.restoreData(),this.mergeOption($)):A.call(this,$),Z=!0}if(("timeline"===B||"media"===B)&&this.restoreData(),!B||"recreate"===B||"timeline"===B){var Y=W.getTimelineOption(this);Y&&(this.mergeOption(Y),Z=!0)}if(!B||"recreate"===B||"media"===B){var V=W.getMediaOption(this,this._api);V.length&&M(V,function(z){this.mergeOption(z,Z=!0)},this)}return Z},mergeOption:function(B){var Z=this.option,W=this._componentsMap,$=[];S(this),M(B,function(V,z){null!=V&&(d.hasClass(z)?z&&$.push(z):Z[z]=null==Z[z]?a(V):u(Z[z],V,!0))}),d.topologicalTravel($,d.getAllClassMainTypes(),function Y(V,z){var k=r.normalizeToArray(B[V]),X=r.mappingToExists(W.get(V),k);r.makeIdAndName(X),M(X,function(et,rt){var it=et.option;h(it)&&(et.keyInfo.mainType=V,et.keyInfo.subType=function E(B,Z,W){return Z.type?Z.type:W?W.subType:d.determineSubType(B,Z)}(V,it,et.exist))});var q=function L(B,Z){b(Z)||(Z=Z?[Z]:[]);var W={};return M(Z,function($){W[$]=(B.get($)||[]).slice()}),W}(W,z);Z[V]=[],W.set(V,[]),M(X,function(et,rt){var it=et.exist,lt=et.option;if(o(h(lt)||it,"Empty component definition"),lt){var dt=d.getClass(V,et.keyInfo.subType,!0);if(it&&it.constructor===dt)it.name=et.keyInfo.name,it.mergeOption(lt,this),it.optionUpdated(lt,!1);else{var ht=e({dependentModels:q,componentIndex:rt},et.keyInfo);it=new dt(lt,this,this,ht),e(it,ht),it.init(lt,this,this,ht),it.optionUpdated(null,!0)}}else it.mergeOption({},this),it.optionUpdated({},!1);W.get(V)[rt]=it,Z[V][rt]=it.option},this),"series"===V&&N(this,W.get("series"))},this),this._seriesIndicesMap=c(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var B=a(this.option);return M(B,function(Z,W){if(d.hasClass(W)){for(var $=(Z=r.normalizeToArray(Z)).length-1;$>=0;$--)r.isIdInner(Z[$])&&Z.splice($,1);B[W]=Z}}),delete B[C],B},getTheme:function(){return this._theme},getComponent:function(B,Z){var W=this._componentsMap.get(B);if(W)return W[Z||0]},queryComponents:function(B){var Z=B.mainType;if(!Z)return[];var z,W=B.index,$=B.id,Y=B.name,V=this._componentsMap.get(Z);if(!V||!V.length)return[];if(null!=W)b(W)||(W=[W]),z=I(D(W,function(q){return V[q]}),function(q){return!!q});else if(null!=$){var k=b($);z=I(V,function(q){return k&&y($,q.id)>=0||!k&&q.id===$})}else if(null!=Y){var X=b(Y);z=I(V,function(q){return X&&y(Y,q.name)>=0||!X&&q.name===Y})}else z=V.slice();return R(z,B)},findComponents:function(B){var W=B.mainType,$=function V(k){var X=W+"Index",q=W+"Id",et=W+"Name";return!k||null==k[X]&&null==k[q]&&null==k[et]?null:{mainType:W,index:k[X],id:k[q],name:k[et]}}(B.query);return function z(k){return B.filter?I(k,B.filter):k}(R($?this.queryComponents($):this._componentsMap.get(W),B))},eachComponent:function(B,Z,W){var $=this._componentsMap;if("function"==typeof B)W=Z,Z=B,$.each(function(V,z){M(V,function(k,X){Z.call(W,z,k,X)})});else if(n(B))M($.get(B),Z,W);else if(h(B)){var Y=this.findComponents(B);M(Y,Z,W)}},getSeriesByName:function(B){var Z=this._componentsMap.get("series");return I(Z,function(W){return W.name===B})},getSeriesByIndex:function(B){return this._componentsMap.get("series")[B]},getSeriesByType:function(B){var Z=this._componentsMap.get("series");return I(Z,function(W){return W.subType===B})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(B,Z){M(this._seriesIndices,function(W){var $=this._componentsMap.get("series")[W];B.call(Z,$,W)},this)},eachRawSeries:function(B,Z){M(this._componentsMap.get("series"),B,Z)},eachSeriesByType:function(B,Z,W){M(this._seriesIndices,function($){var Y=this._componentsMap.get("series")[$];Y.subType===B&&Z.call(W,Y,$)},this)},eachRawSeriesByType:function(B,Z,W){return M(this.getSeriesByType(B),Z,W)},isSeriesFiltered:function(B){return null==this._seriesIndicesMap.get(B.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(B,Z){N(this,I(this._componentsMap.get("series"),B,Z))},restoreData:function(B){var Z=this._componentsMap;N(this,Z.get("series"));var W=[];Z.each(function($,Y){W.push(Y)}),d.topologicalTravel(W,d.getAllClassMainTypes(),function($,Y){M(Z.get($),function(V){("series"!==$||!function g(B,Z){if(Z){var W=Z.seiresIndex,$=Z.seriesId,Y=Z.seriesName;return null!=W&&B.componentIndex!==W||null!=$&&B.id!==$||null!=Y&&B.name!==Y}}(V,B))&&V.restoreData()})})}});function A(B){this.option={},this.option[C]=1,this._componentsMap=c({series:[]}),function m(B,Z){var W=B.color&&!B.colorLayer;M(Z,function($,Y){"colorLayer"===Y&&W||d.hasClass(Y)||("object"==typeof $?B[Y]=B[Y]?u(B[Y],$,!1):a($):null==B[Y]&&(B[Y]=$))})}(B,this._theme.option),u(B,v,!1),this.mergeOption(B)}function N(B,Z){B._seriesIndicesMap=c(B._seriesIndices=D(Z,function(W){return W.componentIndex})||[])}function R(B,Z){return Z.hasOwnProperty("subType")?I(B,function(W){return W.subType===Z.subType}):B}s(x,f),j.exports=x},82356:(j,U,i)=>{var T=i(66615),w=i(71156),M=i(21617).makeInner,I=i(78789),D=I.enableClassExtend,b=I.enableClassCheck,y=i(86191),h=i(61636),n=i(4776),c=i(87617),o=T.mixin,a=M();function u(l,d,v){this.parentModel=d,this.ecModel=v,this.option=l}function e(l,d,v){for(var f=0;f<d.length&&(!d[f]||null!=(l=l&&"object"==typeof l?l[d[f]]:null));f++);return null==l&&v&&(l=v.get(d)),l}function s(l,d){var v=a(l).getParent;return v?v.call(l,d):l.parentModel}u.prototype={constructor:u,init:null,mergeOption:function(l){T.merge(this.option,l,!0)},get:function(l,d){return null==l?this.option:e(this.option,this.parsePath(l),!d&&s(this,l))},getShallow:function(l,d){var v=this.option,f=null==v?v:v[l],p=!d&&s(this,l);return null==f&&p&&(f=p.getShallow(l)),f},getModel:function(l,d){var f;return new u(null==l?this.option:e(this.option,l=this.parsePath(l)),d=d||(f=s(this,l))&&f.getModel(l),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(T.clone(this.option))},setReadOnly:function(l){},parsePath:function(l){return"string"==typeof l&&(l=l.split(".")),l},customizeGetParent:function(l){a(this).getParent=l},isAnimationEnabled:function(){if(!w.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},D(u),b(u),o(u,y),o(u,h),o(u,n),o(u,c),j.exports=u},98024:(j,U,i)=>{var T=i(66615),w=i(21617),t=i(42310),M=T.each,I=T.clone,D=T.map,b=T.merge,y=/^(min|max)?(.+)$/;function h(s){this._api=s,this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[]}function n(s,r,l){var f,p,d=[],v=[],S=s.timeline;return s.baseOption&&(p=s.baseOption),(S||s.options)&&(p=p||{},d=(s.options||[]).slice()),s.media&&(p=p||{},M(s.media,function(x){x&&x.option&&(x.query?v.push(x):f||(f=x))})),p||(p=s),p.timeline||(p.timeline=S),M([p].concat(d).concat(T.map(v,function(x){return x.option})),function(x){M(r,function(g){g(x,l)})}),{baseOption:p,timelineOptions:d,mediaDefault:f,mediaList:v}}function c(s,r,l){var d={width:r,height:l,aspectratio:r/l},v=!0;return T.each(s,function(f,p){var S=p.match(y);if(S&&S[1]&&S[2]){var C=S[1],x=S[2].toLowerCase();(function o(s,r,l){return"min"===l?s>=r:"max"===l?s<=r:s===r})(d[x],f,C)||(v=!1)}}),v}h.prototype={constructor:h,setOption:function(s,r){s&&T.each(w.normalizeToArray(s.series),function(v){v&&v.data&&T.isTypedArray(v.data)&&T.setAsPrimitive(v.data)}),s=I(s);var l=this._optionBackup,d=n.call(this,s,r,!l);this._newBaseOption=d.baseOption,l?(function u(s,r){M(r=r||{},function(l,d){if(null!=l){var v=s[d];if(t.hasClass(d)){l=w.normalizeToArray(l),v=w.normalizeToArray(v);var f=w.mappingToExists(v,l);s[d]=D(f,function(p){return p.option&&p.exist?b(p.exist,p.option,!0):p.exist||p.option})}else s[d]=b(v,l,!0)}})}(l.baseOption,d.baseOption),d.timelineOptions.length&&(l.timelineOptions=d.timelineOptions),d.mediaList.length&&(l.mediaList=d.mediaList),d.mediaDefault&&(l.mediaDefault=d.mediaDefault)):this._optionBackup=d},mountOption:function(s){var r=this._optionBackup;return this._timelineOptions=D(r.timelineOptions,I),this._mediaList=D(r.mediaList,I),this._mediaDefault=I(r.mediaDefault),this._currentMediaIndices=[],I(s?r.baseOption:this._newBaseOption)},getTimelineOption:function(s){var r,l=this._timelineOptions;if(l.length){var d=s.getComponent("timeline");d&&(r=I(l[d.getCurrentIndex()],!0))}return r},getMediaOption:function(s){var r=this._api.getWidth(),l=this._api.getHeight(),d=this._mediaList,v=this._mediaDefault,f=[],p=[];if(!d.length&&!v)return p;for(var S=0,C=d.length;S<C;S++)c(d[S].query,r,l)&&f.push(S);return!f.length&&v&&(f=[-1]),f.length&&!function a(s,r){return s.join(",")===r.join(",")}(f,this._currentMediaIndices)&&(p=D(f,function(x){return I(-1===x?v.option:d[x].option)})),this._currentMediaIndices=f,p}},j.exports=h},4263:(j,U,i)=>{i(78322);var t=i(66615),M=i(71156),I=i(42977),D=I.formatTime,b=I.encodeHTML,y=I.addCommas,h=I.getTooltipMarker,n=i(21617),c=i(42310),o=i(37479),a=i(88488),u=i(10942),e=u.getLayoutParams,s=u.mergeLayoutParam,l=i(96381).createTask,d=i(47458),v=d.prepareSource,f=d.getSource,S=i(54727).retrieveRawValue,C=n.makeInner(),x=c.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(B,Z,W,$){this.seriesIndex=this.componentIndex,this.dataTask=l({count:A,reset:L}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(B,W),v(this);var Y=this.getInitialData(B,W);N(Y,this),this.dataTask.context.data=Y,C(this).dataBeforeProcessed=Y,g(this)},mergeDefaultAndTheme:function(B,Z){var W=this.layoutMode,$=W?e(B):{},Y=this.subType;c.hasClass(Y)&&(Y+="Series"),t.merge(B,Z.getTheme().get(this.subType)),t.merge(B,this.getDefaultOption()),n.defaultEmphasis(B,"label",["show"]),this.fillDataTextStyle(B.data),W&&s(B,$,W)},mergeOption:function(B,Z){B=t.merge(this.option,B,!0),this.fillDataTextStyle(B.data);var W=this.layoutMode;W&&s(this.option,B,W),v(this);var $=this.getInitialData(B,Z);N($,this),this.dataTask.dirty(),this.dataTask.context.data=$,C(this).dataBeforeProcessed=$,g(this)},fillDataTextStyle:function(B){if(B&&!t.isTypedArray(B))for(var Z=["show"],W=0;W<B.length;W++)B[W]&&B[W].label&&n.defaultEmphasis(B[W],"label",Z)},getInitialData:function(){},appendData:function(B){this.getRawData().appendData(B.data)},getData:function(B){var Z=F(this);if(Z){var W=Z.context.data;return null==B?W:W.getLinkedData(B)}return C(this).data},setData:function(B){var Z=F(this);if(Z){var W=Z.context;W.data!==B&&Z.modifyOutputEnd&&Z.setOutputEnd(B.count()),W.outputData=B,Z!==this.dataTask&&(W.data=B)}C(this).data=B},getSource:function(){return f(this)},getRawData:function(){return C(this).dataBeforeProcessed},getBaseAxis:function(){var B=this.coordinateSystem;return B&&B.getBaseAxis&&B.getBaseAxis()},formatTooltip:function(B,Z,W,$){var Y=this,V="html"===($=$||"html")?"<br/>":"\n",z="richText"===$,k={},X=0,rt=this.getData(),it=rt.mapDimension("defaultedTooltip",!0),lt=it.length,dt=this.getRawValue(B),ht=t.isArray(dt),gt=rt.getItemVisual(B,"color");t.isObject(gt)&&gt.colorStops&&(gt=(gt.colorStops[0]||{}).color),gt=gt||"transparent";var ut=(lt>1||ht&&!lt?function q(Pt){var Zt=t.reduce(Pt,function(Nt,Ot,It){var Ft=rt.getDimensionInfo(It);return Nt|(Ft&&!1!==Ft.tooltip&&null!=Ft.displayName)},0),Vt=[];function ft(Nt,Ot){var It=rt.getDimensionInfo(Ot);if(It&&!1!==It.otherDims.tooltip){var Ft=It.type,Jt="sub"+Y.seriesIndex+"at"+X,qt=h({color:gt,type:"subItem",renderMode:$,markerId:Jt}),se=(Zt?("string"==typeof qt?qt:qt.content)+b(It.displayName||"-")+": ":"")+b("ordinal"===Ft?Nt+"":"time"===Ft?Z?"":D("yyyy/MM/dd hh:mm:ss",Nt):y(Nt));se&&Vt.push(se),z&&(k[Jt]=gt,++X)}}it.length?t.each(it,function(Nt){ft(S(rt,B,Nt),Nt)}):t.each(Pt,ft);var xt=Zt?z?"\n":"<br/>":"",wt=xt+Vt.join(xt||", ");return{renderMode:$,content:wt,style:k}}(dt):function et(Pt){return{renderMode:$,content:b(y(Pt)),style:k}}(lt?S(rt,B,it[0]):ht?dt[0]:dt)).content,Ct=Y.seriesIndex+"at"+X,_t=h({color:gt,type:"item",renderMode:$,markerId:Ct});k[Ct]=gt,++X;var bt=rt.getName(B),Rt=this.name;n.isNameSpecified(this)||(Rt=""),Rt=Rt?b(Rt)+(Z?": ":V):"";var yt="string"==typeof _t?_t:_t.content;return{html:Z?yt+Rt+ut:Rt+yt+(bt?b(bt)+": "+ut:ut),markers:k}},isAnimationEnabled:function(){if(M.node)return!1;var B=this.getShallow("animation");return B&&this.getData().count()>this.getShallow("animationThreshold")&&(B=!1),B},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(B,Z,W){var $=this.ecModel,Y=o.getColorFromPalette.call(this,B,Z,W);return Y||(Y=$.getColorFromPalette(B,Z,W)),Y},coordDimToDataDim:function(B){return this.getRawData().mapDimension(B,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function g(B){var Z=B.name;n.isNameSpecified(B)||(B.name=function m(B){var Z=B.getRawData(),W=Z.mapDimension("seriesName",!0),$=[];return t.each(W,function(Y){var V=Z.getDimensionInfo(Y);V.displayName&&$.push(V.displayName)}),$.join(" ")}(B)||Z)}function A(B){return B.model.getRawData().count()}function L(B){var Z=B.model;return Z.setData(Z.getRawData().cloneShallow()),E}function E(B,Z){Z.outputData&&B.end>Z.outputData.count()&&Z.model.getRawData().cloneShallow(Z.outputData)}function N(B,Z){t.each(B.CHANGABLE_METHODS,function(W){B.wrapMethod(W,t.curry(R,Z))})}function R(B){var Z=F(B);Z&&Z.setOutputEnd(this.count())}function F(B){var Z=(B.ecModel||{}).scheduler,W=Z&&Z.getPipeline(B.uid);if(W){var $=W.currentTask;if($){var Y=$.agentStubMap;Y&&($=Y.get(B.uid))}return $}}t.mixin(x,a),t.mixin(x,o),j.exports=x},80863:j=>{var U="";typeof navigator<"u"&&(U=navigator.platform||"");var i={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:U.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};j.exports=i},61636:(j,U,i)=>{var w=i(97005)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]);j.exports={getAreaStyle:function(M,I){return w(this,M,I)}}},94680:j=>{j.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},37479:(j,U,i)=>{var T=i(21617),t=T.normalizeToArray,M=(0,T.makeInner)();j.exports={clearColorPalette:function(){M(this).colorIdx=0,M(this).colorNameMap={}},getColorFromPalette:function(b,y,h){var n=M(y=y||this),c=n.colorIdx||0,o=n.colorNameMap=n.colorNameMap||{};if(o.hasOwnProperty(b))return o[b];var a=t(this.get("color",!0)),u=this.get("colorLayer",!0),e=null!=h&&u?function I(b,y){for(var h=b.length,n=0;n<h;n++)if(b[n].length>y)return b[n];return b[h-1]}(u,h):a;if((e=e||a)&&e.length){var s=e[c];return b&&(o[b]=s),n.colorIdx=(c+1)%e.length,s}}}},88488:(j,U,i)=>{var w=i(54727).retrieveRawValue,t=i(42977),M=t.getTooltipMarker,I=t.formatTpl,b=i(21617).getTooltipRenderMode,y=/\{@(.+?)\}/g;j.exports={getDataParams:function(n,c){var o=this.getData(c),a=this.getRawValue(n,c),u=o.getRawIndex(n),e=o.getName(n),s=o.getRawDataItem(n),r=o.getItemVisual(n,"color"),l=o.getItemVisual(n,"borderColor"),d=this.ecModel.getComponent("tooltip"),v=d&&d.get("renderMode"),f=b(v),p=this.mainType,S="series"===p,C=o.userOutput;return{componentType:p,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:S?this.subType:null,seriesIndex:this.seriesIndex,seriesId:S?this.id:null,seriesName:S?this.name:null,name:e,dataIndex:u,data:s,dataType:c,value:a,color:r,borderColor:l,dimensionNames:C?C.dimensionNames:null,encode:C?C.encode:null,marker:M({color:r,renderMode:f}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(n,c,o,a,u){c=c||"normal";var e=this.getData(o),s=e.getItemModel(n),r=this.getDataParams(n,o);null!=a&&r.value instanceof Array&&(r.value=r.value[a]);var l=s.get("normal"===c?[u||"label","formatter"]:[c,u||"label","formatter"]);return"function"==typeof l?(r.status=c,r.dimensionIndex=a,l(r)):"string"==typeof l?I(l,r).replace(y,function(v,f){var p=f.length;return"["===f.charAt(0)&&"]"===f.charAt(p-1)&&(f=+f.slice(1,p-1)),w(e,n,f)}):void 0},getRawValue:function(n,c){return w(this.getData(c),n)},formatTooltip:function(){}}},87617:(j,U,i)=>{var w=i(97005)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);j.exports={getItemStyle:function(M,I){var D=w(this,M,I),b=this.getBorderLineDash();return b&&(D.lineDash=b),D},getBorderLineDash:function(){var M=this.get("borderType");return"solid"===M||null==M?null:"dashed"===M?[5,5]:[1,1]}}},86191:(j,U,i)=>{var w=i(97005)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);j.exports={getLineStyle:function(M){var I=w(this,M);return I.lineDash=this.getLineDash(I.lineWidth),I},getLineDash:function(M){null==M&&(M=1);var I=this.get("type"),D=Math.max(M,2),b=4*M;return"solid"!==I&&null!=I&&("dashed"===I?[b,b]:[D,D])}}},97005:(j,U,i)=>{var T=i(66615);j.exports=function w(t){for(var M=0;M<t.length;M++)t[M][1]||(t[M][1]=t[M][0]);return function(I,D,b){for(var y={},h=0;h<t.length;h++){var n=t[h][1];if(!(D&&T.indexOf(D,n)>=0||b&&T.indexOf(b,n)<0)){var c=I.getShallow(n);null!=c&&(y[t[h][0]]=c)}}return y}}},4776:(j,U,i)=>{var T=i(50585),w=i(32694),t=["textStyle","color"];j.exports={getTextColor:function(I){var D=this.ecModel;return this.getShallow("color")||(!I&&D?D.get(t):null)},getFont:function(){return w.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(I){return T.getBoundingRect(I,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}}},4429:(j,U,i)=>{i(78322);var t=i(66615),M=t.createHashMap,D=t.each;function b(c){this.coordSysName=c,this.coordSysDims=[],this.axisMap=M(),this.categoryAxisMap=M(),this.firstCategoryDimIndex=null}var h={cartesian2d:function(c,o,a,u){var e=c.getReferringComponents("xAxis")[0],s=c.getReferringComponents("yAxis")[0];o.coordSysDims=["x","y"],a.set("x",e),a.set("y",s),n(e)&&(u.set("x",e),o.firstCategoryDimIndex=0),n(s)&&(u.set("y",s),o.firstCategoryDimIndex=1)},singleAxis:function(c,o,a,u){var e=c.getReferringComponents("singleAxis")[0];o.coordSysDims=["single"],a.set("single",e),n(e)&&(u.set("single",e),o.firstCategoryDimIndex=0)},polar:function(c,o,a,u){var e=c.getReferringComponents("polar")[0],s=e.findAxisModel("radiusAxis"),r=e.findAxisModel("angleAxis");o.coordSysDims=["radius","angle"],a.set("radius",s),a.set("angle",r),n(s)&&(u.set("radius",s),o.firstCategoryDimIndex=0),n(r)&&(u.set("angle",r),null==o.firstCategoryDimIndex&&(o.firstCategoryDimIndex=1))},geo:function(c,o,a,u){o.coordSysDims=["lng","lat"]},parallel:function(c,o,a,u){var e=c.ecModel,s=e.getComponent("parallel",c.get("parallelIndex")),r=o.coordSysDims=s.dimensions.slice();D(s.parallelAxisIndex,function(l,d){var v=e.getComponent("parallelAxis",l),f=r[d];a.set(f,v),n(v)&&null==o.firstCategoryDimIndex&&(u.set(f,v),o.firstCategoryDimIndex=d)})}};function n(c){return"category"===c.get("type")}U.getCoordSysInfoBySeries=function y(c){var o=c.get("coordinateSystem"),a=new b(o),u=h[o];if(u)return u(c,a,a.axisMap,a.categoryAxisMap),a}},2909:(j,U,i)=>{var T=i(66615),w=T.each,t=T.isArray,M=T.isObject,I=i(24234),b=i(21617).normalizeToArray;function n(u){w(c,function(e){e[0]in u&&!(e[1]in u)&&(u[e[1]]=u[e[0]])})}var c=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],o=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];j.exports=function a(u,e){I(u,e),u.series=b(u.series),w(u.series,function(s){if(M(s)){var r=s.type;if("line"===r)null!=s.clipOverflow&&(s.clip=s.clipOverflow);else if("pie"===r||"gauge"===r)null!=s.clockWise&&(s.clockwise=s.clockWise);else if("gauge"===r){var l=function y(u,e){e=e.split(",");for(var s=u,r=0;r<e.length&&null!=(s=s&&s[e[r]]);r++);return s}(s,"pointer.color");null!=l&&function h(u,e,s,r){e=e.split(",");for(var d,l=u,v=0;v<e.length-1;v++)null==l[d=e[v]]&&(l[d]={}),l=l[d];(r||null==l[e[v]])&&(l[e[v]]=s)}(s,"itemStyle.color",l)}n(s)}}),u.dataRange&&(u.visualMap=u.dataRange),w(o,function(s){var r=u[s];r&&(t(r)||(r=[r]),w(r,function(l){n(l)}))})}},24234:(j,U,i)=>{var T=i(66615),w=i(21617),t=T.each,M=T.isObject,I=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function D(e){var s=e&&e.itemStyle;if(s)for(var r=0,l=I.length;r<l;r++){var d=I[r],v=s.normal,f=s.emphasis;v&&v[d]&&(e[d]=e[d]||{},e[d].normal?T.merge(e[d].normal,v[d]):e[d].normal=v[d],v[d]=null),f&&f[d]&&(e[d]=e[d]||{},e[d].emphasis?T.merge(e[d].emphasis,f[d]):e[d].emphasis=f[d],f[d]=null)}}function b(e,s,r){if(e&&e[s]&&(e[s].normal||e[s].emphasis)){var l=e[s].normal,d=e[s].emphasis;l&&(r?(e[s].normal=e[s].emphasis=null,T.defaults(e[s],l)):e[s]=l),d&&(e.emphasis=e.emphasis||{},e.emphasis[s]=d)}}function y(e){b(e,"itemStyle"),b(e,"lineStyle"),b(e,"areaStyle"),b(e,"label"),b(e,"labelLine"),b(e,"upperLabel"),b(e,"edgeLabel")}function h(e,s){var r=M(e)&&e[s],l=M(r)&&r.textStyle;if(l)for(var d=0,v=w.TEXT_STYLE_OPTIONS.length;d<v;d++)l.hasOwnProperty(s=w.TEXT_STYLE_OPTIONS[d])&&(r[s]=l[s])}function n(e){e&&(y(e),h(e,"label"),e.emphasis&&h(e.emphasis,"label"))}function o(e){return T.isArray(e)?e:e?[e]:[]}function a(e){return(T.isArray(e)?e[0]:e)||{}}j.exports=function u(e,s){t(o(e.series),function(l){M(l)&&function c(e){if(M(e)){D(e),y(e),h(e,"label"),h(e,"upperLabel"),h(e,"edgeLabel"),e.emphasis&&(h(e.emphasis,"label"),h(e.emphasis,"upperLabel"),h(e.emphasis,"edgeLabel")),(v=e.markPoint)&&(D(v),n(v)),(p=e.markLine)&&(D(p),n(p));var s=e.markArea;s&&n(s);var v,p,r=e.data;if("graph"===e.type){r=r||e.nodes;var l=e.links||e.edges;if(l&&!T.isTypedArray(l))for(var d=0;d<l.length;d++)n(l[d]);T.each(e.categories,function(C){y(C)})}if(r&&!T.isTypedArray(r))for(d=0;d<r.length;d++)n(r[d]);if((v=e.markPoint)&&v.data){var f=v.data;for(d=0;d<f.length;d++)n(f[d])}if((p=e.markLine)&&p.data){var S=p.data;for(d=0;d<S.length;d++)T.isArray(S[d])?(n(S[d][0]),n(S[d][1])):n(S[d])}"gauge"===e.type?(h(e,"axisLabel"),h(e,"title"),h(e,"detail")):"treemap"===e.type?(b(e.breadcrumb,"itemStyle"),T.each(e.levels,function(C){y(C)})):"tree"===e.type&&y(e.leaves)}}(l)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];s&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),t(r,function(l){t(o(e[l]),function(d){d&&(h(d,"axisLabel"),h(d.axisPointer,"label"))})}),t(o(e.parallel),function(l){var d=l&&l.parallelAxisDefault;h(d,"axisLabel"),h(d&&d.axisPointer,"label")}),t(o(e.calendar),function(l){b(l,"itemStyle"),h(l,"dayLabel"),h(l,"monthLabel"),h(l,"yearLabel")}),t(o(e.radar),function(l){h(l,"name")}),t(o(e.geo),function(l){M(l)&&(n(l),t(o(l.regions),function(d){n(d)}))}),t(o(e.timeline),function(l){n(l),b(l,"label"),b(l,"itemStyle"),b(l,"controlStyle",!0);var d=l.data;T.isArray(d)&&T.each(d,function(v){T.isObject(v)&&(b(v,"label"),b(v,"itemStyle"))})}),t(o(e.toolbox),function(l){b(l,"iconStyle"),t(l.feature,function(d){b(d,"iconStyle")})}),h(a(e.axisPointer),"label"),h(a(e.tooltip).axisPointer,"label")}},67174:j=>{j.exports=function U(i){return{seriesType:i,reset:function(T,w){var t=w.findComponents({mainType:"legend"});if(t&&t.length){var M=T.getData();M.filterSelf(function(I){for(var D=M.getName(I),b=0;b<t.length;b++)if(!t[b].isSelected(D))return!1;return!0})}}}}},95915:j=>{var U={average:function(w){for(var t=0,M=0,I=0;I<w.length;I++)isNaN(w[I])||(t+=w[I],M++);return 0===M?NaN:t/M},sum:function(w){for(var t=0,M=0;M<w.length;M++)t+=w[M]||0;return t},max:function(w){for(var t=-1/0,M=0;M<w.length;M++)w[M]>t&&(t=w[M]);return isFinite(t)?t:NaN},min:function(w){for(var t=1/0,M=0;M<w.length;M++)w[M]<t&&(t=w[M]);return isFinite(t)?t:NaN},nearest:function(w){return w[0]}},i=function(w,t){return Math.round(w.length/2)};j.exports=function T(w){return{seriesType:w,modifyOutputEnd:!0,reset:function(t,M,I){var D=t.getData(),b=t.get("sampling"),y=t.coordinateSystem;if("cartesian2d"===y.type&&b){var u,h=y.getBaseAxis(),n=y.getOtherAxis(h),c=h.getExtent(),o=Math.abs(c[1]-c[0]),a=Math.round(D.count()/o);a>1&&("string"==typeof b?u=U[b]:"function"==typeof b&&(u=b),u&&t.setData(D.downSample(D.mapDimension(n.dim),1/a,u,i)))}}}}},21730:(j,U,i)=>{var T=i(66615),w=T.createHashMap,t=T.each;function I(D){t(D,function(b,y){var h=[],n=[NaN,NaN],o=b.data,a=b.isStackedByIndex,u=o.map([b.stackResultDimension,b.stackedOverDimension],function(e,s,r){var d,v,l=o.get(b.stackedDimension,r);if(isNaN(l))return n;a?v=o.getRawIndex(r):d=o.get(b.stackedByDimension,r);for(var f=NaN,p=y-1;p>=0;p--){var S=D[p];if(a||(v=S.data.rawIndexOf(S.stackedByDimension,d)),v>=0){var C=S.data.getByRawIndex(S.stackResultDimension,v);if(l>=0&&C>0||l<=0&&C<0){l+=C,f=C;break}}}return h[0]=l,h[1]=f,h});o.hostModel.setData(u),b.data=u})}j.exports=function M(D){var b=w();D.eachSeries(function(y){var h=y.get("stack");if(h){var n=b.get(h)||b.set(h,[]),c=y.getData(),o={stackResultDimension:c.getCalculationInfo("stackResultDimension"),stackedOverDimension:c.getCalculationInfo("stackedOverDimension"),stackedDimension:c.getCalculationInfo("stackedDimension"),stackedByDimension:c.getCalculationInfo("stackedByDimension"),isStackedByIndex:c.getCalculationInfo("isStackedByIndex"),data:c,seriesModel:y};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;n.length&&c.setCalculationInfo("stackedOnSeries",n[n.length-1].seriesModel),n.push(o)}}),b.each(I)}},70098:(j,U,i)=>{var T=i(68301),w=i(42977),t=i(10465),M=i(33187),I=T.round,D=t.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(y,h){var n=this._extent;isNaN(y)||(n[0]=parseFloat(y)),isNaN(h)||(n[1]=parseFloat(h))},unionExtent:function(y){var h=this._extent;y[0]<h[0]&&(h[0]=y[0]),y[1]>h[1]&&(h[1]=y[1]),D.prototype.setExtent.call(this,h[0],h[1])},getInterval:function(){return this._interval},setInterval:function(y){this._interval=y,this._niceExtent=this._extent.slice(),this._intervalPrecision=M.getIntervalPrecision(y)},getTicks:function(y){var h=this._interval,n=this._extent,c=this._niceExtent,o=this._intervalPrecision,a=[];if(!h)return a;n[0]<c[0]&&a.push(y?I(c[0]-h,o):n[0]);for(var e=c[0];e<=c[1]&&(a.push(e),(e=I(e+h,o))!==a[a.length-1]);)if(a.length>1e4)return[];var s=a.length?a[a.length-1]:c[1];return n[1]>s&&a.push(y?I(s+h,o):n[1]),a},getMinorTicks:function(y){for(var h=this.getTicks(!0),n=[],c=this.getExtent(),o=1;o<h.length;o++){for(var u=h[o-1],e=0,s=[],l=(h[o]-u)/y;e<y-1;){var d=T.round(u+(e+1)*l);d>c[0]&&d<c[1]&&s.push(d),e++}n.push(s)}return n},getLabel:function(y,h){if(null==y)return"";var n=h&&h.precision;return null==n?n=T.getPrecisionSafe(y)||0:"auto"===n&&(n=this._intervalPrecision),y=I(y,n,!0),w.addCommas(y)},niceTicks:function(y,h,n){y=y||5;var c=this._extent,o=c[1]-c[0];if(isFinite(o)){o<0&&(o=-o,c.reverse());var a=M.intervalScaleNiceTicks(c,y,h,n);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},niceExtent:function(y){var h=this._extent;if(h[0]===h[1])if(0!==h[0]){var n=h[0];y.fixMax||(h[1]+=n/2),h[0]-=n/2}else h[1]=1;isFinite(h[1]-h[0])||(h[0]=0,h[1]=1),this.niceTicks(y.splitNumber,y.minInterval,y.maxInterval);var o=this._interval;y.fixMin||(h[0]=I(Math.floor(h[0]/o)*o)),y.fixMax||(h[1]=I(Math.ceil(h[1]/o)*o))}});D.create=function(){return new D},j.exports=D},95512:(j,U,i)=>{var T=i(66615),w=i(10465),t=i(68301),M=i(70098),I=w.prototype,D=M.prototype,b=t.getPrecisionSafe,y=t.round,h=Math.floor,n=Math.ceil,c=Math.pow,o=Math.log,a=w.extend({type:"log",base:10,$constructor:function(){w.apply(this,arguments),this._originalScale=new M},getTicks:function(s){var r=this._originalScale,l=this._extent,d=r.getExtent();return T.map(D.getTicks.call(this,s),function(v){var f=t.round(c(this.base,v));return f=v===l[0]&&r.__fixMin?u(f,d[0]):f,v===l[1]&&r.__fixMax?u(f,d[1]):f},this)},getMinorTicks:D.getMinorTicks,getLabel:D.getLabel,scale:function(s){return s=I.scale.call(this,s),c(this.base,s)},setExtent:function(s,r){var l=this.base;s=o(s)/o(l),r=o(r)/o(l),D.setExtent.call(this,s,r)},getExtent:function(){var s=this.base,r=I.getExtent.call(this);r[0]=c(s,r[0]),r[1]=c(s,r[1]);var l=this._originalScale,d=l.getExtent();return l.__fixMin&&(r[0]=u(r[0],d[0])),l.__fixMax&&(r[1]=u(r[1],d[1])),r},unionExtent:function(s){this._originalScale.unionExtent(s);var r=this.base;s[0]=o(s[0])/o(r),s[1]=o(s[1])/o(r),I.unionExtent.call(this,s)},unionExtentFromData:function(s,r){this.unionExtent(s.getApproximateExtent(r))},niceTicks:function(s){s=s||10;var r=this._extent,l=r[1]-r[0];if(!(l===1/0||l<=0)){var d=t.quantity(l);for(s/l*d<=.5&&(d*=10);!isNaN(d)&&Math.abs(d)<1&&Math.abs(d)>0;)d*=10;var f=[t.round(n(r[0]/d)*d),t.round(h(r[1]/d)*d)];this._interval=d,this._niceExtent=f}},niceExtent:function(s){D.niceExtent.call(this,s);var r=this._originalScale;r.__fixMin=s.fixMin,r.__fixMax=s.fixMax}});function u(s,r){return y(s,b(r))}T.each(["contain","normalize"],function(s){a.prototype[s]=function(r){return r=o(r)/o(this.base),I[s].call(this,r)}}),a.create=function(){return new a},j.exports=a},67140:(j,U,i)=>{var T=i(66615),w=i(10465),t=i(20872),M=w.prototype,I=w.extend({type:"ordinal",init:function(b,y){(!b||T.isArray(b))&&(b=new t({categories:b})),this._ordinalMeta=b,this._extent=y||[0,b.categories.length-1]},parse:function(b){return"string"==typeof b?this._ordinalMeta.getOrdinal(b):Math.round(b)},contain:function(b){return b=this.parse(b),M.contain.call(this,b)&&null!=this._ordinalMeta.categories[b]},normalize:function(b){return M.normalize.call(this,this.parse(b))},scale:function(b){return Math.round(M.scale.call(this,b))},getTicks:function(){for(var b=[],y=this._extent,h=y[0];h<=y[1];)b.push(h),h++;return b},getLabel:function(b){if(!this.isBlank())return this._ordinalMeta.categories[b]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(b,y){this.unionExtent(b.getApproximateExtent(y))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:T.noop,niceExtent:T.noop});I.create=function(){return new I},j.exports=I},10465:(j,U,i)=>{var T=i(78789);function w(M){this._setting=M||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}w.prototype.parse=function(M){return M},w.prototype.getSetting=function(M){return this._setting[M]},w.prototype.contain=function(M){var I=this._extent;return M>=I[0]&&M<=I[1]},w.prototype.normalize=function(M){var I=this._extent;return I[1]===I[0]?.5:(M-I[0])/(I[1]-I[0])},w.prototype.scale=function(M){var I=this._extent;return M*(I[1]-I[0])+I[0]},w.prototype.unionExtent=function(M){var I=this._extent;M[0]<I[0]&&(I[0]=M[0]),M[1]>I[1]&&(I[1]=M[1])},w.prototype.unionExtentFromData=function(M,I){this.unionExtent(M.getApproximateExtent(I))},w.prototype.getExtent=function(){return this._extent.slice()},w.prototype.setExtent=function(M,I){var D=this._extent;isNaN(M)||(D[0]=M),isNaN(I)||(D[1]=I)},w.prototype.isBlank=function(){return this._isBlank},w.prototype.setBlank=function(M){this._isBlank=M},w.prototype.getLabel=null,T.enableClassExtend(w),T.enableClassManagement(w,{registerWhenExtend:!0}),j.exports=w},71395:(j,U,i)=>{var T=i(66615),w=i(68301),t=i(42977),M=i(33187),I=i(70098),D=I.prototype,b=Math.ceil,y=Math.floor,h=1e3,n=60*h,c=60*n,o=24*c,u=I.extend({type:"time",getLabel:function(r){var l=this._stepLvl,d=new Date(r);return t.formatTime(l[0],d,this.getSetting("useUTC"))},niceExtent:function(r){var l=this._extent;if(l[0]===l[1]&&(l[0]-=o,l[1]+=o),l[1]===-1/0&&l[0]===1/0){var d=new Date;l[1]=+new Date(d.getFullYear(),d.getMonth(),d.getDate()),l[0]=l[1]-o}this.niceTicks(r.splitNumber,r.minInterval,r.maxInterval);var v=this._interval;r.fixMin||(l[0]=w.round(y(l[0]/v)*v)),r.fixMax||(l[1]=w.round(b(l[1]/v)*v))},niceTicks:function(r,l,d){var v=this._extent,f=v[1]-v[0],p=f/(r=r||10);null!=l&&p<l&&(p=l),null!=d&&p>d&&(p=d);var S=e.length,C=function(r,l,d,v){for(;d<v;){var f=d+v>>>1;r[f][1]<l?d=f+1:v=f}return d}(e,p,0,S),x=e[Math.min(C,S-1)],g=x[1];"year"===x[0]&&(g*=w.nice(f/g/r,!0));var L=this.getSetting("useUTC")?0:60*new Date(+v[0]||+v[1]).getTimezoneOffset()*1e3,E=[Math.round(b((v[0]-L)/g)*g+L),Math.round(y((v[1]-L)/g)*g+L)];M.fixExtent(E,v),this._stepLvl=x,this._interval=g,this._niceExtent=E},parse:function(r){return+w.parseDate(r)}});T.each(["contain","normalize"],function(r){u.prototype[r]=function(l){return D[r].call(this,this.parse(l))}});var e=[["hh:mm:ss",h],["hh:mm:ss",5*h],["hh:mm:ss",10*h],["hh:mm:ss",15*h],["hh:mm:ss",30*h],["hh:mm\nMM-dd",n],["hh:mm\nMM-dd",5*n],["hh:mm\nMM-dd",10*n],["hh:mm\nMM-dd",15*n],["hh:mm\nMM-dd",30*n],["hh:mm\nMM-dd",c],["hh:mm\nMM-dd",2*c],["hh:mm\nMM-dd",6*c],["hh:mm\nMM-dd",12*c],["MM-dd\nyyyy",o],["MM-dd\nyyyy",2*o],["MM-dd\nyyyy",3*o],["MM-dd\nyyyy",4*o],["MM-dd\nyyyy",5*o],["MM-dd\nyyyy",6*o],["week",7*o],["MM-dd\nyyyy",10*o],["week",14*o],["week",21*o],["month",31*o],["week",42*o],["month",62*o],["week",70*o],["quarter",95*o],["month",31*o*4],["month",31*o*5],["half-year",380*o/2],["month",31*o*8],["month",31*o*10],["year",380*o]];u.create=function(r){return new u({useUTC:r.ecModel.get("useUTC")})},j.exports=u},33187:(j,U,i)=>{var T=i(68301),w=T.round;function M(b){return T.getPrecisionSafe(b)+2}function I(b,y,h){b[y]=Math.max(Math.min(b[y],h[1]),h[0])}function D(b,y){!isFinite(b[0])&&(b[0]=y[0]),!isFinite(b[1])&&(b[1]=y[1]),I(b,0,y),I(b,1,y),b[0]>b[1]&&(b[0]=b[1])}U.intervalScaleNiceTicks=function t(b,y,h,n){var c={},a=c.interval=T.nice((b[1]-b[0])/y,!0);null!=h&&a<h&&(a=c.interval=h),null!=n&&a>n&&(a=c.interval=n);var u=c.intervalPrecision=M(a);return D(c.niceTickExtent=[w(Math.ceil(b[0]/a)*a,u),w(Math.floor(b[1]/a)*a,u)],b),c},U.getIntervalPrecision=M,U.fixExtent=D},53128:(j,U,i)=>{var T=i(66615),w=T.each,t=T.map,M=T.isFunction,I=T.createHashMap,D=T.noop,y=i(96381).createTask,n=i(96012).getUID,c=i(43709),o=i(68165),u=i(21617).normalizeToArray;function e(W,$,z,k){this.ecInstance=W,this.api=$,z=this._dataProcessorHandlers=z.slice(),k=this._visualHandlers=k.slice(),this._allHandlers=z.concat(k),this._stageTaskMap=I()}var s=e.prototype;function r(W,$,Y,V,z){var k;function X(q,et){return q.setDirty&&(!q.dirtyMap||q.dirtyMap.get(et.__pipeline.id))}z=z||{},w($,function(q,et){if(!z.visualType||z.visualType===q.visualType){var rt=W._stageTaskMap.get(q.uid),it=rt.seriesTaskMap,lt=rt.overallTask;if(lt){var dt,ht=lt.agentStubMap;ht.each(function(at){X(z,at)&&(at.dirty(),dt=!0)}),dt&&lt.dirty(),l(lt,V);var gt=W.getPerformArgs(lt,z.block);ht.each(function(at){at.perform(gt)}),k|=lt.perform(gt)}else it&&it.each(function(at,ut){X(z,at)&&at.dirty();var Ct=W.getPerformArgs(at,z.block);Ct.skip=!q.performRawSeries&&Y.isSeriesFiltered(at.context.model),l(at,V),k|=at.perform(Ct)})}}),W.unfinished|=k}s.restoreData=function(W,$){W.restoreData($),this._stageTaskMap.each(function(Y){var V=Y.overallTask;V&&V.dirty()})},s.getPerformArgs=function(W,$){if(W.__pipeline){var Y=this._pipelineMap.get(W.__pipeline.id),V=Y.context,k=!$&&Y.progressiveEnabled&&(!V||V.progressiveRender)&&W.__idxInPipeline>Y.blockIndex?Y.step:null,X=V&&V.modDataCount;return{step:k,modBy:null!=X?Math.ceil(X/k):null,modDataCount:X}}},s.getPipeline=function(W){return this._pipelineMap.get(W)},s.updateStreamModes=function(W,$){var Y=this._pipelineMap.get(W.uid),z=W.getData().count(),k=Y.progressiveEnabled&&$.incrementalPrepareRender&&z>=Y.threshold,X=W.get("large")&&z>=W.get("largeThreshold"),q="mod"===W.get("progressiveChunkMode")?z:null;W.pipelineContext=Y.context={progressiveRender:k,modDataCount:q,large:X}},s.restorePipelines=function(W){var $=this,Y=$._pipelineMap=I();W.eachSeries(function(V){var z=V.getProgressive(),k=V.uid;Y.set(k,{id:k,head:null,tail:null,threshold:V.getProgressiveThreshold(),progressiveEnabled:z&&!(V.preventIncremental&&V.preventIncremental()),blockIndex:-1,step:Math.round(z||700),count:0}),E($,V,V.dataTask)})},s.prepareStageTasks=function(){var W=this._stageTaskMap,$=this.ecInstance.getModel(),Y=this.api;w(this._allHandlers,function(V){var z=W.get(V.uid)||W.set(V.uid,[]);V.reset&&function d(W,$,Y,V,z){var k=Y.seriesTaskMap||(Y.seriesTaskMap=I()),X=$.seriesType,q=$.getTargetSeries;function et(it){var lt=it.uid,dt=k.get(lt)||k.set(lt,y({plan:x,reset:g,count:L}));dt.context={model:it,ecModel:V,api:z,useClearVisual:$.isVisual&&!$.isLayout,plan:$.plan,reset:$.reset,scheduler:W},E(W,it,dt)}$.createOnAllSeries?V.eachRawSeries(et):X?V.eachRawSeriesByType(X,et):q&&q(V,z).each(et);var rt=W._pipelineMap;k.each(function(it,lt){rt.get(lt)||(it.dispose(),k.removeKey(lt))})}(this,V,z,$,Y),V.overallReset&&function v(W,$,Y,V,z){var k=Y.overallTask=Y.overallTask||y({reset:f});k.context={ecModel:V,api:z,overallReset:$.overallReset,scheduler:W};var X=k.agentStubMap=k.agentStubMap||I(),q=$.seriesType,et=$.getTargetSeries,rt=!0,it=$.modifyOutputEnd;function lt(ht){var gt=ht.uid,at=X.get(gt);at||(at=X.set(gt,y({reset:p,onDirty:C})),k.dirty()),at.context={model:ht,overallProgress:rt,modifyOutputEnd:it},at.agent=k,at.__block=rt,E(W,ht,at)}q?V.eachRawSeriesByType(q,lt):et?et(V,z).each(lt):(rt=!1,w(V.getSeries(),lt));var dt=W._pipelineMap;X.each(function(ht,gt){dt.get(gt)||(ht.dispose(),k.dirty(),X.removeKey(gt))})}(this,V,z,$,Y)},this)},s.prepareView=function(W,$,Y,V){var z=W.renderTask,k=z.context;k.model=$,k.ecModel=Y,k.api=V,z.__block=!W.incrementalPrepareRender,E(this,$,z)},s.performDataProcessorTasks=function(W,$){r(this,this._dataProcessorHandlers,W,$,{block:!0})},s.performVisualTasks=function(W,$,Y){r(this,this._visualHandlers,W,$,Y)},s.performSeriesTasks=function(W){var $;W.eachSeries(function(Y){$|=Y.dataTask.perform()}),this.unfinished|=$},s.plan=function(){this._pipelineMap.each(function(W){var $=W.tail;do{if($.__block){W.blockIndex=$.__idxInPipeline;break}$=$.getUpstream()}while($)})};var l=s.updatePayload=function(W,$){"remain"!==$&&(W.context.payload=$)};function f(W){W.overallReset(W.ecModel,W.api,W.payload)}function p(W,$){return W.overallProgress&&S}function S(){this.agent.dirty(),this.getDownstream().dirty()}function C(){this.agent&&this.agent.dirty()}function x(W){return W.plan&&W.plan(W.model,W.ecModel,W.api,W.payload)}function g(W){W.useClearVisual&&W.data.clearAllVisual();var $=W.resetDefines=u(W.reset(W.model,W.ecModel,W.api,W.payload));return $.length>1?t($,function(Y,V){return A(V)}):m}var m=A(0);function A(W){return function($,Y){var V=Y.data,z=Y.resetDefines[W];if(z&&z.dataEach)for(var k=$.start;k<$.end;k++)z.dataEach(V,k);else z&&z.progress&&z.progress($,V)}}function L(W){return W.data.count()}function E(W,$,Y){var z=W._pipelineMap.get($.uid);!z.head&&(z.head=Y),z.tail&&z.tail.pipe(Y),z.tail=Y,Y.__idxInPipeline=z.count++,Y.__pipeline=z}function N(W){H=null;try{W(R,F)}catch{}return H}e.wrapStageHandler=function(W,$){return M(W)&&(W={overallReset:W,seriesType:N(W)}),W.uid=n("stageHandler"),$&&(W.visualType=$),W};var H,R={},F={};function B(W,$){for(var Y in $.prototype)W[Y]=D}B(R,c),B(F,o),R.eachSeriesByType=R.eachRawSeriesByType=function(W){H=W},R.eachComponent=function(W){"series"===W.mainType&&W.subType&&(H=W.subType)},j.exports=e},96381:(j,U,i)=>{var t=i(66615).isArray;function b(o){this._reset=(o=o||{}).reset,this._plan=o.plan,this._count=o.count,this._onDirty=o.onDirty,this._dirty=!0}i(78322);var y=b.prototype;y.perform=function(o){var s,a=this._upstream,u=o&&o.skip;if(this._dirty&&a){var e=this.context;e.data=e.outputData=a.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!u&&(s=this._plan(this.context));var p,r=f(this._modBy),l=this._modDataCount||0,d=f(o&&o.modBy),v=o&&o.modDataCount||0;function f(L){return!(L>=1)&&(L=1),L}(r!==d||l!==v)&&(s="reset"),(this._dirty||"reset"===s)&&(this._dirty=!1,p=function c(o,a){var u,e;o._dueIndex=o._outputDueEnd=o._dueEnd=0,o._settedOutputEnd=null,!a&&o._reset&&((u=o._reset(o.context))&&u.progress&&(e=u.forceFirstProgress,u=u.progress),t(u)&&!u.length&&(u=null)),o._progress=u,o._modBy=o._modDataCount=null;var s=o._downstream;return s&&s.dirty(),e}(this,u)),this._modBy=d,this._modDataCount=v;var S=o&&o.step;if(this._dueEnd=a?a._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var C=this._dueIndex,x=Math.min(null!=S?this._dueIndex+S:1/0,this._dueEnd);if(!u&&(p||C<x)){var g=this._progress;if(t(g))for(var m=0;m<g.length;m++)n(this,g[m],C,x,d,v);else n(this,g,C,x,d,v)}this._dueIndex=x,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:x}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var h=function(){var o,a,u,e,s,r={reset:function(v,f,p,S){a=v,o=f,u=p,e=S,s=Math.ceil(e/u),r.next=u>1&&e>0?d:l}};return r;function l(){return a<o?a++:null}function d(){var v=a%s*u+Math.ceil(a/s),f=a>=o?null:v<e?v:a;return a++,f}}();function n(o,a,u,e,s,r){h.reset(u,e,s,r),o._callingProgress=a,o._callingProgress({start:u,end:e,count:e-u,next:h.next},o.context)}y.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},y.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},y.pipe=function(o){(this._downstream!==o||this._dirty)&&(this._downstream=o,o._upstream=this,o.dirty())},y.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},y.getUpstream=function(){return this._upstream},y.getDownstream=function(){return this._downstream},y.setOutputEnd=function(o){this._outputDueEnd=this._settedOutputEnd=o},U.createTask=function D(o){return new b(o)}},64192:j=>{var U="#eee",i=function(){return{axisLine:{lineStyle:{color:U}},axisTick:{lineStyle:{color:U}},axisLabel:{textStyle:{color:U}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:U}}}},T=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],w={color:T,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:U},crossStyle:{color:U},label:{color:"#000"}}},legend:{textStyle:{color:U}},textStyle:{color:U},title:{textStyle:{color:U}},toolbox:{iconStyle:{normal:{borderColor:U}}},dataZoom:{textStyle:{color:U}},visualMap:{textStyle:{color:U}},timeline:{lineStyle:{color:U},itemStyle:{normal:{color:T[1]}},label:{normal:{textStyle:{color:U}}},controlStyle:{normal:{color:U,borderColor:U}}},timeAxis:i(),logAxis:i(),valueAxis:i(),categoryAxis:i(),line:{symbol:"circle"},graph:{color:T},gauge:{title:{textStyle:{color:U}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};w.categoryAxis.splitLine.show=!1,j.exports=w},55876:j=>{var U=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];j.exports={color:U,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],U]}},26590:(j,U,i)=>{var T=i(66615);U.createWrap=function w(){var I,t=[],M={};return{add:function(D,b,y,h,n){return T.isString(h)&&(n=h,h=0),!M[D.id]&&(M[D.id]=1,t.push({el:D,target:b,time:y,delay:h,easing:n}),!0)},done:function(D){return I=D,this},start:function(){for(var D=t.length,b=0,y=t.length;b<y;b++){var h=t[b];h.el.animateTo(h.target,h.time,h.delay,h.easing,n)}return this;function n(){--D||(t.length=0,M={},I&&I())}}}}},78789:(j,U,i)=>{i(78322);var t=i(66615),M=".",I="___EC__COMPONENT__CONTAINER___";function D(e){var s={main:"",sub:""};return e&&(e=e.split(M),s.main=e[0]||"",s.sub=e[1]||""),s}var h=0;function c(e,s){var r=t.slice(arguments,2);return this.superClass.prototype[s].apply(e,r)}function o(e,s,r){return this.superClass.prototype[s].apply(e,r)}U.parseClassType=D,U.enableClassExtend=function y(e,s){e.$constructor=e,e.extend=function(r){var l=this,d=function(){r.$constructor?r.$constructor.apply(this,arguments):l.apply(this,arguments)};return t.extend(d.prototype,r),d.extend=this.extend,d.superCall=c,d.superApply=o,t.inherits(d,this),d.superClass=l,d}},U.enableClassCheck=function n(e){var s=["__\0is_clz",h++,Math.random().toFixed(3)].join("_");e.prototype[s]=!0,e.isInstance=function(r){return!(!r||!r[s])}},U.enableClassManagement=function a(e,s){s=s||{};var r={};if(e.registerClass=function(v,f){if(f)if(function b(e){t.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}(f),(f=D(f)).sub){if(f.sub!==I){var p=function l(v){var f=r[v.main];return(!f||!f[I])&&((f=r[v.main]={})[I]=!0),f}(f);p[f.sub]=v}}else r[f.main]=v;return v},e.getClass=function(v,f,p){var S=r[v];if(S&&S[I]&&(S=f?S[f]:null),p&&!S)throw new Error(f?"Component "+v+"."+(f||"")+" not exists. Load it first.":v+".type should be specified.");return S},e.getClassesByMainType=function(v){v=D(v);var f=[],p=r[v.main];return p&&p[I]?t.each(p,function(S,C){C!==I&&f.push(S)}):f.push(p),f},e.hasClass=function(v){return v=D(v),!!r[v.main]},e.getAllClassMainTypes=function(){var v=[];return t.each(r,function(f,p){v.push(p)}),v},e.hasSubTypes=function(v){v=D(v);var f=r[v.main];return f&&f[I]},e.parseClassType=D,s.registerWhenExtend){var d=e.extend;d&&(e.extend=function(v){var f=d.call(this,v);return e.registerClass(f,v.type)})}return e},U.setReadOnly=function u(e,s){}},96012:(j,U,i)=>{var T=i(66615),t=i(78789).parseClassType,M=0;U.getUID=function I(y){return[y||"",M++,Math.random().toFixed(5)].join("_")},U.enableSubTypeDefaulter=function D(y){var h={};return y.registerSubTypeDefaulter=function(n,c){n=t(n),h[n.main]=c},y.determineSubType=function(n,c){var o=c.type;if(!o){var a=t(n).main;y.hasSubTypes(n)&&h[a]&&(o=h[a](c))}return o},y},U.enableTopologicalTravel=function b(y,h){function c(a,u){return a[u]||(a[u]={predecessor:[],successor:[]}),a[u]}y.topologicalTravel=function(a,u,e,s){if(a.length){var r=function n(a){var u={},e=[];return T.each(a,function(s){var r=c(u,s),d=function o(a,u){var e=[];return T.each(a,function(s){T.indexOf(u,s)>=0&&e.push(s)}),e}(r.originalDeps=h(s),a);r.entryCount=d.length,0===r.entryCount&&e.push(s),T.each(d,function(v){T.indexOf(r.predecessor,v)<0&&r.predecessor.push(v);var f=c(u,v);T.indexOf(f.successor,v)<0&&f.successor.push(s)})}),{graph:u,noEntryList:e}}(u),l=r.graph,d=r.noEntryList,v={};for(T.each(a,function(g){v[g]=!0});d.length;){var f=d.pop(),p=l[f],S=!!v[f];S&&(e.call(s,f,p.originalDeps.slice()),delete v[f]),T.each(p.successor,S?x:C)}T.each(v,function(){throw new Error("Circle dependency may exists")})}function C(g){l[g].entryCount--,0===l[g].entryCount&&d.push(g)}function x(g){v[g]=!0,C(g)}}}},42977:(j,U,i)=>{var T=i(66615),w=i(50585),t=i(68301),D=T.normalizeCssArray,b=/([&<>"'])/g,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function h(p){return null==p?"":(p+"").replace(b,function(S,C){return y[C]})}var n=["a","b","c","d","e","f","g"],c=function(p,S){return"{"+p+(S??"")+"}"};function e(p,S){return"0000".substr(0,S-(p+="").length)+p}var l=w.truncateText;U.addCommas=function M(p){return isNaN(p)?"-":(p=(p+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(p.length>1?"."+p[1]:"")},U.toCamelCase=function I(p,S){return p=(p||"").toLowerCase().replace(/-(.)/g,function(C,x){return x.toUpperCase()}),S&&p&&(p=p.charAt(0).toUpperCase()+p.slice(1)),p},U.normalizeCssArray=D,U.encodeHTML=h,U.formatTpl=function o(p,S,C){T.isArray(S)||(S=[S]);var x=S.length;if(!x)return"";for(var g=S[0].$vars||[],m=0;m<g.length;m++){var A=n[m];p=p.replace(c(A),c(A,0))}for(var L=0;L<x;L++)for(var E=0;E<g.length;E++){var N=S[L][g[E]];p=p.replace(c(n[E],L),C?h(N):N)}return p},U.formatTplSimple=function a(p,S,C){return T.each(S,function(x,g){p=p.replace("{"+g+"}",C?h(x):x)}),p},U.getTooltipMarker=function u(p,g){var C=(p=T.isString(p)?{color:p,extraCssText:g}:p||{}).color,m=(g=p.extraCssText,p.renderMode||"html"),A=p.markerId||"X";return C?"html"===m?"subItem"===p.type?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+h(C)+";"+(g||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+h(C)+";"+(g||"")+'"></span>':{renderMode:m,content:"{marker"+A+"|}  ",style:{color:C}}:""},U.formatTime=function s(p,S,C){("week"===p||"month"===p||"quarter"===p||"half-year"===p||"year"===p)&&(p="MM-dd\nyyyy");var x=t.parseDate(S),g=C?"UTC":"",m=x["get"+g+"FullYear"](),A=x["get"+g+"Month"]()+1,L=x["get"+g+"Date"](),E=x["get"+g+"Hours"](),N=x["get"+g+"Minutes"](),R=x["get"+g+"Seconds"](),F=x["get"+g+"Milliseconds"]();return p.replace("MM",e(A,2)).replace("M",A).replace("yyyy",m).replace("yy",m%100).replace("dd",e(L,2)).replace("d",L).replace("hh",e(E,2)).replace("h",E).replace("mm",e(N,2)).replace("m",N).replace("ss",e(R,2)).replace("s",R).replace("SSS",e(F,3))},U.capitalFirst=function r(p){return p&&p.charAt(0).toUpperCase()+p.substr(1)},U.truncateText=l,U.getTextBoundingRect=function d(p){return w.getBoundingRect(p.text,p.font,p.textAlign,p.textVerticalAlign,p.textPadding,p.textLineHeight,p.rich,p.truncate)},U.getTextRect=function v(p,S,C,x,g,m,A,L){return w.getBoundingRect(p,S,C,x,g,L,m,A)},U.windowOpen=function f(p,S){if("_blank"===S||"blank"===S){var C=window.open();C.opener=null,C.location=p}else window.open(p,S)}},32694:(j,U,i)=>{var T=i(66615),w=i(37561),t=i(10754),M=i(84498),I=i(8544),D=i(40465),b=i(4360),y=i(48418);U.Image=y;var h=i(29367);U.Group=h;var n=i(62018);U.Text=n;var c=i(27610);U.Circle=c;var o=i(53594);U.Sector=o;var a=i(22283);U.Ring=a;var u=i(78015);U.Polygon=u;var e=i(73628);U.Polyline=e;var s=i(68341);U.Rect=s;var r=i(60541);U.Line=r;var l=i(61838);U.BezierCurve=l;var d=i(18419);U.Arc=d;var v=i(31803);U.CompoundPath=v;var f=i(98481);U.LinearGradient=f;var p=i(23033);U.RadialGradient=p;var S=i(94525);U.BoundingRect=S;var C=i(28123);U.IncrementalDisplayable=C;var x=i(73532),g=Math.max,m=Math.min,A={},L=1,N="emphasis",R="normal",F=1,H={},B={};function $(pt,Mt){B[pt]=Mt}function V(pt,Mt,kt,Ht){var Qt=w.createFromString(pt,Mt);return kt&&("center"===Ht&&(kt=k(kt,Qt.getBoundingRect())),q(Qt,kt)),Qt}function k(pt,Mt){var Qt,kt=Mt.width/Mt.height,Ht=pt.height*kt;return Qt=Ht<=pt.width?pt.height:(Ht=pt.width)/kt,{x:pt.x+pt.width/2-Ht/2,y:pt.y+pt.height/2-Qt/2,width:Ht,height:Qt}}var X=w.mergePath;function q(pt,Mt){if(pt.applyTransform){var Ht=pt.getBoundingRect().calculateTransform(Mt);pt.applyTransform(Ht)}}var it=x.subPixelOptimize;function lt(pt){return null!=pt&&"none"!==pt}var dt=T.createHashMap(),ht=0;function ut(pt){var Mt=pt.__hoverStl;if(Mt&&!pt.__highlighted){var kt=pt.__zr,Ht=pt.useHoverLayer&&kt&&"canvas"===kt.painter.type;if(pt.__highlighted=Ht?"layer":"plain",!(pt.isGroup||!kt&&pt.useHoverLayer)){var Qt=pt,ce=pt.style;Ht&&(ce=(Qt=kt.addHover(pt)).style),Se(ce),Ht||function at(pt){if(pt.__hoverStlDirty){pt.__hoverStlDirty=!1;var Mt=pt.__hoverStl;if(!Mt)return void(pt.__cachedNormalStl=pt.__cachedNormalZ2=null);var kt=pt.__cachedNormalStl={};pt.__cachedNormalZ2=pt.z2;var Ht=pt.style;for(var Qt in Mt)null!=Mt[Qt]&&(kt[Qt]=Ht[Qt]);kt.fill=Ht.fill,kt.stroke=Ht.stroke}}(Qt),ce.extendFrom(Mt),Ct(ce,Mt,"fill"),Ct(ce,Mt,"stroke"),Ce(ce),Ht||(pt.dirty(!1),pt.z2+=L)}}}function Ct(pt,Mt,kt){!lt(Mt[kt])&&lt(pt[kt])&&(pt[kt]=function gt(pt){if("string"!=typeof pt)return pt;var Mt=dt.get(pt);return Mt||(Mt=t.lift(pt,-.1),ht<1e4&&(dt.set(pt,Mt),ht++)),Mt}(pt[kt]))}function _t(pt){var Mt=pt.__highlighted;if(Mt&&(pt.__highlighted=!1,!pt.isGroup))if("layer"===Mt)pt.__zr&&pt.__zr.removeHover(pt);else{var kt=pt.style,Ht=pt.__cachedNormalStl;Ht&&(Se(kt),pt.setStyle(Ht),Ce(kt));var Qt=pt.__cachedNormalZ2;null!=Qt&&pt.z2-Qt===L&&(pt.z2=Qt)}}function bt(pt,Mt,kt){var ce,Ht=R,Qt=R;pt.__highlighted&&(Ht=N,ce=!0),Mt(pt,kt),pt.__highlighted&&(Qt=N,ce=!0),pt.isGroup&&pt.traverse(function(Re){!Re.isGroup&&Mt(Re,kt)}),ce&&pt.__highDownOnUpdate&&pt.__highDownOnUpdate(Ht,Qt)}function Rt(pt,Mt){Mt=pt.__hoverStl=!1!==Mt&&(pt.hoverStyle||Mt||{}),pt.__hoverStlDirty=!0,pt.__highlighted&&(pt.__cachedNormalStl=null,_t(pt),ut(pt))}function yt(pt){!Vt(this,pt)&&!this.__highByOuter&&bt(this,ut)}function Tt(pt){!Vt(this,pt)&&!this.__highByOuter&&bt(this,_t)}function Pt(pt){this.__highByOuter|=1<<(pt||0),bt(this,ut)}function Zt(pt){!(this.__highByOuter&=~(1<<(pt||0)))&&bt(this,_t)}function Vt(pt,Mt){return pt.__highDownSilentOnTouch&&Mt.zrByTouch}function xt(pt,Mt){var kt=!1===Mt;if(pt.__highDownSilentOnTouch=pt.highDownSilentOnTouch,pt.__highDownOnUpdate=pt.highDownOnUpdate,!kt||pt.__highDownDispatcher){var Ht=kt?"off":"on";pt[Ht]("mouseover",yt)[Ht]("mouseout",Tt),pt[Ht]("emphasis",Pt)[Ht]("normal",Zt),pt.__highByOuter=pt.__highByOuter||0,pt.__highDownDispatcher=!kt}}function Ft(pt,Mt,kt,Ht,Qt){return qt(pt,Mt,Ht,Qt),kt&&T.extend(pt,kt),pt}function qt(pt,Mt,kt,Ht){if((kt=kt||A).isRectText){var Qt;kt.getTextPosition?Qt=kt.getTextPosition(Mt,Ht):"outside"===(Qt=Mt.getShallow("position")||(Ht?null:"inside"))&&(Qt="top"),pt.textPosition=Qt,pt.textOffset=Mt.getShallow("offset");var ce=Mt.getShallow("rotate");null!=ce&&(ce*=Math.PI/180),pt.textRotation=ce,pt.textDistance=T.retrieve2(Mt.getShallow("distance"),Ht?null:5)}var je,Re=Mt.ecModel,De=Re&&Re.option.textStyle,ke=function te(pt){for(var Mt;pt&&pt!==pt.ecModel;){var kt=(pt.option||A).rich;if(kt)for(var Ht in Mt=Mt||{},kt)kt.hasOwnProperty(Ht)&&(Mt[Ht]=1);pt=pt.parentModel}return Mt}(Mt);if(ke)for(var or in je={},ke)if(ke.hasOwnProperty(or)){var zr=Mt.getModel(["rich",or]);se(je[or]={},zr,De,kt,Ht)}return pt.rich=je,se(pt,Mt,De,kt,Ht,!0),kt.forceRich&&!kt.textStyle&&(kt.textStyle={}),pt}function se(pt,Mt,kt,Ht,Qt,ce){kt=!Qt&&kt||A,pt.textFill=ge(Mt.getShallow("color"),Ht)||kt.color,pt.textStroke=ge(Mt.getShallow("textBorderColor"),Ht)||kt.textBorderColor,pt.textStrokeWidth=T.retrieve2(Mt.getShallow("textBorderWidth"),kt.textBorderWidth),Qt||(ce&&(pt.insideRollbackOpt=Ht,Ce(pt)),null==pt.textFill&&(pt.textFill=Ht.autoColor)),pt.fontStyle=Mt.getShallow("fontStyle")||kt.fontStyle,pt.fontWeight=Mt.getShallow("fontWeight")||kt.fontWeight,pt.fontSize=Mt.getShallow("fontSize")||kt.fontSize,pt.fontFamily=Mt.getShallow("fontFamily")||kt.fontFamily,pt.textAlign=Mt.getShallow("align"),pt.textVerticalAlign=Mt.getShallow("verticalAlign")||Mt.getShallow("baseline"),pt.textLineHeight=Mt.getShallow("lineHeight"),pt.textWidth=Mt.getShallow("width"),pt.textHeight=Mt.getShallow("height"),pt.textTag=Mt.getShallow("tag"),(!ce||!Ht.disableBox)&&(pt.textBackgroundColor=ge(Mt.getShallow("backgroundColor"),Ht),pt.textPadding=Mt.getShallow("padding"),pt.textBorderColor=ge(Mt.getShallow("borderColor"),Ht),pt.textBorderWidth=Mt.getShallow("borderWidth"),pt.textBorderRadius=Mt.getShallow("borderRadius"),pt.textBoxShadowColor=Mt.getShallow("shadowColor"),pt.textBoxShadowBlur=Mt.getShallow("shadowBlur"),pt.textBoxShadowOffsetX=Mt.getShallow("shadowOffsetX"),pt.textBoxShadowOffsetY=Mt.getShallow("shadowOffsetY")),pt.textShadowColor=Mt.getShallow("textShadowColor")||kt.textShadowColor,pt.textShadowBlur=Mt.getShallow("textShadowBlur")||kt.textShadowBlur,pt.textShadowOffsetX=Mt.getShallow("textShadowOffsetX")||kt.textShadowOffsetX,pt.textShadowOffsetY=Mt.getShallow("textShadowOffsetY")||kt.textShadowOffsetY}function ge(pt,Mt){return"auto"!==pt?pt:Mt&&Mt.autoColor?Mt.autoColor:null}function Ce(pt){var Ht,Mt=pt.textPosition,kt=pt.insideRollbackOpt;if(kt&&null==pt.textFill){var Qt=kt.autoColor,Re=kt.useInsideStyle,De=!1!==Re&&(!0===Re||kt.isRectText&&Mt&&"string"==typeof Mt&&Mt.indexOf("inside")>=0),ke=!De&&null!=Qt;(De||ke)&&(Ht={textFill:pt.textFill,textStroke:pt.textStroke,textStrokeWidth:pt.textStrokeWidth}),De&&(pt.textFill="#fff",null==pt.textStroke&&(pt.textStroke=Qt,null==pt.textStrokeWidth&&(pt.textStrokeWidth=2))),ke&&(pt.textFill=Qt)}pt.insideRollback=Ht}function Se(pt){var Mt=pt.insideRollback;Mt&&(pt.textFill=Mt.textFill,pt.textStroke=Mt.textStroke,pt.textStrokeWidth=Mt.textStrokeWidth,pt.insideRollback=null)}function ze(pt,Mt,kt,Ht,Qt,ce){if("function"==typeof Qt&&(ce=Qt,Qt=null),Ht&&Ht.isAnimationEnabled()){var De=pt?"Update":"",ke=Ht.getShallow("animationDuration"+De),je=Ht.getShallow("animationEasing"+De),or=Ht.getShallow("animationDelay"+De);"function"==typeof or&&(or=or(Qt,Ht.getAnimationDelayParams?Ht.getAnimationDelayParams(Mt,Qt):null)),"function"==typeof ke&&(ke=ke(Qt)),ke>0?Mt.animateTo(kt,ke,or||0,je,ce,!!ce):(Mt.stopAnimation(),Mt.attr(kt),ce&&ce())}else Mt.stopAnimation(),Mt.attr(kt),ce&&ce()}function ue(pt,Mt,kt,Ht,Qt){ze(!0,pt,Mt,kt,Ht,Qt)}function we(pt,Mt,kt){return Mt&&!T.isArrayLike(Mt)&&(Mt=b.getLocalTransform(Mt)),kt&&(Mt=M.invert([],Mt)),I.applyTransform([],pt,Mt)}function Je(pt,Mt,kt,Ht,Qt,ce,Re,De){var ke=kt-pt,je=Ht-Mt,or=Re-Qt,zr=De-ce,Dr=He(or,zr,ke,je);if(function tr(pt){return pt<=1e-6&&pt>=-1e-6}(Dr))return!1;var mr=pt-Qt,qr=Mt-ce,_r=He(mr,qr,ke,je)/Dr;if(_r<0||_r>1)return!1;var vn=He(mr,qr,or,zr)/Dr;return!(vn<0||vn>1)}function He(pt,Mt,kt,Ht){return pt*Ht-kt*Mt}$("circle",c),$("sector",o),$("ring",a),$("polygon",u),$("polyline",e),$("rect",s),$("line",r),$("bezierCurve",l),$("arc",d),U.Z2_EMPHASIS_LIFT=L,U.CACHED_LABEL_STYLE_PROPERTIES={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},U.extendShape=function Z(pt){return D.extend(pt)},U.extendPath=function W(pt,Mt){return w.extendFromString(pt,Mt)},U.registerShape=$,U.getShapeClass=function Y(pt){if(B.hasOwnProperty(pt))return B[pt]},U.makePath=V,U.makeImage=function z(pt,Mt,kt){var Ht=new y({style:{image:pt,x:Mt.x,y:Mt.y,width:Mt.width,height:Mt.height},onload:function(Qt){"center"===kt&&Ht.setStyle(k(Mt,{width:Qt.width,height:Qt.height}))}});return Ht},U.mergePath=X,U.resizePath=q,U.subPixelOptimizeLine=function et(pt){return x.subPixelOptimizeLine(pt.shape,pt.shape,pt.style),pt},U.subPixelOptimizeRect=function rt(pt){return x.subPixelOptimizeRect(pt.shape,pt.shape,pt.style),pt},U.subPixelOptimize=it,U.setElementHoverStyle=Rt,U.setHoverStyle=function ft(pt,Mt){xt(pt,!0),bt(pt,Rt,Mt)},U.setAsHighDownDispatcher=xt,U.isHighDownDispatcher=function wt(pt){return!(!pt||!pt.__highDownDispatcher)},U.getHighlightDigit=function Nt(pt){var Mt=H[pt];return null==Mt&&F<=32&&(Mt=H[pt]=F++),Mt},U.setLabelStyle=function Ot(pt,Mt,kt,Ht,Qt,ce,Re){var mr,De=(Qt=Qt||A).labelFetcher,ke=Qt.labelDataIndex,je=Qt.labelDimIndex,or=Qt.labelProp,zr=kt.getShallow("show"),Dr=Ht.getShallow("show");(zr||Dr)&&(De&&(mr=De.getFormattedLabel(ke,"normal",null,je,or)),null==mr&&(mr=T.isFunction(Qt.defaultText)?Qt.defaultText(ke,Qt):Qt.defaultText));var qr=zr?mr:null,_r=Dr?T.retrieve2(De?De.getFormattedLabel(ke,"emphasis",null,je,or):null,mr):null;(null!=qr||null!=_r)&&(Ft(pt,kt,ce,Qt),Ft(Mt,Ht,Re,Qt,!0)),pt.text=qr,Mt.text=_r},U.modifyLabelStyle=function It(pt,Mt,kt){var Ht=pt.style;Mt&&(Se(Ht),pt.setStyle(Mt),Ce(Ht)),Ht=pt.__hoverStl,kt&&Ht&&(Se(Ht),T.extend(Ht,kt),Ce(Ht))},U.setTextStyle=Ft,U.setText=function Jt(pt,Mt,kt){var Qt,Ht={isRectText:!0};!1===kt?Qt=!0:Ht.autoColor=kt,qt(pt,Mt,Ht,Qt)},U.getFont=function Be(pt,Mt){var kt=Mt&&Mt.getModel("textStyle");return T.trim([pt.fontStyle||kt&&kt.getShallow("fontStyle")||"",pt.fontWeight||kt&&kt.getShallow("fontWeight")||"",(pt.fontSize||kt&&kt.getShallow("fontSize")||12)+"px",pt.fontFamily||kt&&kt.getShallow("fontFamily")||"sans-serif"].join(" "))},U.updateProps=ue,U.initProps=function he(pt,Mt,kt,Ht,Qt){ze(!1,pt,Mt,kt,Ht,Qt)},U.getTransform=function Ie(pt,Mt){for(var kt=M.identity([]);pt&&pt!==Mt;)M.mul(kt,pt.getLocalTransform(),kt),pt=pt.parent;return kt},U.applyTransform=we,U.transformDirection=function Ae(pt,Mt,kt){var Ht=0===Mt[4]||0===Mt[5]||0===Mt[0]?1:Math.abs(2*Mt[4]/Mt[0]),Qt=0===Mt[4]||0===Mt[5]||0===Mt[2]?1:Math.abs(2*Mt[4]/Mt[2]),ce=["left"===pt?-Ht:"right"===pt?Ht:0,"top"===pt?-Qt:"bottom"===pt?Qt:0];return ce=we(ce,Mt,kt),Math.abs(ce[0])>Math.abs(ce[1])?ce[0]>0?"right":"left":ce[1]>0?"bottom":"top"},U.groupTransition=function Oe(pt,Mt,kt,Ht){if(pt&&Mt){var Re=function Qt(De){var ke={};return De.traverse(function(je){!je.isGroup&&je.anid&&(ke[je.anid]=je)}),ke}(pt);Mt.traverse(function(De){if(!De.isGroup&&De.anid){var ke=Re[De.anid];if(ke){var je=ce(De);De.attr(ce(ke)),ue(De,je,kt,De.dataIndex)}}})}function ce(De){var ke={position:I.clone(De.position),rotation:De.rotation};return De.shape&&(ke.shape=T.extend({},De.shape)),ke}},U.clipPointsByRect=function rr(pt,Mt){return T.map(pt,function(kt){var Ht=kt[0];Ht=g(Ht,Mt.x),Ht=m(Ht,Mt.x+Mt.width);var Qt=kt[1];return Qt=g(Qt,Mt.y),[Ht,Qt=m(Qt,Mt.y+Mt.height)]})},U.clipRectByRect=function vr(pt,Mt){var kt=g(pt.x,Mt.x),Ht=m(pt.x+pt.width,Mt.x+Mt.width),Qt=g(pt.y,Mt.y),ce=m(pt.y+pt.height,Mt.y+Mt.height);if(Ht>=kt&&ce>=Qt)return{x:kt,y:Qt,width:Ht-kt,height:ce-Qt}},U.createIcon=function ae(pt,Mt,kt){var Ht=(Mt=T.extend({rectHover:!0},Mt)).style={strokeNoScale:!0};if(kt=kt||{x:-1,y:-1,width:2,height:2},pt)return 0===pt.indexOf("image://")?(Ht.image=pt.slice(8),T.defaults(Ht,kt),new y(Mt)):V(pt.replace("path://",""),Mt,kt,"center")},U.linePolygonIntersect=function ar(pt,Mt,kt,Ht,Qt){for(var ce=0,Re=Qt[Qt.length-1];ce<Qt.length;ce++){var De=Qt[ce];if(Je(pt,Mt,kt,Ht,De[0],De[1],Re[0],Re[1]))return!0;Re=De}},U.lineLineIntersect=Je},10942:(j,U,i)=>{var T=i(66615),w=i(94525),M=i(68301).parsePercent,I=i(42977),D=T.each,b=["left","right","top","bottom","width","height"],y=[["width","left","right"],["height","top","bottom"]];function h(v,f,p,S,C){var x=0,g=0;null==S&&(S=1/0),null==C&&(C=1/0);var m=0;f.eachChild(function(A,L){var H,B,E=A.position,N=A.getBoundingRect(),R=f.childAt(L+1),F=R&&R.getBoundingRect();if("horizontal"===v){var Z=N.width+(F?-F.x+N.x:0);(H=x+Z)>S||A.newline?(x=0,H=Z,g+=m+p,m=N.height):m=Math.max(m,N.height)}else{var W=N.height+(F?-F.y+N.y:0);(B=g+W)>C||A.newline?(x+=m+p,g=0,B=W,m=N.width):m=Math.max(m,N.width)}A.newline||(E[0]=x,E[1]=g,"horizontal"===v?x=H+p:g=B+p)})}var n=h,c=T.curry(h,"vertical"),o=T.curry(h,"horizontal");function u(v,f,p){p=I.normalizeCssArray(p||0);var S=f.width,C=f.height,x=M(v.left,S),g=M(v.top,C),m=M(v.right,S),A=M(v.bottom,C),L=M(v.width,S),E=M(v.height,C),N=p[2]+p[0],R=p[1]+p[3],F=v.aspect;switch(isNaN(L)&&(L=S-m-R-x),isNaN(E)&&(E=C-A-N-g),null!=F&&(isNaN(L)&&isNaN(E)&&(F>S/C?L=.8*S:E=.8*C),isNaN(L)&&(L=F*E),isNaN(E)&&(E=L/F)),isNaN(x)&&(x=S-m-L-R),isNaN(g)&&(g=C-A-E-N),v.left||v.right){case"center":x=S/2-L/2-p[3];break;case"right":x=S-L-R}switch(v.top||v.bottom){case"middle":case"center":g=C/2-E/2-p[0];break;case"bottom":g=C-E-N}x=x||0,g=g||0,isNaN(L)&&(L=S-R-x-(m||0)),isNaN(E)&&(E=C-N-g-(A||0));var H=new w(x+p[3],g+p[0],L,E);return H.margin=p,H}function d(v,f){return f&&v&&D(b,function(p){f.hasOwnProperty(p)&&(v[p]=f[p])}),v}U.LOCATION_PARAMS=b,U.HV_NAMES=y,U.box=n,U.vbox=c,U.hbox=o,U.getAvailableSize=function a(v,f,p){var S=f.width,C=f.height,x=M(v.x,S),g=M(v.y,C),m=M(v.x2,S),A=M(v.y2,C);return(isNaN(x)||isNaN(parseFloat(v.x)))&&(x=0),(isNaN(m)||isNaN(parseFloat(v.x2)))&&(m=S),(isNaN(g)||isNaN(parseFloat(v.y)))&&(g=0),(isNaN(A)||isNaN(parseFloat(v.y2)))&&(A=C),p=I.normalizeCssArray(p||0),{width:Math.max(m-x-p[1]-p[3],0),height:Math.max(A-g-p[0]-p[2],0)}},U.getLayoutRect=u,U.positionElement=function e(v,f,p,S,C){var x=!C||!C.hv||C.hv[0],g=!C||!C.hv||C.hv[1],m=C&&C.boundingMode||"all";if(x||g){var A;if("raw"===m)A="group"===v.type?new w(0,0,+f.width||0,+f.height||0):v.getBoundingRect();else if(A=v.getBoundingRect(),v.needLocalTransform()){var L=v.getLocalTransform();(A=A.clone()).applyTransform(L)}f=u(T.defaults({width:A.width,height:A.height},f),p,S);var E=v.position,N=x?f.x-A.x:0,R=g?f.y-A.y:0;v.attr("position","raw"===m?[N,R]:[E[0]+N,E[1]+R])}},U.sizeCalculable=function s(v,f){return null!=v[y[f][0]]||null!=v[y[f][1]]&&null!=v[y[f][2]]},U.mergeLayoutParam=function r(v,f,p){!T.isObject(p)&&(p={});var S=p.ignoreSize;!T.isArray(S)&&(S=[S,S]);var C=g(y[0],0),x=g(y[1],1);function g(E,N){var R={},F=0,H={},B=0;if(D(E,function(Y){H[Y]=v[Y]}),D(E,function(Y){m(f,Y)&&(R[Y]=H[Y]=f[Y]),A(R,Y)&&F++,A(H,Y)&&B++}),S[N])return A(f,E[1])?H[E[2]]=null:A(f,E[2])&&(H[E[1]]=null),H;if(2===B||!F)return H;if(F>=2)return R;for(var W=0;W<E.length;W++){var $=E[W];if(!m(R,$)&&m(v,$)){R[$]=v[$];break}}return R}function m(E,N){return E.hasOwnProperty(N)}function A(E,N){return null!=E[N]&&"auto"!==E[N]}function L(E,N,R){D(E,function(F){N[F]=R[F]})}L(y[0],v,C),L(y[1],v,x)},U.getLayoutParams=function l(v){return d({},v)},U.copyLayoutParams=d},21617:(j,U,i)=>{var T=i(66615),w=i(71156),t=T.each,M=T.isObject,I=T.isArray,D="series\0";function b(g){return g instanceof Array?g:null==g?[]:[g]}function e(g){return M(g)&&g.id&&0===(g.id+"").indexOf("\0_ec_\0")}var d=0;function f(g,m){return g&&g.hasOwnProperty(m)}U.normalizeToArray=b,U.defaultEmphasis=function y(g,m,A){if(g){g[m]=g[m]||{},g.emphasis=g.emphasis||{},g.emphasis[m]=g.emphasis[m]||{};for(var L=0,E=A.length;L<E;L++){var N=A[L];!g.emphasis[m].hasOwnProperty(N)&&g[m].hasOwnProperty(N)&&(g.emphasis[m][N]=g[m][N])}}},U.TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],U.getDataItemValue=function n(g){return!M(g)||I(g)||g instanceof Date?g:g.value},U.isDataItemOption=function c(g){return M(g)&&!(g instanceof Array)},U.mappingToExists=function o(g,m){m=(m||[]).slice();var A=T.map(g||[],function(L,E){return{exist:L}});return t(m,function(L,E){if(M(L)){for(var N=0;N<A.length;N++)if(!A[N].option&&null!=L.id&&A[N].exist.id===L.id+"")return A[N].option=L,void(m[E]=null);for(N=0;N<A.length;N++){var R=A[N].exist;if(!(A[N].option||null!=R.id&&null!=L.id||null==L.name||e(L)||e(R)||R.name!==L.name+""))return A[N].option=L,void(m[E]=null)}}}),t(m,function(L,E){if(M(L)){for(var N=0;N<A.length;N++)if(!A[N].option&&!e(A[N].exist)&&null==L.id){A[N].option=L;break}N>=A.length&&A.push({option:L})}}),A},U.makeIdAndName=function a(g){var m=T.createHashMap();t(g,function(A,L){var E=A.exist;E&&m.set(E.id,A)}),t(g,function(A,L){var E=A.option;T.assert(!E||null==E.id||!m.get(E.id)||m.get(E.id)===A,"id duplicates: "+(E&&E.id)),E&&null!=E.id&&m.set(E.id,A),!A.keyInfo&&(A.keyInfo={})}),t(g,function(A,L){var E=A.exist,N=A.option,R=A.keyInfo;if(M(N)){if(R.name=null!=N.name?N.name+"":E?E.name:D+L,E)R.id=E.id;else if(null!=N.id)R.id=N.id+"";else{var F=0;do{R.id="\0"+R.name+"\0"+F++}while(m.get(R.id))}m.set(R.id,A)}})},U.isNameSpecified=function u(g){var m=g.name;return!(!m||!m.indexOf(D))},U.isIdInner=e,U.compressBatches=function s(g,m){var A={},L={};return E(g||[],A),E(m||[],L,A),[N(A),N(L)];function E(R,F,H){for(var B=0,Z=R.length;B<Z;B++)for(var W=R[B].seriesId,$=b(R[B].dataIndex),Y=H&&H[W],V=0,z=$.length;V<z;V++){var k=$[V];Y&&Y[k]?Y[k]=null:(F[W]||(F[W]={}))[k]=1}}function N(R,F){var H=[];for(var B in R)if(R.hasOwnProperty(B)&&null!=R[B])if(F)H.push(+B);else{var Z=N(R[B],!0);Z.length&&H.push({seriesId:B,dataIndex:Z})}return H}},U.queryDataIndex=function r(g,m){return null!=m.dataIndexInside?m.dataIndexInside:null!=m.dataIndex?T.isArray(m.dataIndex)?T.map(m.dataIndex,function(A){return g.indexOfRawIndex(A)}):g.indexOfRawIndex(m.dataIndex):null!=m.name?T.isArray(m.name)?T.map(m.name,function(A){return g.indexOfName(A)}):g.indexOfName(m.name):void 0},U.makeInner=function l(){var g="__\0ec_inner_"+d+++"_"+Math.random().toFixed(5);return function(m){return m[g]||(m[g]={})}},U.parseFinder=function v(g,m,A){if(T.isString(m)){var L={};L[m+"Index"]=0,m=L}var E=A&&A.defaultMainType;E&&!f(m,E+"Index")&&!f(m,E+"Id")&&!f(m,E+"Name")&&(m[E+"Index"]=0);var N={};return t(m,function(H,F){if(H=m[F],"dataIndex"!==F&&"dataIndexInside"!==F){var B=F.match(/^(\w+)(Index|Id|Name)$/)||[],Z=B[1],W=(B[2]||"").toLowerCase();if(!(!Z||!W||null==H||"index"===W&&"none"===H||A&&A.includeMainTypes&&T.indexOf(A.includeMainTypes,Z)<0)){var $={mainType:Z};("index"!==W||"all"!==H)&&($[W]=H);var Y=g.queryComponents($);N[Z+"Models"]=Y,N[Z+"Model"]=Y[0]}}else N[F]=H}),N},U.setAttribute=function p(g,m,A){g.setAttribute?g.setAttribute(m,A):g[m]=A},U.getAttribute=function S(g,m){return g.getAttribute?g.getAttribute(m):g[m]},U.getTooltipRenderMode=function C(g){return"auto"===g?w.domSupported?"html":"richText":g||"html"},U.groupData=function x(g,m){var A=T.createHashMap(),L=[];return T.each(g,function(E){var N=m(E);(A.get(N)||(L.push(N),A.set(N,[]))).push(E)}),{keys:L,buckets:A}}},68301:(j,U,i)=>{var T=i(66615),w=1e-4,e=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function l(S){if(0===S)return 0;var C=Math.floor(Math.log(S)/Math.LN10);return S/Math.pow(10,C)>=10&&C++,C}U.linearMap=function M(S,C,x,g){var m=C[1]-C[0],A=x[1]-x[0];if(0===m)return 0===A?x[0]:(x[0]+x[1])/2;if(g)if(m>0){if(S<=C[0])return x[0];if(S>=C[1])return x[1]}else{if(S>=C[0])return x[0];if(S<=C[1])return x[1]}else{if(S===C[0])return x[0];if(S===C[1])return x[1]}return(S-C[0])/m*A+x[0]},U.parsePercent=function I(S,C){switch(S){case"center":case"middle":S="50%";break;case"left":case"top":S="0%";break;case"right":case"bottom":S="100%"}return"string"==typeof S?function t(S){return S.replace(/^\s+|\s+$/g,"")}(S).match(/%$/)?parseFloat(S)/100*C:parseFloat(S):null==S?NaN:+S},U.round=function D(S,C,x){return null==C&&(C=10),C=Math.min(Math.max(0,C),20),S=(+S).toFixed(C),x?S:+S},U.asc=function b(S){return S.sort(function(C,x){return C-x}),S},U.getPrecision=function y(S){if(S=+S,isNaN(S))return 0;for(var C=1,x=0;Math.round(S*C)/C!==S;)C*=10,x++;return x},U.getPrecisionSafe=function h(S){var C=S.toString(),x=C.indexOf("e");if(x>0){var g=+C.slice(x+1);return g<0?-g:0}var m=C.indexOf(".");return m<0?0:C.length-1-m},U.getPixelPrecision=function n(S,C){var x=Math.log,g=Math.LN10,m=Math.floor(x(S[1]-S[0])/g),A=Math.round(x(Math.abs(C[1]-C[0]))/g),L=Math.min(Math.max(-m+A,0),20);return isFinite(L)?L:20},U.getPercentWithPrecision=function c(S,C,x){if(!S[C])return 0;var g=T.reduce(S,function(W,$){return W+(isNaN($)?0:$)},0);if(0===g)return 0;for(var m=Math.pow(10,x),A=T.map(S,function(W){return(isNaN(W)?0:W)/g*m*100}),L=100*m,E=T.map(A,function(W){return Math.floor(W)}),N=T.reduce(E,function(W,$){return W+$},0),R=T.map(A,function(W,$){return W-E[$]});N<L;){for(var F=Number.NEGATIVE_INFINITY,H=null,B=0,Z=R.length;B<Z;++B)R[B]>F&&(F=R[B],H=B);++E[H],R[H]=0,++N}return E[C]/m},U.MAX_SAFE_INTEGER=9007199254740991,U.remRadian=function a(S){var C=2*Math.PI;return(S%C+C)%C},U.isRadianAroundZero=function u(S){return S>-w&&S<w},U.parseDate=function s(S){if(S instanceof Date)return S;if("string"==typeof S){var C=e.exec(S);if(!C)return new Date(NaN);if(C[8]){var x=+C[4]||0;return"Z"!==C[8].toUpperCase()&&(x-=C[8].slice(0,3)),new Date(Date.UTC(+C[1],+(C[2]||1)-1,+C[3]||1,x,+(C[5]||0),+C[6]||0,+C[7]||0))}return new Date(+C[1],+(C[2]||1)-1,+C[3]||1,+C[4]||0,+(C[5]||0),+C[6]||0,+C[7]||0)}return null==S?new Date(NaN):new Date(Math.round(S))},U.quantity=function r(S){return Math.pow(10,l(S))},U.quantityExponent=l,U.nice=function d(S,C){var x=l(S),g=Math.pow(10,x),m=S/g;return S=(C?m<1.5?1:m<2.5?2:m<4?3:m<7?5:10:m<1?1:m<2?2:m<3?3:m<5?5:10)*g,x>=-20?+S.toFixed(x<0?-x:0):S},U.quantile=function v(S,C){var x=(S.length-1)*C+1,g=Math.floor(x),m=+S[g-1],A=x-g;return A?m+A*(S[g]-m):m},U.reformIntervals=function f(S){S.sort(function(N,R){return E(N,R,0)?-1:1});for(var C=-1/0,x=1,g=0;g<S.length;){for(var m=S[g].interval,A=S[g].close,L=0;L<2;L++)m[L]<=C&&(m[L]=C,A[L]=L?1:1-x),C=m[L],x=A[L];m[0]===m[1]&&A[0]*A[1]!=1?S.splice(g,1):g++}return S;function E(N,R,F){return N.interval[F]<R.interval[F]||N.interval[F]===R.interval[F]&&(N.close[F]-R.close[F]==(F?-1:1)||!F&&E(N,R,1))}},U.isNumeric=function p(S){return S-parseFloat(S)>=0}},28166:(j,U,i)=>{var t=(0,i(32694).extendShape)({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(M,I){var D=I.cx,b=I.cy,y=Math.max(I.r0||0,0),h=Math.max(I.r,0),n=.5*(h-y),c=y+n,o=I.startAngle,a=I.endAngle,u=I.clockwise,e=Math.cos(o),s=Math.sin(o),r=Math.cos(a),l=Math.sin(a);(u?a-o<2*Math.PI:o-a<2*Math.PI)&&(M.moveTo(e*y+D,s*y+b),M.arc(e*c+D,s*c+b,n,-Math.PI+o,o,!u)),M.arc(D,b,h,o,a,!u),M.moveTo(r*h+D,l*h+b),M.arc(r*c+D,l*c+b,n,a-2*Math.PI,a-Math.PI,!u),0!==y&&(M.arc(D,b,y,a,o,u),M.moveTo(e*y+D,l*y+b)),M.closePath()}});j.exports=t},33008:(j,U,i)=>{var T=i(66615),w=i(32694),t=i(94525),I=i(50585).calculateTextPosition,D=w.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(s,r){var l=r.cx,d=r.cy,v=r.width/2,f=r.height/2;s.moveTo(l,d-f),s.lineTo(l+v,d+f),s.lineTo(l-v,d+f),s.closePath()}}),b=w.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(s,r){var l=r.cx,d=r.cy,v=r.width/2,f=r.height/2;s.moveTo(l,d-f),s.lineTo(l+v,d),s.lineTo(l,d+f),s.lineTo(l-v,d),s.closePath()}}),y=w.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(s,r){var l=r.x,d=r.y,v=r.width/5*3,f=Math.max(v,r.height),p=v/2,S=p*p/(f-p),C=d-f+p+S,x=Math.asin(S/p),g=Math.cos(x)*p,m=Math.sin(x),A=Math.cos(x),L=.6*p,E=.7*p;s.moveTo(l-g,C+S),s.arc(l,C,p,Math.PI-x,2*Math.PI+x),s.bezierCurveTo(l+g-m*L,C+S+A*L,l,d-E,l,d),s.bezierCurveTo(l,d-E,l-g+m*L,C+S+A*L,l-g,C+S),s.closePath()}}),h=w.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(s,r){var l=r.height,v=r.x,f=r.y,p=r.width/3*2;s.moveTo(v,f),s.lineTo(v+p,f+l),s.lineTo(v,f+l/4*3),s.lineTo(v-p,f+l),s.lineTo(v,f),s.closePath()}}),c={line:function(s,r,l,d,v){v.x1=s,v.y1=r+d/2,v.x2=s+l,v.y2=r+d/2},rect:function(s,r,l,d,v){v.x=s,v.y=r,v.width=l,v.height=d},roundRect:function(s,r,l,d,v){v.x=s,v.y=r,v.width=l,v.height=d,v.r=Math.min(l,d)/4},square:function(s,r,l,d,v){var f=Math.min(l,d);v.x=s,v.y=r,v.width=f,v.height=f},circle:function(s,r,l,d,v){v.cx=s+l/2,v.cy=r+d/2,v.r=Math.min(l,d)/2},diamond:function(s,r,l,d,v){v.cx=s+l/2,v.cy=r+d/2,v.width=l,v.height=d},pin:function(s,r,l,d,v){v.x=s+l/2,v.y=r+d/2,v.width=l,v.height=d},arrow:function(s,r,l,d,v){v.x=s+l/2,v.y=r+d/2,v.width=l,v.height=d},triangle:function(s,r,l,d,v){v.cx=s+l/2,v.cy=r+d/2,v.width=l,v.height=d}},o={};T.each({line:w.Line,rect:w.Rect,roundRect:w.Rect,square:w.Rect,circle:w.Circle,diamond:b,pin:y,arrow:h,triangle:D},function(s,r){o[r]=new s});var a=w.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(s,r,l){var d=I(s,r,l),v=this.shape;return v&&"pin"===v.symbolType&&"inside"===r.textPosition&&(d.y=l.y+.4*l.height),d},buildPath:function(s,r,l){var d=r.symbolType;if("none"!==d){var v=o[d];v||(v=o[d="rect"]),c[d](r.x,r.y,r.width,r.height,v.shape),v.buildPath(s,v.shape,l)}}});function u(s,r){if("image"!==this.type){var l=this.style,d=this.shape;d&&"line"===d.symbolType?l.stroke=s:this.__isEmptyBrush?(l.stroke=s,l.fill=r||"#fff"):(l.fill&&(l.fill=s),l.stroke&&(l.stroke=s)),this.dirty(!1)}}U.createSymbol=function e(s,r,l,d,v,f,p){var C,S=0===s.indexOf("empty");return S&&(s=s.substr(5,1).toLowerCase()+s.substr(6)),(C=0===s.indexOf("image://")?w.makeImage(s.slice(8),new t(r,l,d,v),p?"center":"cover"):0===s.indexOf("path://")?w.makePath(s.slice(7),{},new t(r,l,d,v),p?"center":"cover"):new a({shape:{symbolType:s,x:r,y:l,width:d,height:v}})).__isEmptyBrush=S,C.setColor=u,C.setColor(f),C}},74972:(j,U)=>{var i="\0__throttleOriginMethod",T="\0__throttleRate",w="\0__throttleType";function t(D,b,y){var h,a,u,e,s,n=0,c=0,o=null;function r(){c=(new Date).getTime(),o=null,D.apply(u,e||[])}b=b||0;var l=function(){h=(new Date).getTime(),u=this,e=arguments;var d=s||b,v=s||y;s=null,a=h-(v?n:c)-d,clearTimeout(o),v?o=setTimeout(r,d):a>=0?r():o=setTimeout(r,-a),n=h};return l.clear=function(){o&&(clearTimeout(o),o=null)},l.debounceNextCall=function(d){s=d},l}U.throttle=t,U.createOrUpdate=function M(D,b,y,h){var n=D[b];if(n){var c=n[i]||n;if(n[T]!==y||n[w]!==h){if(null==y||!h)return D[b]=c;(n=D[b]=t(c,y,"debounce"===h))[i]=c,n[w]=h,n[T]=y}return n}},U.clear=function I(D,b){var y=D[b];y&&y[i]&&(D[b]=y[i])}},24023:(j,U,i)=>{var w=i(66615).each,t=i(29367),M=i(96012),I=i(78789),D=i(21617),b=i(32694),h=i(96381).createTask,n=i(79104),c=D.makeInner(),o=n();function a(){this.group=new t,this.uid=M.getUID("viewChart"),this.renderTask=h({plan:r,reset:l}),this.renderTask.context={view:this}}var u=a.prototype={type:"chart",init:function(f,p){},render:function(f,p,S,C){},highlight:function(f,p,S,C){s(f.getData(),C,"emphasis")},downplay:function(f,p,S,C){s(f.getData(),C,"normal")},remove:function(f,p){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};function e(f,p,S){if(f&&(f.trigger(p,S),f.isGroup&&!b.isHighDownDispatcher(f)))for(var C=0,x=f.childCount();C<x;C++)e(f.childAt(C),p,S)}function s(f,p,S){var C=D.queryDataIndex(f,p),x=p&&null!=p.highlightKey?b.getHighlightDigit(p.highlightKey):null;null!=C?w(D.normalizeToArray(C),function(g){e(f.getItemGraphicEl(g),S,x)}):f.eachItemGraphicEl(function(g){e(g,S,x)})}function r(f){return o(f.model)}function l(f){var p=f.model,S=f.ecModel,C=f.api,x=f.payload,g=p.pipelineContext.progressiveRender,m=f.view,A=x&&c(x).updateMethod,L=g?"incrementalPrepareRender":A&&m[A]?A:"render";return"render"!==L&&m[L](p,S,C,x),d[L]}u.updateView=u.updateLayout=u.updateVisual=function(f,p,S,C){this.render(f,p,S,C)},I.enableClassExtend(a,["dispose"]),I.enableClassManagement(a,{registerWhenExtend:!0}),a.markUpdateMethod=function(f,p){c(f).updateMethod=p};var d={incrementalPrepareRender:{progress:function(f,p){p.view.incrementalRender(f,p.model,p.ecModel,p.api,p.payload)}},render:{forceFirstProgress:!0,progress:function(f,p){p.view.render(p.model,p.ecModel,p.api,p.payload)}}};j.exports=a},83785:(j,U,i)=>{var T=i(29367),w=i(96012),t=i(78789),M=function(){this.group=new T,this.uid=w.getUID("viewComponent")},I=M.prototype={constructor:M,init:function(b,y){},render:function(b,y,h,n){},dispose:function(){},filterForExposedEvent:null};I.updateView=I.updateLayout=I.updateVisual=function(b,y,h,n){},t.enableClassExtend(M),t.enableClassManagement(M,{registerWhenExtend:!0}),j.exports=M},9736:j=>{j.exports=function U(T,w){this.getAllNames=function(){var t=w();return t.mapArray(t.getName)},this.containName=function(t){return w().indexOfName(t)>=0},this.indexOfName=function(t){return T().indexOfName(t)},this.getItemVisual=function(t,M){return T().getItemVisual(t,M)}}},60111:(j,U,i)=>{var T=i(66615),w=i(10754),M=i(68301).linearMap,I=T.each,D=T.isObject,b=-1,y=function(C){var x=C.mappingMethod,g=C.type,m=this.option=T.clone(C);this.type=g,this.mappingMethod=x,this._normalizeData=f[x];var A=h[g];this.applyVisual=A.applyVisual,this.getColorMapper=A.getColorMapper,this._doMap=A._doMap[x],"piecewise"===x?(o(m),function n(C){var x=C.pieceList;C.hasSpecialVisual=!1,T.each(x,function(g,m){g.originIndex=m,null!=g.visual&&(C.hasSpecialVisual=!0)})}(m)):"category"===x?m.categories?function c(C){var x=C.categories,g=C.visual,m=C.categoryMap={};if(I(x,function(E,N){m[E]=N}),!T.isArray(g)){var A=[];T.isObject(g)?I(g,function(E,N){A[m[N]??b]=E}):A[b]=g,g=v(C,A)}for(var L=x.length-1;L>=0;L--)null==g[L]&&(delete m[x[L]],x.pop())}(m):o(m,!0):(T.assert("linear"!==x||m.dataExtent),o(m))};y.prototype={constructor:y,mapValueToVisual:function(C){var x=this._normalizeData(C);return this._doMap(x,C)},getNormalizer:function(){return T.bind(this._normalizeData,this)}};var h=y.visualHandlers={color:{applyVisual:e("color"),getColorMapper:function(){var C=this.option;return T.bind("category"===C.mappingMethod?function(x,g){return!g&&(x=this._normalizeData(x)),s.call(this,x)}:function(x,g,m){var A=!!m;return!g&&(x=this._normalizeData(x)),m=w.fastLerp(x,C.parsedVisual,m),A?m:w.stringify(m,"rgba")},this)},_doMap:{linear:function(C){return w.stringify(w.fastLerp(C,this.option.parsedVisual),"rgba")},category:s,piecewise:function(C,x){var g=d.call(this,x);return null==g&&(g=w.stringify(w.fastLerp(C,this.option.parsedVisual),"rgba")),g},fixed:r}},colorHue:a(function(C,x){return w.modifyHSL(C,x)}),colorSaturation:a(function(C,x){return w.modifyHSL(C,null,x)}),colorLightness:a(function(C,x){return w.modifyHSL(C,null,null,x)}),colorAlpha:a(function(C,x){return w.modifyAlpha(C,x)}),opacity:{applyVisual:e("opacity"),_doMap:l([0,1])},liftZ:{applyVisual:e("liftZ"),_doMap:{linear:r,category:r,piecewise:r,fixed:r}},symbol:{applyVisual:function(C,x,g){var m=this.mapValueToVisual(C);if(T.isString(m))g("symbol",m);else if(D(m))for(var A in m)m.hasOwnProperty(A)&&g(A,m[A])},_doMap:{linear:u,category:s,piecewise:function(C,x){var g=d.call(this,x);return null==g&&(g=u.call(this,C)),g},fixed:r}},symbolSize:{applyVisual:e("symbolSize"),_doMap:l([0,1])}};function o(C,x){var g=C.visual,m=[];T.isObject(g)?I(g,function(L){m.push(L)}):null!=g&&m.push(g),!x&&1===m.length&&!{color:1,symbol:1}.hasOwnProperty(C.type)&&(m[1]=m[0]),v(C,m)}function a(C){return{applyVisual:function(x,g,m){x=this.mapValueToVisual(x),m("color",C(g("color"),x))},_doMap:l([0,1])}}function u(C){var x=this.option.visual;return x[Math.round(M(C,[0,1],[0,x.length-1],!0))]||{}}function e(C){return function(x,g,m){m(C,this.mapValueToVisual(x))}}function s(C){var x=this.option.visual;return x[this.option.loop&&C!==b?C%x.length:C]}function r(){return this.option.visual[0]}function l(C){return{linear:function(x){return M(x,C,this.option.visual,!0)},category:s,piecewise:function(x,g){var m=d.call(this,g);return null==m&&(m=M(x,C,this.option.visual,!0)),m},fixed:r}}function d(C){var x=this.option,g=x.pieceList;if(x.hasSpecialVisual){var A=g[y.findPieceIndex(C,g)];if(A&&A.visual)return A.visual[this.type]}}function v(C,x){return C.visual=x,"color"===C.type&&(C.parsedVisual=T.map(x,function(g){return w.parse(g)})),x}var f={linear:function(C){return M(C,this.option.dataExtent,[0,1],!0)},piecewise:function(C){var x=this.option.pieceList,g=y.findPieceIndex(C,x,!0);if(null!=g)return M(g,[0,x.length-1],[0,1],!0)},category:function(C){return(this.option.categories?this.option.categoryMap[C]:C)??b},fixed:T.noop};function p(C,x,g){return C?x<=g:x<g}y.listVisualTypes=function(){var C=[];return T.each(h,function(x,g){C.push(g)}),C},y.addVisualHandler=function(C,x){h[C]=x},y.isValidType=function(C){return h.hasOwnProperty(C)},y.eachVisual=function(C,x,g){T.isObject(C)?T.each(C,x,g):x.call(g,C)},y.mapVisual=function(C,x,g){var m,A=T.isArray(C)?[]:T.isObject(C)?{}:(m=!0,null);return y.eachVisual(C,function(L,E){var N=x.call(g,L,E);m?A=N:A[E]=N}),A},y.retrieveVisuals=function(C){var g,x={};return C&&I(h,function(m,A){C.hasOwnProperty(A)&&(x[A]=C[A],g=!0)}),g?x:null},y.prepareVisualTypes=function(C){if(D(C)){var x=[];I(C,function(g,m){x.push(m)}),C=x}else{if(!T.isArray(C))return[];C=C.slice()}return C.sort(function(g,m){return"color"===m&&"color"!==g&&0===g.indexOf("color")?1:-1}),C},y.dependsOn=function(C,x){return"color"===x?!(!C||0!==C.indexOf(x)):C===x},y.findPieceIndex=function(C,x,g){for(var m,A=1/0,L=0,E=x.length;L<E;L++){var N=x[L].value;if(null!=N){if(N===C||"string"==typeof N&&N===C+"")return L;g&&B(N,L)}}for(L=0,E=x.length;L<E;L++){var R=x[L],F=R.interval,H=R.close;if(F){if(F[0]===-1/0){if(p(H[1],C,F[1]))return L}else if(F[1]===1/0){if(p(H[0],F[0],C))return L}else if(p(H[0],F[0],C)&&p(H[1],C,F[1]))return L;g&&B(F[0],L),g&&B(F[1],L)}}if(g)return C===1/0?x.length-1:C===-1/0?0:m;function B(Z,W){var $=Math.abs(Z-C);$<A&&(A=$,m=W)}},j.exports=y},42240:(j,U,i)=>{var T=i(66615),w=i(3494),M=i(54727).retrieveRawValue;j.exports=function I(D,b){var y=b.getModel("aria");if(y.get("show"))if(y.get("description"))D.setAttribute("aria-label",y.get("description"));else{var h=0;b.eachSeries(function(f,p){++h},this);var a,n=y.get("data.maxCount")||10,c=y.get("series.maxCount")||10,o=Math.min(h,c);if(!(h<1)){var u=function d(){var f=b.getModel("title").option;return f&&f.length&&(f=f[0]),f&&f.text}();a=u?r(l("general.withTitle"),{title:u}):l("general.withoutTitle");var e=[];a+=r(l(h>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:h}),b.eachSeries(function(f,p){if(p<o){var S,C=f.get("name"),x="series."+(h>1?"multiple":"single")+".";S=r(S=l(C?x+"withName":x+"withoutName"),{seriesId:f.seriesIndex,seriesName:f.get("name"),seriesType:v(f.subType)});var g=f.getData();window.data=g,g.count()>n?S+=r(l("data.partialData"),{displayCnt:n}):S+=l("data.allData");for(var m=[],A=0;A<g.count();A++)if(A<n){var L=g.getName(A),E=M(g,A);m.push(r(l(L?"data.withName":"data.withoutName"),{name:L,value:E}))}S+=m.join(l("data.separator.middle"))+l("data.separator.end"),e.push(S)}}),a+=e.join(l("series.multiple.separator.middle"))+l("series.multiple.separator.end"),D.setAttribute("aria-label",a)}}function r(f,p){if("string"!=typeof f)return f;var S=f;return T.each(p,function(C,x){S=S.replace(new RegExp("\\{\\s*"+x+"\\s*\\}","g"),C)}),S}function l(f){var p=y.get(f);if(null==p){for(var S=f.split("."),C=w.aria,x=0;x<S.length;++x)C=C[S[x]];return C}return p}function v(f){return w.series.typeNames[f]||"\u81ea\u5b9a\u4e49\u56fe"}}},86051:(j,U,i)=>{var w=i(66615).createHashMap;j.exports=function t(M){return{getTargetSeries:function(I){var D={},b=w();return I.eachSeriesByType(M,function(y){y.__paletteScope=D,b.set(y.uid,y)}),b},reset:function(I,D){var b=I.getRawData(),y={},h=I.getData();h.each(function(n){var c=h.getRawIndex(n);y[c]=n}),b.each(function(n){var u,c=y[n],o=null!=c&&h.getItemVisual(c,"color",!0),a=null!=c&&h.getItemVisual(c,"borderColor",!0);if((!o||!a)&&(u=b.getItemModel(n)),!o){var e=u.get("itemStyle.color")||I.getColorFromPalette(b.getName(n)||n+"",I.__paletteScope,b.count());null!=c&&h.setItemVisual(c,"color",e)}if(!a){var s=u.get("itemStyle.borderColor");null!=c&&h.setItemVisual(c,"borderColor",s)}})}}}},94110:(j,U,i)=>{var T=i(40808),t=i(66615).isFunction;j.exports={createOnAllSeries:!0,performRawSeries:!0,reset:function(I,D){var b=I.getData(),y=(I.visualColorAccessPath||"itemStyle.color").split("."),h=I.get(y),n=!t(h)||h instanceof T?null:h;(!h||n)&&(h=I.getColorFromPalette(I.name,null,D.getSeriesCount())),b.setVisual("color",h);var c=(I.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),o=I.get(c);if(b.setVisual("borderColor",o),!D.isSeriesFiltered(I))return n&&b.each(function(u){b.setItemVisual(u,"color",n(I.getDataParams(u)))}),{dataEach:b.hasItemOption?function(u,e){var s=u.getItemModel(e),r=s.get(y,!0),l=s.get(c,!0);null!=r&&u.setItemVisual(e,"color",r),null!=l&&u.setItemVisual(e,"borderColor",l)}:null}}}},39141:(j,U,i)=>{var w=i(66615).isFunction;j.exports=function t(M,I,D){return{seriesType:M,performRawSeries:!0,reset:function(b,y,h){var n=b.getData(),c=b.get("symbol"),o=b.get("symbolSize"),a=b.get("symbolKeepAspect"),u=b.get("symbolRotate"),e=w(c),s=w(o),r=w(u),l=e||s||r,d=!e&&c?c:I;if(n.setVisual({legendSymbol:D||d,symbol:d,symbolSize:s?null:o,symbolKeepAspect:a,symbolRotate:u}),!y.isSeriesFiltered(b))return{dataEach:n.hasItemOption||l?function p(S,C){if(l){var x=b.getRawValue(C),g=b.getDataParams(C);e&&S.setItemVisual(C,"symbol",c(x,g)),s&&S.setItemVisual(C,"symbolSize",o(x,g)),r&&S.setItemVisual(C,"symbolRotate",u(x,g))}if(S.hasItemOption){var m=S.getItemModel(C),A=m.getShallow("symbol",!0),L=m.getShallow("symbolSize",!0),E=m.getShallow("symbolRotate",!0),N=m.getShallow("symbolKeepAspect",!0);null!=A&&S.setItemVisual(C,"symbol",A),null!=L&&S.setItemVisual(C,"symbolSize",L),null!=E&&S.setItemVisual(C,"symbolRotate",E),null!=N&&S.setItemVisual(C,"symbolKeepAspect",N)}}:null}}}}},56815:(j,U,i)=>{var T=i(66615),w={get:function(I,D,b){var y=T.clone((t[I]||{})[D]);return b&&T.isArray(y)?y[y.length-1]:y}},t={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};j.exports=w},18494:(j,U,i)=>{var T=i(66615),w=i(60111),t=T.each;function M(h){if(h)for(var n in h)if(h.hasOwnProperty(n))return!0}U.createVisualMappings=function I(h,n,c){var o={};return t(n,function(u){var e=o[u]=function a(){var u=function(){};return u.prototype.__hidden=u.prototype,new u}();t(h[u],function(s,r){if(w.isValidType(r)){var l={type:r,visual:s};c&&c(l,u),e[r]=new w(l),"opacity"===r&&((l=T.clone(l)).type="colorAlpha",e.__hidden.__alphaForOpacity=new w(l))}})}),o},U.replaceVisualOption=function D(h,n,c){var o;T.each(c,function(a){n.hasOwnProperty(a)&&M(n[a])&&(o=!0)}),o&&T.each(c,function(a){n.hasOwnProperty(a)&&M(n[a])?h[a]=T.clone(n[a]):delete h[a]})},U.applyVisual=function b(h,n,c,o,a,u){var s,e={};function r(v){return c.getItemVisual(s,v)}function l(v,f){c.setItemVisual(s,v,f)}function d(v,f){var p=c.getRawDataItem(s=null==u?v:f);if(!p||!1!==p.visualMap)for(var S=o.call(a,v),C=n[S],x=e[S],g=0,m=x.length;g<m;g++){var A=x[g];C[A]&&C[A].applyVisual(v,r,l)}}T.each(h,function(v){var f=w.prepareVisualTypes(n[v]);e[v]=f}),null==u?c.each(d):c.each([u],d)},U.incrementalApplyVisual=function y(h,n,c,o){var a={};return T.each(h,function(e){var s=w.prepareVisualTypes(n[e]);a[e]=s}),{progress:function u(e,s){function r(A){return s.getItemVisual(d,A)}function l(A,L){s.setItemVisual(d,A,L)}null!=o&&(o=s.getDimension(o));for(var d;null!=(d=e.next());){var v=s.getRawDataItem(d);if(!v||!1!==v.visualMap)for(var f=null!=o?s.get(o,d,!0):d,p=c(f),S=n[p],C=a[p],x=0,g=C.length;x<g;x++){var m=C[x];S[m]&&S[m].applyVisual(f,r,l)}}}}}},17489:function(j,U,i){var T;j=i.nmd(j),function(){var w,M=200,D="Expected a function",y="__lodash_hash_undefined__",n="__lodash_placeholder__",c=1,o=2,a=4,u=1,e=2,s=1,r=2,l=4,d=8,v=16,f=32,p=64,S=128,C=256,x=512,A=800,L=16,F=1/0,H=9007199254740991,B=17976931348623157e292,Z=NaN,W=4294967295,$=W-1,Y=W>>>1,V=[["ary",S],["bind",s],["bindKey",r],["curry",d],["curryRight",v],["flip",x],["partial",f],["partialRight",p],["rearg",C]],z="[object Arguments]",k="[object Array]",X="[object AsyncFunction]",q="[object Boolean]",et="[object Date]",rt="[object DOMException]",it="[object Error]",lt="[object Function]",dt="[object GeneratorFunction]",ht="[object Map]",gt="[object Number]",at="[object Null]",ut="[object Object]",Ct="[object Promise]",_t="[object Proxy]",bt="[object RegExp]",Rt="[object Set]",yt="[object String]",Tt="[object Symbol]",Pt="[object Undefined]",Zt="[object WeakMap]",ft="[object ArrayBuffer]",xt="[object DataView]",wt="[object Float32Array]",Nt="[object Float64Array]",Ot="[object Int8Array]",It="[object Int16Array]",Ft="[object Int32Array]",Jt="[object Uint8Array]",qt="[object Uint8ClampedArray]",te="[object Uint16Array]",se="[object Uint32Array]",ge=/\b__p \+= '';/g,Ce=/\b(__p \+=) '' \+/g,Se=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Be=/&(?:amp|lt|gt|quot|#39);/g,ze=/[&<>"']/g,ue=RegExp(Be.source),he=RegExp(ze.source),Ie=/<%-([\s\S]+?)%>/g,we=/<%([\s\S]+?)%>/g,Ae=/<%=([\s\S]+?)%>/g,Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rr=/^\w*$/,vr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ae=/[\\^$.*+?()[\]{}|]/g,ar=RegExp(ae.source),Je=/^\s+/,He=/\s/,tr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pt=/\{\n\/\* \[wrapped with (.+)\] \*/,Mt=/,? & /,kt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ht=/[()=,{}\[\]\/\s]/,Qt=/\\(\\)?/g,ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Re=/\w*$/,De=/^[-+]0x[0-9a-f]+$/i,ke=/^0b[01]+$/i,je=/^\[object .+?Constructor\]$/,or=/^0o[0-7]+$/i,zr=/^(?:0|[1-9]\d*)$/,Dr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mr=/($^)/,qr=/['\n\r\u2028\u2029\\]/g,_r="\\ud800-\\udfff",oi="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",si="\\u2700-\\u27bf",li="a-z\\xdf-\\xf6\\xf8-\\xff",ui="A-Z\\xc0-\\xd6\\xd8-\\xde",Mn="\\ufe0e\\ufe0f",mt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ut="["+_r+"]",Kt="["+mt+"]",$t="["+oi+"]",jt="\\d+",ee="["+si+"]",le="["+li+"]",re="[^"+_r+mt+jt+si+li+ui+"]",pe="\\ud83c[\\udffb-\\udfff]",Te="[^"+_r+"]",Qe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ze="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+ui+"]",gn="(?:"+le+"|"+re+")",Cr="(?:"+qe+"|"+re+")",pn="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",In="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",tn="(?:"+$t+"|"+pe+")?",ha="["+Mn+"]?",da=ha+tn+"(?:\\u200d(?:"+[Te,Qe,Ze].join("|")+")"+ha+tn+")*",fo="(?:"+[ee,Qe,Ze].join("|")+")"+da,vo="(?:"+[Te+$t+"?",$t,Qe,Ze,Ut].join("|")+")",go=RegExp("['\u2019]","g"),po=RegExp($t,"g"),Zi=RegExp(pe+"(?="+pe+")|"+vo+da,"g"),mo=RegExp([qe+"?"+le+"+"+pn+"(?="+[Kt,qe,"$"].join("|")+")",Cr+"+"+In+"(?="+[Kt,qe+gn,"$"].join("|")+")",qe+"?"+gn+"+"+pn,qe+"+"+In,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jt,fo].join("|"),"g"),yo=RegExp("[\\u200d"+_r+oi+Mn+"]"),xo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_o=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Co=-1,Xe={};Xe[wt]=Xe[Nt]=Xe[Ot]=Xe[It]=Xe[Ft]=Xe[Jt]=Xe[qt]=Xe[te]=Xe[se]=!0,Xe[z]=Xe[k]=Xe[ft]=Xe[q]=Xe[xt]=Xe[et]=Xe[it]=Xe[lt]=Xe[ht]=Xe[gt]=Xe[ut]=Xe[bt]=Xe[Rt]=Xe[yt]=Xe[Zt]=!1;var Ke={};Ke[z]=Ke[k]=Ke[ft]=Ke[xt]=Ke[q]=Ke[et]=Ke[wt]=Ke[Nt]=Ke[Ot]=Ke[It]=Ke[Ft]=Ke[ht]=Ke[gt]=Ke[ut]=Ke[bt]=Ke[Rt]=Ke[yt]=Ke[Tt]=Ke[Jt]=Ke[qt]=Ke[te]=Ke[se]=!0,Ke[it]=Ke[lt]=Ke[Zt]=!1;var wo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ao=parseFloat,Mo=parseInt,fa="object"==typeof global&&global&&global.Object===Object&&global,Io="object"==typeof self&&self&&self.Object===Object&&self,fr=fa||Io||Function("return this")(),va=U&&!U.nodeType&&U,Gn=va&&j&&!j.nodeType&&j,ga=Gn&&Gn.exports===va,Gi=ga&&fa.process,Pr=function(){try{return Gn&&Gn.require&&Gn.require("util").types||Gi&&Gi.binding&&Gi.binding("util")}catch{}}(),Dn=Pr&&Pr.isArrayBuffer,ci=Pr&&Pr.isDate,hi=Pr&&Pr.isMap,Wi=Pr&&Pr.isRegExp,pa=Pr&&Pr.isSet,ma=Pr&&Pr.isTypedArray;function Sr(Lt,Gt,zt){switch(zt.length){case 0:return Lt.call(Gt);case 1:return Lt.call(Gt,zt[0]);case 2:return Lt.call(Gt,zt[0],zt[1]);case 3:return Lt.call(Gt,zt[0],zt[1],zt[2])}return Lt.apply(Gt,zt)}function Do(Lt,Gt,zt,ie){for(var _e=-1,Ue=null==Lt?0:Lt.length;++_e<Ue;){var er=Lt[_e];Gt(ie,er,zt(er),Lt)}return ie}function Lr(Lt,Gt){for(var zt=-1,ie=null==Lt?0:Lt.length;++zt<ie&&!1!==Gt(Lt[zt],zt,Lt););return Lt}function Po(Lt,Gt){for(var zt=null==Lt?0:Lt.length;zt--&&!1!==Gt(Lt[zt],zt,Lt););return Lt}function di(Lt,Gt){for(var zt=-1,ie=null==Lt?0:Lt.length;++zt<ie;)if(!Gt(Lt[zt],zt,Lt))return!1;return!0}function Yr(Lt,Gt){for(var zt=-1,ie=null==Lt?0:Lt.length,_e=0,Ue=[];++zt<ie;){var er=Lt[zt];Gt(er,zt,Lt)&&(Ue[_e++]=er)}return Ue}function Wn(Lt,Gt){return!(null==Lt||!Lt.length)&&sn(Lt,Gt,0)>-1}function fi(Lt,Gt,zt){for(var ie=-1,_e=null==Lt?0:Lt.length;++ie<_e;)if(zt(Gt,Lt[ie]))return!0;return!1}function $e(Lt,Gt){for(var zt=-1,ie=null==Lt?0:Lt.length,_e=Array(ie);++zt<ie;)_e[zt]=Gt(Lt[zt],zt,Lt);return _e}function wr(Lt,Gt){for(var zt=-1,ie=Gt.length,_e=Lt.length;++zt<ie;)Lt[_e+zt]=Gt[zt];return Lt}function vi(Lt,Gt,zt,ie){var _e=-1,Ue=null==Lt?0:Lt.length;for(ie&&Ue&&(zt=Lt[++_e]);++_e<Ue;)zt=Gt(zt,Lt[_e],_e,Lt);return zt}function ya(Lt,Gt,zt,ie){var _e=null==Lt?0:Lt.length;for(ie&&_e&&(zt=Lt[--_e]);_e--;)zt=Gt(zt,Lt[_e],_e,Lt);return zt}function gi(Lt,Gt){for(var zt=-1,ie=null==Lt?0:Lt.length;++zt<ie;)if(Gt(Lt[zt],zt,Lt))return!0;return!1}var xa=pi("length");function Yi(Lt,Gt,zt){var ie;return zt(Lt,function(_e,Ue,er){if(Gt(_e,Ue,er))return ie=Ue,!1}),ie}function Ji(Lt,Gt,zt,ie){for(var _e=Lt.length,Ue=zt+(ie?1:-1);ie?Ue--:++Ue<_e;)if(Gt(Lt[Ue],Ue,Lt))return Ue;return-1}function sn(Lt,Gt,zt){return Gt==Gt?function La(Lt,Gt,zt){for(var ie=zt-1,_e=Lt.length;++ie<_e;)if(Lt[ie]===Gt)return ie;return-1}(Lt,Gt,zt):Ji(Lt,Yn,zt)}function Sa(Lt,Gt,zt,ie){for(var _e=zt-1,Ue=Lt.length;++_e<Ue;)if(ie(Lt[_e],Gt))return _e;return-1}function Yn(Lt){return Lt!=Lt}function Qi(Lt,Gt){var zt=null==Lt?0:Lt.length;return zt?yi(Lt,Gt)/zt:Z}function pi(Lt){return function(Gt){return null==Gt?w:Gt[Lt]}}function mi(Lt){return function(Gt){return null==Lt?w:Lt[Gt]}}function Pn(Lt,Gt,zt,ie,_e){return _e(Lt,function(Ue,er,Ge){zt=ie?(ie=!1,Ue):Gt(zt,Ue,er,Ge)}),zt}function yi(Lt,Gt){for(var zt,ie=-1,_e=Lt.length;++ie<_e;){var Ue=Gt(Lt[ie]);Ue!==w&&(zt=zt===w?Ue:zt+Ue)}return zt}function xi(Lt,Gt){for(var zt=-1,ie=Array(Lt);++zt<Lt;)ie[zt]=Gt(zt);return ie}function Lo(Lt){return Lt&&Lt.slice(0,Oa(Lt)+1).replace(Je,"")}function br(Lt){return function(Gt){return Lt(Gt)}}function Ki(Lt,Gt){return $e(Gt,function(zt){return Lt[zt]})}function Jn(Lt,Gt){return Lt.has(Gt)}function Xi(Lt,Gt){for(var zt=-1,ie=Lt.length;++zt<ie&&sn(Gt,Lt[zt],0)>-1;);return zt}function $i(Lt,Gt){for(var zt=Lt.length;zt--&&sn(Gt,Lt[zt],0)>-1;);return zt}var Aa=mi({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),sl=mi({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Oo(Lt){return"\\"+wo[Lt]}function mn(Lt){return yo.test(Lt)}function _i(Lt){var Gt=-1,zt=Array(Lt.size);return Lt.forEach(function(ie,_e){zt[++Gt]=[_e,ie]}),zt}function ji(Lt,Gt){return function(zt){return Lt(Gt(zt))}}function en(Lt,Gt){for(var zt=-1,ie=Lt.length,_e=0,Ue=[];++zt<ie;){var er=Lt[zt];(er===Gt||er===n)&&(Lt[zt]=n,Ue[_e++]=zt)}return Ue}function Qn(Lt){var Gt=-1,zt=Array(Lt.size);return Lt.forEach(function(ie){zt[++Gt]=ie}),zt}function Ln(Lt){return mn(Lt)?function Ea(Lt){for(var Gt=Zi.lastIndex=0;Zi.test(Lt);)++Gt;return Gt}(Lt):xa(Lt)}function Hr(Lt){return mn(Lt)?function Ro(Lt){return Lt.match(Zi)||[]}(Lt):function _a(Lt){return Lt.split("")}(Lt)}function Oa(Lt){for(var Gt=Lt.length;Gt--&&He.test(Lt.charAt(Gt)););return Gt}var Eo=mi({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ci=function Lt(Gt){var _,zt=(Gt=null==Gt?fr:Ci.defaults(fr.Object(),Gt,Ci.pick(fr,_o))).Array,ie=Gt.Date,_e=Gt.Error,Ue=Gt.Function,er=Gt.Math,Ge=Gt.Object,qi=Gt.RegExp,No=Gt.String,Or=Gt.TypeError,hr=zt.prototype,kr=Ge.prototype,Vr=Gt["__core-js_shared__"],Si=Ue.prototype.toString,We=kr.hasOwnProperty,Fo=0,Ra=(_=/[^.]+$/.exec(Vr&&Vr.keys&&Vr.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",bi=kr.toString,Bo=Si.call(Ge),zo=fr._,Ho=qi("^"+Si.call(We).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ti=ga?Gt.Buffer:w,ln=Gt.Symbol,wi=Gt.Uint8Array,Na=Ti?Ti.allocUnsafe:w,Ai=ji(Ge.getPrototypeOf,Ge),Fa=Ge.create,Ba=kr.propertyIsEnumerable,Mi=hr.splice,za=ln?ln.isConcatSpreadable:w,Kn=ln?ln.iterator:w,un=ln?ln.toStringTag:w,Ii=function(){try{var _=ri(Ge,"defineProperty");return _({},"",{}),_}catch{}}(),ko=Gt.clearTimeout!==fr.clearTimeout&&Gt.clearTimeout,Vo=ie&&ie.now!==fr.Date.now&&ie.now,Uo=Gt.setTimeout!==fr.setTimeout&&Gt.setTimeout,Di=er.ceil,Pi=er.floor,cn=Ge.getOwnPropertySymbols,Zo=Ti?Ti.isBuffer:w,Ha=Gt.isFinite,Go=hr.join,Wo=ji(Ge.keys,Ge),sr=er.max,gr=er.min,Yo=ie.now,Jo=Gt.parseInt,ka=er.random,Qo=hr.reverse,ea=ri(Gt,"DataView"),Xn=ri(Gt,"Map"),ra=ri(Gt,"Promise"),En=ri(Gt,"Set"),$n=ri(Gt,"WeakMap"),jn=ri(Ge,"create"),Li=$n&&new $n,Rn={},Ko=ni(ea),Xo=ni(Xn),$o=ni(ra),jo=ni(En),qo=ni($n),Oi=ln?ln.prototype:w,qn=Oi?Oi.valueOf:w,Va=Oi?Oi.toString:w;function ct(_){if(ir(_)&&!Me(_)&&!(_ instanceof Ne)){if(_ instanceof Er)return _;if(We.call(_,"__wrapped__"))return lu(_)}return new Er(_)}var Nn=function(){function _(){}return function(O){if(!nr(O))return{};if(Fa)return Fa(O);_.prototype=O;var J=new _;return _.prototype=w,J}}();function Ei(){}function Er(_,O){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!O,this.__index__=0,this.__values__=w}function Ne(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=W,this.__views__=[]}function yn(_){var O=-1,J=null==_?0:_.length;for(this.clear();++O<J;){var nt=_[O];this.set(nt[0],nt[1])}}function rn(_){var O=-1,J=null==_?0:_.length;for(this.clear();++O<J;){var nt=_[O];this.set(nt[0],nt[1])}}function nn(_){var O=-1,J=null==_?0:_.length;for(this.clear();++O<J;){var nt=_[O];this.set(nt[0],nt[1])}}function xn(_){var O=-1,J=null==_?0:_.length;for(this.__data__=new nn;++O<J;)this.add(_[O])}function P(_){var O=this.__data__=new rn(_);this.size=O.size}function ve(_,O){var J=Me(_),nt=!J&&ii(_),st=!J&&!nt&&Un(_),vt=!J&&!nt&&!st&&Bi(_),St=J||nt||st||vt,At=St?xi(_.length,No):[],Et=At.length;for(var Wt in _)(O||We.call(_,Wt))&&(!St||!("length"==Wt||st&&("offset"==Wt||"parent"==Wt)||vt&&("buffer"==Wt||"byteLength"==Wt||"byteOffset"==Wt)||bn(Wt,Et)))&&At.push(Wt);return At}function de(_){var O=_.length;return O?_[Ms(0,O-1)]:w}function lr(_,O){return to(Rr(_),ti(O,0,_.length))}function Fn(_){return to(Rr(_))}function dr(_,O,J){(J!==w&&!an(_[O],J)||J===w&&!(O in _))&&_n(_,O,J)}function Qr(_,O,J){var nt=_[O];(!We.call(_,O)||!an(nt,J)||J===w&&!(O in _))&&_n(_,O,J)}function Bn(_,O){for(var J=_.length;J--;)if(an(_[J][0],O))return J;return-1}function ms(_,O,J,nt){return zn(_,function(st,vt,St){O(nt,st,J(st),St)}),nt}function cl(_,O){return _&&dn(O,pr(O),_)}function _n(_,O,J){"__proto__"==O&&Ii?Ii(_,O,{configurable:!0,enumerable:!0,value:J,writable:!0}):_[O]=J}function ys(_,O){for(var J=-1,nt=O.length,st=zt(nt),vt=null==_;++J<nt;)st[J]=vt?w:js(_,O[J]);return st}function ti(_,O,J){return _==_&&(J!==w&&(_=_<=J?_:J),O!==w&&(_=_>=O?_:O)),_}function Kr(_,O,J,nt,st,vt){var St,At=O&c,Et=O&o,Wt=O&a;if(J&&(St=st?J(_,nt,st,vt):J(_)),St!==w)return St;if(!nr(_))return _;var Yt=Me(_);if(Yt){if(St=function Lc(_){var O=_.length,J=new _.constructor(O);return O&&"string"==typeof _[0]&&We.call(_,"index")&&(J.index=_.index,J.input=_.input),J}(_),!At)return Rr(_,St)}else{var Xt=Tr(_),ne=Xt==lt||Xt==dt;if(Un(_))return Rl(_,At);if(Xt==ut||Xt==z||ne&&!st){if(St=Et||ne?{}:ql(_),!At)return Et?function _c(_,O){return dn(_,$l(_),O)}(_,function Zu(_,O){return _&&dn(O,Fr(O),_)}(St,_)):function xc(_,O){return dn(_,Vs(_),O)}(_,cl(St,_))}else{if(!Ke[Xt])return st?_:{};St=function Oc(_,O,J){var nt=_.constructor;switch(O){case ft:return Rs(_);case q:case et:return new nt(+_);case xt:return function gc(_,O){var J=O?Rs(_.buffer):_.buffer;return new _.constructor(J,_.byteOffset,_.byteLength)}(_,J);case wt:case Nt:case Ot:case It:case Ft:case Jt:case qt:case te:case se:return Nl(_,J);case ht:return new nt;case gt:case yt:return new nt(_);case bt:return function pc(_){var O=new _.constructor(_.source,Re.exec(_));return O.lastIndex=_.lastIndex,O}(_);case Rt:return new nt;case Tt:return function mc(_){return qn?Ge(qn.call(_)):{}}(_)}}(_,Xt,At)}}vt||(vt=new P);var fe=vt.get(_);if(fe)return fe;vt.set(_,St),Iu(_)?_.forEach(function(xe){St.add(Kr(xe,O,J,xe,_,vt))}):Au(_)&&_.forEach(function(xe,Fe){St.set(Fe,Kr(xe,O,J,Fe,_,vt))});var Le=Yt?w:(Wt?Et?zs:Bs:Et?Fr:pr)(_);return Lr(Le||_,function(xe,Fe){Le&&(xe=_[Fe=xe]),Qr(St,Fe,Kr(xe,O,J,Fe,_,vt))}),St}function hl(_,O,J){var nt=J.length;if(null==_)return!nt;for(_=Ge(_);nt--;){var st=J[nt],St=_[st];if(St===w&&!(st in _)||!(0,O[st])(St))return!1}return!0}function dl(_,O,J){if("function"!=typeof _)throw new Or(D);return ua(function(){_.apply(w,J)},O)}function na(_,O,J,nt){var st=-1,vt=Wn,St=!0,At=_.length,Et=[],Wt=O.length;if(!At)return Et;J&&(O=$e(O,br(J))),nt?(vt=fi,St=!1):O.length>=M&&(vt=Jn,St=!1,O=new xn(O));t:for(;++st<At;){var Yt=_[st],Xt=null==J?Yt:J(Yt);if(Yt=nt||0!==Yt?Yt:0,St&&Xt==Xt){for(var ne=Wt;ne--;)if(O[ne]===Xt)continue t;Et.push(Yt)}else vt(O,Xt,nt)||Et.push(Yt)}return Et}ct.templateSettings={escape:Ie,evaluate:we,interpolate:Ae,variable:"",imports:{_:ct}},(ct.prototype=Ei.prototype).constructor=ct,(Er.prototype=Nn(Ei.prototype)).constructor=Er,(Ne.prototype=Nn(Ei.prototype)).constructor=Ne,yn.prototype.clear=function ns(){this.__data__=jn?jn(null):{},this.size=0},yn.prototype.delete=function is(_){var O=this.has(_)&&delete this.__data__[_];return this.size-=O?1:0,O},yn.prototype.get=function as(_){var O=this.__data__;if(jn){var J=O[_];return J===y?w:J}return We.call(O,_)?O[_]:w},yn.prototype.has=function os(_){var O=this.__data__;return jn?O[_]!==w:We.call(O,_)},yn.prototype.set=function ss(_,O){var J=this.__data__;return this.size+=this.has(_)?0:1,J[_]=jn&&O===w?y:O,this},rn.prototype.clear=function ls(){this.__data__=[],this.size=0},rn.prototype.delete=function us(_){var O=this.__data__,J=Bn(O,_);return!(J<0||(J==O.length-1?O.pop():Mi.call(O,J,1),--this.size,0))},rn.prototype.get=function cs(_){var O=this.__data__,J=Bn(O,_);return J<0?w:O[J][1]},rn.prototype.has=function hs(_){return Bn(this.__data__,_)>-1},rn.prototype.set=function ds(_,O){var J=this.__data__,nt=Bn(J,_);return nt<0?(++this.size,J.push([_,O])):J[nt][1]=O,this},nn.prototype.clear=function fs(){this.size=0,this.__data__={hash:new yn,map:new(Xn||rn),string:new yn}},nn.prototype.delete=function vs(_){var O=qa(this,_).delete(_);return this.size-=O?1:0,O},nn.prototype.get=function ul(_){return qa(this,_).get(_)},nn.prototype.has=function gs(_){return qa(this,_).has(_)},nn.prototype.set=function ps(_,O){var J=qa(this,_),nt=J.size;return J.set(_,O),this.size+=J.size==nt?0:1,this},xn.prototype.add=xn.prototype.push=function Q(_){return this.__data__.set(_,y),this},xn.prototype.has=function G(_){return this.__data__.has(_)},P.prototype.clear=function K(){this.__data__=new rn,this.size=0},P.prototype.delete=function tt(_){var O=this.__data__,J=O.delete(_);return this.size=O.size,J},P.prototype.get=function ot(_){return this.__data__.get(_)},P.prototype.has=function Bt(_){return this.__data__.has(_)},P.prototype.set=function oe(_,O){var J=this.__data__;if(J instanceof rn){var nt=J.__data__;if(!Xn||nt.length<M-1)return nt.push([_,O]),this.size=++J.size,this;J=this.__data__=new nn(nt)}return J.set(_,O),this.size=J.size,this};var zn=Hl(hn),fl=Hl(_s,!0);function Wu(_,O){var J=!0;return zn(_,function(nt,st,vt){return J=!!O(nt,st,vt)}),J}function Ua(_,O,J){for(var nt=-1,st=_.length;++nt<st;){var vt=_[nt],St=O(vt);if(null!=St&&(At===w?St==St&&!Zr(St):J(St,At)))var At=St,Et=vt}return Et}function vl(_,O){var J=[];return zn(_,function(nt,st,vt){O(nt,st,vt)&&J.push(nt)}),J}function xr(_,O,J,nt,st){var vt=-1,St=_.length;for(J||(J=Rc),st||(st=[]);++vt<St;){var At=_[vt];O>0&&J(At)?O>1?xr(At,O-1,J,nt,st):wr(st,At):nt||(st[st.length]=At)}return st}var xs=kl(),gl=kl(!0);function hn(_,O){return _&&xs(_,O,pr)}function _s(_,O){return _&&gl(_,O,pr)}function Za(_,O){return Yr(O,function(J){return Tn(_[J])})}function ei(_,O){for(var J=0,nt=(O=kn(O,_)).length;null!=_&&J<nt;)_=_[fn(O[J++])];return J&&J==nt?_:w}function pl(_,O,J){var nt=O(_);return Me(_)?nt:wr(nt,J(_))}function Ar(_){return null==_?_===w?Pt:at:un&&un in Ge(_)?function Ic(_){var O=We.call(_,un),J=_[un];try{_[un]=w;var nt=!0}catch{}var st=bi.call(_);return nt&&(O?_[un]=J:delete _[un]),st}(_):function Vc(_){return bi.call(_)}(_)}function Cs(_,O){return _>O}function Ju(_,O){return null!=_&&We.call(_,O)}function Qu(_,O){return null!=_&&O in Ge(_)}function Ss(_,O,J){for(var nt=J?fi:Wn,st=_[0].length,vt=_.length,St=vt,At=zt(vt),Et=1/0,Wt=[];St--;){var Yt=_[St];St&&O&&(Yt=$e(Yt,br(O))),Et=gr(Yt.length,Et),At[St]=!J&&(O||st>=120&&Yt.length>=120)?new xn(St&&Yt):w}Yt=_[0];var Xt=-1,ne=At[0];t:for(;++Xt<st&&Wt.length<Et;){var fe=Yt[Xt],ye=O?O(fe):fe;if(fe=J||0!==fe?fe:0,!(ne?Jn(ne,ye):nt(Wt,ye,J))){for(St=vt;--St;){var Le=At[St];if(!(Le?Jn(Le,ye):nt(_[St],ye,J)))continue t}ne&&ne.push(ye),Wt.push(fe)}}return Wt}function ia(_,O,J){var nt=null==(_=nu(_,O=kn(O,_)))?_:_[fn($r(O))];return null==nt?w:Sr(nt,_,J)}function ml(_){return ir(_)&&Ar(_)==z}function aa(_,O,J,nt,st){return _===O||(null==_||null==O||!ir(_)&&!ir(O)?_!=_&&O!=O:function qu(_,O,J,nt,st,vt){var St=Me(_),At=Me(O),Et=St?k:Tr(_),Wt=At?k:Tr(O),Yt=(Et=Et==z?ut:Et)==ut,Xt=(Wt=Wt==z?ut:Wt)==ut,ne=Et==Wt;if(ne&&Un(_)){if(!Un(O))return!1;St=!0,Yt=!1}if(ne&&!Yt)return vt||(vt=new P),St||Bi(_)?Xl(_,O,J,nt,st,vt):function Ac(_,O,J,nt,st,vt,St){switch(J){case xt:if(_.byteLength!=O.byteLength||_.byteOffset!=O.byteOffset)return!1;_=_.buffer,O=O.buffer;case ft:return!(_.byteLength!=O.byteLength||!vt(new wi(_),new wi(O)));case q:case et:case gt:return an(+_,+O);case it:return _.name==O.name&&_.message==O.message;case bt:case yt:return _==O+"";case ht:var At=_i;case Rt:if(At||(At=Qn),_.size!=O.size&&!(nt&u))return!1;var Wt=St.get(_);if(Wt)return Wt==O;nt|=e,St.set(_,O);var Yt=Xl(At(_),At(O),nt,st,vt,St);return St.delete(_),Yt;case Tt:if(qn)return qn.call(_)==qn.call(O)}return!1}(_,O,Et,J,nt,st,vt);if(!(J&u)){var fe=Yt&&We.call(_,"__wrapped__"),ye=Xt&&We.call(O,"__wrapped__");if(fe||ye){var Le=fe?_.value():_,xe=ye?O.value():O;return vt||(vt=new P),st(Le,xe,J,nt,vt)}}return!!ne&&(vt||(vt=new P),function Mc(_,O,J,nt,st,vt){var St=J&u,At=Bs(_),Et=At.length;if(Et!=Bs(O).length&&!St)return!1;for(var Xt=Et;Xt--;){var ne=At[Xt];if(!(St?ne in O:We.call(O,ne)))return!1}var fe=vt.get(_),ye=vt.get(O);if(fe&&ye)return fe==O&&ye==_;var Le=!0;vt.set(_,O),vt.set(O,_);for(var xe=St;++Xt<Et;){var Fe=_[ne=At[Xt]],Ve=O[ne];if(nt)var Gr=St?nt(Ve,Fe,ne,O,_,vt):nt(Fe,Ve,ne,_,O,vt);if(!(Gr===w?Fe===Ve||st(Fe,Ve,J,nt,vt):Gr)){Le=!1;break}xe||(xe="constructor"==ne)}if(Le&&!xe){var Ir=_.constructor,Wr=O.constructor;Ir!=Wr&&"constructor"in _&&"constructor"in O&&!("function"==typeof Ir&&Ir instanceof Ir&&"function"==typeof Wr&&Wr instanceof Wr)&&(Le=!1)}return vt.delete(_),vt.delete(O),Le}(_,O,J,nt,st,vt))}(_,O,J,nt,aa,st))}function bs(_,O,J,nt){var st=J.length,vt=st,St=!nt;if(null==_)return!vt;for(_=Ge(_);st--;){var At=J[st];if(St&&At[2]?At[1]!==_[At[0]]:!(At[0]in _))return!1}for(;++st<vt;){var Et=(At=J[st])[0],Wt=_[Et],Yt=At[1];if(St&&At[2]){if(Wt===w&&!(Et in _))return!1}else{var Xt=new P;if(nt)var ne=nt(Wt,Yt,Et,_,O,Xt);if(!(ne===w?aa(Yt,Wt,u|e,nt,Xt):ne))return!1}}return!0}function yl(_){return!(!nr(_)||function Fc(_){return!!Ra&&Ra in _}(_))&&(Tn(_)?Ho:je).test(ni(_))}function xl(_){return"function"==typeof _?_:null==_?Br:"object"==typeof _?Me(_)?Sl(_[0],_[1]):Cl(_):Vu(_)}function Ts(_){if(!la(_))return Wo(_);var O=[];for(var J in Ge(_))We.call(_,J)&&"constructor"!=J&&O.push(J);return O}function ws(_,O){return _<O}function _l(_,O){var J=-1,nt=Nr(_)?zt(_.length):[];return zn(_,function(st,vt,St){nt[++J]=O(st,vt,St)}),nt}function Cl(_){var O=ks(_);return 1==O.length&&O[0][2]?eu(O[0][0],O[0][1]):function(J){return J===_||bs(J,_,O)}}function Sl(_,O){return Us(_)&&tu(O)?eu(fn(_),O):function(J){var nt=js(J,_);return nt===w&&nt===O?qs(J,_):aa(O,nt,u|e)}}function Ga(_,O,J,nt,st){_!==O&&xs(O,function(vt,St){if(st||(st=new P),nr(vt))!function ac(_,O,J,nt,st,vt,St){var At=Gs(_,J),Et=Gs(O,J),Wt=St.get(Et);if(Wt)dr(_,J,Wt);else{var Yt=vt?vt(At,Et,J+"",_,O,St):w,Xt=Yt===w;if(Xt){var ne=Me(Et),fe=!ne&&Un(Et),ye=!ne&&!fe&&Bi(Et);Yt=Et,ne||fe||ye?Me(At)?Yt=At:ur(At)?Yt=Rr(At):fe?(Xt=!1,Yt=Rl(Et,!0)):ye?(Xt=!1,Yt=Nl(Et,!0)):Yt=[]:ca(Et)||ii(Et)?(Yt=At,ii(At)?Yt=Lu(At):(!nr(At)||Tn(At))&&(Yt=ql(Et))):Xt=!1}Xt&&(St.set(Et,Yt),st(Yt,Et,nt,vt,St),St.delete(Et)),dr(_,J,Yt)}}(_,O,St,J,Ga,nt,st);else{var At=nt?nt(Gs(_,St),vt,St+"",_,O,st):w;At===w&&(At=vt),dr(_,St,At)}},Fr)}function bl(_,O){var J=_.length;if(J)return bn(O+=O<0?J:0,J)?_[O]:w}function Tl(_,O,J){O=O.length?$e(O,function(vt){return Me(vt)?function(St){return ei(St,1===vt.length?vt[0]:vt)}:vt}):[Br];var nt=-1;return O=$e(O,br(me())),function ba(Lt,Gt){var zt=Lt.length;for(Lt.sort(Gt);zt--;)Lt[zt]=Lt[zt].value;return Lt}(_l(_,function(vt,St,At){return{criteria:$e(O,function(Wt){return Wt(vt)}),index:++nt,value:vt}}),function(vt,St){return function yc(_,O,J){for(var nt=-1,st=_.criteria,vt=O.criteria,St=st.length,At=J.length;++nt<St;){var Et=Fl(st[nt],vt[nt]);if(Et)return nt>=At?Et:Et*("desc"==J[nt]?-1:1)}return _.index-O.index}(vt,St,J)})}function wl(_,O,J){for(var nt=-1,st=O.length,vt={};++nt<st;){var St=O[nt],At=ei(_,St);J(At,St)&&oa(vt,kn(St,_),At)}return vt}function As(_,O,J,nt){var st=nt?Sa:sn,vt=-1,St=O.length,At=_;for(_===O&&(O=Rr(O)),J&&(At=$e(_,br(J)));++vt<St;)for(var Et=0,Wt=O[vt],Yt=J?J(Wt):Wt;(Et=st(At,Yt,Et,nt))>-1;)At!==_&&Mi.call(At,Et,1),Mi.call(_,Et,1);return _}function Al(_,O){for(var J=_?O.length:0,nt=J-1;J--;){var st=O[J];if(J==nt||st!==vt){var vt=st;bn(st)?Mi.call(_,st,1):Ps(_,st)}}return _}function Ms(_,O){return _+Pi(ka()*(O-_+1))}function Is(_,O){var J="";if(!_||O<1||O>H)return J;do{O%2&&(J+=_),(O=Pi(O/2))&&(_+=_)}while(O);return J}function Ee(_,O){return Ws(ru(_,O,Br),_+"")}function uc(_){return de(zi(_))}function cc(_,O){var J=zi(_);return to(J,ti(O,0,J.length))}function oa(_,O,J,nt){if(!nr(_))return _;for(var st=-1,vt=(O=kn(O,_)).length,St=vt-1,At=_;null!=At&&++st<vt;){var Et=fn(O[st]),Wt=J;if("__proto__"===Et||"constructor"===Et||"prototype"===Et)return _;if(st!=St){var Yt=At[Et];(Wt=nt?nt(Yt,Et,At):w)===w&&(Wt=nr(Yt)?Yt:bn(O[st+1])?[]:{})}Qr(At,Et,Wt),At=At[Et]}return _}var Ml=Li?function(_,O){return Li.set(_,O),_}:Br,hc=Ii?function(_,O){return Ii(_,"toString",{configurable:!0,enumerable:!1,value:el(O),writable:!0})}:Br;function dc(_){return to(zi(_))}function Xr(_,O,J){var nt=-1,st=_.length;O<0&&(O=-O>st?0:st+O),(J=J>st?st:J)<0&&(J+=st),st=O>J?0:J-O>>>0,O>>>=0;for(var vt=zt(st);++nt<st;)vt[nt]=_[nt+O];return vt}function fc(_,O){var J;return zn(_,function(nt,st,vt){return!(J=O(nt,st,vt))}),!!J}function Wa(_,O,J){var nt=0,st=null==_?nt:_.length;if("number"==typeof O&&O==O&&st<=Y){for(;nt<st;){var vt=nt+st>>>1,St=_[vt];null!==St&&!Zr(St)&&(J?St<=O:St<O)?nt=vt+1:st=vt}return st}return Ds(_,O,Br,J)}function Ds(_,O,J,nt){var st=0,vt=null==_?0:_.length;if(0===vt)return 0;for(var St=(O=J(O))!=O,At=null===O,Et=Zr(O),Wt=O===w;st<vt;){var Yt=Pi((st+vt)/2),Xt=J(_[Yt]),ne=Xt!==w,fe=null===Xt,ye=Xt==Xt,Le=Zr(Xt);if(St)var xe=nt||ye;else xe=Wt?ye&&(nt||ne):At?ye&&ne&&(nt||!fe):Et?ye&&ne&&!fe&&(nt||!Le):!fe&&!Le&&(nt?Xt<=O:Xt<O);xe?st=Yt+1:vt=Yt}return gr(vt,$)}function Il(_,O){for(var J=-1,nt=_.length,st=0,vt=[];++J<nt;){var St=_[J],At=O?O(St):St;if(!J||!an(At,Et)){var Et=At;vt[st++]=0===St?0:St}}return vt}function Dl(_){return"number"==typeof _?_:Zr(_)?Z:+_}function Ur(_){if("string"==typeof _)return _;if(Me(_))return $e(_,Ur)+"";if(Zr(_))return Va?Va.call(_):"";var O=_+"";return"0"==O&&1/_==-F?"-0":O}function Hn(_,O,J){var nt=-1,st=Wn,vt=_.length,St=!0,At=[],Et=At;if(J)St=!1,st=fi;else if(vt>=M){var Wt=O?null:Tc(_);if(Wt)return Qn(Wt);St=!1,st=Jn,Et=new xn}else Et=O?[]:At;t:for(;++nt<vt;){var Yt=_[nt],Xt=O?O(Yt):Yt;if(Yt=J||0!==Yt?Yt:0,St&&Xt==Xt){for(var ne=Et.length;ne--;)if(Et[ne]===Xt)continue t;O&&Et.push(Xt),At.push(Yt)}else st(Et,Xt,J)||(Et!==At&&Et.push(Xt),At.push(Yt))}return At}function Ps(_,O){return null==(_=nu(_,O=kn(O,_)))||delete _[fn($r(O))]}function Pl(_,O,J,nt){return oa(_,O,J(ei(_,O)),nt)}function Ya(_,O,J,nt){for(var st=_.length,vt=nt?st:-1;(nt?vt--:++vt<st)&&O(_[vt],vt,_););return J?Xr(_,nt?0:vt,nt?vt+1:st):Xr(_,nt?vt+1:0,nt?st:vt)}function Ll(_,O){var J=_;return J instanceof Ne&&(J=J.value()),vi(O,function(nt,st){return st.func.apply(st.thisArg,wr([nt],st.args))},J)}function Ls(_,O,J){var nt=_.length;if(nt<2)return nt?Hn(_[0]):[];for(var st=-1,vt=zt(nt);++st<nt;)for(var St=_[st],At=-1;++At<nt;)At!=st&&(vt[st]=na(vt[st]||St,_[At],O,J));return Hn(xr(vt,1),O,J)}function Ol(_,O,J){for(var nt=-1,st=_.length,vt=O.length,St={};++nt<st;)J(St,_[nt],nt<vt?O[nt]:w);return St}function Os(_){return ur(_)?_:[]}function Es(_){return"function"==typeof _?_:Br}function kn(_,O){return Me(_)?_:Us(_,O)?[_]:su(Ye(_))}var vc=Ee;function Vn(_,O,J){var nt=_.length;return J=J===w?nt:J,!O&&J>=nt?_:Xr(_,O,J)}var El=ko||function(_){return fr.clearTimeout(_)};function Rl(_,O){if(O)return _.slice();var J=_.length,nt=Na?Na(J):new _.constructor(J);return _.copy(nt),nt}function Rs(_){var O=new _.constructor(_.byteLength);return new wi(O).set(new wi(_)),O}function Nl(_,O){var J=O?Rs(_.buffer):_.buffer;return new _.constructor(J,_.byteOffset,_.length)}function Fl(_,O){if(_!==O){var J=_!==w,nt=null===_,st=_==_,vt=Zr(_),St=O!==w,At=null===O,Et=O==O,Wt=Zr(O);if(!At&&!Wt&&!vt&&_>O||vt&&St&&Et&&!At&&!Wt||nt&&St&&Et||!J&&Et||!st)return 1;if(!nt&&!vt&&!Wt&&_<O||Wt&&J&&st&&!nt&&!vt||At&&J&&st||!St&&st||!Et)return-1}return 0}function Bl(_,O,J,nt){for(var st=-1,vt=_.length,St=J.length,At=-1,Et=O.length,Wt=sr(vt-St,0),Yt=zt(Et+Wt),Xt=!nt;++At<Et;)Yt[At]=O[At];for(;++st<St;)(Xt||st<vt)&&(Yt[J[st]]=_[st]);for(;Wt--;)Yt[At++]=_[st++];return Yt}function zl(_,O,J,nt){for(var st=-1,vt=_.length,St=-1,At=J.length,Et=-1,Wt=O.length,Yt=sr(vt-At,0),Xt=zt(Yt+Wt),ne=!nt;++st<Yt;)Xt[st]=_[st];for(var fe=st;++Et<Wt;)Xt[fe+Et]=O[Et];for(;++St<At;)(ne||st<vt)&&(Xt[fe+J[St]]=_[st++]);return Xt}function Rr(_,O){var J=-1,nt=_.length;for(O||(O=zt(nt));++J<nt;)O[J]=_[J];return O}function dn(_,O,J,nt){var st=!J;J||(J={});for(var vt=-1,St=O.length;++vt<St;){var At=O[vt],Et=nt?nt(J[At],_[At],At,J,_):w;Et===w&&(Et=_[At]),st?_n(J,At,Et):Qr(J,At,Et)}return J}function Ja(_,O){return function(J,nt){var st=Me(J)?Do:ms,vt=O?O():{};return st(J,_,me(nt,2),vt)}}function Ri(_){return Ee(function(O,J){var nt=-1,st=J.length,vt=st>1?J[st-1]:w,St=st>2?J[2]:w;for(vt=_.length>3&&"function"==typeof vt?(st--,vt):w,St&&Mr(J[0],J[1],St)&&(vt=st<3?w:vt,st=1),O=Ge(O);++nt<st;){var At=J[nt];At&&_(O,At,nt,vt)}return O})}function Hl(_,O){return function(J,nt){if(null==J)return J;if(!Nr(J))return _(J,nt);for(var st=J.length,vt=O?st:-1,St=Ge(J);(O?vt--:++vt<st)&&!1!==nt(St[vt],vt,St););return J}}function kl(_){return function(O,J,nt){for(var st=-1,vt=Ge(O),St=nt(O),At=St.length;At--;){var Et=St[_?At:++st];if(!1===J(vt[Et],Et,vt))break}return O}}function Vl(_){return function(O){var J=mn(O=Ye(O))?Hr(O):w,nt=J?J[0]:O.charAt(0),st=J?Vn(J,1).join(""):O.slice(1);return nt[_]()+st}}function Ni(_){return function(O){return vi(Hu(zu(O).replace(go,"")),_,"")}}function sa(_){return function(){var O=arguments;switch(O.length){case 0:return new _;case 1:return new _(O[0]);case 2:return new _(O[0],O[1]);case 3:return new _(O[0],O[1],O[2]);case 4:return new _(O[0],O[1],O[2],O[3]);case 5:return new _(O[0],O[1],O[2],O[3],O[4]);case 6:return new _(O[0],O[1],O[2],O[3],O[4],O[5]);case 7:return new _(O[0],O[1],O[2],O[3],O[4],O[5],O[6])}var J=Nn(_.prototype),nt=_.apply(J,O);return nr(nt)?nt:J}}function Ul(_){return function(O,J,nt){var st=Ge(O);if(!Nr(O)){var vt=me(J,3);O=pr(O),J=function(At){return vt(st[At],At,st)}}var St=_(O,J,nt);return St>-1?st[vt?O[St]:St]:w}}function Zl(_){return Sn(function(O){var J=O.length,nt=J,st=Er.prototype.thru;for(_&&O.reverse();nt--;){var vt=O[nt];if("function"!=typeof vt)throw new Or(D);if(st&&!St&&"wrapper"==ja(vt))var St=new Er([],!0)}for(nt=St?nt:J;++nt<J;){var At=ja(vt=O[nt]),Et="wrapper"==At?Hs(vt):w;St=Et&&Zs(Et[0])&&Et[1]==(S|d|f|C)&&!Et[4].length&&1==Et[9]?St[ja(Et[0])].apply(St,Et[3]):1==vt.length&&Zs(vt)?St[At]():St.thru(vt)}return function(){var Wt=arguments,Yt=Wt[0];if(St&&1==Wt.length&&Me(Yt))return St.plant(Yt).value();for(var Xt=0,ne=J?O[Xt].apply(this,Wt):Yt;++Xt<J;)ne=O[Xt].call(this,ne);return ne}})}function Qa(_,O,J,nt,st,vt,St,At,Et,Wt){var Yt=O&S,Xt=O&s,ne=O&r,fe=O&(d|v),ye=O&x,Le=ne?w:sa(_);return function xe(){for(var Fe=arguments.length,Ve=zt(Fe),Gr=Fe;Gr--;)Ve[Gr]=arguments[Gr];if(fe)var Ir=Fi(xe),Wr=function wa(Lt,Gt){for(var zt=Lt.length,ie=0;zt--;)Lt[zt]===Gt&&++ie;return ie}(Ve,Ir);if(nt&&(Ve=Bl(Ve,nt,st,fe)),vt&&(Ve=zl(Ve,vt,St,fe)),Fe-=Wr,fe&&Fe<Wt){var cr=en(Ve,Ir);return Yl(_,O,Qa,xe.placeholder,J,Ve,cr,At,Et,Wt-Fe)}var on=Xt?J:this,An=ne?on[_]:_;return Fe=Ve.length,At?Ve=function Uc(_,O){for(var J=_.length,nt=gr(O.length,J),st=Rr(_);nt--;){var vt=O[nt];_[nt]=bn(vt,J)?st[vt]:w}return _}(Ve,At):ye&&Fe>1&&Ve.reverse(),Yt&&Et<Fe&&(Ve.length=Et),this&&this!==fr&&this instanceof xe&&(An=Le||sa(An)),An.apply(on,Ve)}}function Gl(_,O){return function(J,nt){return function Xu(_,O,J,nt){return hn(_,function(st,vt,St){O(nt,J(st),vt,St)}),nt}(J,_,O(nt),{})}}function Ka(_,O){return function(J,nt){var st;if(J===w&&nt===w)return O;if(J!==w&&(st=J),nt!==w){if(st===w)return nt;"string"==typeof J||"string"==typeof nt?(J=Ur(J),nt=Ur(nt)):(J=Dl(J),nt=Dl(nt)),st=_(J,nt)}return st}}function Ns(_){return Sn(function(O){return O=$e(O,br(me())),Ee(function(J){var nt=this;return _(O,function(st){return Sr(st,nt,J)})})})}function Xa(_,O){var J=(O=O===w?" ":Ur(O)).length;if(J<2)return J?Is(O,_):O;var nt=Is(O,Di(_/Ln(O)));return mn(O)?Vn(Hr(nt),0,_).join(""):nt.slice(0,_)}function Wl(_){return function(O,J,nt){return nt&&"number"!=typeof nt&&Mr(O,J,nt)&&(J=nt=w),O=wn(O),J===w?(J=O,O=0):J=wn(J),function lc(_,O,J,nt){for(var st=-1,vt=sr(Di((O-_)/(J||1)),0),St=zt(vt);vt--;)St[nt?vt:++st]=_,_+=J;return St}(O,J,nt=nt===w?O<J?1:-1:wn(nt),_)}}function $a(_){return function(O,J){return"string"==typeof O&&"string"==typeof J||(O=jr(O),J=jr(J)),_(O,J)}}function Yl(_,O,J,nt,st,vt,St,At,Et,Wt){var Yt=O&d;O|=Yt?f:p,(O&=~(Yt?p:f))&l||(O&=~(s|r));var Le=[_,O,st,Yt?vt:w,Yt?St:w,Yt?w:vt,Yt?w:St,At,Et,Wt],xe=J.apply(w,Le);return Zs(_)&&iu(xe,Le),xe.placeholder=nt,au(xe,_,O)}function Fs(_){var O=er[_];return function(J,nt){if(J=jr(J),(nt=null==nt?0:gr(Pe(nt),292))&&Ha(J)){var st=(Ye(J)+"e").split("e");return+((st=(Ye(O(st[0]+"e"+(+st[1]+nt)))+"e").split("e"))[0]+"e"+(+st[1]-nt))}return O(J)}}var Tc=En&&1/Qn(new En([,-0]))[1]==F?function(_){return new En(_)}:il;function Jl(_){return function(O){var J=Tr(O);return J==ht?_i(O):J==Rt?function Pa(Lt){var Gt=-1,zt=Array(Lt.size);return Lt.forEach(function(ie){zt[++Gt]=[ie,ie]}),zt}(O):function Ta(Lt,Gt){return $e(Gt,function(zt){return[zt,Lt[zt]]})}(O,_(O))}}function Cn(_,O,J,nt,st,vt,St,At){var Et=O&r;if(!Et&&"function"!=typeof _)throw new Or(D);var Wt=nt?nt.length:0;if(Wt||(O&=~(f|p),nt=st=w),St=St===w?St:sr(Pe(St),0),At=At===w?At:Pe(At),Wt-=st?st.length:0,O&p){var Yt=nt,Xt=st;nt=st=w}var ne=Et?w:Hs(_),fe=[_,O,J,nt,st,Yt,Xt,vt,St,At];if(ne&&function Hc(_,O){var J=_[1],nt=O[1],st=J|nt;if(!(st<(s|r|S))&&!(nt==S&&J==d||nt==S&&J==C&&_[7].length<=O[8]||nt==(S|C)&&O[7].length<=O[8]&&J==d))return _;nt&s&&(_[2]=O[2],st|=J&s?0:l);var At=O[3];if(At){var Et=_[3];_[3]=Et?Bl(Et,At,O[4]):At,_[4]=Et?en(_[3],n):O[4]}(At=O[5])&&(_[5]=(Et=_[5])?zl(Et,At,O[6]):At,_[6]=Et?en(_[5],n):O[6]),(At=O[7])&&(_[7]=At),nt&S&&(_[8]=null==_[8]?O[8]:gr(_[8],O[8])),null==_[9]&&(_[9]=O[9]),_[0]=O[0],_[1]=st}(fe,ne),_=fe[0],O=fe[1],J=fe[2],nt=fe[3],st=fe[4],!(At=fe[9]=fe[9]===w?Et?0:_.length:sr(fe[9]-Wt,0))&&O&(d|v)&&(O&=~(d|v)),O&&O!=s)ye=O==d||O==v?function Sc(_,O,J){var nt=sa(_);return function st(){for(var vt=arguments.length,St=zt(vt),At=vt,Et=Fi(st);At--;)St[At]=arguments[At];var Wt=vt<3&&St[0]!==Et&&St[vt-1]!==Et?[]:en(St,Et);return(vt-=Wt.length)<J?Yl(_,O,Qa,st.placeholder,w,St,Wt,w,w,J-vt):Sr(this&&this!==fr&&this instanceof st?nt:_,this,St)}}(_,O,At):O!=f&&O!=(s|f)||st.length?Qa.apply(w,fe):function bc(_,O,J,nt){var st=O&s,vt=sa(_);return function St(){for(var At=-1,Et=arguments.length,Wt=-1,Yt=nt.length,Xt=zt(Yt+Et),ne=this&&this!==fr&&this instanceof St?vt:_;++Wt<Yt;)Xt[Wt]=nt[Wt];for(;Et--;)Xt[Wt++]=arguments[++At];return Sr(ne,st?J:this,Xt)}}(_,O,J,nt);else var ye=function Cc(_,O,J){var nt=O&s,st=sa(_);return function vt(){return(this&&this!==fr&&this instanceof vt?st:_).apply(nt?J:this,arguments)}}(_,O,J);return au((ne?Ml:iu)(ye,fe),_,O)}function Ql(_,O,J,nt){return _===w||an(_,kr[J])&&!We.call(nt,J)?O:_}function Kl(_,O,J,nt,st,vt){return nr(_)&&nr(O)&&(vt.set(O,_),Ga(_,O,w,Kl,vt),vt.delete(O)),_}function wc(_){return ca(_)?w:_}function Xl(_,O,J,nt,st,vt){var St=J&u,At=_.length,Et=O.length;if(At!=Et&&!(St&&Et>At))return!1;var Wt=vt.get(_),Yt=vt.get(O);if(Wt&&Yt)return Wt==O&&Yt==_;var Xt=-1,ne=!0,fe=J&e?new xn:w;for(vt.set(_,O),vt.set(O,_);++Xt<At;){var ye=_[Xt],Le=O[Xt];if(nt)var xe=St?nt(Le,ye,Xt,O,_,vt):nt(ye,Le,Xt,_,O,vt);if(xe!==w){if(xe)continue;ne=!1;break}if(fe){if(!gi(O,function(Fe,Ve){if(!Jn(fe,Ve)&&(ye===Fe||st(ye,Fe,J,nt,vt)))return fe.push(Ve)})){ne=!1;break}}else if(ye!==Le&&!st(ye,Le,J,nt,vt)){ne=!1;break}}return vt.delete(_),vt.delete(O),ne}function Sn(_){return Ws(ru(_,w,hu),_+"")}function Bs(_){return pl(_,pr,Vs)}function zs(_){return pl(_,Fr,$l)}var Hs=Li?function(_){return Li.get(_)}:il;function ja(_){for(var O=_.name+"",J=Rn[O],nt=We.call(Rn,O)?J.length:0;nt--;){var st=J[nt],vt=st.func;if(null==vt||vt==_)return st.name}return O}function Fi(_){return(We.call(ct,"placeholder")?ct:_).placeholder}function me(){var _=ct.iteratee||rl;return _=_===rl?xl:_,arguments.length?_(arguments[0],arguments[1]):_}function qa(_,O){var J=_.__data__;return function Nc(_){var O=typeof _;return"string"==O||"number"==O||"symbol"==O||"boolean"==O?"__proto__"!==_:null===_}(O)?J["string"==typeof O?"string":"hash"]:J.map}function ks(_){for(var O=pr(_),J=O.length;J--;){var nt=O[J],st=_[nt];O[J]=[nt,st,tu(st)]}return O}function ri(_,O){var J=function Ma(Lt,Gt){return null==Lt?w:Lt[Gt]}(_,O);return yl(J)?J:w}var Vs=cn?function(_){return null==_?[]:(_=Ge(_),Yr(cn(_),function(O){return Ba.call(_,O)}))}:al,$l=cn?function(_){for(var O=[];_;)wr(O,Vs(_)),_=Ai(_);return O}:al,Tr=Ar;function jl(_,O,J){for(var nt=-1,st=(O=kn(O,_)).length,vt=!1;++nt<st;){var St=fn(O[nt]);if(!(vt=null!=_&&J(_,St)))break;_=_[St]}return vt||++nt!=st?vt:!!(st=null==_?0:_.length)&&oo(st)&&bn(St,st)&&(Me(_)||ii(_))}function ql(_){return"function"!=typeof _.constructor||la(_)?{}:Nn(Ai(_))}function Rc(_){return Me(_)||ii(_)||!!(za&&_&&_[za])}function bn(_,O){var J=typeof _;return!!(O=O??H)&&("number"==J||"symbol"!=J&&zr.test(_))&&_>-1&&_%1==0&&_<O}function Mr(_,O,J){if(!nr(J))return!1;var nt=typeof O;return!!("number"==nt?Nr(J)&&bn(O,J.length):"string"==nt&&O in J)&&an(J[O],_)}function Us(_,O){if(Me(_))return!1;var J=typeof _;return!("number"!=J&&"symbol"!=J&&"boolean"!=J&&null!=_&&!Zr(_))||rr.test(_)||!Oe.test(_)||null!=O&&_ in Ge(O)}function Zs(_){var O=ja(_),J=ct[O];if("function"!=typeof J||!(O in Ne.prototype))return!1;if(_===J)return!0;var nt=Hs(J);return!!nt&&_===nt[0]}(ea&&Tr(new ea(new ArrayBuffer(1)))!=xt||Xn&&Tr(new Xn)!=ht||ra&&Tr(ra.resolve())!=Ct||En&&Tr(new En)!=Rt||$n&&Tr(new $n)!=Zt)&&(Tr=function(_){var O=Ar(_),J=O==ut?_.constructor:w,nt=J?ni(J):"";if(nt)switch(nt){case Ko:return xt;case Xo:return ht;case $o:return Ct;case jo:return Rt;case qo:return Zt}return O});var Bc=Vr?Tn:ol;function la(_){var O=_&&_.constructor;return _===("function"==typeof O&&O.prototype||kr)}function tu(_){return _==_&&!nr(_)}function eu(_,O){return function(J){return null!=J&&J[_]===O&&(O!==w||_ in Ge(J))}}function ru(_,O,J){return O=sr(O===w?_.length-1:O,0),function(){for(var nt=arguments,st=-1,vt=sr(nt.length-O,0),St=zt(vt);++st<vt;)St[st]=nt[O+st];st=-1;for(var At=zt(O+1);++st<O;)At[st]=nt[st];return At[O]=J(St),Sr(_,this,At)}}function nu(_,O){return O.length<2?_:ei(_,Xr(O,0,-1))}function Gs(_,O){if(("constructor"!==O||"function"!=typeof _[O])&&"__proto__"!=O)return _[O]}var iu=ou(Ml),ua=Uo||function(_,O){return fr.setTimeout(_,O)},Ws=ou(hc);function au(_,O,J){var nt=O+"";return Ws(_,function Ec(_,O){var J=O.length;if(!J)return _;var nt=J-1;return O[nt]=(J>1?"& ":"")+O[nt],O=O.join(J>2?", ":" "),_.replace(tr,"{\n/* [wrapped with "+O+"] */\n")}(nt,function Zc(_,O){return Lr(V,function(J){var nt="_."+J[0];O&J[1]&&!Wn(_,nt)&&_.push(nt)}),_.sort()}(function Pc(_){var O=_.match(pt);return O?O[1].split(Mt):[]}(nt),J)))}function ou(_){var O=0,J=0;return function(){var nt=Yo(),st=L-(nt-J);if(J=nt,st>0){if(++O>=A)return arguments[0]}else O=0;return _.apply(w,arguments)}}function to(_,O){var J=-1,nt=_.length,st=nt-1;for(O=O===w?nt:O;++J<O;){var vt=Ms(J,st),St=_[vt];_[vt]=_[J],_[J]=St}return _.length=O,_}var su=function zc(_){var O=io(_,function(nt){return 500===J.size&&J.clear(),nt}),J=O.cache;return O}(function(_){var O=[];return 46===_.charCodeAt(0)&&O.push(""),_.replace(vr,function(J,nt,st,vt){O.push(st?vt.replace(Qt,"$1"):nt||J)}),O});function fn(_){if("string"==typeof _||Zr(_))return _;var O=_+"";return"0"==O&&1/_==-F?"-0":O}function ni(_){if(null!=_){try{return Si.call(_)}catch{}try{return _+""}catch{}}return""}function lu(_){if(_ instanceof Ne)return _.clone();var O=new Er(_.__wrapped__,_.__chain__);return O.__actions__=Rr(_.__actions__),O.__index__=_.__index__,O.__values__=_.__values__,O}var Jc=Ee(function(_,O){return ur(_)?na(_,xr(O,1,ur,!0)):[]}),Qc=Ee(function(_,O){var J=$r(O);return ur(J)&&(J=w),ur(_)?na(_,xr(O,1,ur,!0),me(J,2)):[]}),Kc=Ee(function(_,O){var J=$r(O);return ur(J)&&(J=w),ur(_)?na(_,xr(O,1,ur,!0),w,J):[]});function uu(_,O,J){var nt=null==_?0:_.length;if(!nt)return-1;var st=null==J?0:Pe(J);return st<0&&(st=sr(nt+st,0)),Ji(_,me(O,3),st)}function cu(_,O,J){var nt=null==_?0:_.length;if(!nt)return-1;var st=nt-1;return J!==w&&(st=Pe(J),st=J<0?sr(nt+st,0):gr(st,nt-1)),Ji(_,me(O,3),st,!0)}function hu(_){return null!=_&&_.length?xr(_,1):[]}function du(_){return _&&_.length?_[0]:w}var oh=Ee(function(_){var O=$e(_,Os);return O.length&&O[0]===_[0]?Ss(O):[]}),sh=Ee(function(_){var O=$r(_),J=$e(_,Os);return O===$r(J)?O=w:J.pop(),J.length&&J[0]===_[0]?Ss(J,me(O,2)):[]}),lh=Ee(function(_){var O=$r(_),J=$e(_,Os);return(O="function"==typeof O?O:w)&&J.pop(),J.length&&J[0]===_[0]?Ss(J,w,O):[]});function $r(_){var O=null==_?0:_.length;return O?_[O-1]:w}var dh=Ee(fu);function fu(_,O){return _&&_.length&&O&&O.length?As(_,O):_}var gh=Sn(function(_,O){var J=null==_?0:_.length,nt=ys(_,O);return Al(_,$e(O,function(st){return bn(st,J)?+st:st}).sort(Fl)),nt});function Ys(_){return null==_?_:Qo.call(_)}var Lh=Ee(function(_){return Hn(xr(_,1,ur,!0))}),Oh=Ee(function(_){var O=$r(_);return ur(O)&&(O=w),Hn(xr(_,1,ur,!0),me(O,2))}),Eh=Ee(function(_){var O=$r(_);return O="function"==typeof O?O:w,Hn(xr(_,1,ur,!0),w,O)});function Js(_){if(!_||!_.length)return[];var O=0;return _=Yr(_,function(J){if(ur(J))return O=sr(J.length,O),!0}),xi(O,function(J){return $e(_,pi(J))})}function vu(_,O){if(!_||!_.length)return[];var J=Js(_);return null==O?J:$e(J,function(nt){return Sr(O,w,nt)})}var Bh=Ee(function(_,O){return ur(_)?na(_,O):[]}),zh=Ee(function(_){return Ls(Yr(_,ur))}),Hh=Ee(function(_){var O=$r(_);return ur(O)&&(O=w),Ls(Yr(_,ur),me(O,2))}),kh=Ee(function(_){var O=$r(_);return O="function"==typeof O?O:w,Ls(Yr(_,ur),w,O)}),Vh=Ee(Js),Gh=Ee(function(_){var O=_.length,J=O>1?_[O-1]:w;return J="function"==typeof J?(_.pop(),J):w,vu(_,J)});function gu(_){var O=ct(_);return O.__chain__=!0,O}function eo(_,O){return O(_)}var Yh=Sn(function(_){var O=_.length,J=O?_[0]:0,nt=this.__wrapped__,st=function(vt){return ys(vt,_)};return!(O>1||this.__actions__.length)&&nt instanceof Ne&&bn(J)?((nt=nt.slice(J,+J+(O?1:0))).__actions__.push({func:eo,args:[st],thisArg:w}),new Er(nt,this.__chain__).thru(function(vt){return O&&!vt.length&&vt.push(w),vt})):this.thru(st)}),td=Ja(function(_,O,J){We.call(_,J)?++_[J]:_n(_,J,1)}),nd=Ul(uu),id=Ul(cu);function pu(_,O){return(Me(_)?Lr:zn)(_,me(O,3))}function mu(_,O){return(Me(_)?Po:fl)(_,me(O,3))}var ld=Ja(function(_,O,J){We.call(_,J)?_[J].push(O):_n(_,J,[O])}),cd=Ee(function(_,O,J){var nt=-1,st="function"==typeof O,vt=Nr(_)?zt(_.length):[];return zn(_,function(St){vt[++nt]=st?Sr(O,St,J):ia(St,O,J)}),vt}),hd=Ja(function(_,O,J){_n(_,J,O)});function ro(_,O){return(Me(_)?$e:_l)(_,me(O,3))}var fd=Ja(function(_,O,J){_[J?0:1].push(O)},function(){return[[],[]]}),Sd=Ee(function(_,O){if(null==_)return[];var J=O.length;return J>1&&Mr(_,O[0],O[1])?O=[]:J>2&&Mr(O[0],O[1],O[2])&&(O=[O[0]]),Tl(_,xr(O,1),[])}),no=Vo||function(){return fr.Date.now()};function yu(_,O,J){return O=J?w:O,Cn(_,S,w,w,w,w,O=_&&null==O?_.length:O)}function xu(_,O){var J;if("function"!=typeof O)throw new Or(D);return _=Pe(_),function(){return--_>0&&(J=O.apply(this,arguments)),_<=1&&(O=w),J}}var Qs=Ee(function(_,O,J){var nt=s;if(J.length){var st=en(J,Fi(Qs));nt|=f}return Cn(_,nt,O,J,st)}),_u=Ee(function(_,O,J){var nt=s|r;if(J.length){var st=en(J,Fi(_u));nt|=f}return Cn(O,nt,_,J,st)});function bu(_,O,J){var nt,st,vt,St,At,Et,Wt=0,Yt=!1,Xt=!1,ne=!0;if("function"!=typeof _)throw new Or(D);function fe(cr){var on=nt,An=st;return nt=st=w,Wt=cr,St=_.apply(An,on)}function xe(cr){var on=cr-Et;return Et===w||on>=O||on<0||Xt&&cr-Wt>=vt}function Fe(){var cr=no();if(xe(cr))return Ve(cr);At=ua(Fe,function Le(cr){var Uu=O-(cr-Et);return Xt?gr(Uu,vt-(cr-Wt)):Uu}(cr))}function Ve(cr){return At=w,ne&&nt?fe(cr):(nt=st=w,St)}function Wr(){var cr=no(),on=xe(cr);if(nt=arguments,st=this,Et=cr,on){if(At===w)return function ye(cr){return Wt=cr,At=ua(Fe,O),Yt?fe(cr):St}(Et);if(Xt)return El(At),At=ua(Fe,O),fe(Et)}return At===w&&(At=ua(Fe,O)),St}return O=jr(O)||0,nr(J)&&(Yt=!!J.leading,vt=(Xt="maxWait"in J)?sr(jr(J.maxWait)||0,O):vt,ne="trailing"in J?!!J.trailing:ne),Wr.cancel=function Gr(){At!==w&&El(At),Wt=0,nt=Et=st=At=w},Wr.flush=function Ir(){return At===w?St:Ve(no())},Wr}var Td=Ee(function(_,O){return dl(_,1,O)}),wd=Ee(function(_,O,J){return dl(_,jr(O)||0,J)});function io(_,O){if("function"!=typeof _||null!=O&&"function"!=typeof O)throw new Or(D);var J=function(){var nt=arguments,st=O?O.apply(this,nt):nt[0],vt=J.cache;if(vt.has(st))return vt.get(st);var St=_.apply(this,nt);return J.cache=vt.set(st,St)||vt,St};return J.cache=new(io.Cache||nn),J}function ao(_){if("function"!=typeof _)throw new Or(D);return function(){var O=arguments;switch(O.length){case 0:return!_.call(this);case 1:return!_.call(this,O[0]);case 2:return!_.call(this,O[0],O[1]);case 3:return!_.call(this,O[0],O[1],O[2])}return!_.apply(this,O)}}io.Cache=nn;var Id=vc(function(_,O){var J=(O=1==O.length&&Me(O[0])?$e(O[0],br(me())):$e(xr(O,1),br(me()))).length;return Ee(function(nt){for(var st=-1,vt=gr(nt.length,J);++st<vt;)nt[st]=O[st].call(this,nt[st]);return Sr(_,this,nt)})}),Ks=Ee(function(_,O){var J=en(O,Fi(Ks));return Cn(_,f,w,O,J)}),Tu=Ee(function(_,O){var J=en(O,Fi(Tu));return Cn(_,p,w,O,J)}),Dd=Sn(function(_,O){return Cn(_,C,w,w,w,O)});function an(_,O){return _===O||_!=_&&O!=O}var Vd=$a(Cs),Ud=$a(function(_,O){return _>=O}),ii=ml(function(){return arguments}())?ml:function(_){return ir(_)&&We.call(_,"callee")&&!Ba.call(_,"callee")},Me=zt.isArray,Zd=Dn?br(Dn):function $u(_){return ir(_)&&Ar(_)==ft};function Nr(_){return null!=_&&oo(_.length)&&!Tn(_)}function ur(_){return ir(_)&&Nr(_)}var Un=Zo||ol,Wd=ci?br(ci):function ju(_){return ir(_)&&Ar(_)==et};function Xs(_){if(!ir(_))return!1;var O=Ar(_);return O==it||O==rt||"string"==typeof _.message&&"string"==typeof _.name&&!ca(_)}function Tn(_){if(!nr(_))return!1;var O=Ar(_);return O==lt||O==dt||O==X||O==_t}function wu(_){return"number"==typeof _&&_==Pe(_)}function oo(_){return"number"==typeof _&&_>-1&&_%1==0&&_<=H}function nr(_){var O=typeof _;return null!=_&&("object"==O||"function"==O)}function ir(_){return null!=_&&"object"==typeof _}var Au=hi?br(hi):function tc(_){return ir(_)&&Tr(_)==ht};function Mu(_){return"number"==typeof _||ir(_)&&Ar(_)==gt}function ca(_){if(!ir(_)||Ar(_)!=ut)return!1;var O=Ai(_);if(null===O)return!0;var J=We.call(O,"constructor")&&O.constructor;return"function"==typeof J&&J instanceof J&&Si.call(J)==Bo}var $s=Wi?br(Wi):function ec(_){return ir(_)&&Ar(_)==bt},Iu=pa?br(pa):function rc(_){return ir(_)&&Tr(_)==Rt};function so(_){return"string"==typeof _||!Me(_)&&ir(_)&&Ar(_)==yt}function Zr(_){return"symbol"==typeof _||ir(_)&&Ar(_)==Tt}var Bi=ma?br(ma):function nc(_){return ir(_)&&oo(_.length)&&!!Xe[Ar(_)]},lf=$a(ws),uf=$a(function(_,O){return _<=O});function Du(_){if(!_)return[];if(Nr(_))return so(_)?Hr(_):Rr(_);if(Kn&&_[Kn])return function Da(Lt){for(var Gt,zt=[];!(Gt=Lt.next()).done;)zt.push(Gt.value);return zt}(_[Kn]());var O=Tr(_);return(O==ht?_i:O==Rt?Qn:zi)(_)}function wn(_){return _?(_=jr(_))===F||_===-F?(_<0?-1:1)*B:_==_?_:0:0===_?_:0}function Pe(_){var O=wn(_),J=O%1;return O==O?J?O-J:O:0}function Pu(_){return _?ti(Pe(_),0,W):0}function jr(_){if("number"==typeof _)return _;if(Zr(_))return Z;if(nr(_)){var O="function"==typeof _.valueOf?_.valueOf():_;_=nr(O)?O+"":O}if("string"!=typeof _)return 0===_?_:+_;_=Lo(_);var J=ke.test(_);return J||or.test(_)?Mo(_.slice(2),J?2:8):De.test(_)?Z:+_}function Lu(_){return dn(_,Fr(_))}function Ye(_){return null==_?"":Ur(_)}var hf=Ri(function(_,O){if(la(O)||Nr(O))dn(O,pr(O),_);else for(var J in O)We.call(O,J)&&Qr(_,J,O[J])}),Ou=Ri(function(_,O){dn(O,Fr(O),_)}),lo=Ri(function(_,O,J,nt){dn(O,Fr(O),_,nt)}),df=Ri(function(_,O,J,nt){dn(O,pr(O),_,nt)}),ff=Sn(ys),gf=Ee(function(_,O){_=Ge(_);var J=-1,nt=O.length,st=nt>2?O[2]:w;for(st&&Mr(O[0],O[1],st)&&(nt=1);++J<nt;)for(var vt=O[J],St=Fr(vt),At=-1,Et=St.length;++At<Et;){var Wt=St[At],Yt=_[Wt];(Yt===w||an(Yt,kr[Wt])&&!We.call(_,Wt))&&(_[Wt]=vt[Wt])}return _}),pf=Ee(function(_){return _.push(w,Kl),Sr(Eu,w,_)});function js(_,O,J){var nt=null==_?w:ei(_,O);return nt===w?J:nt}function qs(_,O){return null!=_&&jl(_,O,Qu)}var Af=Gl(function(_,O,J){null!=O&&"function"!=typeof O.toString&&(O=bi.call(O)),_[O]=J},el(Br)),Mf=Gl(function(_,O,J){null!=O&&"function"!=typeof O.toString&&(O=bi.call(O)),We.call(_,O)?_[O].push(J):_[O]=[J]},me),If=Ee(ia);function pr(_){return Nr(_)?ve(_):Ts(_)}function Fr(_){return Nr(_)?ve(_,!0):function ic(_){if(!nr(_))return function kc(_){var O=[];if(null!=_)for(var J in Ge(_))O.push(J);return O}(_);var O=la(_),J=[];for(var nt in _)"constructor"==nt&&(O||!We.call(_,nt))||J.push(nt);return J}(_)}var Lf=Ri(function(_,O,J){Ga(_,O,J)}),Eu=Ri(function(_,O,J,nt){Ga(_,O,J,nt)}),Of=Sn(function(_,O){var J={};if(null==_)return J;var nt=!1;O=$e(O,function(vt){return vt=kn(vt,_),nt||(nt=vt.length>1),vt}),dn(_,zs(_),J),nt&&(J=Kr(J,c|o|a,wc));for(var st=O.length;st--;)Ps(J,O[st]);return J}),Rf=Sn(function(_,O){return null==_?{}:function oc(_,O){return wl(_,O,function(J,nt){return qs(_,nt)})}(_,O)});function Ru(_,O){if(null==_)return{};var J=$e(zs(_),function(nt){return[nt]});return O=me(O),wl(_,J,function(nt,st){return O(nt,st[0])})}var Nu=Jl(pr),Fu=Jl(Fr);function zi(_){return null==_?[]:Ki(_,pr(_))}var Yf=Ni(function(_,O,J){return O=O.toLowerCase(),_+(J?Bu(O):O)});function Bu(_){return tl(Ye(_).toLowerCase())}function zu(_){return(_=Ye(_))&&_.replace(Dr,Aa).replace(po,"")}var Xf=Ni(function(_,O,J){return _+(J?"-":"")+O.toLowerCase()}),$f=Ni(function(_,O,J){return _+(J?" ":"")+O.toLowerCase()}),jf=Vl("toLowerCase"),av=Ni(function(_,O,J){return _+(J?"_":"")+O.toLowerCase()}),sv=Ni(function(_,O,J){return _+(J?" ":"")+tl(O)}),mv=Ni(function(_,O,J){return _+(J?" ":"")+O.toUpperCase()}),tl=Vl("toUpperCase");function Hu(_,O,J){return _=Ye(_),(O=J?w:O)===w?function Ia(Lt){return xo.test(Lt)}(_)?function Jr(Lt){return Lt.match(mo)||[]}(_):function Ca(Lt){return Lt.match(kt)||[]}(_):_.match(O)||[]}var ku=Ee(function(_,O){try{return Sr(_,w,O)}catch(J){return Xs(J)?J:new _e(J)}}),yv=Sn(function(_,O){return Lr(O,function(J){J=fn(J),_n(_,J,Qs(_[J],_))}),_});function el(_){return function(){return _}}var Sv=Zl(),bv=Zl(!0);function Br(_){return _}function rl(_){return xl("function"==typeof _?_:Kr(_,c))}var Av=Ee(function(_,O){return function(J){return ia(J,_,O)}}),Mv=Ee(function(_,O){return function(J){return ia(_,J,O)}});function nl(_,O,J){var nt=pr(O),st=Za(O,nt);null==J&&(!nr(O)||!st.length&&nt.length)&&(J=O,O=_,_=this,st=Za(O,pr(O)));var vt=!(nr(J)&&"chain"in J&&!J.chain),St=Tn(_);return Lr(st,function(At){var Et=O[At];_[At]=Et,St&&(_.prototype[At]=function(){var Wt=this.__chain__;if(vt||Wt){var Yt=_(this.__wrapped__);return(Yt.__actions__=Rr(this.__actions__)).push({func:Et,args:arguments,thisArg:_}),Yt.__chain__=Wt,Yt}return Et.apply(_,wr([this.value()],arguments))})}),_}function il(){}var Pv=Ns($e),Lv=Ns(di),Ov=Ns(gi);function Vu(_){return Us(_)?pi(fn(_)):function sc(_){return function(O){return ei(O,_)}}(_)}var Rv=Wl(),Nv=Wl(!0);function al(){return[]}function ol(){return!1}var Uv=Ka(function(_,O){return _+O},0),Zv=Fs("ceil"),Gv=Ka(function(_,O){return _/O},1),Wv=Fs("floor"),jv=Ka(function(_,O){return _*O},1),qv=Fs("round"),tg=Ka(function(_,O){return _-O},0);return ct.after=function bd(_,O){if("function"!=typeof O)throw new Or(D);return _=Pe(_),function(){if(--_<1)return O.apply(this,arguments)}},ct.ary=yu,ct.assign=hf,ct.assignIn=Ou,ct.assignInWith=lo,ct.assignWith=df,ct.at=ff,ct.before=xu,ct.bind=Qs,ct.bindAll=yv,ct.bindKey=_u,ct.castArray=function Nd(){if(!arguments.length)return[];var _=arguments[0];return Me(_)?_:[_]},ct.chain=gu,ct.chunk=function Gc(_,O,J){O=(J?Mr(_,O,J):O===w)?1:sr(Pe(O),0);var nt=null==_?0:_.length;if(!nt||O<1)return[];for(var st=0,vt=0,St=zt(Di(nt/O));st<nt;)St[vt++]=Xr(_,st,st+=O);return St},ct.compact=function Wc(_){for(var O=-1,J=null==_?0:_.length,nt=0,st=[];++O<J;){var vt=_[O];vt&&(st[nt++]=vt)}return st},ct.concat=function Yc(){var _=arguments.length;if(!_)return[];for(var O=zt(_-1),J=arguments[0],nt=_;nt--;)O[nt-1]=arguments[nt];return wr(Me(J)?Rr(J):[J],xr(O,1))},ct.cond=function xv(_){var O=null==_?0:_.length,J=me();return _=O?$e(_,function(nt){if("function"!=typeof nt[1])throw new Or(D);return[J(nt[0]),nt[1]]}):[],Ee(function(nt){for(var st=-1;++st<O;){var vt=_[st];if(Sr(vt[0],this,nt))return Sr(vt[1],this,nt)}})},ct.conforms=function _v(_){return function Gu(_){var O=pr(_);return function(J){return hl(J,_,O)}}(Kr(_,c))},ct.constant=el,ct.countBy=td,ct.create=function vf(_,O){var J=Nn(_);return null==O?J:cl(J,O)},ct.curry=function Cu(_,O,J){var nt=Cn(_,d,w,w,w,w,w,O=J?w:O);return nt.placeholder=Cu.placeholder,nt},ct.curryRight=function Su(_,O,J){var nt=Cn(_,v,w,w,w,w,w,O=J?w:O);return nt.placeholder=Su.placeholder,nt},ct.debounce=bu,ct.defaults=gf,ct.defaultsDeep=pf,ct.defer=Td,ct.delay=wd,ct.difference=Jc,ct.differenceBy=Qc,ct.differenceWith=Kc,ct.drop=function Xc(_,O,J){var nt=null==_?0:_.length;return nt?Xr(_,(O=J||O===w?1:Pe(O))<0?0:O,nt):[]},ct.dropRight=function $c(_,O,J){var nt=null==_?0:_.length;return nt?Xr(_,0,(O=nt-(O=J||O===w?1:Pe(O)))<0?0:O):[]},ct.dropRightWhile=function jc(_,O){return _&&_.length?Ya(_,me(O,3),!0,!0):[]},ct.dropWhile=function qc(_,O){return _&&_.length?Ya(_,me(O,3),!0):[]},ct.fill=function th(_,O,J,nt){var st=null==_?0:_.length;return st?(J&&"number"!=typeof J&&Mr(_,O,J)&&(J=0,nt=st),function Yu(_,O,J,nt){var st=_.length;for((J=Pe(J))<0&&(J=-J>st?0:st+J),(nt=nt===w||nt>st?st:Pe(nt))<0&&(nt+=st),nt=J>nt?0:Pu(nt);J<nt;)_[J++]=O;return _}(_,O,J,nt)):[]},ct.filter=function rd(_,O){return(Me(_)?Yr:vl)(_,me(O,3))},ct.flatMap=function ad(_,O){return xr(ro(_,O),1)},ct.flatMapDeep=function od(_,O){return xr(ro(_,O),F)},ct.flatMapDepth=function sd(_,O,J){return J=J===w?1:Pe(J),xr(ro(_,O),J)},ct.flatten=hu,ct.flattenDeep=function eh(_){return null!=_&&_.length?xr(_,F):[]},ct.flattenDepth=function rh(_,O){return null!=_&&_.length?xr(_,O=O===w?1:Pe(O)):[]},ct.flip=function Ad(_){return Cn(_,x)},ct.flow=Sv,ct.flowRight=bv,ct.fromPairs=function nh(_){for(var O=-1,J=null==_?0:_.length,nt={};++O<J;){var st=_[O];nt[st[0]]=st[1]}return nt},ct.functions=function bf(_){return null==_?[]:Za(_,pr(_))},ct.functionsIn=function Tf(_){return null==_?[]:Za(_,Fr(_))},ct.groupBy=ld,ct.initial=function ah(_){return null!=_&&_.length?Xr(_,0,-1):[]},ct.intersection=oh,ct.intersectionBy=sh,ct.intersectionWith=lh,ct.invert=Af,ct.invertBy=Mf,ct.invokeMap=cd,ct.iteratee=rl,ct.keyBy=hd,ct.keys=pr,ct.keysIn=Fr,ct.map=ro,ct.mapKeys=function Df(_,O){var J={};return O=me(O,3),hn(_,function(nt,st,vt){_n(J,O(nt,st,vt),nt)}),J},ct.mapValues=function Pf(_,O){var J={};return O=me(O,3),hn(_,function(nt,st,vt){_n(J,st,O(nt,st,vt))}),J},ct.matches=function Tv(_){return Cl(Kr(_,c))},ct.matchesProperty=function wv(_,O){return Sl(_,Kr(O,c))},ct.memoize=io,ct.merge=Lf,ct.mergeWith=Eu,ct.method=Av,ct.methodOf=Mv,ct.mixin=nl,ct.negate=ao,ct.nthArg=function Dv(_){return _=Pe(_),Ee(function(O){return bl(O,_)})},ct.omit=Of,ct.omitBy=function Ef(_,O){return Ru(_,ao(me(O)))},ct.once=function Md(_){return xu(2,_)},ct.orderBy=function dd(_,O,J,nt){return null==_?[]:(Me(O)||(O=null==O?[]:[O]),Me(J=nt?w:J)||(J=null==J?[]:[J]),Tl(_,O,J))},ct.over=Pv,ct.overArgs=Id,ct.overEvery=Lv,ct.overSome=Ov,ct.partial=Ks,ct.partialRight=Tu,ct.partition=fd,ct.pick=Rf,ct.pickBy=Ru,ct.property=Vu,ct.propertyOf=function Ev(_){return function(O){return null==_?w:ei(_,O)}},ct.pull=dh,ct.pullAll=fu,ct.pullAllBy=function fh(_,O,J){return _&&_.length&&O&&O.length?As(_,O,me(J,2)):_},ct.pullAllWith=function vh(_,O,J){return _&&_.length&&O&&O.length?As(_,O,w,J):_},ct.pullAt=gh,ct.range=Rv,ct.rangeRight=Nv,ct.rearg=Dd,ct.reject=function pd(_,O){return(Me(_)?Yr:vl)(_,ao(me(O,3)))},ct.remove=function ph(_,O){var J=[];if(!_||!_.length)return J;var nt=-1,st=[],vt=_.length;for(O=me(O,3);++nt<vt;){var St=_[nt];O(St,nt,_)&&(J.push(St),st.push(nt))}return Al(_,st),J},ct.rest=function Pd(_,O){if("function"!=typeof _)throw new Or(D);return Ee(_,O=O===w?O:Pe(O))},ct.reverse=Ys,ct.sampleSize=function yd(_,O,J){return O=(J?Mr(_,O,J):O===w)?1:Pe(O),(Me(_)?lr:cc)(_,O)},ct.set=function Ff(_,O,J){return null==_?_:oa(_,O,J)},ct.setWith=function Bf(_,O,J,nt){return nt="function"==typeof nt?nt:w,null==_?_:oa(_,O,J,nt)},ct.shuffle=function xd(_){return(Me(_)?Fn:dc)(_)},ct.slice=function mh(_,O,J){var nt=null==_?0:_.length;return nt?(J&&"number"!=typeof J&&Mr(_,O,J)?(O=0,J=nt):(O=null==O?0:Pe(O),J=J===w?nt:Pe(J)),Xr(_,O,J)):[]},ct.sortBy=Sd,ct.sortedUniq=function Th(_){return _&&_.length?Il(_):[]},ct.sortedUniqBy=function wh(_,O){return _&&_.length?Il(_,me(O,2)):[]},ct.split=function ov(_,O,J){return J&&"number"!=typeof J&&Mr(_,O,J)&&(O=J=w),(J=J===w?W:J>>>0)?(_=Ye(_))&&("string"==typeof O||null!=O&&!$s(O))&&!(O=Ur(O))&&mn(_)?Vn(Hr(_),0,J):_.split(O,J):[]},ct.spread=function Ld(_,O){if("function"!=typeof _)throw new Or(D);return O=null==O?0:sr(Pe(O),0),Ee(function(J){var nt=J[O],st=Vn(J,0,O);return nt&&wr(st,nt),Sr(_,this,st)})},ct.tail=function Ah(_){var O=null==_?0:_.length;return O?Xr(_,1,O):[]},ct.take=function Mh(_,O,J){return _&&_.length?Xr(_,0,(O=J||O===w?1:Pe(O))<0?0:O):[]},ct.takeRight=function Ih(_,O,J){var nt=null==_?0:_.length;return nt?Xr(_,(O=nt-(O=J||O===w?1:Pe(O)))<0?0:O,nt):[]},ct.takeRightWhile=function Dh(_,O){return _&&_.length?Ya(_,me(O,3),!1,!0):[]},ct.takeWhile=function Ph(_,O){return _&&_.length?Ya(_,me(O,3)):[]},ct.tap=function Wh(_,O){return O(_),_},ct.throttle=function Od(_,O,J){var nt=!0,st=!0;if("function"!=typeof _)throw new Or(D);return nr(J)&&(nt="leading"in J?!!J.leading:nt,st="trailing"in J?!!J.trailing:st),bu(_,O,{leading:nt,maxWait:O,trailing:st})},ct.thru=eo,ct.toArray=Du,ct.toPairs=Nu,ct.toPairsIn=Fu,ct.toPath=function kv(_){return Me(_)?$e(_,fn):Zr(_)?[_]:Rr(su(Ye(_)))},ct.toPlainObject=Lu,ct.transform=function zf(_,O,J){var nt=Me(_),st=nt||Un(_)||Bi(_);if(O=me(O,4),null==J){var vt=_&&_.constructor;J=st?nt?new vt:[]:nr(_)&&Tn(vt)?Nn(Ai(_)):{}}return(st?Lr:hn)(_,function(St,At,Et){return O(J,St,At,Et)}),J},ct.unary=function Ed(_){return yu(_,1)},ct.union=Lh,ct.unionBy=Oh,ct.unionWith=Eh,ct.uniq=function Rh(_){return _&&_.length?Hn(_):[]},ct.uniqBy=function Nh(_,O){return _&&_.length?Hn(_,me(O,2)):[]},ct.uniqWith=function Fh(_,O){return O="function"==typeof O?O:w,_&&_.length?Hn(_,w,O):[]},ct.unset=function Hf(_,O){return null==_||Ps(_,O)},ct.unzip=Js,ct.unzipWith=vu,ct.update=function kf(_,O,J){return null==_?_:Pl(_,O,Es(J))},ct.updateWith=function Vf(_,O,J,nt){return nt="function"==typeof nt?nt:w,null==_?_:Pl(_,O,Es(J),nt)},ct.values=zi,ct.valuesIn=function Uf(_){return null==_?[]:Ki(_,Fr(_))},ct.without=Bh,ct.words=Hu,ct.wrap=function Rd(_,O){return Ks(Es(O),_)},ct.xor=zh,ct.xorBy=Hh,ct.xorWith=kh,ct.zip=Vh,ct.zipObject=function Uh(_,O){return Ol(_||[],O||[],Qr)},ct.zipObjectDeep=function Zh(_,O){return Ol(_||[],O||[],oa)},ct.zipWith=Gh,ct.entries=Nu,ct.entriesIn=Fu,ct.extend=Ou,ct.extendWith=lo,nl(ct,ct),ct.add=Uv,ct.attempt=ku,ct.camelCase=Yf,ct.capitalize=Bu,ct.ceil=Zv,ct.clamp=function Zf(_,O,J){return J===w&&(J=O,O=w),J!==w&&(J=(J=jr(J))==J?J:0),O!==w&&(O=(O=jr(O))==O?O:0),ti(jr(_),O,J)},ct.clone=function Fd(_){return Kr(_,a)},ct.cloneDeep=function zd(_){return Kr(_,c|a)},ct.cloneDeepWith=function Hd(_,O){return Kr(_,c|a,O="function"==typeof O?O:w)},ct.cloneWith=function Bd(_,O){return Kr(_,a,O="function"==typeof O?O:w)},ct.conformsTo=function kd(_,O){return null==O||hl(_,O,pr(O))},ct.deburr=zu,ct.defaultTo=function Cv(_,O){return null==_||_!=_?O:_},ct.divide=Gv,ct.endsWith=function Jf(_,O,J){_=Ye(_),O=Ur(O);var nt=_.length,st=J=J===w?nt:ti(Pe(J),0,nt);return(J-=O.length)>=0&&_.slice(J,st)==O},ct.eq=an,ct.escape=function Qf(_){return(_=Ye(_))&&he.test(_)?_.replace(ze,sl):_},ct.escapeRegExp=function Kf(_){return(_=Ye(_))&&ar.test(_)?_.replace(ae,"\\$&"):_},ct.every=function ed(_,O,J){var nt=Me(_)?di:Wu;return J&&Mr(_,O,J)&&(O=w),nt(_,me(O,3))},ct.find=nd,ct.findIndex=uu,ct.findKey=function mf(_,O){return Yi(_,me(O,3),hn)},ct.findLast=id,ct.findLastIndex=cu,ct.findLastKey=function yf(_,O){return Yi(_,me(O,3),_s)},ct.floor=Wv,ct.forEach=pu,ct.forEachRight=mu,ct.forIn=function xf(_,O){return null==_?_:xs(_,me(O,3),Fr)},ct.forInRight=function _f(_,O){return null==_?_:gl(_,me(O,3),Fr)},ct.forOwn=function Cf(_,O){return _&&hn(_,me(O,3))},ct.forOwnRight=function Sf(_,O){return _&&_s(_,me(O,3))},ct.get=js,ct.gt=Vd,ct.gte=Ud,ct.has=function wf(_,O){return null!=_&&jl(_,O,Ju)},ct.hasIn=qs,ct.head=du,ct.identity=Br,ct.includes=function ud(_,O,J,nt){_=Nr(_)?_:zi(_),J=J&&!nt?Pe(J):0;var st=_.length;return J<0&&(J=sr(st+J,0)),so(_)?J<=st&&_.indexOf(O,J)>-1:!!st&&sn(_,O,J)>-1},ct.indexOf=function ih(_,O,J){var nt=null==_?0:_.length;if(!nt)return-1;var st=null==J?0:Pe(J);return st<0&&(st=sr(nt+st,0)),sn(_,O,st)},ct.inRange=function Gf(_,O,J){return O=wn(O),J===w?(J=O,O=0):J=wn(J),function Ku(_,O,J){return _>=gr(O,J)&&_<sr(O,J)}(_=jr(_),O,J)},ct.invoke=If,ct.isArguments=ii,ct.isArray=Me,ct.isArrayBuffer=Zd,ct.isArrayLike=Nr,ct.isArrayLikeObject=ur,ct.isBoolean=function Gd(_){return!0===_||!1===_||ir(_)&&Ar(_)==q},ct.isBuffer=Un,ct.isDate=Wd,ct.isElement=function Yd(_){return ir(_)&&1===_.nodeType&&!ca(_)},ct.isEmpty=function Jd(_){if(null==_)return!0;if(Nr(_)&&(Me(_)||"string"==typeof _||"function"==typeof _.splice||Un(_)||Bi(_)||ii(_)))return!_.length;var O=Tr(_);if(O==ht||O==Rt)return!_.size;if(la(_))return!Ts(_).length;for(var J in _)if(We.call(_,J))return!1;return!0},ct.isEqual=function Qd(_,O){return aa(_,O)},ct.isEqualWith=function Kd(_,O,J){var nt=(J="function"==typeof J?J:w)?J(_,O):w;return nt===w?aa(_,O,w,J):!!nt},ct.isError=Xs,ct.isFinite=function Xd(_){return"number"==typeof _&&Ha(_)},ct.isFunction=Tn,ct.isInteger=wu,ct.isLength=oo,ct.isMap=Au,ct.isMatch=function $d(_,O){return _===O||bs(_,O,ks(O))},ct.isMatchWith=function jd(_,O,J){return J="function"==typeof J?J:w,bs(_,O,ks(O),J)},ct.isNaN=function qd(_){return Mu(_)&&_!=+_},ct.isNative=function tf(_){if(Bc(_))throw new _e("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return yl(_)},ct.isNil=function rf(_){return null==_},ct.isNull=function ef(_){return null===_},ct.isNumber=Mu,ct.isObject=nr,ct.isObjectLike=ir,ct.isPlainObject=ca,ct.isRegExp=$s,ct.isSafeInteger=function nf(_){return wu(_)&&_>=-H&&_<=H},ct.isSet=Iu,ct.isString=so,ct.isSymbol=Zr,ct.isTypedArray=Bi,ct.isUndefined=function af(_){return _===w},ct.isWeakMap=function of(_){return ir(_)&&Tr(_)==Zt},ct.isWeakSet=function sf(_){return ir(_)&&"[object WeakSet]"==Ar(_)},ct.join=function uh(_,O){return null==_?"":Go.call(_,O)},ct.kebabCase=Xf,ct.last=$r,ct.lastIndexOf=function ch(_,O,J){var nt=null==_?0:_.length;if(!nt)return-1;var st=nt;return J!==w&&(st=(st=Pe(J))<0?sr(nt+st,0):gr(st,nt-1)),O==O?function ll(Lt,Gt,zt){for(var ie=zt+1;ie--;)if(Lt[ie]===Gt)return ie;return ie}(_,O,st):Ji(_,Yn,st,!0)},ct.lowerCase=$f,ct.lowerFirst=jf,ct.lt=lf,ct.lte=uf,ct.max=function Yv(_){return _&&_.length?Ua(_,Br,Cs):w},ct.maxBy=function Jv(_,O){return _&&_.length?Ua(_,me(O,2),Cs):w},ct.mean=function Qv(_){return Qi(_,Br)},ct.meanBy=function Kv(_,O){return Qi(_,me(O,2))},ct.min=function Xv(_){return _&&_.length?Ua(_,Br,ws):w},ct.minBy=function $v(_,O){return _&&_.length?Ua(_,me(O,2),ws):w},ct.stubArray=al,ct.stubFalse=ol,ct.stubObject=function Fv(){return{}},ct.stubString=function Bv(){return""},ct.stubTrue=function zv(){return!0},ct.multiply=jv,ct.nth=function hh(_,O){return _&&_.length?bl(_,Pe(O)):w},ct.noConflict=function Iv(){return fr._===this&&(fr._=zo),this},ct.noop=il,ct.now=no,ct.pad=function qf(_,O,J){_=Ye(_);var nt=(O=Pe(O))?Ln(_):0;if(!O||nt>=O)return _;var st=(O-nt)/2;return Xa(Pi(st),J)+_+Xa(Di(st),J)},ct.padEnd=function tv(_,O,J){_=Ye(_);var nt=(O=Pe(O))?Ln(_):0;return O&&nt<O?_+Xa(O-nt,J):_},ct.padStart=function ev(_,O,J){_=Ye(_);var nt=(O=Pe(O))?Ln(_):0;return O&&nt<O?Xa(O-nt,J)+_:_},ct.parseInt=function rv(_,O,J){return J||null==O?O=0:O&&(O=+O),Jo(Ye(_).replace(Je,""),O||0)},ct.random=function Wf(_,O,J){if(J&&"boolean"!=typeof J&&Mr(_,O,J)&&(O=J=w),J===w&&("boolean"==typeof O?(J=O,O=w):"boolean"==typeof _&&(J=_,_=w)),_===w&&O===w?(_=0,O=1):(_=wn(_),O===w?(O=_,_=0):O=wn(O)),_>O){var nt=_;_=O,O=nt}if(J||_%1||O%1){var st=ka();return gr(_+st*(O-_+Ao("1e-"+((st+"").length-1))),O)}return Ms(_,O)},ct.reduce=function vd(_,O,J){var nt=Me(_)?vi:Pn,st=arguments.length<3;return nt(_,me(O,4),J,st,zn)},ct.reduceRight=function gd(_,O,J){var nt=Me(_)?ya:Pn,st=arguments.length<3;return nt(_,me(O,4),J,st,fl)},ct.repeat=function nv(_,O,J){return O=(J?Mr(_,O,J):O===w)?1:Pe(O),Is(Ye(_),O)},ct.replace=function iv(){var _=arguments,O=Ye(_[0]);return _.length<3?O:O.replace(_[1],_[2])},ct.result=function Nf(_,O,J){var nt=-1,st=(O=kn(O,_)).length;for(st||(st=1,_=w);++nt<st;){var vt=null==_?w:_[fn(O[nt])];vt===w&&(nt=st,vt=J),_=Tn(vt)?vt.call(_):vt}return _},ct.round=qv,ct.runInContext=Lt,ct.sample=function md(_){return(Me(_)?de:uc)(_)},ct.size=function _d(_){if(null==_)return 0;if(Nr(_))return so(_)?Ln(_):_.length;var O=Tr(_);return O==ht||O==Rt?_.size:Ts(_).length},ct.snakeCase=av,ct.some=function Cd(_,O,J){var nt=Me(_)?gi:fc;return J&&Mr(_,O,J)&&(O=w),nt(_,me(O,3))},ct.sortedIndex=function yh(_,O){return Wa(_,O)},ct.sortedIndexBy=function xh(_,O,J){return Ds(_,O,me(J,2))},ct.sortedIndexOf=function _h(_,O){var J=null==_?0:_.length;if(J){var nt=Wa(_,O);if(nt<J&&an(_[nt],O))return nt}return-1},ct.sortedLastIndex=function Ch(_,O){return Wa(_,O,!0)},ct.sortedLastIndexBy=function Sh(_,O,J){return Ds(_,O,me(J,2),!0)},ct.sortedLastIndexOf=function bh(_,O){if(null!=_&&_.length){var nt=Wa(_,O,!0)-1;if(an(_[nt],O))return nt}return-1},ct.startCase=sv,ct.startsWith=function lv(_,O,J){return _=Ye(_),J=null==J?0:ti(Pe(J),0,_.length),O=Ur(O),_.slice(J,J+O.length)==O},ct.subtract=tg,ct.sum=function eg(_){return _&&_.length?yi(_,Br):0},ct.sumBy=function rg(_,O){return _&&_.length?yi(_,me(O,2)):0},ct.template=function uv(_,O,J){var nt=ct.templateSettings;J&&Mr(_,O,J)&&(O=w),_=Ye(_),O=lo({},O,nt,Ql);var At,Et,st=lo({},O.imports,nt.imports,Ql),vt=pr(st),St=Ki(st,vt),Wt=0,Yt=O.interpolate||mr,Xt="__p += '",ne=qi((O.escape||mr).source+"|"+Yt.source+"|"+(Yt===Ae?ce:mr).source+"|"+(O.evaluate||mr).source+"|$","g"),fe="//# sourceURL="+(We.call(O,"sourceURL")?(O.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Co+"]")+"\n";_.replace(ne,function(xe,Fe,Ve,Gr,Ir,Wr){return Ve||(Ve=Gr),Xt+=_.slice(Wt,Wr).replace(qr,Oo),Fe&&(At=!0,Xt+="' +\n__e("+Fe+") +\n'"),Ir&&(Et=!0,Xt+="';\n"+Ir+";\n__p += '"),Ve&&(Xt+="' +\n((__t = ("+Ve+")) == null ? '' : __t) +\n'"),Wt=Wr+xe.length,xe}),Xt+="';\n";var ye=We.call(O,"variable")&&O.variable;if(ye){if(Ht.test(ye))throw new _e("Invalid `variable` option passed into `_.template`")}else Xt="with (obj) {\n"+Xt+"\n}\n";Xt=(Et?Xt.replace(ge,""):Xt).replace(Ce,"$1").replace(Se,"$1;"),Xt="function("+(ye||"obj")+") {\n"+(ye?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(At?", __e = _.escape":"")+(Et?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Xt+"return __p\n}";var Le=ku(function(){return Ue(vt,fe+"return "+Xt).apply(w,St)});if(Le.source=Xt,Xs(Le))throw Le;return Le},ct.times=function Hv(_,O){if((_=Pe(_))<1||_>H)return[];var J=W,nt=gr(_,W);O=me(O),_-=W;for(var st=xi(nt,O);++J<_;)O(J);return st},ct.toFinite=wn,ct.toInteger=Pe,ct.toLength=Pu,ct.toLower=function cv(_){return Ye(_).toLowerCase()},ct.toNumber=jr,ct.toSafeInteger=function cf(_){return _?ti(Pe(_),-H,H):0===_?_:0},ct.toString=Ye,ct.toUpper=function hv(_){return Ye(_).toUpperCase()},ct.trim=function dv(_,O,J){if((_=Ye(_))&&(J||O===w))return Lo(_);if(!_||!(O=Ur(O)))return _;var nt=Hr(_),st=Hr(O);return Vn(nt,Xi(nt,st),$i(nt,st)+1).join("")},ct.trimEnd=function fv(_,O,J){if((_=Ye(_))&&(J||O===w))return _.slice(0,Oa(_)+1);if(!_||!(O=Ur(O)))return _;var nt=Hr(_);return Vn(nt,0,$i(nt,Hr(O))+1).join("")},ct.trimStart=function vv(_,O,J){if((_=Ye(_))&&(J||O===w))return _.replace(Je,"");if(!_||!(O=Ur(O)))return _;var nt=Hr(_);return Vn(nt,Xi(nt,Hr(O))).join("")},ct.truncate=function gv(_,O){var J=30,nt="...";if(nr(O)){var st="separator"in O?O.separator:st;J="length"in O?Pe(O.length):J,nt="omission"in O?Ur(O.omission):nt}var vt=(_=Ye(_)).length;if(mn(_)){var St=Hr(_);vt=St.length}if(J>=vt)return _;var At=J-Ln(nt);if(At<1)return nt;var Et=St?Vn(St,0,At).join(""):_.slice(0,At);if(st===w)return Et+nt;if(St&&(At+=Et.length-At),$s(st)){if(_.slice(At).search(st)){var Wt,Yt=Et;for(st.global||(st=qi(st.source,Ye(Re.exec(st))+"g")),st.lastIndex=0;Wt=st.exec(Yt);)var Xt=Wt.index;Et=Et.slice(0,Xt===w?At:Xt)}}else if(_.indexOf(Ur(st),At)!=At){var ne=Et.lastIndexOf(st);ne>-1&&(Et=Et.slice(0,ne))}return Et+nt},ct.unescape=function pv(_){return(_=Ye(_))&&ue.test(_)?_.replace(Be,Eo):_},ct.uniqueId=function Vv(_){var O=++Fo;return Ye(_)+O},ct.upperCase=mv,ct.upperFirst=tl,ct.each=pu,ct.eachRight=mu,ct.first=du,nl(ct,function(){var _={};return hn(ct,function(O,J){We.call(ct.prototype,J)||(_[J]=O)}),_}(),{chain:!1}),ct.VERSION="4.17.21",Lr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_){ct[_].placeholder=ct}),Lr(["drop","take"],function(_,O){Ne.prototype[_]=function(J){J=J===w?1:sr(Pe(J),0);var nt=this.__filtered__&&!O?new Ne(this):this.clone();return nt.__filtered__?nt.__takeCount__=gr(J,nt.__takeCount__):nt.__views__.push({size:gr(J,W),type:_+(nt.__dir__<0?"Right":"")}),nt},Ne.prototype[_+"Right"]=function(J){return this.reverse()[_](J).reverse()}}),Lr(["filter","map","takeWhile"],function(_,O){var J=O+1,nt=1==J||3==J;Ne.prototype[_]=function(st){var vt=this.clone();return vt.__iteratees__.push({iteratee:me(st,3),type:J}),vt.__filtered__=vt.__filtered__||nt,vt}}),Lr(["head","last"],function(_,O){var J="take"+(O?"Right":"");Ne.prototype[_]=function(){return this[J](1).value()[0]}}),Lr(["initial","tail"],function(_,O){var J="drop"+(O?"":"Right");Ne.prototype[_]=function(){return this.__filtered__?new Ne(this):this[J](1)}}),Ne.prototype.compact=function(){return this.filter(Br)},Ne.prototype.find=function(_){return this.filter(_).head()},Ne.prototype.findLast=function(_){return this.reverse().find(_)},Ne.prototype.invokeMap=Ee(function(_,O){return"function"==typeof _?new Ne(this):this.map(function(J){return ia(J,_,O)})}),Ne.prototype.reject=function(_){return this.filter(ao(me(_)))},Ne.prototype.slice=function(_,O){_=Pe(_);var J=this;return J.__filtered__&&(_>0||O<0)?new Ne(J):(_<0?J=J.takeRight(-_):_&&(J=J.drop(_)),O!==w&&(J=(O=Pe(O))<0?J.dropRight(-O):J.take(O-_)),J)},Ne.prototype.takeRightWhile=function(_){return this.reverse().takeWhile(_).reverse()},Ne.prototype.toArray=function(){return this.take(W)},hn(Ne.prototype,function(_,O){var J=/^(?:filter|find|map|reject)|While$/.test(O),nt=/^(?:head|last)$/.test(O),st=ct[nt?"take"+("last"==O?"Right":""):O],vt=nt||/^find/.test(O);st&&(ct.prototype[O]=function(){var St=this.__wrapped__,At=nt?[1]:arguments,Et=St instanceof Ne,Wt=At[0],Yt=Et||Me(St),Xt=function(Fe){var Ve=st.apply(ct,wr([Fe],At));return nt&&ne?Ve[0]:Ve};Yt&&J&&"function"==typeof Wt&&1!=Wt.length&&(Et=Yt=!1);var ne=this.__chain__,ye=vt&&!ne,Le=Et&&!this.__actions__.length;if(!vt&&Yt){St=Le?St:new Ne(this);var xe=_.apply(St,At);return xe.__actions__.push({func:eo,args:[Xt],thisArg:w}),new Er(xe,ne)}return ye&&Le?_.apply(this,At):(xe=this.thru(Xt),ye?nt?xe.value()[0]:xe.value():xe)})}),Lr(["pop","push","shift","sort","splice","unshift"],function(_){var O=hr[_],J=/^(?:push|sort|unshift)$/.test(_)?"tap":"thru",nt=/^(?:pop|shift)$/.test(_);ct.prototype[_]=function(){var st=arguments;if(nt&&!this.__chain__){var vt=this.value();return O.apply(Me(vt)?vt:[],st)}return this[J](function(St){return O.apply(Me(St)?St:[],st)})}}),hn(Ne.prototype,function(_,O){var J=ct[O];if(J){var nt=J.name+"";We.call(Rn,nt)||(Rn[nt]=[]),Rn[nt].push({name:O,func:J})}}),Rn[Qa(w,r).name]=[{name:"wrapper",func:w}],Ne.prototype.clone=function ts(){var _=new Ne(this.__wrapped__);return _.__actions__=Rr(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=Rr(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=Rr(this.__views__),_},Ne.prototype.reverse=function es(){if(this.__filtered__){var _=new Ne(this);_.__dir__=-1,_.__filtered__=!0}else(_=this.clone()).__dir__*=-1;return _},Ne.prototype.value=function rs(){var _=this.__wrapped__.value(),O=this.__dir__,J=Me(_),nt=O<0,st=J?_.length:0,vt=function Dc(_,O,J){for(var nt=-1,st=J.length;++nt<st;){var vt=J[nt],St=vt.size;switch(vt.type){case"drop":_+=St;break;case"dropRight":O-=St;break;case"take":O=gr(O,_+St);break;case"takeRight":_=sr(_,O-St)}}return{start:_,end:O}}(0,st,this.__views__),St=vt.start,At=vt.end,Et=At-St,Wt=nt?At:St-1,Yt=this.__iteratees__,Xt=Yt.length,ne=0,fe=gr(Et,this.__takeCount__);if(!J||!nt&&st==Et&&fe==Et)return Ll(_,this.__actions__);var ye=[];t:for(;Et--&&ne<fe;){for(var Le=-1,xe=_[Wt+=O];++Le<Xt;){var Fe=Yt[Le],Gr=Fe.type,Ir=(0,Fe.iteratee)(xe);if(2==Gr)xe=Ir;else if(!Ir){if(1==Gr)continue t;break t}}ye[ne++]=xe}return ye},ct.prototype.at=Yh,ct.prototype.chain=function Jh(){return gu(this)},ct.prototype.commit=function Qh(){return new Er(this.value(),this.__chain__)},ct.prototype.next=function Kh(){this.__values__===w&&(this.__values__=Du(this.value()));var _=this.__index__>=this.__values__.length;return{done:_,value:_?w:this.__values__[this.__index__++]}},ct.prototype.plant=function $h(_){for(var O,J=this;J instanceof Ei;){var nt=lu(J);nt.__index__=0,nt.__values__=w,O?st.__wrapped__=nt:O=nt;var st=nt;J=J.__wrapped__}return st.__wrapped__=_,O},ct.prototype.reverse=function jh(){var _=this.__wrapped__;if(_ instanceof Ne){var O=_;return this.__actions__.length&&(O=new Ne(this)),(O=O.reverse()).__actions__.push({func:eo,args:[Ys],thisArg:w}),new Er(O,this.__chain__)}return this.thru(Ys)},ct.prototype.toJSON=ct.prototype.valueOf=ct.prototype.value=function qh(){return Ll(this.__wrapped__,this.__actions__)},ct.prototype.first=ct.prototype.head,Kn&&(ct.prototype[Kn]=function Xh(){return this}),ct}();fr._=Ci,(T=function(){return Ci}.call(U,i,U,j))!==w&&(j.exports=T)}.call(this)},52501:(j,U,i)=>{var T=i(77369),w=i(24665),t=i(4360),M=i(21972),I=i(66615),D=function(y){t.call(this,y),w.call(this,y),M.call(this,y),this.id=y.id||T()};D.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(y,h){switch(this.draggable){case"horizontal":h=0;break;case"vertical":y=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=y,n[5]+=h,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(y,h){},attrKV:function(y,h){if("position"===y||"scale"===y||"origin"===y){if(h){var n=this[y];n||(n=this[y]=[]),n[0]=h[0],n[1]=h[1]}}else this[y]=h},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(y,h){if("string"==typeof y)this.attrKV(y,h);else if(I.isObject(y))for(var n in y)y.hasOwnProperty(n)&&this.attrKV(n,y[n]);return this.dirty(!1),this},setClipPath:function(y){var h=this.__zr;h&&y.addSelfToZr(h),this.clipPath&&this.clipPath!==y&&this.removeClipPath(),this.clipPath=y,y.__zr=h,y.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var y=this.clipPath;y&&(y.__zr&&y.removeSelfFromZr(y.__zr),y.__zr=null,y.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(y){this.__zr=y;var h=this.animators;if(h)for(var n=0;n<h.length;n++)y.animation.addAnimator(h[n]);this.clipPath&&this.clipPath.addSelfToZr(y)},removeSelfFromZr:function(y){this.__zr=null;var h=this.animators;if(h)for(var n=0;n<h.length;n++)y.animation.removeAnimator(h[n]);this.clipPath&&this.clipPath.removeSelfFromZr(y)}},I.mixin(D,M),I.mixin(D,t),I.mixin(D,w),j.exports=D},28718:(j,U,i)=>{var T=i(66615),w=i(8544),t=i(51609),M=i(24665),I=i(53626),D=i(23121),b="silent";function h(){I.stop(this.event)}function n(){}n.prototype.dispose=function(){};var c=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],o=function(s,r,l,d){M.call(this),this.storage=s,this.painter=r,this.painterRoot=d,l=l||new n,this.proxy=null,this._hovered={},t.call(this),this.setHandlerProxy(l)};function a(s,r,l){if(s[s.rectHover?"rectContain":"contain"](r,l)){for(var v,d=s;d;){if(d.clipPath&&!d.clipPath.contain(r,l))return!1;d.silent&&(v=!0),d=d.parent}return!v||b}return!1}function u(s,r,l){var d=s.painter;return r<0||r>d.getWidth()||l<0||l>d.getHeight()}o.prototype={constructor:o,setHandlerProxy:function(s){this.proxy&&this.proxy.dispose(),s&&(T.each(c,function(r){s.on&&s.on(r,this[r],this)},this),s.handler=this),this.proxy=s},mousemove:function(s){var r=s.zrX,l=s.zrY,d=u(this,r,l),v=this._hovered,f=v.target;f&&!f.__zr&&(f=(v=this.findHover(v.x,v.y)).target);var p=this._hovered=d?{x:r,y:l}:this.findHover(r,l),S=p.target,C=this.proxy;C.setCursor&&C.setCursor(S?S.cursor:"default"),f&&S!==f&&this.dispatchToElement(v,"mouseout",s),this.dispatchToElement(p,"mousemove",s),S&&S!==f&&this.dispatchToElement(p,"mouseover",s)},mouseout:function(s){var r=s.zrEventControl,l=s.zrIsToLocalDOM;"only_globalout"!==r&&this.dispatchToElement(this._hovered,"mouseout",s),"no_globalout"!==r&&!l&&this.trigger("globalout",{type:"globalout",event:s})},resize:function(s){this._hovered={}},dispatch:function(s,r){var l=this[s];l&&l.call(this,r)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(s){var r=this.proxy;r.setCursor&&r.setCursor(s)},dispatchToElement:function(s,r,l){var d=(s=s||{}).target;if(!d||!d.silent){for(var v="on"+r,f=function y(s,r,l){return{type:s,event:l,target:r.target,topTarget:r.topTarget,cancelBubble:!1,offsetX:l.zrX,offsetY:l.zrY,gestureEvent:l.gestureEvent,pinchX:l.pinchX,pinchY:l.pinchY,pinchScale:l.pinchScale,wheelDelta:l.zrDelta,zrByTouch:l.zrByTouch,which:l.which,stop:h}}(r,s,l);d&&(d[v]&&(f.cancelBubble=d[v].call(d,f)),d.trigger(r,f),d=d.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(r,f),this.painter&&this.painter.eachOtherLayer(function(p){"function"==typeof p[v]&&p[v].call(p,f),p.trigger&&p.trigger(r,f)}))}},findHover:function(s,r,l){for(var d=this.storage.getDisplayList(),v={x:s,y:r},f=d.length-1;f>=0;f--){var p;if(d[f]!==l&&!d[f].ignore&&(p=a(d[f],s,r))&&(!v.topTarget&&(v.topTarget=d[f]),p!==b)){v.target=d[f];break}}return v},processGesture:function(s,r){this._gestureMgr||(this._gestureMgr=new D);var l=this._gestureMgr;"start"===r&&l.clear();var d=l.recognize(s,this.findHover(s.zrX,s.zrY,null).target,this.proxy.dom);if("end"===r&&l.clear(),d){var v=d.type;s.gestureEvent=v,this.dispatchToElement({target:d.target},v,d.event)}}},T.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(s){o.prototype[s]=function(r){var f,p,l=r.zrX,d=r.zrY,v=u(this,l,d);if(("mouseup"!==s||!v)&&(p=(f=this.findHover(l,d)).target),"mousedown"===s)this._downEl=p,this._downPoint=[r.zrX,r.zrY],this._upEl=p;else if("mouseup"===s)this._upEl=p;else if("click"===s){if(this._downEl!==this._upEl||!this._downPoint||w.dist(this._downPoint,[r.zrX,r.zrY])>4)return;this._downPoint=null}this.dispatchToElement(f,s,r)}}),T.mixin(o,M),T.mixin(o,t),j.exports=o},98952:(j,U,i)=>{var T=i(66615),t=i(16905).devicePixelRatio,M=i(300),I=i(37525);function D(){return!1}function b(n,c,o){var a=T.createCanvas(),u=c.getWidth(),e=c.getHeight(),s=a.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=u+"px",s.height=e+"px",a.setAttribute("data-zr-dom-id",n)),a.width=u*o,a.height=e*o,a}var y=function(n,c,o){var a;o=o||t,"string"==typeof n?a=b(n,c,o):T.isObject(n)&&(n=(a=n).id),this.id=n,this.dom=a;var u=a.style;u&&(a.onselectstart=D,u["-webkit-user-select"]="none",u["user-select"]="none",u["-webkit-touch-callout"]="none",u["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",u.padding=0,u.margin=0,u["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=c,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=o};y.prototype={constructor:y,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var n=this.dpr;this.domBack=b("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),1!==n&&this.ctxBack.scale(n,n)},resize:function(n,c){var o=this.dpr,a=this.dom,u=a.style,e=this.domBack;u&&(u.width=n+"px",u.height=c+"px"),a.width=n*o,a.height=c*o,e&&(e.width=n*o,e.height=c*o,1!==o&&this.ctxBack.scale(o,o))},clear:function(n,s){var v,o=this.dom,a=this.ctx,u=o.width,e=o.height,r=(s=s||this.clearColor,this.motionBlur&&!n),l=this.lastFrameAlpha,d=this.dpr;if(r&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,u/d,e/d)),a.clearRect(0,0,u,e),s&&"transparent"!==s&&(s.colorStops?(v=s.__canvasGradient||M.getGradient(a,s,{x:0,y:0,width:u,height:e}),s.__canvasGradient=v):s.image&&(v=I.prototype.getCanvasPattern.call(s,a)),a.save(),a.fillStyle=v||s,a.fillRect(0,0,u,e),a.restore()),r){var f=this.domBack;a.save(),a.globalAlpha=l,a.drawImage(f,0,0,u,e),a.restore()}}},j.exports=y},63598:(j,U,i)=>{var w=i(16905).devicePixelRatio,t=i(66615),M=i(94896),I=i(94525),D=i(14856),b=i(98952),y=i(90663),h=i(48418),n=i(71156),c=1e5,o=314159,a=.01;function e(x){return parseInt(x,10)}var r=new I(0,0,0,0),l=new I(0,0,0,0),S=function(x,g,m){this.type="canvas";var A=!x.nodeName||"CANVAS"===x.nodeName.toUpperCase();this._opts=m=t.extend({},m||{}),this.dpr=m.devicePixelRatio||w,this._singleCanvas=A,this.root=x;var L=x.style;L&&(L["-webkit-tap-highlight-color"]="transparent",L["-webkit-user-select"]=L["user-select"]=L["-webkit-touch-callout"]="none",x.innerHTML=""),this.storage=g;var E=this._zlevelList=[],N=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,A){var F=x.width,H=x.height;null!=m.width&&(F=m.width),null!=m.height&&(H=m.height),this.dpr=m.devicePixelRatio||1,x.width=F*this.dpr,x.height=H*this.dpr,this._width=F,this._height=H;var B=new b(x,this,this.dpr);B.__builtin__=!0,B.initContext(),N[o]=B,B.zlevel=o,E.push(o),this._domRoot=x}else{this._width=this._getSize(0),this._height=this._getSize(1);var R=this._domRoot=function p(x,g){var m=document.createElement("div");return m.style.cssText=["position:relative","width:"+x+"px","height:"+g+"px","padding:0","margin:0","border-width:0"].join(";")+";",m}(this._width,this._height);x.appendChild(R)}this._hoverlayer=null,this._hoverElements=[]};S.prototype={constructor:S,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var x=this.getViewportRoot();if(x)return{offsetLeft:x.offsetLeft||0,offsetTop:x.offsetTop||0}},refresh:function(x){var g=this.storage.getDisplayList(!0),m=this._zlevelList;this._redrawId=Math.random(),this._paintList(g,x,this._redrawId);for(var A=0;A<m.length;A++){var E=this._layers[m[A]];!E.__builtin__&&E.refresh&&E.refresh(0===A?this._backgroundColor:null)}return this.refreshHover(),this},addHover:function(x,g){if(!x.__hoverMir){var m=new x.constructor({style:x.style,shape:x.shape,z:x.z,z2:x.z2,silent:x.silent});return m.__from=x,x.__hoverMir=m,g&&m.setStyle(g),this._hoverElements.push(m),m}},removeHover:function(x){var m=this._hoverElements,A=t.indexOf(m,x.__hoverMir);A>=0&&m.splice(A,1),x.__hoverMir=null},clearHover:function(x){for(var g=this._hoverElements,m=0;m<g.length;m++){var A=g[m].__from;A&&(A.__hoverMir=null)}g.length=0},refreshHover:function(){var x=this._hoverElements,g=x.length,m=this._hoverlayer;if(m&&m.clear(),g){D(x,this.storage.displayableSortFunc),m||(m=this._hoverlayer=this.getLayer(c));var A={};m.ctx.save();for(var L=0;L<g;){var E=x[L],N=E.__from;N&&N.__zr?(L++,N.invisible||(E.transform=N.transform,E.invTransform=N.invTransform,E.__clipPaths=N.__clipPaths,this._doPaintEl(E,m,!0,A))):(x.splice(L,1),N.__hoverMir=null,g--)}m.ctx.restore()}},getHoverLayer:function(){return this.getLayer(c)},_paintList:function(x,g,m){if(this._redrawId===m){g=g||!1,this._updateLayerStatus(x);var A=this._doPaintList(x,g);if(this._needsManuallyCompositing&&this._compositeManually(),!A){var L=this;y(function(){L._paintList(x,g,m)})}}},_compositeManually:function(){var x=this.getLayer(o).ctx,g=this._domRoot.width,m=this._domRoot.height;x.clearRect(0,0,g,m),this.eachBuiltinLayer(function(A){A.virtual&&x.drawImage(A.dom,0,0,g,m)})},_doPaintList:function(x,g){for(var m=[],A=0;A<this._zlevelList.length;A++)(E=this._layers[this._zlevelList[A]]).__builtin__&&E!==this._hoverlayer&&(E.__dirty||g)&&m.push(E);for(var N=!0,R=0;R<m.length;R++){var E,F=(E=m[R]).ctx,H={};F.save();var B=g?E.__startIndex:E.__drawIndex,Z=!g&&E.incremental&&Date.now,W=Z&&Date.now(),$=E.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(E.__startIndex===E.__endIndex)E.clear(!1,$);else if(B===E.__startIndex){var Y=x[B];(!Y.incremental||!Y.notClear||g)&&E.clear(!1,$)}-1===B&&(console.error("For some unknown reason. drawIndex is -1"),B=E.__startIndex);for(var V=B;V<E.__endIndex;V++){var z=x[V];if(this._doPaintEl(z,E,g,H),z.__dirty=z.__dirtyText=!1,Z&&Date.now()-W>15)break}E.__drawIndex=V,E.__drawIndex<E.__endIndex&&(N=!1),H.prevElClipPaths&&F.restore(),F.restore()}return n.wxa&&t.each(this._layers,function(X){X&&X.ctx&&X.ctx.draw&&X.ctx.draw()}),N},_doPaintEl:function(x,g,m,A){var L=g.ctx,E=x.transform;if((g.__dirty||m)&&!x.invisible&&0!==x.style.opacity&&(!E||E[0]||E[3])&&(!x.culling||!function d(x,g,m){return r.copy(x.getBoundingRect()),x.transform&&r.applyTransform(x.transform),l.width=g,l.height=m,!r.intersect(l)}(x,this._width,this._height))){var N=x.__clipPaths,R=A.prevElClipPaths;(!R||function v(x,g){if(x===g)return!1;if(!x||!g||x.length!==g.length)return!0;for(var m=0;m<x.length;m++)if(x[m]!==g[m])return!0;return!1}(N,R))&&(R&&(L.restore(),A.prevElClipPaths=null,A.prevEl=null),N&&(L.save(),function f(x,g){for(var m=0;m<x.length;m++){var A=x[m];A.setTransform(g),g.beginPath(),A.buildPath(g,A.shape),g.clip(),A.restoreTransform(g)}}(N,L),A.prevElClipPaths=N)),x.beforeBrush&&x.beforeBrush(L),x.brush(L,A.prevEl||null),A.prevEl=x,x.afterBrush&&x.afterBrush(L)}},getLayer:function(x,g){this._singleCanvas&&!this._needsManuallyCompositing&&(x=o);var m=this._layers[x];return m||((m=new b("zr_"+x,this,this.dpr)).zlevel=x,m.__builtin__=!0,this._layerConfig[x]?t.merge(m,this._layerConfig[x],!0):this._layerConfig[x-a]&&t.merge(m,this._layerConfig[x-a],!0),g&&(m.virtual=g),this.insertLayer(x,m),m.initContext()),m},insertLayer:function(x,g){var m=this._layers,A=this._zlevelList,L=A.length,E=null,N=-1,R=this._domRoot;if(m[x])M("ZLevel "+x+" has been used already");else if(function s(x){return!(!x||!x.__builtin__&&("function"!=typeof x.resize||"function"!=typeof x.refresh))}(g)){if(L>0&&x>A[0]){for(N=0;N<L-1&&!(A[N]<x&&A[N+1]>x);N++);E=m[A[N]]}if(A.splice(N+1,0,x),m[x]=g,!g.virtual)if(E){var F=E.dom;F.nextSibling?R.insertBefore(g.dom,F.nextSibling):R.appendChild(g.dom)}else R.firstChild?R.insertBefore(g.dom,R.firstChild):R.appendChild(g.dom)}else M("Layer of zlevel "+x+" is not valid")},eachLayer:function(x,g){var A,L,m=this._zlevelList;for(L=0;L<m.length;L++)x.call(g,this._layers[A=m[L]],A)},eachBuiltinLayer:function(x,g){var A,L,E,m=this._zlevelList;for(E=0;E<m.length;E++)(A=this._layers[L=m[E]]).__builtin__&&x.call(g,A,L)},eachOtherLayer:function(x,g){var A,L,E,m=this._zlevelList;for(E=0;E<m.length;E++)(A=this._layers[L=m[E]]).__builtin__||x.call(g,A,L)},getLayers:function(){return this._layers},_updateLayerStatus:function(x){function g(H){L&&(L.__endIndex!==H&&(L.__dirty=!0),L.__endIndex=H)}if(this.eachBuiltinLayer(function(H,B){H.__dirty=H.__used=!1}),this._singleCanvas)for(var m=1;m<x.length;m++)if((A=x[m]).zlevel!==x[m-1].zlevel||A.incremental){this._needsManuallyCompositing=!0;break}var N,L=null,E=0;for(m=0;m<x.length;m++){var A,F,R=(A=x[m]).zlevel;N!==R&&(N=R,E=0),A.incremental?((F=this.getLayer(R+.001,this._needsManuallyCompositing)).incremental=!0,E=1):F=this.getLayer(R+(E>0?a:0),this._needsManuallyCompositing),F.__builtin__||M("ZLevel "+R+" has been used by unkown layer "+F.id),F!==L&&(F.__used=!0,F.__startIndex!==m&&(F.__dirty=!0),F.__startIndex=m,F.__drawIndex=F.incremental?-1:m,g(m),L=F),A.__dirty&&(F.__dirty=!0,F.incremental&&F.__drawIndex<0&&(F.__drawIndex=m))}g(m),this.eachBuiltinLayer(function(H,B){!H.__used&&H.getElementCount()>0&&(H.__dirty=!0,H.__startIndex=H.__endIndex=H.__drawIndex=0),H.__dirty&&H.__drawIndex<0&&(H.__drawIndex=H.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(x){x.clear()},setBackgroundColor:function(x){this._backgroundColor=x},configLayer:function(x,g){if(g){var m=this._layerConfig;m[x]?t.merge(m[x],g,!0):m[x]=g;for(var A=0;A<this._zlevelList.length;A++){var L=this._zlevelList[A];L!==x&&L!==x+a||t.merge(this._layers[L],m[x],!0)}}},delLayer:function(x){var g=this._layers,m=this._zlevelList,A=g[x];A&&(A.dom.parentNode.removeChild(A.dom),delete g[x],m.splice(t.indexOf(m,x),1))},resize:function(x,g){if(this._domRoot.style){var m=this._domRoot;m.style.display="none";var A=this._opts;if(null!=x&&(A.width=x),null!=g&&(A.height=g),x=this._getSize(0),g=this._getSize(1),m.style.display="",this._width!==x||g!==this._height){for(var L in m.style.width=x+"px",m.style.height=g+"px",this._layers)this._layers.hasOwnProperty(L)&&this._layers[L].resize(x,g);t.each(this._progressiveLayers,function(E){E.resize(x,g)}),this.refresh(!0)}this._width=x,this._height=g}else{if(null==x||null==g)return;this._width=x,this._height=g,this.getLayer(o).resize(x,g)}return this},clearLayer:function(x){var g=this._layers[x];g&&g.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(x){if(this._singleCanvas&&!this._compositeManually)return this._layers[o].dom;var g=new b("image",this,(x=x||{}).pixelRatio||this.dpr);if(g.initContext(),g.clear(!1,x.backgroundColor||this._backgroundColor),x.pixelRatio<=this.dpr){this.refresh();var m=g.dom.width,A=g.dom.height,L=g.ctx;this.eachLayer(function(H){H.__builtin__?L.drawImage(H.dom,0,0,m,A):H.renderToCanvas&&(g.ctx.save(),H.renderToCanvas(g.ctx),g.ctx.restore())})}else for(var E={},N=this.storage.getDisplayList(!0),R=0;R<N.length;R++)this._doPaintEl(N[R],g,!0,E);return g.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(x){var g=this._opts,m=["width","height"][x],A=["clientWidth","clientHeight"][x],L=["paddingLeft","paddingTop"][x],E=["paddingRight","paddingBottom"][x];if(null!=g[m]&&"auto"!==g[m])return parseFloat(g[m]);var N=this.root,R=document.defaultView.getComputedStyle(N);return(N[A]||e(R[m])||e(N.style[m]))-(e(R[L])||0)-(e(R[E])||0)|0},pathToImage:function(x,g){g=g||this.dpr;var m=document.createElement("canvas"),A=m.getContext("2d"),L=x.getBoundingRect(),E=x.style,N=E.shadowBlur*g,R=E.shadowOffsetX*g,F=E.shadowOffsetY*g,H=E.hasStroke()?E.lineWidth:0,B=Math.max(H/2,-R+N),Z=Math.max(H/2,R+N),W=Math.max(H/2,-F+N),$=Math.max(H/2,F+N),Y=L.width+B+Z,V=L.height+W+$;m.width=Y*g,m.height=V*g,A.scale(g,g),A.clearRect(0,0,Y,V),A.dpr=g;var z={position:x.position,rotation:x.rotation,scale:x.scale};x.position=[B-L.x,W-L.y],x.rotation=0,x.scale=[1,1],x.updateTransform(),x&&x.brush(A);var X=new h({style:{x:0,y:0,image:m}});return null!=z.position&&(X.position=x.position=z.position),null!=z.rotation&&(X.rotation=x.rotation=z.rotation),null!=z.scale&&(X.scale=x.scale=z.scale),X}},j.exports=S},61760:(j,U,i)=>{var T=i(66615),w=i(71156),t=i(29367),M=i(14856);function I(y,h){return y.zlevel===h.zlevel?y.z===h.z?y.z2-h.z2:y.z-h.z:y.zlevel-h.zlevel}var D=function(){this._roots=[],this._displayList=[],this._displayListLen=0};D.prototype={constructor:D,traverse:function(y,h){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(y,h)},getDisplayList:function(y,h){return h=h||!1,y&&this.updateDisplayList(h),this._displayList},updateDisplayList:function(y){this._displayListLen=0;for(var h=this._roots,n=this._displayList,c=0,o=h.length;c<o;c++)this._updateAndAddDisplayable(h[c],null,y);n.length=this._displayListLen,w.canvasSupported&&M(n,I)},_updateAndAddDisplayable:function(y,h,n){if(!y.ignore||n){y.beforeUpdate(),y.__dirty&&y.update(),y.afterUpdate();var c=y.clipPath;if(c){h=h?h.slice():[];for(var o=c,a=y;o;)o.parent=a,o.updateTransform(),h.push(o),a=o,o=o.clipPath}if(y.isGroup){for(var u=y._children,e=0;e<u.length;e++){var s=u[e];y.__dirty&&(s.__dirty=!0),this._updateAndAddDisplayable(s,h,n)}y.__dirty=!1}else y.__clipPaths=h,this._displayList[this._displayListLen++]=y}},addRoot:function(y){y.__storage!==this&&(y instanceof t&&y.addChildrenToStorage(this),this.addToStorage(y),this._roots.push(y))},delRoot:function(y){if(null==y){for(var h=0;h<this._roots.length;h++){var n=this._roots[h];n instanceof t&&n.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(y instanceof Array){h=0;for(var c=y.length;h<c;h++)this.delRoot(y[h])}else{var o=T.indexOf(this._roots,y);o>=0&&(this.delFromStorage(y),this._roots.splice(o,1),y instanceof t&&y.delChildrenFromStorage(this))}},addToStorage:function(y){return y&&(y.__storage=this,y.dirty(!1)),this},delFromStorage:function(y){return y&&(y.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:I},j.exports=D},57849:(j,U,i)=>{var T=i(66615),t=i(53626).Dispatcher,M=i(90663),I=i(34047),D=function(y){this.stage=(y=y||{}).stage||{},this.onframe=y.onframe||function(){},this._clips=[],this._running=!1,this._paused=!1,t.call(this)};D.prototype={constructor:D,addClip:function(y){this._clips.push(y)},addAnimator:function(y){y.animation=this;for(var h=y.getClips(),n=0;n<h.length;n++)this.addClip(h[n])},removeClip:function(y){var h=T.indexOf(this._clips,y);h>=0&&this._clips.splice(h,1)},removeAnimator:function(y){for(var h=y.getClips(),n=0;n<h.length;n++)this.removeClip(h[n]);y.animation=null},_update:function(){for(var y=(new Date).getTime()-this._pausedTime,h=y-this._time,n=this._clips,c=n.length,o=[],a=[],u=0;u<c;u++){var e=n[u],s=e.step(y,h);s&&(o.push(s),a.push(e))}for(u=0;u<c;)n[u]._needsRemove?(n[u]=n[c-1],n.pop(),c--):u++;for(c=o.length,u=0;u<c;u++)a[u].fire(o[u]);this._time=y,this.onframe(h),this.trigger("frame",h),this.stage.update&&this.stage.update()},_startLoop:function(){var y=this;this._running=!0,M(function h(){y._running&&(M(h),!y._paused&&y._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(y,h){var n=new I(y,(h=h||{}).loop,h.getter,h.setter);return this.addAnimator(n),n}},T.mixin(D,t),j.exports=D},34047:(j,U,i)=>{var T=i(50659),w=i(10754),M=i(66615).isArrayLike,I=Array.prototype.slice;function D(f,p){return f[p]}function b(f,p,S){f[p]=S}function y(f,p,S){return(p-f)*S+f}function h(f,p,S){return S>.5?p:f}function n(f,p,S,C,x){var g=f.length;if(1===x)for(var m=0;m<g;m++)C[m]=y(f[m],p[m],S);else{var A=g&&f[0].length;for(m=0;m<g;m++)for(var L=0;L<A;L++)C[m][L]=y(f[m][L],p[m][L],S)}}function c(f,p,S){var C=f.length,x=p.length;if(C!==x)if(C>x)f.length=x;else for(var m=C;m<x;m++)f.push(1===S?p[m]:I.call(p[m]));var A=f[0]&&f[0].length;for(m=0;m<f.length;m++)if(1===S)isNaN(f[m])&&(f[m]=p[m]);else for(var L=0;L<A;L++)isNaN(f[m][L])&&(f[m][L]=p[m][L])}function o(f,p,S){if(f===p)return!0;var C=f.length;if(C!==p.length)return!1;if(1===S){for(var x=0;x<C;x++)if(f[x]!==p[x])return!1}else{var g=f[0].length;for(x=0;x<C;x++)for(var m=0;m<g;m++)if(f[x][m]!==p[x][m])return!1}return!0}function a(f,p,S,C,x,g,m,A,L){var E=f.length;if(1===L)for(var N=0;N<E;N++)A[N]=u(f[N],p[N],S[N],C[N],x,g,m);else{var R=f[0].length;for(N=0;N<E;N++)for(var F=0;F<R;F++)A[N][F]=u(f[N][F],p[N][F],S[N][F],C[N][F],x,g,m)}}function u(f,p,S,C,x,g,m){var A=.5*(S-f),L=.5*(C-p);return(2*(p-S)+A+L)*m+(-3*(p-S)-2*A-L)*g+A*x+p}function e(f){if(M(f)){var p=f.length;if(M(f[0])){for(var S=[],C=0;C<p;C++)S.push(I.call(f[C]));return S}return I.call(f)}return f}function s(f){return f[0]=Math.floor(f[0]),f[1]=Math.floor(f[1]),f[2]=Math.floor(f[2]),"rgba("+f.join(",")+")"}function l(f,p,S,C,x,g){var m=f._getter,A=f._setter,L="spline"===p,E=C.length;if(E){var Z,R=M(C[0].value),F=!1,H=!1,B=R?function r(f){var p=f[f.length-1].value;return M(p&&p[0])?2:1}(C):0;C.sort(function(bt,Rt){return bt.time-Rt.time}),Z=C[E-1].time;for(var W=[],$=[],Y=C[0].value,V=!0,z=0;z<E;z++){W.push(C[z].time/Z);var k=C[z].value;if(R&&o(k,Y,B)||!R&&k===Y||(V=!1),Y=k,"string"==typeof k){var X=w.parse(k);X?(k=X,F=!0):H=!0}$.push(k)}if(g||!V){var q=$[E-1];for(z=0;z<E-1;z++)R?c($[z],q,B):isNaN($[z])&&!isNaN(q)&&!H&&!F&&($[z]=q);R&&c(m(f._target,x),q,B);var lt,dt,ht,gt,at,et=0,rt=0;if(F)var ut=[0,0,0,0];var _t=new T({target:f._target,life:Z,loop:f._loop,delay:f._delay,onframe:function(bt,Rt){var yt;if(Rt<0)yt=0;else if(Rt<rt){for(yt=Math.min(et+1,E-1);yt>=0&&!(W[yt]<=Rt);yt--);yt=Math.min(yt,E-2)}else{for(yt=et;yt<E&&!(W[yt]>Rt);yt++);yt=Math.min(yt-1,E-2)}et=yt,rt=Rt;var Tt=W[yt+1]-W[yt];if(0!==Tt)if(lt=(Rt-W[yt])/Tt,L)if(ht=$[yt],dt=$[0===yt?yt:yt-1],gt=$[yt>E-2?E-1:yt+1],at=$[yt>E-3?E-1:yt+2],R)a(dt,ht,gt,at,lt,lt*lt,lt*lt*lt,m(bt,x),B);else{if(F)Pt=a(dt,ht,gt,at,lt,lt*lt,lt*lt*lt,ut,1),Pt=s(ut);else{if(H)return h(ht,gt,lt);Pt=u(dt,ht,gt,at,lt,lt*lt,lt*lt*lt)}A(bt,x,Pt)}else if(R)n($[yt],$[yt+1],lt,m(bt,x),B);else{var Pt;if(F)n($[yt],$[yt+1],lt,ut,1),Pt=s(ut);else{if(H)return h($[yt],$[yt+1],lt);Pt=y($[yt],$[yt+1],lt)}A(bt,x,Pt)}},ondestroy:S});return p&&"spline"!==p&&(_t.easing=p),_t}}}var d=function(f,p,S,C){this._tracks={},this._target=f,this._loop=p||!1,this._getter=S||D,this._setter=C||b,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};d.prototype={when:function(f,p){var S=this._tracks;for(var C in p)if(p.hasOwnProperty(C)){if(!S[C]){S[C]=[];var x=this._getter(this._target,C);if(null==x)continue;0!==f&&S[C].push({time:0,value:e(x)})}S[C].push({time:f,value:p[C]})}return this},during:function(f){return this._onframeList.push(f),this},pause:function(){for(var f=0;f<this._clipList.length;f++)this._clipList[f].pause();this._paused=!0},resume:function(){for(var f=0;f<this._clipList.length;f++)this._clipList[f].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var f=this._doneList,p=f.length,S=0;S<p;S++)f[S].call(this)},start:function(f,p){var g,S=this,C=0,x=function(){--C||S._doneCallback()};for(var m in this._tracks)if(this._tracks.hasOwnProperty(m)){var A=l(this,f,x,this._tracks[m],m,p);A&&(this._clipList.push(A),C++,this.animation&&this.animation.addClip(A),g=A)}if(g){var L=g.onframe;g.onframe=function(E,N){L(E,N);for(var R=0;R<S._onframeList.length;R++)S._onframeList[R](E,N)}}return C||this._doneCallback(),this},stop:function(f){for(var p=this._clipList,S=this.animation,C=0;C<p.length;C++){var x=p[C];f&&x.onframe(this._target,1),S&&S.removeClip(x)}p.length=0},delay:function(f){return this._delay=f,this},done:function(f){return f&&this._doneList.push(f),this},getClips:function(){return this._clipList}},j.exports=d},50659:(j,U,i)=>{var T=i(61708);function w(M){this._target=M.target,this._life=M.life||1e3,this._delay=M.delay||0,this._initialized=!1,this.loop=null!=M.loop&&M.loop,this.gap=M.gap||0,this.easing=M.easing||"Linear",this.onframe=M.onframe,this.ondestroy=M.ondestroy,this.onrestart=M.onrestart,this._pausedTime=0,this._paused=!1}w.prototype={constructor:w,step:function(M,I){if(this._initialized||(this._startTime=M+this._delay,this._initialized=!0),this._paused)this._pausedTime+=I;else{var D=(M-this._startTime-this._pausedTime)/this._life;if(!(D<0)){D=Math.min(D,1);var b=this.easing,y="string"==typeof b?T[b]:b,h="function"==typeof y?y(D):D;return this.fire("frame",h),1===D?this.loop?(this.restart(M),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(M){this._startTime=M-(M-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(M,I){this[M="on"+M]&&this[M](this._target,I)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}},j.exports=w},61708:j=>{var U={linear:function(T){return T},quadraticIn:function(T){return T*T},quadraticOut:function(T){return T*(2-T)},quadraticInOut:function(T){return(T*=2)<1?.5*T*T:-.5*(--T*(T-2)-1)},cubicIn:function(T){return T*T*T},cubicOut:function(T){return--T*T*T+1},cubicInOut:function(T){return(T*=2)<1?.5*T*T*T:.5*((T-=2)*T*T+2)},quarticIn:function(T){return T*T*T*T},quarticOut:function(T){return 1- --T*T*T*T},quarticInOut:function(T){return(T*=2)<1?.5*T*T*T*T:-.5*((T-=2)*T*T*T-2)},quinticIn:function(T){return T*T*T*T*T},quinticOut:function(T){return--T*T*T*T*T+1},quinticInOut:function(T){return(T*=2)<1?.5*T*T*T*T*T:.5*((T-=2)*T*T*T*T+2)},sinusoidalIn:function(T){return 1-Math.cos(T*Math.PI/2)},sinusoidalOut:function(T){return Math.sin(T*Math.PI/2)},sinusoidalInOut:function(T){return.5*(1-Math.cos(Math.PI*T))},exponentialIn:function(T){return 0===T?0:Math.pow(1024,T-1)},exponentialOut:function(T){return 1===T?1:1-Math.pow(2,-10*T)},exponentialInOut:function(T){return 0===T?0:1===T?1:(T*=2)<1?.5*Math.pow(1024,T-1):.5*(2-Math.pow(2,-10*(T-1)))},circularIn:function(T){return 1-Math.sqrt(1-T*T)},circularOut:function(T){return Math.sqrt(1- --T*T)},circularInOut:function(T){return(T*=2)<1?-.5*(Math.sqrt(1-T*T)-1):.5*(Math.sqrt(1-(T-=2)*T)+1)},elasticIn:function(T){var w,t=.1;return 0===T?0:1===T?1:(!t||t<1?(t=1,w=.1):w=.4*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(T-=1))*Math.sin((T-w)*(2*Math.PI)/.4))},elasticOut:function(T){var w,t=.1;return 0===T?0:1===T?1:(!t||t<1?(t=1,w=.1):w=.4*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*T)*Math.sin((T-w)*(2*Math.PI)/.4)+1)},elasticInOut:function(T){var w,t=.1;return 0===T?0:1===T?1:(!t||t<1?(t=1,w=.1):w=.4*Math.asin(1/t)/(2*Math.PI),(T*=2)<1?t*Math.pow(2,10*(T-=1))*Math.sin((T-w)*(2*Math.PI)/.4)*-.5:t*Math.pow(2,-10*(T-=1))*Math.sin((T-w)*(2*Math.PI)/.4)*.5+1)},backIn:function(T){var w=1.70158;return T*T*((w+1)*T-w)},backOut:function(T){var w=1.70158;return--T*T*((w+1)*T+w)+1},backInOut:function(T){var w=2.5949095;return(T*=2)<1?T*T*((w+1)*T-w)*.5:.5*((T-=2)*T*((w+1)*T+w)+2)},bounceIn:function(T){return 1-U.bounceOut(1-T)},bounceOut:function(T){return T<.36363636363636365?7.5625*T*T:T<.7272727272727273?7.5625*(T-=.5454545454545454)*T+.75:T<.9090909090909091?7.5625*(T-=.8181818181818182)*T+.9375:7.5625*(T-=.9545454545454546)*T+.984375},bounceInOut:function(T){return T<.5?.5*U.bounceIn(2*T):.5*U.bounceOut(2*T-1)+.5}};j.exports=U},90663:j=>{var U=typeof window<"u"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(i){setTimeout(i,16)};j.exports=U},16905:(j,U)=>{var i=1;typeof window<"u"&&(i=Math.max(window.devicePixelRatio||1,1));var w=i;U.debugMode=0,U.devicePixelRatio=w},95627:(j,U,i)=>{var w=i(74301).normalizeRadian,t=2*Math.PI;U.containStroke=function M(I,D,b,y,h,n,c,o,a){if(0===c)return!1;var u=c;o-=I,a-=D;var e=Math.sqrt(o*o+a*a);if(e-u>b||e+u<b)return!1;if(Math.abs(y-h)%t<1e-4)return!0;if(n){var s=y;y=w(h),h=w(s)}else y=w(y),h=w(h);y>h&&(h+=t);var r=Math.atan2(a,o);return r<0&&(r+=t),r>=y&&r<=h||r+t>=y&&r+t<=h}},64489:(j,U,i)=>{var T=i(46846);U.containStroke=function w(t,M,I,D,b,y,h,n,c,o,a){if(0===c)return!1;var u=c;return!(a>M+u&&a>D+u&&a>y+u&&a>n+u||a<M-u&&a<D-u&&a<y-u&&a<n-u||o>t+u&&o>I+u&&o>b+u&&o>h+u||o<t-u&&o<I-u&&o<b-u&&o<h-u)&&T.cubicProjectPoint(t,M,I,D,b,y,h,n,o,a,null)<=u/2}},40031:(j,U)=>{U.containStroke=function i(T,w,t,M,I,D,b){if(0===I)return!1;var h,y=I;if(b>w+y&&b>M+y||b<w-y&&b<M-y||D>T+y&&D>t+y||D<T-y&&D<t-y)return!1;if(T===t)return Math.abs(D-T)<=y/2;var c=(h=(w-M)/(T-t))*D-b+(T*M-t*w)/(T-t);return c*c/(h*h+1)<=y/2*y/2}},62001:(j,U,i)=>{var T=i(87034),w=i(40031),t=i(64489),M=i(47538),I=i(95627),b=i(74301).normalizeRadian,y=i(46846),h=i(16567),n=T.CMD,c=2*Math.PI,o=1e-4,u=[-1,-1,-1],e=[-1,-1];function s(){var S=e[0];e[0]=e[1],e[1]=S}function r(S,C,x,g,m,A,L,E,N,R){if(R>C&&R>g&&R>A&&R>E||R<C&&R<g&&R<A&&R<E)return 0;var F=y.cubicRootAt(C,g,A,E,R,u);if(0===F)return 0;for(var Z,W,H=0,B=-1,$=0;$<F;$++){var Y=u[$],V=0===Y||1===Y?.5:1;y.cubicAt(S,x,m,L,Y)<N||(B<0&&(B=y.cubicExtrema(C,g,A,E,e),e[1]<e[0]&&B>1&&s(),Z=y.cubicAt(C,g,A,E,e[0]),B>1&&(W=y.cubicAt(C,g,A,E,e[1]))),H+=2===B?Y<e[0]?Z<C?V:-V:Y<e[1]?W<Z?V:-V:E<W?V:-V:Y<e[0]?Z<C?V:-V:E<Z?V:-V)}return H}function l(S,C,x,g,m,A,L,E){if(E>C&&E>g&&E>A||E<C&&E<g&&E<A)return 0;var N=y.quadraticRootAt(C,g,A,E,u);if(0===N)return 0;var R=y.quadraticExtremum(C,g,A);if(R>=0&&R<=1){for(var F=0,H=y.quadraticAt(C,g,A,R),B=0;B<N;B++){var Z=0===u[B]||1===u[B]?.5:1;y.quadraticAt(S,x,m,u[B])<L||(F+=u[B]<R?H<C?Z:-Z:A<H?Z:-Z)}return F}return Z=0===u[0]||1===u[0]?.5:1,y.quadraticAt(S,x,m,u[0])<L?0:A<C?Z:-Z}function d(S,C,x,g,m,A,L,E){if((E-=C)>x||E<-x)return 0;var N=Math.sqrt(x*x-E*E);u[0]=-N,u[1]=N;var R=Math.abs(g-m);if(R<1e-4)return 0;if(R%c<1e-4){g=0,m=c;var F=A?1:-1;return L>=u[0]+S&&L<=u[1]+S?F:0}A?(N=g,g=b(m),m=b(N)):(g=b(g),m=b(m)),g>m&&(m+=c);for(var H=0,B=0;B<2;B++){var Z=u[B];if(Z+S>L){var W=Math.atan2(E,Z);F=A?1:-1,W<0&&(W=c+W),(W>=g&&W<=m||W+c>=g&&W+c<=m)&&(W>Math.PI/2&&W<1.5*Math.PI&&(F=-F),H+=F)}}return H}function v(S,C,x,g,m){for(var A=0,L=0,E=0,N=0,R=0,F=0;F<S.length;){var H=S[F++];switch(H===n.M&&F>1&&(x||(A+=h(L,E,N,R,g,m))),1===F&&(N=L=S[F],R=E=S[F+1]),H){case n.M:L=N=S[F++],E=R=S[F++];break;case n.L:if(x){if(w.containStroke(L,E,S[F],S[F+1],C,g,m))return!0}else A+=h(L,E,S[F],S[F+1],g,m)||0;L=S[F++],E=S[F++];break;case n.C:if(x){if(t.containStroke(L,E,S[F++],S[F++],S[F++],S[F++],S[F],S[F+1],C,g,m))return!0}else A+=r(L,E,S[F++],S[F++],S[F++],S[F++],S[F],S[F+1],g,m)||0;L=S[F++],E=S[F++];break;case n.Q:if(x){if(M.containStroke(L,E,S[F++],S[F++],S[F],S[F+1],C,g,m))return!0}else A+=l(L,E,S[F++],S[F++],S[F],S[F+1],g,m)||0;L=S[F++],E=S[F++];break;case n.A:var B=S[F++],Z=S[F++],W=S[F++],$=S[F++],Y=S[F++],V=S[F++];F+=1;var z=1-S[F++],et=Math.cos(Y)*W+B,rt=Math.sin(Y)*$+Z;F>1?A+=h(L,E,et,rt,g,m):(N=et,R=rt);var k=(g-B)*$/W+B;if(x){if(I.containStroke(B,Z,$,Y,Y+V,z,C,k,m))return!0}else A+=d(B,Z,$,Y,Y+V,z,k,m);L=Math.cos(Y+V)*W+B,E=Math.sin(Y+V)*$+Z;break;case n.R:if(N=L=S[F++],R=E=S[F++],et=N+S[F++],rt=R+S[F++],x){if(w.containStroke(N,R,et,R,C,g,m)||w.containStroke(et,R,et,rt,C,g,m)||w.containStroke(et,rt,N,rt,C,g,m)||w.containStroke(N,rt,N,R,C,g,m))return!0}else A+=h(et,R,et,rt,g,m),A+=h(N,rt,N,R,g,m);break;case n.Z:if(x){if(w.containStroke(L,E,N,R,C,g,m))return!0}else A+=h(L,E,N,R,g,m);L=N,E=R}}return!x&&!function a(S,C){return Math.abs(S-C)<o}(E,R)&&(A+=h(L,E,N,R,g,m)||0),0!==A}U.contain=function f(S,C,x){return v(S,0,!1,C,x)},U.containStroke=function p(S,C,x,g){return v(S,C,!0,x,g)}},68418:(j,U,i)=>{var T=i(16567),w=1e-8;function t(I,D){return Math.abs(I-D)<w}U.contain=function M(I,D,b){var y=0,h=I[0];if(!h)return!1;for(var n=1;n<I.length;n++){var c=I[n];y+=T(h[0],h[1],c[0],c[1],D,b),h=c}var o=I[0];return(!t(h[0],o[0])||!t(h[1],o[1]))&&(y+=T(h[0],h[1],o[0],o[1],D,b)),0!==y}},47538:(j,U,i)=>{var w=i(46846).quadraticProjectPoint;U.containStroke=function t(M,I,D,b,y,h,n,c,o){if(0===n)return!1;var a=n;return!(o>I+a&&o>b+a&&o>h+a||o<I-a&&o<b-a&&o<h-a||c>M+a&&c>D+a&&c>y+a||c<M-a&&c<D-a&&c<y-a)&&w(M,I,D,b,y,h,c,o,null)<=a/2}},50585:(j,U,i)=>{var T=i(94525),w=i(65486),t=i(66615),M=t.getContext,I=t.extend,D=t.retrieve2,b=t.retrieve3,y=t.trim,h={},n=0,c=5e3,o=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,a="12px sans-serif",u={};function s(H,B){var Z=H+":"+(B=B||a);if(h[Z])return h[Z];for(var W=(H+"").split("\n"),$=0,Y=0,V=W.length;Y<V;Y++)$=Math.max(L(W[Y],B).width,$);return n>c&&(n=0,h={}),n++,h[Z]=$,$}function v(H,B,Z){return"right"===Z?H-=B:"center"===Z&&(H-=B/2),H}function f(H,B,Z){return"middle"===Z?H-=B/2:"bottom"===Z&&(H-=B),H}function p(H,B,Z){var $=B.textDistance,Y=Z.x,V=Z.y;$=$||0;var z=Z.height,k=Z.width,X=z/2,q="left",et="top";switch(B.textPosition){case"left":Y-=$,V+=X,q="right",et="middle";break;case"right":Y+=$+k,V+=X,et="middle";break;case"top":Y+=k/2,V-=$,q="center",et="bottom";break;case"bottom":Y+=k/2,V+=z+$,q="center";break;case"inside":Y+=k/2,V+=X,q="center",et="middle";break;case"insideLeft":Y+=$,V+=X,et="middle";break;case"insideRight":Y+=k-$,V+=X,q="right",et="middle";break;case"insideTop":Y+=k/2,V+=$,q="center";break;case"insideBottom":Y+=k/2,V+=z-$,q="center",et="bottom";break;case"insideTopLeft":Y+=$,V+=$;break;case"insideTopRight":Y+=k-$,V+=$,q="right";break;case"insideBottomLeft":Y+=$,V+=z-$,et="bottom";break;case"insideBottomRight":Y+=k-$,V+=z-$,q="right",et="bottom"}return(H=H||{}).x=Y,H.y=V,H.textAlign=q,H.textVerticalAlign=et,H}function C(H,B,Z,W,$){if(!B)return"";var Y=(H+"").split("\n");$=x(B,Z,W,$);for(var V=0,z=Y.length;V<z;V++)Y[V]=g(Y[V],$);return Y.join("\n")}function x(H,B,$,W){(W=I({},W)).font=B,$=D($,"..."),W.maxIterations=D(W.maxIterations,2);var Y=W.minChar=D(W.minChar,0);W.cnCharWidth=s("\u56fd",B);var V=W.ascCharWidth=s("a",B);W.placeholder=D(W.placeholder,"");for(var z=H=Math.max(0,H-1),k=0;k<Y&&z>=V;k++)z-=V;var X=s($,B);return X>z&&($="",X=0),z=H-X,W.ellipsis=$,W.ellipsisWidth=X,W.contentWidth=z,W.containerWidth=H,W}function g(H,B){var Z=B.containerWidth,W=B.font,$=B.contentWidth;if(!Z)return"";var Y=s(H,W);if(Y<=Z)return H;for(var V=0;;V++){if(Y<=$||V>=B.maxIterations){H+=B.ellipsis;break}var z=0===V?m(H,$,B.ascCharWidth,B.cnCharWidth):Y>0?Math.floor(H.length*$/Y):0;Y=s(H=H.substr(0,z),W)}return""===H&&(H=B.placeholder),H}function m(H,B,Z,W){for(var $=0,Y=0,V=H.length;Y<V&&$<B;Y++){var z=H.charCodeAt(Y);$+=0<=z&&z<=127?Z:W}return Y}function A(H){return s("\u56fd",H)}function L(H,B){return u.measureText(H,B)}function E(H,B,Z,W,$){null!=H&&(H+="");var Y=D(W,A(B)),V=H?H.split("\n"):[],z=V.length*Y,k=z,X=!0;if(Z&&(k+=Z[0]+Z[2]),H&&$){X=!1;var q=$.outerHeight,et=$.outerWidth;if(null!=q&&k>q)H="",V=[];else if(null!=et)for(var rt=x(et-(Z?Z[1]+Z[3]:0),B,$.ellipsis,{minChar:$.minChar,placeholder:$.placeholder}),it=0,lt=V.length;it<lt;it++)V[it]=g(V[it],rt)}return{lines:V,height:z,outerHeight:k,lineHeight:Y,canCacheByTextString:X}}function N(H,B){var Z={lines:[],width:0,height:0};if(null!=H&&(H+=""),!H)return Z;for(var $,W=o.lastIndex=0;null!=($=o.exec(H));){var Y=$.index;Y>W&&R(Z,H.substring(W,Y)),R(Z,$[2],$[1]),W=o.lastIndex}W<H.length&&R(Z,H.substring(W,H.length));var V=Z.lines,z=0,k=0,X=[],q=B.textPadding,et=B.truncate,rt=et&&et.outerWidth,it=et&&et.outerHeight;q&&(null!=rt&&(rt-=q[1]+q[3]),null!=it&&(it-=q[0]+q[2]));for(var lt=0;lt<V.length;lt++){for(var dt=V[lt],ht=0,gt=0,at=0;at<dt.tokens.length;at++){var Ct=(ut=dt.tokens[at]).styleName&&B.rich[ut.styleName]||{},_t=ut.textPadding=Ct.textPadding,bt=ut.font=Ct.font||B.font,Rt=ut.textHeight=D(Ct.textHeight,A(bt));if(_t&&(Rt+=_t[0]+_t[2]),ut.height=Rt,ut.lineHeight=b(Ct.textLineHeight,B.textLineHeight,Rt),ut.textAlign=Ct&&Ct.textAlign||B.textAlign,ut.textVerticalAlign=Ct&&Ct.textVerticalAlign||"middle",null!=it&&z+ut.lineHeight>it)return{lines:[],width:0,height:0};ut.textWidth=s(ut.text,bt);var yt=Ct.textWidth,Tt=null==yt||"auto"===yt;if("string"==typeof yt&&"%"===yt.charAt(yt.length-1))ut.percentWidth=yt,X.push(ut),yt=0;else{if(Tt){yt=ut.textWidth;var Pt=Ct.textBackgroundColor,Zt=Pt&&Pt.image;Zt&&(Zt=w.findExistImage(Zt),w.isImageReady(Zt)&&(yt=Math.max(yt,Zt.width*Rt/Zt.height)))}var Vt=_t?_t[1]+_t[3]:0;yt+=Vt;var ft=null!=rt?rt-gt:null;null!=ft&&ft<yt&&(!Tt||ft<Vt?(ut.text="",ut.textWidth=yt=0):(ut.text=C(ut.text,ft-Vt,bt,et.ellipsis,{minChar:et.minChar}),ut.textWidth=s(ut.text,bt),yt=ut.textWidth+Vt))}gt+=ut.width=yt,Ct&&(ht=Math.max(ht,ut.lineHeight))}dt.width=gt,dt.lineHeight=ht,z+=ht,k=Math.max(k,gt)}for(Z.outerWidth=Z.width=D(B.textWidth,k),Z.outerHeight=Z.height=D(B.textHeight,z),q&&(Z.outerWidth+=q[1]+q[3],Z.outerHeight+=q[0]+q[2]),lt=0;lt<X.length;lt++){var ut;(ut=X[lt]).width=parseInt(ut.percentWidth,10)/100*k}return Z}function R(H,B,Z){for(var W=""===B,$=B.split("\n"),Y=H.lines,V=0;V<$.length;V++){var z=$[V],k={styleName:Z,text:z,isLineHolder:!z&&!W};if(V)Y.push({tokens:[k]});else{var X=(Y[Y.length-1]||(Y[0]={tokens:[]})).tokens,q=X.length;1===q&&X[0].isLineHolder?X[0]=k:(z||!q||W)&&X.push(k)}}}u.measureText=function(H,B){var Z=M();return Z.font=B||a,Z.measureText(H)},U.DEFAULT_FONT=a,U.$override=function e(H,B){u[H]=B},U.getWidth=s,U.getBoundingRect=function r(H,B,Z,W,$,Y,V,z){return V?function d(H,B,Z,W,$,Y,V,z){var k=N(H,{rich:V,truncate:z,font:B,textAlign:Z,textPadding:$,textLineHeight:Y}),X=k.outerWidth,q=k.outerHeight,et=v(0,X,Z),rt=f(0,q,W);return new T(et,rt,X,q)}(H,B,Z,W,$,Y,V,z):function l(H,B,Z,W,$,Y,V){var z=E(H,B,$,Y,V),k=s(H,B);$&&(k+=$[1]+$[3]);var X=z.outerHeight,q=v(0,k,Z),et=f(0,X,W),rt=new T(q,et,k,X);return rt.lineHeight=z.lineHeight,rt}(H,B,Z,W,$,Y,z)},U.adjustTextX=v,U.adjustTextY=f,U.calculateTextPosition=p,U.adjustTextPositionOnRect=function S(H,B,Z){return p({},{textPosition:H,textDistance:Z},B)},U.truncateText=C,U.getLineHeight=A,U.measureText=L,U.parsePlainText=E,U.parseRichText=N,U.makeFont=function F(H){var B=(H.fontSize||H.fontFamily)&&[H.fontStyle,H.fontWeight,(H.fontSize||12)+"px",H.fontFamily||"sans-serif"].join(" ");return B&&y(B)||H.textFont||H.font}},74301:(j,U)=>{var i=2*Math.PI;U.normalizeRadian=function T(w){return(w%=i)<0&&(w+=i),w}},16567:j=>{j.exports=function U(i,T,w,t,M,I){if(I>T&&I>t||I<T&&I<t||t===T)return 0;var D=t<T?1:-1,b=(I-T)/(t-T);(1===b||0===b)&&(D=t<T?.5:-.5);var y=b*(w-i)+i;return y===M?1/0:y>M?D:0}},29367:(j,U,i)=>{var T=i(66615),w=i(52501),t=i(94525),M=function(D){for(var b in w.call(this,D=D||{}),D)D.hasOwnProperty(b)&&(this[b]=D[b]);this._children=[],this.__storage=null,this.__dirty=!0};M.prototype={constructor:M,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(D){return this._children[D]},childOfName:function(D){for(var b=this._children,y=0;y<b.length;y++)if(b[y].name===D)return b[y]},childCount:function(){return this._children.length},add:function(D){return D&&D!==this&&D.parent!==this&&(this._children.push(D),this._doAdd(D)),this},addBefore:function(D,b){if(D&&D!==this&&D.parent!==this&&b&&b.parent===this){var y=this._children,h=y.indexOf(b);h>=0&&(y.splice(h,0,D),this._doAdd(D))}return this},_doAdd:function(D){D.parent&&D.parent.remove(D),D.parent=this;var b=this.__storage,y=this.__zr;b&&b!==D.__storage&&(b.addToStorage(D),D instanceof M&&D.addChildrenToStorage(b)),y&&y.refresh()},remove:function(D){var b=this.__zr,y=this.__storage,h=this._children,n=T.indexOf(h,D);return n<0||(h.splice(n,1),D.parent=null,y&&(y.delFromStorage(D),D instanceof M&&D.delChildrenFromStorage(y)),b&&b.refresh()),this},removeAll:function(){var y,h,D=this._children,b=this.__storage;for(h=0;h<D.length;h++)y=D[h],b&&(b.delFromStorage(y),y instanceof M&&y.delChildrenFromStorage(b)),y.parent=null;return D.length=0,this},eachChild:function(D,b){for(var y=this._children,h=0;h<y.length;h++)D.call(b,y[h],h);return this},traverse:function(D,b){for(var y=0;y<this._children.length;y++){var h=this._children[y];D.call(b,h),"group"===h.type&&h.traverse(D,b)}return this},addChildrenToStorage:function(D){for(var b=0;b<this._children.length;b++){var y=this._children[b];D.addToStorage(y),y instanceof M&&y.addChildrenToStorage(D)}},delChildrenFromStorage:function(D){for(var b=0;b<this._children.length;b++){var y=this._children[b];D.delFromStorage(y),y instanceof M&&y.delChildrenFromStorage(D)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(D){for(var b=null,y=new t(0,0,0,0),h=D||this._children,n=[],c=0;c<h.length;c++){var o=h[c];if(!o.ignore&&!o.invisible){var a=o.getBoundingRect(),u=o.getLocalTransform(n);u?(y.copy(a),y.applyTransform(u),(b=b||y.clone()).union(y)):(b=b||a.clone()).union(a)}}return b||y}},T.inherits(M,w),j.exports=M},94525:(j,U,i)=>{var y,h,n,c,T=i(8544),w=i(84498),t=T.applyTransform,M=Math.min,I=Math.max;function D(y,h,n,c){n<0&&(y+=n,n=-n),c<0&&(h+=c,c=-c),this.x=y,this.y=h,this.width=n,this.height=c}D.prototype={constructor:D,union:function(y){var h=M(y.x,this.x),n=M(y.y,this.y);this.width=I(y.x+y.width,this.x+this.width)-h,this.height=I(y.y+y.height,this.y+this.height)-n,this.x=h,this.y=n},applyTransform:(y=[],h=[],n=[],c=[],function(o){if(o){y[0]=n[0]=this.x,y[1]=c[1]=this.y,h[0]=c[0]=this.x+this.width,h[1]=n[1]=this.y+this.height,t(y,y,o),t(h,h,o),t(n,n,o),t(c,c,o),this.x=M(y[0],h[0],n[0],c[0]),this.y=M(y[1],h[1],n[1],c[1]);var a=I(y[0],h[0],n[0],c[0]),u=I(y[1],h[1],n[1],c[1]);this.width=a-this.x,this.height=u-this.y}}),calculateTransform:function(y){var h=this,n=y.width/h.width,c=y.height/h.height,o=w.create();return w.translate(o,o,[-h.x,-h.y]),w.scale(o,o,[n,c]),w.translate(o,o,[y.x,y.y]),o},intersect:function(y){if(!y)return!1;y instanceof D||(y=D.create(y));var h=this;return!(h.x+h.width<y.x||y.x+y.width<h.x||h.y+h.height<y.y||y.y+y.height<h.y)},contain:function(y,h){var n=this;return y>=n.x&&y<=n.x+n.width&&h>=n.y&&h<=n.y+n.height},clone:function(){return new D(this.x,this.y,this.width,this.height)},copy:function(y){this.x=y.x,this.y=y.y,this.width=y.width,this.height=y.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},D.create=function(y){return new D(y.x,y.y,y.width,y.height)},j.exports=D},23121:(j,U,i)=>{var T=i(53626),w=function(){this._track=[]};function t(b){var y=b[1][0]-b[0][0],h=b[1][1]-b[0][1];return Math.sqrt(y*y+h*h)}w.prototype={constructor:w,recognize:function(b,y,h){return this._doTrack(b,y,h),this._recognize(b)},clear:function(){return this._track.length=0,this},_doTrack:function(b,y,h){var n=b.touches;if(n){for(var c={points:[],touches:[],target:y,event:b},o=0,a=n.length;o<a;o++){var u=n[o],e=T.clientToLocal(h,u,{});c.points.push([e.zrX,e.zrY]),c.touches.push(u)}this._track.push(c)}},_recognize:function(b){for(var y in I)if(I.hasOwnProperty(y)){var h=I[y](this._track,b);if(h)return h}}};var I={pinch:function(b,y){var h=b.length;if(h){var n=(b[h-1]||{}).points,c=(b[h-2]||{}).points||n;if(c&&c.length>1&&n&&n.length>1){var o=t(n)/t(c);!isFinite(o)&&(o=1),y.pinchScale=o;var a=function M(b){return[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]}(n);return y.pinchX=a[0],y.pinchY=a[1],{type:"pinch",target:b[0].target,event:y}}}}};j.exports=w},39286:j=>{var U=function(){this.head=null,this.tail=null,this._len=0},i=U.prototype;i.insert=function(I){var D=new T(I);return this.insertEntry(D),D},i.insertEntry=function(I){this.head?(this.tail.next=I,I.prev=this.tail,I.next=null,this.tail=I):this.head=this.tail=I,this._len++},i.remove=function(I){var D=I.prev,b=I.next;D?D.next=b:this.head=b,b?b.prev=D:this.tail=D,I.next=I.prev=null,this._len--},i.len=function(){return this._len},i.clear=function(){this.head=this.tail=null,this._len=0};var T=function(I){this.value=I},w=function(I){this._list=new U,this._map={},this._maxSize=I||10,this._lastRemovedEntry=null},t=w.prototype;t.put=function(I,D){var b=this._list,y=this._map,h=null;if(null==y[I]){var n=b.len(),c=this._lastRemovedEntry;if(n>=this._maxSize&&n>0){var o=b.head;b.remove(o),delete y[o.key],h=o.value,this._lastRemovedEntry=o}c?c.value=D:c=new T(D),c.key=I,b.insertEntry(c),y[I]=c}return h},t.get=function(I){var D=this._map[I],b=this._list;if(null!=D)return D!==b.tail&&(b.remove(D),b.insertEntry(D)),D.value},t.clear=function(){this._list.clear(),this._map={}},j.exports=w},87034:(j,U,i)=>{var T=i(46846),w=i(8544),t=i(53020),M=i(94525),D=i(16905).devicePixelRatio,b={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},y=[],h=[],n=[],c=[],o=Math.min,a=Math.max,u=Math.cos,e=Math.sin,s=Math.sqrt,r=Math.abs,l=typeof Float32Array<"u",d=function(f){this._saveData=!f,this._saveData&&(this.data=[]),this._ctx=null};d.prototype={constructor:d,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(f,p,S){this._ux=r((S=S||0)/D/f)||0,this._uy=r(S/D/p)||0},getContext:function(){return this._ctx},beginPath:function(f){return this._ctx=f,f&&f.beginPath(),f&&(this.dpr=f.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(f,p){return this.addData(b.M,f,p),this._ctx&&this._ctx.moveTo(f,p),this._x0=f,this._y0=p,this._xi=f,this._yi=p,this},lineTo:function(f,p){var S=r(f-this._xi)>this._ux||r(p-this._yi)>this._uy||this._len<5;return this.addData(b.L,f,p),this._ctx&&S&&(this._needsDash()?this._dashedLineTo(f,p):this._ctx.lineTo(f,p)),S&&(this._xi=f,this._yi=p),this},bezierCurveTo:function(f,p,S,C,x,g){return this.addData(b.C,f,p,S,C,x,g),this._ctx&&(this._needsDash()?this._dashedBezierTo(f,p,S,C,x,g):this._ctx.bezierCurveTo(f,p,S,C,x,g)),this._xi=x,this._yi=g,this},quadraticCurveTo:function(f,p,S,C){return this.addData(b.Q,f,p,S,C),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(f,p,S,C):this._ctx.quadraticCurveTo(f,p,S,C)),this._xi=S,this._yi=C,this},arc:function(f,p,S,C,x,g){return this.addData(b.A,f,p,S,S,C,x-C,0,g?0:1),this._ctx&&this._ctx.arc(f,p,S,C,x,g),this._xi=u(x)*S+f,this._yi=e(x)*S+p,this},arcTo:function(f,p,S,C,x){return this._ctx&&this._ctx.arcTo(f,p,S,C,x),this},rect:function(f,p,S,C){return this._ctx&&this._ctx.rect(f,p,S,C),this.addData(b.R,f,p,S,C),this},closePath:function(){this.addData(b.Z);var f=this._ctx,p=this._x0,S=this._y0;return f&&(this._needsDash()&&this._dashedLineTo(p,S),f.closePath()),this._xi=p,this._yi=S,this},fill:function(f){f&&f.fill(),this.toStatic()},stroke:function(f){f&&f.stroke(),this.toStatic()},setLineDash:function(f){if(f instanceof Array){this._lineDash=f,this._dashIdx=0;for(var p=0,S=0;S<f.length;S++)p+=f[S];this._dashSum=p}return this},setLineDashOffset:function(f){return this._dashOffset=f,this},len:function(){return this._len},setData:function(f){var p=f.length;(!this.data||this.data.length!==p)&&l&&(this.data=new Float32Array(p));for(var S=0;S<p;S++)this.data[S]=f[S];this._len=p},appendPath:function(f){f instanceof Array||(f=[f]);for(var p=f.length,S=0,C=this._len,x=0;x<p;x++)S+=f[x].len();for(l&&this.data instanceof Float32Array&&(this.data=new Float32Array(C+S)),x=0;x<p;x++)for(var g=f[x].data,m=0;m<g.length;m++)this.data[C++]=g[m];this._len=C},addData:function(f){if(this._saveData){var p=this.data;this._len+arguments.length>p.length&&(this._expandData(),p=this.data);for(var S=0;S<arguments.length;S++)p[this._len++]=arguments[S];this._prevCmd=f}},_expandData:function(){if(!(this.data instanceof Array)){for(var f=[],p=0;p<this._len;p++)f[p]=this.data[p];this.data=f}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(f,p){var H,Z,S=this._dashSum,C=this._dashOffset,x=this._lineDash,g=this._ctx,m=this._xi,A=this._yi,L=f-m,E=p-A,N=s(L*L+E*E),R=m,F=A,B=x.length;for(C<0&&(C=S+C),R-=(C%=S)*(L/=N),F-=C*(E/=N);L>0&&R<=f||L<0&&R>=f||0===L&&(E>0&&F<=p||E<0&&F>=p);)R+=L*(H=x[Z=this._dashIdx]),F+=E*H,this._dashIdx=(Z+1)%B,!(L>0&&R<m||L<0&&R>m||E>0&&F<A||E<0&&F>A)&&g[Z%2?"moveTo":"lineTo"](L>=0?o(R,f):a(R,f),E>=0?o(F,p):a(F,p));this._dashOffset=-s((L=R-f)*L+(E=F-p)*E)},_dashedBezierTo:function(f,p,S,C,x,g){var F,H,B,V,z,m=this._dashSum,A=this._dashOffset,L=this._lineDash,E=this._ctx,N=this._xi,R=this._yi,Z=T.cubicAt,W=0,$=this._dashIdx,Y=L.length,k=0;for(A<0&&(A=m+A),A%=m,F=0;F<1;F+=.1)H=Z(N,f,S,x,F+.1)-Z(N,f,S,x,F),B=Z(R,p,C,g,F+.1)-Z(R,p,C,g,F),W+=s(H*H+B*B);for(;$<Y&&!((k+=L[$])>A);$++);for(F=(k-A)/W;F<=1;)V=Z(N,f,S,x,F),z=Z(R,p,C,g,F),$%2?E.moveTo(V,z):E.lineTo(V,z),F+=L[$]/W,$=($+1)%Y;$%2!=0&&E.lineTo(x,g),this._dashOffset=-s((H=x-V)*H+(B=g-z)*B)},_dashedQuadraticTo:function(f,p,S,C){var x=S,g=C;S=(S+2*f)/3,C=(C+2*p)/3,this._dashedBezierTo(f=(this._xi+2*f)/3,p=(this._yi+2*p)/3,S,C,x,g)},toStatic:function(){var f=this.data;f instanceof Array&&(f.length=this._len,l&&(this.data=new Float32Array(f)))},getBoundingRect:function(){y[0]=y[1]=n[0]=n[1]=Number.MAX_VALUE,h[0]=h[1]=c[0]=c[1]=-Number.MAX_VALUE;for(var f=this.data,p=0,S=0,C=0,x=0,g=0;g<f.length;){var m=f[g++];switch(1===g&&(C=p=f[g],x=S=f[g+1]),m){case b.M:p=C=f[g++],S=x=f[g++],n[0]=C,n[1]=x,c[0]=C,c[1]=x;break;case b.L:t.fromLine(p,S,f[g],f[g+1],n,c),p=f[g++],S=f[g++];break;case b.C:t.fromCubic(p,S,f[g++],f[g++],f[g++],f[g++],f[g],f[g+1],n,c),p=f[g++],S=f[g++];break;case b.Q:t.fromQuadratic(p,S,f[g++],f[g++],f[g],f[g+1],n,c),p=f[g++],S=f[g++];break;case b.A:var A=f[g++],L=f[g++],E=f[g++],N=f[g++],R=f[g++],F=f[g++]+R;g+=1;var H=1-f[g++];1===g&&(C=u(R)*E+A,x=e(R)*N+L),t.fromArc(A,L,E,N,R,F,H,n,c),p=u(F)*E+A,S=e(F)*N+L;break;case b.R:C=p=f[g++],x=S=f[g++];var B=f[g++],Z=f[g++];t.fromLine(C,x,C+B,x+Z,n,c);break;case b.Z:p=C,S=x}w.min(y,y,n),w.max(h,h,c)}return 0===g&&(y[0]=y[1]=h[0]=h[1]=0),new M(y[0],y[1],h[0]-y[0],h[1]-y[1])},rebuildPath:function(f){for(var S,C,x,g,m,A,p=this.data,L=this._ux,E=this._uy,N=this._len,R=0;R<N;){var F=p[R++];switch(1===R&&(S=x=p[R],C=g=p[R+1]),F){case b.M:S=x=p[R++],C=g=p[R++],f.moveTo(x,g);break;case b.L:m=p[R++],A=p[R++],(r(m-x)>L||r(A-g)>E||R===N-1)&&(f.lineTo(m,A),x=m,g=A);break;case b.C:f.bezierCurveTo(p[R++],p[R++],p[R++],p[R++],p[R++],p[R++]),x=p[R-2],g=p[R-1];break;case b.Q:f.quadraticCurveTo(p[R++],p[R++],p[R++],p[R++]),x=p[R-2],g=p[R-1];break;case b.A:var H=p[R++],B=p[R++],Z=p[R++],W=p[R++],$=p[R++],Y=p[R++],V=p[R++],z=p[R++],k=Z>W?Z:W,X=Z>W?1:Z/W,q=Z>W?W/Z:1,rt=$+Y;Math.abs(Z-W)>.001?(f.translate(H,B),f.rotate(V),f.scale(X,q),f.arc(0,0,k,$,rt,1-z),f.scale(1/X,1/q),f.rotate(-V),f.translate(-H,-B)):f.arc(H,B,k,$,rt,1-z),1===R&&(S=u($)*Z+H,C=e($)*W+B),x=u(rt)*Z+H,g=e(rt)*W+B;break;case b.R:S=x=p[R],C=g=p[R+1],f.rect(p[R++],p[R++],p[R++],p[R++]);break;case b.Z:f.closePath(),x=S,g=C}}}},d.CMD=b,j.exports=d},59390:j=>{function U(){}function i(M,I,D,b){for(var y=0,h=I.length,n=0,c=0;y<h;y++){var o=I[y];if(o.removed){for(var a=[],u=c;u<c+o.count;u++)a.push(u);o.indices=a,c+=o.count}else{for(a=[],u=n;u<n+o.count;u++)a.push(u);o.indices=a,n+=o.count,o.added||(c+=o.count)}}return I}function T(M){return{newPos:M.newPos,components:M.components.slice(0)}}U.prototype={diff:function(M,I,D){D||(D=function(l,d){return l===d}),this.equals=D;var b=this;M=M.slice();var y=(I=I.slice()).length,h=M.length,n=1,c=y+h,o=[{newPos:-1,components:[]}],a=this.extractCommon(o[0],I,M,0);if(o[0].newPos+1>=y&&a+1>=h){for(var u=[],e=0;e<I.length;e++)u.push(e);return[{indices:u,count:I.length}]}function s(){for(var l=-1*n;l<=n;l+=2){var d,v=o[l-1],f=o[l+1],p=(f?f.newPos:0)-l;v&&(o[l-1]=void 0);var S=v&&v.newPos+1<y,C=f&&0<=p&&p<h;if(S||C){if(!S||C&&v.newPos<f.newPos?(d=T(f),b.pushComponent(d.components,void 0,!0)):((d=v).newPos++,b.pushComponent(d.components,!0,void 0)),p=b.extractCommon(d,I,M,l),d.newPos+1>=y&&p+1>=h)return i(0,d.components);o[l]=d}else o[l]=void 0}n++}for(;n<=c;){var r=s();if(r)return r}},pushComponent:function(M,I,D){var b=M[M.length-1];b&&b.added===I&&b.removed===D?M[M.length-1]={count:b.count+1,added:I,removed:D}:M.push({count:1,added:I,removed:D})},extractCommon:function(M,I,D,b){for(var y=I.length,h=D.length,n=M.newPos,c=n-b,o=0;n+1<y&&c+1<h&&this.equals(I[n+1],D[c+1]);)n++,c++,o++;return o&&M.components.push({count:o}),M.newPos=n,c},tokenize:function(M){return M.slice()},join:function(M){return M.slice()}};var w=new U;j.exports=function t(M,I,D){return w.diff(M,I,D)}},53020:(j,U,i)=>{var T=i(8544),w=i(46846),t=Math.min,M=Math.max,I=Math.sin,D=Math.cos,b=2*Math.PI,y=T.create(),h=T.create(),n=T.create(),a=[],u=[];U.fromPoints=function c(l,d,v){if(0!==l.length){var g,f=l[0],p=f[0],S=f[0],C=f[1],x=f[1];for(g=1;g<l.length;g++)p=t(p,(f=l[g])[0]),S=M(S,f[0]),C=t(C,f[1]),x=M(x,f[1]);d[0]=p,d[1]=C,v[0]=S,v[1]=x}},U.fromLine=function o(l,d,v,f,p,S){p[0]=t(l,v),p[1]=t(d,f),S[0]=M(l,v),S[1]=M(d,f)},U.fromCubic=function e(l,d,v,f,p,S,C,x,g,m){var E,A=w.cubicExtrema,L=w.cubicAt,N=A(l,v,p,C,a);for(g[0]=1/0,g[1]=1/0,m[0]=-1/0,m[1]=-1/0,E=0;E<N;E++){var R=L(l,v,p,C,a[E]);g[0]=t(R,g[0]),m[0]=M(R,m[0])}for(N=A(d,f,S,x,u),E=0;E<N;E++){var F=L(d,f,S,x,u[E]);g[1]=t(F,g[1]),m[1]=M(F,m[1])}g[0]=t(l,g[0]),m[0]=M(l,m[0]),g[0]=t(C,g[0]),m[0]=M(C,m[0]),g[1]=t(d,g[1]),m[1]=M(d,m[1]),g[1]=t(x,g[1]),m[1]=M(x,m[1])},U.fromQuadratic=function s(l,d,v,f,p,S,C,x){var g=w.quadraticExtremum,m=w.quadraticAt,A=M(t(g(l,v,p),1),0),L=M(t(g(d,f,S),1),0),E=m(l,v,p,A),N=m(d,f,S,L);C[0]=t(l,p,E),C[1]=t(d,S,N),x[0]=M(l,p,E),x[1]=M(d,S,N)},U.fromArc=function r(l,d,v,f,p,S,C,x,g){var m=T.min,A=T.max,L=Math.abs(p-S);if(L%b<1e-4&&L>1e-4)return x[0]=l-v,x[1]=d-f,g[0]=l+v,void(g[1]=d+f);if(y[0]=D(p)*v+l,y[1]=I(p)*f+d,h[0]=D(S)*v+l,h[1]=I(S)*f+d,m(x,y,h),A(g,y,h),(p%=b)<0&&(p+=b),(S%=b)<0&&(S+=b),p>S&&!C?S+=b:p<S&&C&&(p+=b),C){var E=S;S=p,p=E}for(var N=0;N<S;N+=Math.PI/2)N>p&&(n[0]=D(N)*v+l,n[1]=I(N)*f+d,m(x,n,x),A(g,n,g))}},46846:(j,U,i)=>{var T=i(8544),w=T.create,t=T.distSquare,M=Math.pow,I=Math.sqrt,D=1e-8,b=1e-4,y=I(3),h=1/3,n=w(),c=w(),o=w();function a(m){return m>-D&&m<D}function u(m){return m>D||m<-D}function e(m,A,L,E,N){var R=1-N;return R*R*(R*m+3*N*A)+N*N*(N*E+3*R*L)}function f(m,A,L,E){var N=1-E;return N*(N*m+2*E*A)+E*E*L}U.cubicAt=e,U.cubicDerivativeAt=function s(m,A,L,E,N){var R=1-N;return 3*(((A-m)*R+2*(L-A)*N)*R+(E-L)*N*N)},U.cubicRootAt=function r(m,A,L,E,N,R){var F=E+3*(A-L)-m,H=3*(L-2*A+m),B=3*(A-m),Z=m-N,W=H*H-3*F*B,$=H*B-9*F*Z,Y=B*B-3*H*Z,V=0;if(a(W)&&a($))a(H)?R[0]=0:(z=-B/H)>=0&&z<=1&&(R[V++]=z);else{var k=$*$-4*W*Y;if(a(k)){var X=$/W,q=-X/2;(z=-H/F+X)>=0&&z<=1&&(R[V++]=z),q>=0&&q<=1&&(R[V++]=q)}else if(k>0){var et=I(k),rt=W*H+1.5*F*(-$+et),it=W*H+1.5*F*(-$-et);(z=(-H-((rt=rt<0?-M(-rt,h):M(rt,h))+(it=it<0?-M(-it,h):M(it,h))))/(3*F))>=0&&z<=1&&(R[V++]=z)}else{var lt=(2*W*H-3*F*$)/(2*I(W*W*W)),dt=Math.acos(lt)/3,ht=I(W),gt=Math.cos(dt),z=(-H-2*ht*gt)/(3*F),at=(q=(-H+ht*(gt+y*Math.sin(dt)))/(3*F),(-H+ht*(gt-y*Math.sin(dt)))/(3*F));z>=0&&z<=1&&(R[V++]=z),q>=0&&q<=1&&(R[V++]=q),at>=0&&at<=1&&(R[V++]=at)}}return V},U.cubicExtrema=function l(m,A,L,E,N){var R=6*L-12*A+6*m,F=9*A+3*E-3*m-9*L,H=3*A-3*m,B=0;if(a(F))u(R)&&(Z=-H/R)>=0&&Z<=1&&(N[B++]=Z);else{var W=R*R-4*F*H;if(a(W))N[0]=-R/(2*F);else if(W>0){var Z,$=I(W),Y=(-R-$)/(2*F);(Z=(-R+$)/(2*F))>=0&&Z<=1&&(N[B++]=Z),Y>=0&&Y<=1&&(N[B++]=Y)}}return B},U.cubicSubdivide=function d(m,A,L,E,N,R){var F=(A-m)*N+m,H=(L-A)*N+A,B=(E-L)*N+L,Z=(H-F)*N+F,W=(B-H)*N+H,$=(W-Z)*N+Z;R[0]=m,R[1]=F,R[2]=Z,R[3]=$,R[4]=$,R[5]=W,R[6]=B,R[7]=E},U.cubicProjectPoint=function v(m,A,L,E,N,R,F,H,B,Z,W){var $,z,k,X,q,Y=.005,V=1/0;n[0]=B,n[1]=Z;for(var et=0;et<1;et+=.05)c[0]=e(m,L,N,F,et),c[1]=e(A,E,R,H,et),(X=t(n,c))<V&&($=et,V=X);V=1/0;for(var rt=0;rt<32&&!(Y<b);rt++)k=$+Y,c[0]=e(m,L,N,F,z=$-Y),c[1]=e(A,E,R,H,z),X=t(c,n),z>=0&&X<V?($=z,V=X):(o[0]=e(m,L,N,F,k),o[1]=e(A,E,R,H,k),q=t(o,n),k<=1&&q<V?($=k,V=q):Y*=.5);return W&&(W[0]=e(m,L,N,F,$),W[1]=e(A,E,R,H,$)),I(V)},U.quadraticAt=f,U.quadraticDerivativeAt=function p(m,A,L,E){return 2*((1-E)*(A-m)+E*(L-A))},U.quadraticRootAt=function S(m,A,L,E,N){var R=m-2*A+L,F=2*(A-m),H=m-E,B=0;if(a(R))u(F)&&(Z=-H/F)>=0&&Z<=1&&(N[B++]=Z);else{var W=F*F-4*R*H;if(a(W))(Z=-F/(2*R))>=0&&Z<=1&&(N[B++]=Z);else if(W>0){var Z,$=I(W),Y=(-F-$)/(2*R);(Z=(-F+$)/(2*R))>=0&&Z<=1&&(N[B++]=Z),Y>=0&&Y<=1&&(N[B++]=Y)}}return B},U.quadraticExtremum=function C(m,A,L){var E=m+L-2*A;return 0===E?.5:(m-A)/E},U.quadraticSubdivide=function x(m,A,L,E,N){var R=(A-m)*E+m,F=(L-A)*E+A,H=(F-R)*E+R;N[0]=m,N[1]=R,N[2]=H,N[3]=H,N[4]=F,N[5]=L},U.quadraticProjectPoint=function g(m,A,L,E,N,R,F,H,B){var Z,W=.005,$=1/0;n[0]=F,n[1]=H;for(var Y=0;Y<1;Y+=.05)c[0]=f(m,L,N,Y),c[1]=f(A,E,R,Y),(V=t(n,c))<$&&(Z=Y,$=V);$=1/0;for(var z=0;z<32&&!(W<b);z++){var k=Z-W,X=Z+W;c[0]=f(m,L,N,k),c[1]=f(A,E,R,k);var V=t(c,n);if(k>=0&&V<$)Z=k,$=V;else{o[0]=f(m,L,N,X),o[1]=f(A,E,R,X);var q=t(o,n);X<=1&&q<$?(Z=X,$=q):W*=.5}}return B&&(B[0]=f(m,L,N,Z),B[1]=f(A,E,R,Z)),I($)}},14842:(j,U,i)=>{var T=i(71156),t=i(83566).buildTransformer,M="___zrEVENTSAVED",I=[];function b(c,o,a,u,e){if(o.getBoundingClientRect&&T.domSupported&&!n(o)){var s=o[M]||(o[M]={}),r=function y(c,o){var a=o.markers;if(a)return a;a=o.markers=[];for(var u=["left","right"],e=["top","bottom"],s=0;s<4;s++){var r=document.createElement("div"),d=s%2,v=(s>>1)%2;r.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",u[d]+":0",e[v]+":0",u[1-d]+":auto",e[1-v]+":auto",""].join("!important;"),c.appendChild(r),a.push(r)}return a}(o,s),l=function h(c,o,a){for(var u=a?"invTrans":"trans",e=o[u],s=o.srcCoords,r=!0,l=[],d=[],v=0;v<4;v++){var f=c[v].getBoundingClientRect(),p=2*v,S=f.left,C=f.top;l.push(S,C),r=r&&s&&S===s[p]&&C===s[p+1],d.push(c[v].offsetLeft,c[v].offsetTop)}return r&&e?e:(o.srcCoords=l,o[u]=a?t(d,l):t(l,d))}(r,s,e);if(l)return l(c,a,u),!0}return!1}function n(c){return"CANVAS"===c.nodeName.toUpperCase()}U.transformLocalCoord=function D(c,o,a,u,e){return b(I,o,u,e,!0)&&b(c,a,I[0],I[1])},U.transformCoordWithViewport=b,U.isCanvasEl=n},71156:j=>{var U;U="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:typeof document>"u"&&typeof self<"u"?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:typeof navigator>"u"?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function T(w){var M={},I=w.match(/Firefox\/([\d.]+)/),D=w.match(/MSIE\s([\d.]+)/)||w.match(/Trident\/.+?rv:(([\d.]+))/),b=w.match(/Edge\/([\d.]+)/),y=/micromessenger/i.test(w);return I&&(M.firefox=!0,M.version=I[1]),D&&(M.ie=!0,M.version=D[1]),b&&(M.edge=!0,M.version=b[1]),y&&(M.weChat=!0),{browser:M,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect<"u",touchEventsSupported:"ontouchstart"in window&&!M.ie&&!M.edge,pointerEventsSupported:"onpointerdown"in window&&(M.edge||M.ie&&M.version>=11),domSupported:typeof document<"u"}}(navigator.userAgent),j.exports=U},53626:(j,U,i)=>{var T=i(24665);U.Dispatcher=T;var w=i(71156),t=i(14842),M=t.isCanvasEl,I=t.transformCoordWithViewport,D=typeof window<"u"&&!!window.addEventListener,b=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,y=[];function h(l,d,v,f){return v=v||{},f||!w.canvasSupported?n(l,d,v):w.browser.firefox&&null!=d.layerX&&d.layerX!==d.offsetX?(v.zrX=d.layerX,v.zrY=d.layerY):null!=d.offsetX?(v.zrX=d.offsetX,v.zrY=d.offsetY):n(l,d,v),v}function n(l,d,v){if(w.domSupported&&l.getBoundingClientRect){var f=d.clientX,p=d.clientY;if(M(l)){var S=l.getBoundingClientRect();return v.zrX=f-S.left,void(v.zrY=p-S.top)}if(I(y,l,f,p))return v.zrX=y[0],void(v.zrY=y[1])}v.zrX=v.zrY=0}function c(l){return l||window.event}var e=D?function(l){l.preventDefault(),l.stopPropagation(),l.cancelBubble=!0}:function(l){l.returnValue=!1,l.cancelBubble=!0};U.clientToLocal=h,U.getNativeEvent=c,U.normalizeEvent=function o(l,d,v){if(null!=(d=c(d)).zrX)return d;var f=d.type;if(f&&f.indexOf("touch")>=0){var S="touchend"!==f?d.targetTouches[0]:d.changedTouches[0];S&&h(l,S,d,v)}else h(l,d,d,v),d.zrDelta=d.wheelDelta?d.wheelDelta/120:-(d.detail||0)/3;var C=d.button;return null==d.which&&void 0!==C&&b.test(d.type)&&(d.which=1&C?1:2&C?3:4&C?2:0),d},U.addEventListener=function a(l,d,v,f){D?l.addEventListener(d,v,f):l.attachEvent("on"+d,v)},U.removeEventListener=function u(l,d,v,f){D?l.removeEventListener(d,v,f):l.detachEvent("on"+d,v)},U.stop=e,U.isMiddleOrRightButtonOnMouseUpDown=function s(l){return 2===l.which||3===l.which},U.notLeftMouse=function r(l){return l.which>1}},83566:(j,U)=>{var i=Math.log(2);function T(t,M,I,D,b,y){var h=D+"-"+b,n=t.length;if(y.hasOwnProperty(h))return y[h];if(1===M){var c=Math.round(Math.log((1<<n)-1&~b)/i);return t[I][c]}for(var o=D|1<<I,a=I+1;D&1<<a;)a++;for(var u=0,e=0,s=0;e<n;e++){var r=1<<e;r&b||(u+=(s%2?-1:1)*t[I][e]*T(t,M-1,a,o,b|r,y),s++)}return y[h]=u,u}U.buildTransformer=function w(t,M){var I=[[t[0],t[1],1,0,0,0,-M[0]*t[0],-M[0]*t[1]],[0,0,0,t[0],t[1],1,-M[1]*t[0],-M[1]*t[1]],[t[2],t[3],1,0,0,0,-M[2]*t[2],-M[2]*t[3]],[0,0,0,t[2],t[3],1,-M[3]*t[2],-M[3]*t[3]],[t[4],t[5],1,0,0,0,-M[4]*t[4],-M[4]*t[5]],[0,0,0,t[4],t[5],1,-M[5]*t[4],-M[5]*t[5]],[t[6],t[7],1,0,0,0,-M[6]*t[6],-M[6]*t[7]],[0,0,0,t[6],t[7],1,-M[7]*t[6],-M[7]*t[7]]],D={},b=T(I,8,0,0,0,D);if(0!==b){for(var y=[],h=0;h<8;h++)for(var n=0;n<8;n++)null==y[n]&&(y[n]=0),y[n]+=((h+n)%2?-1:1)*T(I,7,0===h?1:0,1<<h,1<<n,D)/b*M[h];return function(c,o,a){var u=o*y[6]+a*y[7]+1;c[0]=(o*y[0]+a*y[1]+y[2])/u,c[1]=(o*y[3]+a*y[4]+y[5])/u}}}},77369:j=>{var U=2311;j.exports=function i(){return U++}},94896:(j,U,i)=>{var t=function(){};1===i(16905).debugMode&&(t=console.error),j.exports=t},84498:(j,U)=>{var i=typeof Float32Array>"u"?Array:Float32Array;function T(){var n=new i(6);return w(n),n}function w(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function t(n,c){return n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=c[3],n[4]=c[4],n[5]=c[5],n}U.create=T,U.identity=w,U.copy=t,U.mul=function M(n,c,o){var u=c[1]*o[0]+c[3]*o[1],e=c[0]*o[2]+c[2]*o[3],s=c[1]*o[2]+c[3]*o[3],r=c[0]*o[4]+c[2]*o[5]+c[4],l=c[1]*o[4]+c[3]*o[5]+c[5];return n[0]=c[0]*o[0]+c[2]*o[1],n[1]=u,n[2]=e,n[3]=s,n[4]=r,n[5]=l,n},U.translate=function I(n,c,o){return n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=c[3],n[4]=c[4]+o[0],n[5]=c[5]+o[1],n},U.rotate=function D(n,c,o){var a=c[0],u=c[2],e=c[4],s=c[1],r=c[3],l=c[5],d=Math.sin(o),v=Math.cos(o);return n[0]=a*v+s*d,n[1]=-a*d+s*v,n[2]=u*v+r*d,n[3]=-u*d+v*r,n[4]=v*e+d*l,n[5]=v*l-d*e,n},U.scale=function b(n,c,o){var a=o[0],u=o[1];return n[0]=c[0]*a,n[1]=c[1]*u,n[2]=c[2]*a,n[3]=c[3]*u,n[4]=c[4]*a,n[5]=c[5]*u,n},U.invert=function y(n,c){var o=c[0],a=c[2],u=c[4],e=c[1],s=c[3],r=c[5],l=o*s-e*a;return l?(n[0]=s*(l=1/l),n[1]=-e*l,n[2]=-a*l,n[3]=o*l,n[4]=(a*r-s*u)*l,n[5]=(e*u-o*r)*l,n):null},U.clone=function h(n){var c=T();return t(c,n),c}},14856:j=>{var i=7;function t(n,c,o,a){var u=c+1;if(u===o)return 1;if(a(n[u++],n[c])<0){for(;u<o&&a(n[u],n[u-1])<0;)u++;!function M(n,c,o){for(o--;c<o;){var a=n[c];n[c++]=n[o],n[o--]=a}}(n,c,u)}else for(;u<o&&a(n[u],n[u-1])>=0;)u++;return u-c}function I(n,c,o,a,u){for(a===c&&a++;a<o;a++){for(var l,e=n[a],s=c,r=a;s<r;)u(e,n[l=s+r>>>1])<0?r=l:s=l+1;var d=a-s;switch(d){case 3:n[s+3]=n[s+2];case 2:n[s+2]=n[s+1];case 1:n[s+1]=n[s];break;default:for(;d>0;)n[s+d]=n[s+d-1],d--}n[s]=e}}function D(n,c,o,a,u,e){var s=0,r=0,l=1;if(e(n,c[o+u])>0){for(r=a-u;l<r&&e(n,c[o+u+l])>0;)s=l,(l=1+(l<<1))<=0&&(l=r);l>r&&(l=r),s+=u,l+=u}else{for(r=u+1;l<r&&e(n,c[o+u-l])<=0;)s=l,(l=1+(l<<1))<=0&&(l=r);l>r&&(l=r);var d=s;s=u-l,l=u-d}for(s++;s<l;){var v=s+(l-s>>>1);e(n,c[o+v])>0?s=v+1:l=v}return l}function b(n,c,o,a,u,e){var s=0,r=0,l=1;if(e(n,c[o+u])<0){for(r=u+1;l<r&&e(n,c[o+u-l])<0;)s=l,(l=1+(l<<1))<=0&&(l=r);l>r&&(l=r);var d=s;s=u-l,l=u-d}else{for(r=a-u;l<r&&e(n,c[o+u+l])>=0;)s=l,(l=1+(l<<1))<=0&&(l=r);l>r&&(l=r),s+=u,l+=u}for(s++;s<l;){var v=s+(l-s>>>1);e(n,c[o+v])<0?l=v:s=v+1}return l}function y(n,c){var s,r,o=i,l=0;var d=[];function S(g){var m=s[g],A=r[g],L=s[g+1],E=r[g+1];r[g]=A+E,g===l-3&&(s[g+1]=s[g+2],r[g+1]=r[g+2]),l--;var N=b(n[L],n,m,A,0,c);m+=N,0!=(A-=N)&&0!==(E=D(n[m+A-1],n,L,E,E-1,c))&&(A<=E?function C(g,m,A,L){var E=0;for(E=0;E<m;E++)d[E]=n[g+E];var N=0,R=A,F=g;if(n[F++]=n[R++],0!=--L)if(1!==m){for(var B,Z,W,H=o;;){B=0,Z=0,W=!1;do{if(c(n[R],d[N])<0){if(n[F++]=n[R++],Z++,B=0,0==--L){W=!0;break}}else if(n[F++]=d[N++],B++,Z=0,1==--m){W=!0;break}}while((B|Z)<H);if(W)break;do{if(0!==(B=b(n[R],d,N,m,0,c))){for(E=0;E<B;E++)n[F+E]=d[N+E];if(F+=B,N+=B,(m-=B)<=1){W=!0;break}}if(n[F++]=n[R++],0==--L){W=!0;break}if(0!==(Z=D(d[N],n,R,L,0,c))){for(E=0;E<Z;E++)n[F+E]=n[R+E];if(F+=Z,R+=Z,0==(L-=Z)){W=!0;break}}if(n[F++]=d[N++],1==--m){W=!0;break}H--}while(B>=i||Z>=i);if(W)break;H<0&&(H=0),H+=2}if((o=H)<1&&(o=1),1===m){for(E=0;E<L;E++)n[F+E]=n[R+E];n[F+L]=d[N]}else{if(0===m)throw new Error;for(E=0;E<m;E++)n[F+E]=d[N+E]}}else{for(E=0;E<L;E++)n[F+E]=n[R+E];n[F+L]=d[N]}else for(E=0;E<m;E++)n[F+E]=d[N+E]}(m,A,L,E):function x(g,m,A,L){var E=0;for(E=0;E<L;E++)d[E]=n[A+E];var N=g+m-1,R=L-1,F=A+L-1,H=0,B=0;if(n[F--]=n[N--],0!=--m)if(1!==L){for(var Z=o;;){var W=0,$=0,Y=!1;do{if(c(d[R],n[N])<0){if(n[F--]=n[N--],W++,$=0,0==--m){Y=!0;break}}else if(n[F--]=d[R--],$++,W=0,1==--L){Y=!0;break}}while((W|$)<Z);if(Y)break;do{if(0!=(W=m-b(d[R],n,g,m,m-1,c))){for(m-=W,B=1+(F-=W),H=1+(N-=W),E=W-1;E>=0;E--)n[B+E]=n[H+E];if(0===m){Y=!0;break}}if(n[F--]=d[R--],1==--L){Y=!0;break}if(0!=($=L-D(n[N],d,0,L,L-1,c))){for(L-=$,B=1+(F-=$),H=1+(R-=$),E=0;E<$;E++)n[B+E]=d[H+E];if(L<=1){Y=!0;break}}if(n[F--]=n[N--],0==--m){Y=!0;break}Z--}while(W>=i||$>=i);if(Y)break;Z<0&&(Z=0),Z+=2}if((o=Z)<1&&(o=1),1===L){for(B=1+(F-=m),H=1+(N-=m),E=m-1;E>=0;E--)n[B+E]=n[H+E];n[F]=d[R]}else{if(0===L)throw new Error;for(H=F-(L-1),E=0;E<L;E++)n[H+E]=d[E]}}else{for(B=1+(F-=m),H=1+(N-=m),E=m-1;E>=0;E--)n[B+E]=n[H+E];n[F]=d[R]}else for(H=F-(L-1),E=0;E<L;E++)n[H+E]=d[E]}(m,A,L,E))}s=[],r=[],this.mergeRuns=function f(){for(;l>1;){var g=l-2;if(g>=1&&r[g-1]<=r[g]+r[g+1]||g>=2&&r[g-2]<=r[g]+r[g-1])r[g-1]<r[g+1]&&g--;else if(r[g]>r[g+1])break;S(g)}},this.forceMergeRuns=function p(){for(;l>1;){var g=l-2;g>0&&r[g-1]<r[g+1]&&g--,S(g)}},this.pushRun=function v(g,m){s[l]=g,r[l]=m,l+=1}}j.exports=function h(n,c,o,a){o||(o=0),a||(a=n.length);var u=a-o;if(!(u<2)){var e=0;if(u<32)return void I(n,o,a,o+(e=t(n,o,a,c)),c);var s=new y(n,c),r=function w(n){for(var c=0;n>=32;)c|=1&n,n>>=1;return n+c}(u);do{if((e=t(n,o,a,c))<r){var l=u;l>r&&(l=r),I(n,o,o+l,o+e,c),e=l}s.pushRun(o,e),s.mergeRuns(),u-=e,o+=e}while(0!==u);s.forceMergeRuns()}}},66615:(j,U)=>{var i={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},T={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},w=Object.prototype.toString,t=Array.prototype,M=t.forEach,I=t.filter,D=t.slice,b=t.map,y=t.reduce,h={};function c(at){if(null==at||"object"!=typeof at)return at;var ut=at,Ct=w.call(at);if("[object Array]"===Ct){if(!it(at)){ut=[];for(var _t=0,bt=at.length;_t<bt;_t++)ut[_t]=c(at[_t])}}else if(T[Ct]){if(!it(at)){var Rt=at.constructor;if(at.constructor.from)ut=Rt.from(at);else for(ut=new Rt(at.length),_t=0,bt=at.length;_t<bt;_t++)ut[_t]=c(at[_t])}}else if(!i[Ct]&&!it(at)&&!Z(at))for(var yt in ut={},at)at.hasOwnProperty(yt)&&(ut[yt]=c(at[yt]));return ut}function o(at,ut,Ct){if(!F(ut)||!F(at))return Ct?c(ut):at;for(var _t in ut)if(ut.hasOwnProperty(_t)){var bt=at[_t],Rt=ut[_t];!F(Rt)||!F(bt)||E(Rt)||E(bt)||Z(Rt)||Z(bt)||H(Rt)||H(bt)||it(Rt)||it(bt)?(Ct||!(_t in at))&&(at[_t]=c(ut[_t])):o(bt,Rt,Ct)}return at}function e(at,ut,Ct){for(var _t in ut)ut.hasOwnProperty(_t)&&(Ct?null!=ut[_t]:null==at[_t])&&(at[_t]=ut[_t]);return at}var r,s=function(){return h.createCanvas()};function S(at,ut,Ct){if(at&&ut)if(at.forEach&&at.forEach===M)at.forEach(ut,Ct);else if(at.length===+at.length)for(var _t=0,bt=at.length;_t<bt;_t++)ut.call(Ct,at[_t],_t,at);else for(var Rt in at)at.hasOwnProperty(Rt)&&ut.call(Ct,at[Rt],Rt,at)}function A(at,ut){var Ct=D.call(arguments,2);return function(){return at.apply(ut,Ct.concat(D.call(arguments)))}}function E(at){return"[object Array]"===w.call(at)}function F(at){var ut=typeof at;return"function"===ut||!!at&&"object"===ut}function H(at){return!!i[w.call(at)]}function Z(at){return"object"==typeof at&&"number"==typeof at.nodeType&&"object"==typeof at.ownerDocument}h.createCanvas=function(){return document.createElement("canvas")};var et="__ec_primitive__";function it(at){return at[et]}function lt(at){var ut=E(at);this.data={};var Ct=this;function _t(bt,Rt){ut?Ct.set(bt,Rt):Ct.set(Rt,bt)}at instanceof lt?at.each(_t):at&&S(at,_t)}lt.prototype={constructor:lt,get:function(at){return this.data.hasOwnProperty(at)?this.data[at]:null},set:function(at,ut){return this.data[at]=ut},each:function(at,ut){for(var Ct in void 0!==ut&&(at=A(at,ut)),this.data)this.data.hasOwnProperty(Ct)&&at(this.data[Ct],Ct)},removeKey:function(at){delete this.data[at]}},U.$override=function n(at,ut){"createCanvas"===at&&(r=null),h[at]=ut},U.clone=c,U.merge=o,U.mergeAll=function a(at,ut){for(var Ct=at[0],_t=1,bt=at.length;_t<bt;_t++)Ct=o(Ct,at[_t],ut);return Ct},U.extend=function u(at,ut){for(var Ct in ut)ut.hasOwnProperty(Ct)&&(at[Ct]=ut[Ct]);return at},U.defaults=e,U.createCanvas=s,U.getContext=function l(){return r||(r=s().getContext("2d")),r},U.indexOf=function d(at,ut){if(at){if(at.indexOf)return at.indexOf(ut);for(var Ct=0,_t=at.length;Ct<_t;Ct++)if(at[Ct]===ut)return Ct}return-1},U.inherits=function v(at,ut){var Ct=at.prototype;function _t(){}for(var bt in _t.prototype=ut.prototype,at.prototype=new _t,Ct)Ct.hasOwnProperty(bt)&&(at.prototype[bt]=Ct[bt]);at.prototype.constructor=at,at.superClass=ut},U.mixin=function f(at,ut,Ct){e(at="prototype"in at?at.prototype:at,ut="prototype"in ut?ut.prototype:ut,Ct)},U.isArrayLike=function p(at){if(at)return"string"!=typeof at&&"number"==typeof at.length},U.each=S,U.map=function C(at,ut,Ct){if(at&&ut){if(at.map&&at.map===b)return at.map(ut,Ct);for(var _t=[],bt=0,Rt=at.length;bt<Rt;bt++)_t.push(ut.call(Ct,at[bt],bt,at));return _t}},U.reduce=function x(at,ut,Ct,_t){if(at&&ut){if(at.reduce&&at.reduce===y)return at.reduce(ut,Ct,_t);for(var bt=0,Rt=at.length;bt<Rt;bt++)Ct=ut.call(_t,Ct,at[bt],bt,at);return Ct}},U.filter=function g(at,ut,Ct){if(at&&ut){if(at.filter&&at.filter===I)return at.filter(ut,Ct);for(var _t=[],bt=0,Rt=at.length;bt<Rt;bt++)ut.call(Ct,at[bt],bt,at)&&_t.push(at[bt]);return _t}},U.find=function m(at,ut,Ct){if(at&&ut)for(var _t=0,bt=at.length;_t<bt;_t++)if(ut.call(Ct,at[_t],_t,at))return at[_t]},U.bind=A,U.curry=function L(at){var ut=D.call(arguments,1);return function(){return at.apply(this,ut.concat(D.call(arguments)))}},U.isArray=E,U.isFunction=function N(at){return"function"==typeof at},U.isString=function R(at){return"[object String]"===w.call(at)},U.isObject=F,U.isBuiltInObject=H,U.isTypedArray=function B(at){return!!T[w.call(at)]},U.isDom=Z,U.eqNaN=function W(at){return at!=at},U.retrieve=function $(at){for(var ut=0,Ct=arguments.length;ut<Ct;ut++)if(null!=arguments[ut])return arguments[ut]},U.retrieve2=function Y(at,ut){return at??ut},U.retrieve3=function V(at,ut,Ct){return at??ut??Ct},U.slice=function z(){return Function.call.apply(D,arguments)},U.normalizeCssArray=function k(at){if("number"==typeof at)return[at,at,at,at];var ut=at.length;return 2===ut?[at[0],at[1],at[0],at[1]]:3===ut?[at[0],at[1],at[2],at[1]]:at},U.assert=function X(at,ut){if(!at)throw new Error(ut)},U.trim=function q(at){return null==at?null:"function"==typeof at.trim?at.trim():at.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},U.setAsPrimitive=function rt(at){at[et]=!0},U.isPrimitive=it,U.createHashMap=function dt(at){return new lt(at)},U.concatArray=function ht(at,ut){for(var Ct=new at.constructor(at.length+ut.length),_t=0;_t<at.length;_t++)Ct[_t]=at[_t];var bt=at.length;for(_t=0;_t<ut.length;_t++)Ct[_t+bt]=ut[_t];return Ct},U.noop=function gt(){}},8544:(j,U)=>{var i=typeof Float32Array>"u"?Array:Float32Array;function y(g){return Math.sqrt(n(g))}var h=y;function n(g){return g[0]*g[0]+g[1]*g[1]}var c=n;function r(g,m){return Math.sqrt((g[0]-m[0])*(g[0]-m[0])+(g[1]-m[1])*(g[1]-m[1]))}var l=r;function d(g,m){return(g[0]-m[0])*(g[0]-m[0])+(g[1]-m[1])*(g[1]-m[1])}var v=d;U.create=function T(g,m){var A=new i(2);return null==g&&(g=0),null==m&&(m=0),A[0]=g,A[1]=m,A},U.copy=function w(g,m){return g[0]=m[0],g[1]=m[1],g},U.clone=function t(g){var m=new i(2);return m[0]=g[0],m[1]=g[1],m},U.set=function M(g,m,A){return g[0]=m,g[1]=A,g},U.add=function I(g,m,A){return g[0]=m[0]+A[0],g[1]=m[1]+A[1],g},U.scaleAndAdd=function D(g,m,A,L){return g[0]=m[0]+A[0]*L,g[1]=m[1]+A[1]*L,g},U.sub=function b(g,m,A){return g[0]=m[0]-A[0],g[1]=m[1]-A[1],g},U.len=y,U.length=h,U.lenSquare=n,U.lengthSquare=c,U.mul=function o(g,m,A){return g[0]=m[0]*A[0],g[1]=m[1]*A[1],g},U.div=function a(g,m,A){return g[0]=m[0]/A[0],g[1]=m[1]/A[1],g},U.dot=function u(g,m){return g[0]*m[0]+g[1]*m[1]},U.scale=function e(g,m,A){return g[0]=m[0]*A,g[1]=m[1]*A,g},U.normalize=function s(g,m){var A=y(m);return 0===A?(g[0]=0,g[1]=0):(g[0]=m[0]/A,g[1]=m[1]/A),g},U.distance=r,U.dist=l,U.distanceSquare=d,U.distSquare=v,U.negate=function f(g,m){return g[0]=-m[0],g[1]=-m[1],g},U.lerp=function p(g,m,A,L){return g[0]=m[0]+L*(A[0]-m[0]),g[1]=m[1]+L*(A[1]-m[1]),g},U.applyTransform=function S(g,m,A){var L=m[0],E=m[1];return g[0]=A[0]*L+A[2]*E+A[4],g[1]=A[1]*L+A[3]*E+A[5],g},U.min=function C(g,m,A){return g[0]=Math.min(m[0],A[0]),g[1]=Math.min(m[1],A[1]),g},U.max=function x(g,m,A){return g[0]=Math.max(m[0],A[0]),g[1]=Math.max(m[1],A[1]),g}},225:(j,U,i)=>{var R,H,T=i(53626),w=T.addEventListener,t=T.removeEventListener,M=T.normalizeEvent,I=T.getNativeEvent,D=i(66615),b=i(24665),y=i(71156),n=y.domSupported,c=(H={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:R=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:D.map(R,function(Z){var W=Z.replace("mouse","pointer");return H.hasOwnProperty(W)?W:Z})}),o={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function a(R){return"mousewheel"===R&&y.browser.firefox?"DOMMouseScroll":R}function u(R){var F=R.pointerType;return"pen"===F||"touch"===F}function s(R){R&&(R.zrByTouch=!0)}function l(R,F){for(var H=F,B=!1;H&&9!==H.nodeType&&!(B=H.domBelongToZr||H!==F&&H===R.painterRoot);)H=H.parentNode;return B}function d(R,F){this.type=F.type,this.target=this.currentTarget=R.dom,this.pointerType=F.pointerType,this.clientX=F.clientX,this.clientY=F.clientY}var v=d.prototype;v.stopPropagation=v.stopImmediatePropagation=v.preventDefault=D.noop;var f={mousedown:function(R){R=M(this.dom,R),this._mayPointerCapture=[R.zrX,R.zrY],this.trigger("mousedown",R)},mousemove:function(R){R=M(this.dom,R);var F=this._mayPointerCapture;F&&(R.zrX!==F[0]||R.zrY!==F[1])&&m(this,!0),this.trigger("mousemove",R)},mouseup:function(R){R=M(this.dom,R),m(this,!1),this.trigger("mouseup",R)},mouseout:function(R){R=M(this.dom,R),this._pointerCapturing&&(R.zrEventControl="no_globalout"),R.zrIsToLocalDOM=l(this,R.toElement||R.relatedTarget),this.trigger("mouseout",R)},touchstart:function(R){s(R=M(this.dom,R)),this._lastTouchMoment=new Date,this.handler.processGesture(R,"start"),f.mousemove.call(this,R),f.mousedown.call(this,R)},touchmove:function(R){s(R=M(this.dom,R)),this.handler.processGesture(R,"change"),f.mousemove.call(this,R)},touchend:function(R){s(R=M(this.dom,R)),this.handler.processGesture(R,"end"),f.mouseup.call(this,R),+new Date-this._lastTouchMoment<300&&f.click.call(this,R)},pointerdown:function(R){f.mousedown.call(this,R)},pointermove:function(R){u(R)||f.mousemove.call(this,R)},pointerup:function(R){f.mouseup.call(this,R)},pointerout:function(R){u(R)||f.mouseout.call(this,R)}};D.each(["click","mousewheel","dblclick","contextmenu"],function(R){f[R]=function(F){F=M(this.dom,F),this.trigger(R,F)}});var p={pointermove:function(R){u(R)||p.mousemove.call(this,R)},pointerup:function(R){p.mouseup.call(this,R)},mousemove:function(R){this.trigger("mousemove",R)},mouseup:function(R){var F=this._pointerCapturing;m(this,!1),this.trigger("mouseup",R),F&&(R.zrEventControl="only_globalout",this.trigger("mouseout",R))}};function x(R,F,H,B){R.mounted[F]=H,R.listenerOpts[F]=B,w(R.domTarget,a(F),H,B)}function g(R){var F=R.mounted;for(var H in F)F.hasOwnProperty(H)&&t(R.domTarget,a(H),F[H],R.listenerOpts[H]);R.mounted={}}function m(R,F){if(R._mayPointerCapture=null,n&&R._pointerCapturing^F){R._pointerCapturing=F;var H=R._globalHandlerScope;F?function C(R,F){function H(B){x(F,B,function Z(W){W=I(W),l(R,W.target)||(W=function r(R,F){return M(R.dom,new d(R,F),!0)}(R,W),F.domHandlers[B].call(R,W))},{capture:!0})}y.pointerEventsSupported?D.each(o.pointer,H):y.touchEventsSupported||D.each(o.mouse,H)}(R,H):g(H)}}function A(R,F){this.domTarget=R,this.domHandlers=F,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function L(R,F){b.call(this),this.dom=R,this.painterRoot=F,this._localHandlerScope=new A(R,f),n&&(this._globalHandlerScope=new A(document,p)),this._pointerCapturing=!1,this._mayPointerCapture=null,function S(R,F){var H=F.domHandlers;y.pointerEventsSupported?D.each(c.pointer,function(B){x(F,B,function(Z){H[B].call(R,Z)})}):(y.touchEventsSupported&&D.each(c.touch,function(B){x(F,B,function(Z){H[B].call(R,Z),function e(R){R.touching=!0,null!=R.touchTimer&&(clearTimeout(R.touchTimer),R.touchTimer=null),R.touchTimer=setTimeout(function(){R.touching=!1,R.touchTimer=null},700)}(F)})}),D.each(c.mouse,function(B){x(F,B,function(Z){Z=I(Z),F.touching||H[B].call(R,Z)})}))}(this,this._localHandlerScope)}var E=L.prototype;E.dispose=function(){g(this._localHandlerScope),n&&g(this._globalHandlerScope)},E.setCursor=function(R){this.dom.style&&(this.dom.style.cursor=R||"default")},D.mixin(L,b),j.exports=L},31803:(j,U,i)=>{var T=i(40465),w=T.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,M=this.shape.paths,I=0;I<M.length;I++)t=t||M[I].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],M=this.getGlobalScale(),I=0;I<t.length;I++)t[I].path||t[I].createPathProxy(),t[I].path.setScale(M[0],M[1],t[I].segmentIgnoreThreshold)},buildPath:function(t,M){for(var I=M.paths||[],D=0;D<I.length;D++)I[D].buildPath(t,I[D].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],M=0;M<t.length;M++)t[M].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),T.prototype.getBoundingRect.call(this)}});j.exports=w},84081:(j,U,i)=>{var T=i(66615),w=i(300),t=i(52501),M=i(68434);function I(b){for(var y in t.call(this,b=b||{}),b)b.hasOwnProperty(y)&&"style"!==y&&(this[y]=b[y]);this.style=new w(b.style,this),this._rect=null,this.__clipPaths=null}I.prototype={constructor:I,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(b){},afterBrush:function(b){},brush:function(b,y){},getBoundingRect:function(){},contain:function(b,y){return this.rectContain(b,y)},traverse:function(b,y){b.call(y,this)},rectContain:function(b,y){var h=this.transformCoordToLocal(b,y);return this.getBoundingRect().contain(h[0],h[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(b){return this.animate("style",b)},attrKV:function(b,y){"style"!==b?t.prototype.attrKV.call(this,b,y):this.style.set(y)},setStyle:function(b,y){return this.style.set(b,y),this.dirty(!1),this},useStyle:function(b){return this.style=new w(b,this),this.dirty(!1),this},calculateTextPosition:null},T.inherits(I,t),T.mixin(I,M),j.exports=I},40808:j=>{var U=function(T){this.colorStops=T||[]};U.prototype={constructor:U,addColorStop:function(T,w){this.colorStops.push({offset:T,color:w})}},j.exports=U},48418:(j,U,i)=>{var T=i(84081),w=i(94525),t=i(66615),M=i(65486);function I(b){T.call(this,b)}I.prototype={constructor:I,type:"image",brush:function(b,y){var h=this.style,n=h.image;h.bind(b,this,y);var c=this._image=M.createOrUpdateImage(n,this._image,this,this.onload);if(c&&M.isImageReady(c)){var o=h.x||0,a=h.y||0,u=h.width,e=h.height,s=c.width/c.height;if(null==u&&null!=e?u=e*s:null==e&&null!=u?e=u/s:null==u&&null==e&&(u=c.width,e=c.height),this.setTransform(b),h.sWidth&&h.sHeight)b.drawImage(c,r=h.sx||0,l=h.sy||0,h.sWidth,h.sHeight,o,a,u,e);else if(h.sx&&h.sy){var r,l;b.drawImage(c,r=h.sx,l=h.sy,u-r,e-l,o,a,u,e)}else b.drawImage(c,o,a,u,e);null!=h.text&&(this.restoreTransform(b),this.drawRectText(b,this.getBoundingRect()))}},getBoundingRect:function(){var b=this.style;return this._rect||(this._rect=new w(b.x||0,b.y||0,b.width||0,b.height||0)),this._rect}},t.inherits(I,T),j.exports=I},28123:(j,U,i)=>{var w=i(66615).inherits,t=i(84081),M=i(94525);function I(y){t.call(this,y),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}I.prototype.incremental=!0,I.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},I.prototype.addDisplayable=function(y,h){h?this._temporaryDisplayables.push(y):this._displayables.push(y),this.dirty()},I.prototype.addDisplayables=function(y,h){h=h||!1;for(var n=0;n<y.length;n++)this.addDisplayable(y[n],h)},I.prototype.eachPendingDisplayable=function(y){for(var h=this._cursor;h<this._displayables.length;h++)y&&y(this._displayables[h]);for(h=0;h<this._temporaryDisplayables.length;h++)y&&y(this._temporaryDisplayables[h])},I.prototype.update=function(){this.updateTransform();for(var y=this._cursor;y<this._displayables.length;y++)(h=this._displayables[y]).parent=this,h.update(),h.parent=null;for(y=0;y<this._temporaryDisplayables.length;y++){var h;(h=this._temporaryDisplayables[y]).parent=this,h.update(),h.parent=null}},I.prototype.brush=function(y,h){for(var n=this._cursor;n<this._displayables.length;n++)(c=this._displayables[n]).beforeBrush&&c.beforeBrush(y),c.brush(y,n===this._cursor?null:this._displayables[n-1]),c.afterBrush&&c.afterBrush(y);for(this._cursor=n,n=0;n<this._temporaryDisplayables.length;n++){var c;(c=this._temporaryDisplayables[n]).beforeBrush&&c.beforeBrush(y),c.brush(y,0===n?null:this._temporaryDisplayables[n-1]),c.afterBrush&&c.afterBrush(y)}this._temporaryDisplayables=[],this.notClear=!0};var D=[];I.prototype.getBoundingRect=function(){if(!this._rect){for(var y=new M(1/0,1/0,-1/0,-1/0),h=0;h<this._displayables.length;h++){var n=this._displayables[h],c=n.getBoundingRect().clone();n.needLocalTransform()&&c.applyTransform(n.getLocalTransform(D)),y.union(c)}this._rect=y}return this._rect},I.prototype.contain=function(y,h){var n=this.transformCoordToLocal(y,h);if(this.getBoundingRect().contain(n[0],n[1]))for(var o=0;o<this._displayables.length;o++)if(this._displayables[o].contain(y,h))return!0;return!1},w(I,t),j.exports=I},98481:(j,U,i)=>{var T=i(66615),w=i(40808),t=function(I,D,b,y,h,n){this.x=I??0,this.y=D??0,this.x2=b??1,this.y2=y??0,this.type="linear",this.global=n||!1,w.call(this,h)};t.prototype={constructor:t},T.inherits(t,w),j.exports=t},40465:(j,U,i)=>{var T=i(84081),w=i(66615),t=i(87034),M=i(62001),D=i(37525).prototype.getCanvasPattern,b=Math.abs,y=new t(!0);function h(c){T.call(this,c),this.path=null}h.prototype={constructor:h,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(c,o){var S,a=this.style,u=this.path||y,e=a.hasStroke(),s=a.hasFill(),r=a.fill,l=a.stroke,d=s&&!!r.colorStops,v=e&&!!l.colorStops,f=s&&!!r.image,p=e&&!!l.image;a.bind(c,this,o),this.setTransform(c),this.__dirty&&(d&&(S=S||this.getBoundingRect(),this._fillGradient=a.getGradient(c,r,S)),v&&(S=S||this.getBoundingRect(),this._strokeGradient=a.getGradient(c,l,S))),d?c.fillStyle=this._fillGradient:f&&(c.fillStyle=D.call(r,c)),v?c.strokeStyle=this._strokeGradient:p&&(c.strokeStyle=D.call(l,c));var C=a.lineDash,x=a.lineDashOffset,g=!!c.setLineDash,m=this.getGlobalScale();if(u.setScale(m[0],m[1],this.segmentIgnoreThreshold),this.__dirtyPath||C&&!g&&e?(u.beginPath(c),C&&!g&&(u.setLineDash(C),u.setLineDashOffset(x)),this.buildPath(u,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(c.beginPath(),this.path.rebuildPath(c)),s)if(null!=a.fillOpacity){var A=c.globalAlpha;c.globalAlpha=a.fillOpacity*a.opacity,u.fill(c),c.globalAlpha=A}else u.fill(c);C&&g&&(c.setLineDash(C),c.lineDashOffset=x),e&&(null!=a.strokeOpacity?(A=c.globalAlpha,c.globalAlpha=a.strokeOpacity*a.opacity,u.stroke(c),c.globalAlpha=A):u.stroke(c)),C&&g&&c.setLineDash([]),null!=a.text&&(this.restoreTransform(c),this.drawRectText(c,this.getBoundingRect()))},buildPath:function(c,o,a){},createPathProxy:function(){this.path=new t},getBoundingRect:function(){var c=this._rect,o=this.style,a=!c;if(a){var u=this.path;u||(u=this.path=new t),this.__dirtyPath&&(u.beginPath(),this.buildPath(u,this.shape,!1)),c=u.getBoundingRect()}if(this._rect=c,o.hasStroke()){var e=this._rectWithStroke||(this._rectWithStroke=c.clone());if(this.__dirty||a){e.copy(c);var s=o.lineWidth,r=o.strokeNoScale?this.getLineScale():1;o.hasFill()||(s=Math.max(s,this.strokeContainThreshold||4)),r>1e-10&&(e.width+=s/r,e.height+=s/r,e.x-=s/r/2,e.y-=s/r/2)}return e}return c},contain:function(c,o){var a=this.transformCoordToLocal(c,o),u=this.getBoundingRect(),e=this.style;if(u.contain(c=a[0],o=a[1])){var s=this.path.data;if(e.hasStroke()){var r=e.lineWidth,l=e.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(e.hasFill()||(r=Math.max(r,this.strokeContainThreshold)),M.containStroke(s,r/l,c,o)))return!0}if(e.hasFill())return M.contain(s,c,o)}return!1},dirty:function(c){null==c&&(c=!0),c&&(this.__dirtyPath=c,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(c){return this.animate("shape",c)},attrKV:function(c,o){"shape"===c?(this.setShape(o),this.__dirtyPath=!0,this._rect=null):T.prototype.attrKV.call(this,c,o)},setShape:function(c,o){var a=this.shape;if(a){if(w.isObject(c))for(var u in c)c.hasOwnProperty(u)&&(a[u]=c[u]);else a[c]=o;this.dirty(!0)}return this},getLineScale:function(){var c=this.transform;return c&&b(c[0]-1)>1e-10&&b(c[3]-1)>1e-10?Math.sqrt(b(c[0]*c[3]-c[2]*c[1])):1}},h.extend=function(c){var o=function(u){h.call(this,u),c.style&&this.style.extendFrom(c.style,!1);var e=c.shape;if(e){this.shape=this.shape||{};var s=this.shape;for(var r in e)!s.hasOwnProperty(r)&&e.hasOwnProperty(r)&&(s[r]=e[r])}c.init&&c.init.call(this,u)};for(var a in w.inherits(o,h),c)"style"!==a&&"shape"!==a&&(o.prototype[a]=c[a]);return o},w.inherits(h,T),j.exports=h},37525:j=>{var U=function(T,w){this.image=T,this.repeat=w,this.type="pattern"};U.prototype.getCanvasPattern=function(T){return T.createPattern(this.image,this.repeat||"repeat")},j.exports=U},23033:(j,U,i)=>{var T=i(66615),w=i(40808),t=function(I,D,b,y,h){this.x=I??.5,this.y=D??.5,this.r=b??.5,this.type="radial",this.global=h||!1,w.call(this,y)};t.prototype={constructor:t},T.inherits(t,w),j.exports=t},300:(j,U,i)=>{var T=i(81687),t=i(90676).ContextCachedBy,M=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],I=function(o){this.extendFrom(o,!1)};function D(o,a,u){var e=null==a.x?0:a.x,s=null==a.x2?1:a.x2,r=null==a.y?0:a.y,l=null==a.y2?0:a.y2;return a.global||(e=e*u.width+u.x,s=s*u.width+u.x,r=r*u.height+u.y,l=l*u.height+u.y),e=isNaN(e)?0:e,s=isNaN(s)?1:s,r=isNaN(r)?0:r,l=isNaN(l)?0:l,o.createLinearGradient(e,r,s,l)}function b(o,a,u){var e=u.width,s=u.height,r=Math.min(e,s),l=null==a.x?.5:a.x,d=null==a.y?.5:a.y,v=null==a.r?.5:a.r;return a.global||(l=l*e+u.x,d=d*s+u.y,v*=r),o.createRadialGradient(l,d,0,l,d,v)}for(var y=I.prototype={constructor:I,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(o,a,u){var e=this,s=u&&u.style,r=!s||o.__attrCachedBy!==t.STYLE_BIND;o.__attrCachedBy=t.STYLE_BIND;for(var l=0;l<M.length;l++){var d=M[l],v=d[0];(r||e[v]!==s[v])&&(o[v]=T(o,v,e[v]||d[1]))}(r||e.fill!==s.fill)&&(o.fillStyle=e.fill),(r||e.stroke!==s.stroke)&&(o.strokeStyle=e.stroke),(r||e.opacity!==s.opacity)&&(o.globalAlpha=null==e.opacity?1:e.opacity),(r||e.blend!==s.blend)&&(o.globalCompositeOperation=e.blend||"source-over"),this.hasStroke()&&(o.lineWidth=e.lineWidth/(this.strokeNoScale&&a&&a.getLineScale?a.getLineScale():1))},hasFill:function(){var o=this.fill;return null!=o&&"none"!==o},hasStroke:function(){var o=this.stroke;return null!=o&&"none"!==o&&this.lineWidth>0},extendFrom:function(o,a){if(o)for(var u in o)o.hasOwnProperty(u)&&(!0===a||(!1===a?!this.hasOwnProperty(u):null!=o[u]))&&(this[u]=o[u])},set:function(o,a){"string"==typeof o?this[o]=a:this.extendFrom(o,!0)},clone:function(){var o=new this.constructor;return o.extendFrom(this,!0),o},getGradient:function(o,a,u){for(var s=("radial"===a.type?b:D)(o,a,u),r=a.colorStops,l=0;l<r.length;l++)s.addColorStop(r[l].offset,r[l].color);return s}},h=0;h<M.length;h++){var n=M[h];n[0]in y||(y[n[0]]=n[1])}I.getGradient=y.getGradient,j.exports=I},62018:(j,U,i)=>{var T=i(84081),w=i(66615),t=i(50585),M=i(12322),D=i(90676).ContextCachedBy,b=function(h){T.call(this,h)};b.prototype={constructor:b,type:"text",brush:function(h,n){var c=this.style;this.__dirty&&M.normalizeTextStyle(c,!0),c.fill=c.stroke=c.shadowBlur=c.shadowColor=c.shadowOffsetX=c.shadowOffsetY=null;var o=c.text;null!=o&&(o+=""),M.needDrawText(o,c)?(this.setTransform(h),M.renderText(this,h,o,c,null,n),this.restoreTransform(h)):h.__attrCachedBy=D.NONE},getBoundingRect:function(){var h=this.style;if(this.__dirty&&M.normalizeTextStyle(h,!0),!this._rect){var n=h.text;null!=n?n+="":n="";var c=t.getBoundingRect(h.text+"",h.font,h.textAlign,h.textVerticalAlign,h.textPadding,h.textLineHeight,h.rich);if(c.x+=h.x||0,c.y+=h.y||0,M.getStroke(h.textStroke,h.textStrokeWidth)){var o=h.textStrokeWidth;c.x-=o/2,c.y-=o/2,c.width+=o,c.height+=o}this._rect=c}return this._rect}},w.inherits(b,T),j.exports=b},90676:(j,U)=>{U.ContextCachedBy={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},U.WILL_BE_RESTORED=9},34777:(j,U,i)=>{var T=i(71156),w=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];j.exports=function t(M){return T.browser.ie&&T.browser.version>=11?function(){var b,I=this.__clipPaths,D=this.style;if(I)for(var y=0;y<I.length;y++){var h=I[y],n=h&&h.shape,c=h&&h.type;if(n&&("sector"===c&&n.startAngle===n.endAngle||"rect"===c&&(!n.width||!n.height))){for(var o=0;o<w.length;o++)w[o][2]=D[w[o][0]],D[w[o][0]]=w[o][1];b=!0;break}}if(M.apply(this,arguments),b)for(o=0;o<w.length;o++)D[w[o][0]]=w[o][2]}:M}},81687:j=>{var U={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};j.exports=function i(T,w,t){return U.hasOwnProperty(w)?t*=T.dpr:t}},65486:(j,U,i)=>{var w=new(i(39286))(50);function I(){var b=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var y=0;y<b.pending.length;y++){var h=b.pending[y],n=h.cb;n&&n(this,h.cbPayload),h.hostEl.dirty()}b.pending.length=0}function D(b){return b&&b.width&&b.height}U.findExistImage=function t(b){if("string"==typeof b){var y=w.get(b);return y&&y.image}return b},U.createOrUpdateImage=function M(b,y,h,n,c){if(b){if("string"==typeof b){if(y&&y.__zrImageSrc===b||!h)return y;var o=w.get(b),a={hostEl:h,cb:n,cbPayload:c};return o?!D(y=o.image)&&o.pending.push(a):((y=new Image).onload=y.onerror=I,w.put(b,y.__cachedImgObj={image:y,pending:[a]}),y.src=y.__zrImageSrc=b),y}return b}return y},U.isImageReady=D},14541:(j,U,i)=>{var T=i(9850),w=i(4015);U.buildPath=function t(M,I,D){var b=I.points,y=I.smooth;if(b&&b.length>=2){if(y&&"spline"!==y){var h=w(b,y,D,I.smoothConstraint);M.moveTo(b[0][0],b[0][1]);for(var n=b.length,c=0;c<(D?n:n-1);c++){var o=h[2*c],a=h[2*c+1],u=b[(c+1)%n];M.bezierCurveTo(o[0],o[1],a[0],a[1],u[0],u[1])}}else{"spline"===y&&(b=T(b,D)),M.moveTo(b[0][0],b[0][1]),c=1;for(var e=b.length;c<e;c++)M.lineTo(b[c][0],b[c][1])}D&&M.closePath()}}},21197:(j,U)=>{U.buildPath=function i(T,w){var y,h,n,c,o,t=w.x,M=w.y,I=w.width,D=w.height,b=w.r;I<0&&(t+=I,I=-I),D<0&&(M+=D,D=-D),"number"==typeof b?y=h=n=c=b:b instanceof Array?1===b.length?y=h=n=c=b[0]:2===b.length?(y=n=b[0],h=c=b[1]):3===b.length?(y=b[0],h=c=b[1],n=b[2]):(y=b[0],h=b[1],n=b[2],c=b[3]):y=h=n=c=0,y+h>I&&(y*=I/(o=y+h),h*=I/o),n+c>I&&(n*=I/(o=n+c),c*=I/o),h+n>D&&(h*=D/(o=h+n),n*=D/o),y+c>D&&(y*=D/(o=y+c),c*=D/o),T.moveTo(t+y,M),T.lineTo(t+I-h,M),0!==h&&T.arc(t+I-h,M+h,h,-Math.PI/2,0),T.lineTo(t+I,M+D-n),0!==n&&T.arc(t+I-n,M+D-n,n,0,Math.PI/2),T.lineTo(t+c,M+D),0!==c&&T.arc(t+c,M+D-c,c,Math.PI/2,Math.PI),T.lineTo(t,M+y),0!==y&&T.arc(t+y,M+y,y,Math.PI,1.5*Math.PI)}},4015:(j,U,i)=>{var T=i(8544),w=T.min,t=T.max,M=T.scale,I=T.distance,D=T.add,b=T.clone,y=T.sub;j.exports=function h(n,c,o,a){var l,d,v,f,u=[],e=[],s=[],r=[];if(a){v=[1/0,1/0],f=[-1/0,-1/0];for(var p=0,S=n.length;p<S;p++)w(v,v,n[p]),t(f,f,n[p]);w(v,v,a[0]),t(f,f,a[1])}for(p=0,S=n.length;p<S;p++){var C=n[p];if(o)l=n[p?p-1:S-1],d=n[(p+1)%S];else{if(0===p||p===S-1){u.push(b(n[p]));continue}l=n[p-1],d=n[p+1]}y(e,d,l),M(e,e,c);var x=I(C,l),g=I(C,d),m=x+g;0!==m&&(x/=m,g/=m),M(s,e,-x),M(r,e,g);var A=D([],C,s),L=D([],C,r);a&&(t(A,A,v),w(A,A,f),t(L,L,v),w(L,L,f)),u.push(A),u.push(L)}return o&&u.push(u.shift()),u}},9850:(j,U,i)=>{var w=i(8544).distance;function t(I,D,b,y,h,n,c){var o=.5*(b-I),a=.5*(y-D);return(2*(D-b)+o+a)*c+(-3*(D-b)-2*o-a)*n+o*h+D}j.exports=function M(I,D){for(var b=I.length,y=[],h=0,n=1;n<b;n++)h+=w(I[n-1],I[n]);var c=h/2;for(c=c<b?b:c,n=0;n<c;n++){var e,r,l,o=n/(c-1)*(D?b:b-1),a=Math.floor(o),u=o-a,s=I[a%b];D?(e=I[(a-1+b)%b],r=I[(a+1)%b],l=I[(a+2)%b]):(e=I[0===a?a:a-1],r=I[a>b-2?b-1:a+1],l=I[a>b-3?b-1:a+2]);var d=u*u,v=u*d;y.push([t(e[0],s[0],r[0],l[0],u,d,v),t(e[1],s[1],r[1],l[1],u,d,v)])}return y}},73532:(j,U)=>{var i=Math.round;function t(M,I,D){if(!I)return M;var b=i(2*M);return(b+i(I))%2==0?b/2:(b+(D?1:-1))/2}U.subPixelOptimizeLine=function T(M,I,D){if(I){var b=I.x1,y=I.x2,h=I.y1,n=I.y2;M.x1=b,M.x2=y,M.y1=h,M.y2=n;var c=D&&D.lineWidth;c&&(i(2*b)===i(2*y)&&(M.x1=M.x2=t(b,c,!0)),i(2*h)===i(2*n)&&(M.y1=M.y2=t(h,c,!0)))}},U.subPixelOptimizeRect=function w(M,I,D){if(I){var b=I.x,y=I.y,h=I.width,n=I.height;M.x=b,M.y=y,M.width=h,M.height=n;var c=D&&D.lineWidth;c&&(M.x=t(b,c,!0),M.y=t(y,c,!0),M.width=Math.max(t(b+h,c,!1)-M.x,0===h?0:1),M.height=Math.max(t(y+n,c,!1)-M.y,0===n?0:1))}},U.subPixelOptimize=t},12322:(j,U,i)=>{var T=i(66615),w=T.retrieve2,t=T.retrieve3,M=T.each,I=T.normalizeCssArray,D=T.isString,b=T.isObject,y=i(50585),h=i(21197),n=i(65486),c=i(81687),o=i(90676),a=o.ContextCachedBy,u=o.WILL_BE_RESTORED,e=y.DEFAULT_FONT,s={left:1,right:1,center:1},r={top:1,bottom:1,middle:1},l=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],d={},v={};function p(Y){if(Y){Y.font=y.makeFont(Y);var V=Y.textAlign;"middle"===V&&(V="center"),Y.textAlign=null==V||s[V]?V:"left";var z=Y.textVerticalAlign||Y.textBaseline;"center"===z&&(z="middle"),Y.textVerticalAlign=null==z||r[z]?z:"top",Y.textPadding&&(Y.textPadding=I(Y.textPadding))}}function m(Y,V,z,k,X){if(z&&V.textRotation){var q=V.textOrigin;"center"===q?(k=z.width/2+z.x,X=z.height/2+z.y):q&&(k=q[0]+z.x,X=q[1]+z.y),Y.translate(k,X),Y.rotate(-V.textRotation),Y.translate(-k,-X)}}function A(Y,V,z,k,X,q,et,rt){var it=k.rich[z.styleName]||{};it.text=z.text;var lt=z.textVerticalAlign,dt=q+X/2;"top"===lt?dt=q+z.height/2:"bottom"===lt&&(dt=q+X-z.height/2),!z.isLineHolder&&L(it)&&E(Y,V,it,"right"===rt?et-z.width:"center"===rt?et-z.width/2:et,dt-z.height/2,z.width,z.height);var ht=z.textPadding;ht&&(et=W(et,rt,ht),dt-=z.height/2-ht[2]-z.textHeight/2),F(V,"shadowBlur",t(it.textShadowBlur,k.textShadowBlur,0)),F(V,"shadowColor",it.textShadowColor||k.textShadowColor||"transparent"),F(V,"shadowOffsetX",t(it.textShadowOffsetX,k.textShadowOffsetX,0)),F(V,"shadowOffsetY",t(it.textShadowOffsetY,k.textShadowOffsetY,0)),F(V,"textAlign",rt),F(V,"textBaseline","middle"),F(V,"font",z.font||e);var gt=H(it.textStroke||k.textStroke,ut),at=B(it.textFill||k.textFill),ut=w(it.textStrokeWidth,k.textStrokeWidth);gt&&(F(V,"lineWidth",ut),F(V,"strokeStyle",gt),V.strokeText(z.text,et,dt)),at&&(F(V,"fillStyle",at),V.fillText(z.text,et,dt))}function L(Y){return!!(Y.textBackgroundColor||Y.textBorderWidth&&Y.textBorderColor)}function E(Y,V,z,k,X,q,et){var rt=z.textBackgroundColor,it=z.textBorderWidth,lt=z.textBorderColor,dt=D(rt);if(F(V,"shadowBlur",z.textBoxShadowBlur||0),F(V,"shadowColor",z.textBoxShadowColor||"transparent"),F(V,"shadowOffsetX",z.textBoxShadowOffsetX||0),F(V,"shadowOffsetY",z.textBoxShadowOffsetY||0),dt||it&&lt){V.beginPath();var ht=z.textBorderRadius;ht?h.buildPath(V,{x:k,y:X,width:q,height:et,r:ht}):V.rect(k,X,q,et),V.closePath()}if(dt)if(F(V,"fillStyle",rt),null!=z.fillOpacity){var gt=V.globalAlpha;V.globalAlpha=z.fillOpacity*z.opacity,V.fill(),V.globalAlpha=gt}else V.fill();else if(b(rt)){var at=rt.image;(at=n.createOrUpdateImage(at,null,Y,N,rt))&&n.isImageReady(at)&&V.drawImage(at,k,X,q,et)}it&&lt&&(F(V,"lineWidth",it),F(V,"strokeStyle",lt),null!=z.strokeOpacity?(gt=V.globalAlpha,V.globalAlpha=z.strokeOpacity*z.opacity,V.stroke(),V.globalAlpha=gt):V.stroke())}function N(Y,V){V.image=Y}function R(Y,V,z,k){var X=z.x||0,q=z.y||0,et=z.textAlign,rt=z.textVerticalAlign;if(k){var it=z.textPosition;if(it instanceof Array)X=k.x+Z(it[0],k.width),q=k.y+Z(it[1],k.height);else{var lt=V&&V.calculateTextPosition?V.calculateTextPosition(d,z,k):y.calculateTextPosition(d,z,k);X=lt.x,q=lt.y,et=et||lt.textAlign,rt=rt||lt.textVerticalAlign}var dt=z.textOffset;dt&&(X+=dt[0],q+=dt[1])}return(Y=Y||{}).baseX=X,Y.baseY=q,Y.textAlign=et,Y.textVerticalAlign=rt,Y}function F(Y,V,z){return Y[V]=c(Y,V,z),Y[V]}function H(Y,V){return null==Y||V<=0||"transparent"===Y||"none"===Y?null:Y.image||Y.colorStops?"#000":Y}function B(Y){return null==Y||"none"===Y?null:Y.image||Y.colorStops?"#000":Y}function Z(Y,V){return"string"==typeof Y?Y.lastIndexOf("%")>=0?parseFloat(Y)/100*V:parseFloat(Y):Y}function W(Y,V,z){return"right"===V?Y-z[1]:"center"===V?Y+z[3]/2-z[1]/2:Y+z[3]}U.normalizeTextStyle=function f(Y){return p(Y),M(Y.rich,p),Y},U.renderText=function S(Y,V,z,k,X,q){k.rich?function x(Y,V,z,k,X,q){q!==u&&(V.__attrCachedBy=a.NONE);var et=Y.__textCotentBlock;(!et||Y.__dirtyText)&&(et=Y.__textCotentBlock=y.parseRichText(z,k)),function g(Y,V,z,k,X){var q=z.width,et=z.outerWidth,rt=z.outerHeight,it=k.textPadding,lt=R(v,Y,k,X),dt=lt.baseX,ht=lt.baseY,gt=lt.textAlign,at=lt.textVerticalAlign;m(V,k,X,dt,ht);var ut=y.adjustTextX(dt,et,gt),Ct=y.adjustTextY(ht,rt,at),_t=ut,bt=Ct;it&&(_t+=it[3],bt+=it[0]);var Rt=_t+q;L(k)&&E(Y,V,k,ut,Ct,et,rt);for(var yt=0;yt<z.lines.length;yt++){for(var It,Tt=z.lines[yt],Pt=Tt.tokens,Zt=Pt.length,Vt=Tt.lineHeight,ft=Tt.width,xt=0,wt=_t,Nt=Rt,Ot=Zt-1;xt<Zt&&(!(It=Pt[xt]).textAlign||"left"===It.textAlign);)A(Y,V,It,k,Vt,bt,wt,"left"),ft-=It.width,wt+=It.width,xt++;for(;Ot>=0&&"right"===(It=Pt[Ot]).textAlign;)A(Y,V,It,k,Vt,bt,Nt,"right"),ft-=It.width,Nt-=It.width,Ot--;for(wt+=(q-(wt-_t)-(Rt-Nt)-ft)/2;xt<=Ot;)A(Y,V,It=Pt[xt],k,Vt,bt,wt+It.width/2,"center"),wt+=It.width,xt++;bt+=Vt}}(Y,V,et,k,X)}(Y,V,z,k,X,q):function C(Y,V,z,k,X,q){"use strict";var rt,et=L(k),it=!1,lt=V.__attrCachedBy===a.PLAIN_TEXT;q!==u?(q&&(rt=q.style,it=!et&&lt&&rt),V.__attrCachedBy=et?a.NONE:a.PLAIN_TEXT):lt&&(V.__attrCachedBy=a.NONE);var dt=k.font||e;(!it||dt!==(rt.font||e))&&(V.font=dt);var ht=Y.__computedFont;Y.__styleFont!==dt&&(Y.__styleFont=dt,ht=Y.__computedFont=V.font);var gt=k.textPadding,ut=Y.__textCotentBlock;(!ut||Y.__dirtyText)&&(ut=Y.__textCotentBlock=y.parsePlainText(z,ht,gt,k.textLineHeight,k.truncate));var Ct=ut.outerHeight,_t=ut.lines,bt=ut.lineHeight,Rt=R(v,Y,k,X),yt=Rt.baseX,Tt=Rt.baseY,Pt=Rt.textAlign||"left",Zt=Rt.textVerticalAlign;m(V,k,X,yt,Tt);var Vt=y.adjustTextY(Tt,Ct,Zt),ft=yt,xt=Vt;if(et||gt){var Nt=y.getWidth(z,ht);gt&&(Nt+=gt[1]+gt[3]);var Ot=y.adjustTextX(yt,Nt,Pt);et&&E(Y,V,k,Ot,Vt,Nt,Ct),gt&&(ft=W(yt,Pt,gt),xt+=gt[0])}V.textAlign=Pt,V.textBaseline="middle",V.globalAlpha=k.opacity||1;for(var It=0;It<l.length;It++){var Ft=l[It],Jt=Ft[0],qt=Ft[1],te=k[Jt];(!it||te!==rt[Jt])&&(V[qt]=c(V,qt,te||Ft[2]))}xt+=bt/2;var se=k.textStrokeWidth,Ce=!it||se!==(it?rt.textStrokeWidth:null),Se=!it||Ce||k.textStroke!==rt.textStroke,Be=H(k.textStroke,se),ze=B(k.textFill);if(Be&&(Ce&&(V.lineWidth=se),Se&&(V.strokeStyle=Be)),ze&&(!it||k.textFill!==rt.textFill)&&(V.fillStyle=ze),1===_t.length)Be&&V.strokeText(_t[0],ft,xt),ze&&V.fillText(_t[0],ft,xt);else for(It=0;It<_t.length;It++)Be&&V.strokeText(_t[It],ft,xt),ze&&V.fillText(_t[It],ft,xt),xt+=bt}(Y,V,z,k,X,q)},U.getBoxPosition=R,U.getStroke=H,U.getFill=B,U.parsePercent=Z,U.needDrawText=function $(Y,V){return null!=Y&&(Y||V.textBackgroundColor||V.textBorderWidth&&V.textBorderColor||V.textPadding)}},68434:(j,U,i)=>{var T=i(12322),w=i(94525),M=i(90676).WILL_BE_RESTORED,I=new w,D=function(){};D.prototype={constructor:D,drawRectText:function(y,h){var n=this.style;h=n.textRect||h,this.__dirty&&T.normalizeTextStyle(n,!0);var c=n.text;if(null!=c&&(c+=""),T.needDrawText(c,n)){y.save();var o=this.transform;n.transformText?this.setTransform(y):o&&(I.copy(h),I.applyTransform(o),h=I),T.renderText(this,y,c,n,h,M),y.restore()}}},j.exports=D},18419:(j,U,i)=>{var w=i(40465).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,M){var I=M.cx,D=M.cy,b=Math.max(M.r,0),y=M.startAngle,h=M.endAngle,n=M.clockwise,c=Math.cos(y),o=Math.sin(y);t.moveTo(c*b+I,o*b+D),t.arc(I,D,b,y,h,!n)}});j.exports=w},61838:(j,U,i)=>{var T=i(40465),w=i(8544),t=i(46846),M=t.quadraticSubdivide,I=t.cubicSubdivide,D=t.quadraticAt,b=t.cubicAt,y=t.quadraticDerivativeAt,h=t.cubicDerivativeAt,n=[];function c(a,u,e){return null===a.cpx2||null===a.cpy2?[(e?h:b)(a.x1,a.cpx1,a.cpx2,a.x2,u),(e?h:b)(a.y1,a.cpy1,a.cpy2,a.y2,u)]:[(e?y:D)(a.x1,a.cpx1,a.x2,u),(e?y:D)(a.y1,a.cpy1,a.y2,u)]}var o=T.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,u){var e=u.x1,s=u.y1,r=u.x2,l=u.y2,d=u.cpx1,v=u.cpy1,f=u.cpx2,p=u.cpy2,S=u.percent;0!==S&&(a.moveTo(e,s),null==f||null==p?(S<1&&(M(e,d,r,S,n),d=n[1],r=n[2],M(s,v,l,S,n),v=n[1],l=n[2]),a.quadraticCurveTo(d,v,r,l)):(S<1&&(I(e,d,f,r,S,n),d=n[1],f=n[2],r=n[3],I(s,v,p,l,S,n),v=n[1],p=n[2],l=n[3]),a.bezierCurveTo(d,v,f,p,r,l)))},pointAt:function(a){return c(this.shape,a,!1)},tangentAt:function(a){var u=c(this.shape,a,!0);return w.normalize(u,u)}});j.exports=o},27610:(j,U,i)=>{var w=i(40465).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,M,I){I&&t.moveTo(M.cx+M.r,M.cy),t.arc(M.cx,M.cy,M.r,0,2*Math.PI,!0)}});j.exports=w},23572:(j,U,i)=>{var w=i(40465).extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,M){var I=.5522848,D=M.cx,b=M.cy,y=M.rx,h=M.ry,n=y*I,c=h*I;t.moveTo(D-y,b),t.bezierCurveTo(D-y,b-c,D-n,b-h,D,b-h),t.bezierCurveTo(D+n,b-h,D+y,b-c,D+y,b),t.bezierCurveTo(D+y,b+c,D+n,b+h,D,b+h),t.bezierCurveTo(D-n,b+h,D-y,b+c,D-y,b),t.closePath()}});j.exports=w},60541:(j,U,i)=>{var T=i(40465),t=i(73532).subPixelOptimizeLine,M={},I=T.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(D,b){var y,h,n,c;this.subPixelOptimize?(t(M,b,this.style),y=M.x1,h=M.y1,n=M.x2,c=M.y2):(y=b.x1,h=b.y1,n=b.x2,c=b.y2);var o=b.percent;0!==o&&(D.moveTo(y,h),o<1&&(n=y*(1-o)+n*o,c=h*(1-o)+c*o),D.lineTo(n,c))},pointAt:function(D){var b=this.shape;return[b.x1*(1-D)+b.x2*D,b.y1*(1-D)+b.y2*D]}});j.exports=I},78015:(j,U,i)=>{var T=i(40465),w=i(14541),t=T.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(M,I){w.buildPath(M,I,!0)}});j.exports=t},73628:(j,U,i)=>{var T=i(40465),w=i(14541),t=T.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(M,I){w.buildPath(M,I,!1)}});j.exports=t},68341:(j,U,i)=>{var T=i(40465),w=i(21197),M=i(73532).subPixelOptimizeRect,I={},D=T.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(b,y){var h,n,c,o;this.subPixelOptimize?(M(I,y,this.style),h=I.x,n=I.y,c=I.width,o=I.height,I.r=y.r,y=I):(h=y.x,n=y.y,c=y.width,o=y.height),y.r?w.buildPath(b,y):b.rect(h,n,c,o),b.closePath()}});j.exports=D},22283:(j,U,i)=>{var w=i(40465).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,M){var I=M.cx,D=M.cy,b=2*Math.PI;t.moveTo(I+M.r,D),t.arc(I,D,M.r,0,b,!1),t.moveTo(I+M.r0,D),t.arc(I,D,M.r0,0,b,!0)}});j.exports=w},53594:(j,U,i)=>{var T=i(40465),w=i(34777),t=T.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:w(T.prototype.brush),buildPath:function(M,I){var D=I.cx,b=I.cy,y=Math.max(I.r0||0,0),h=Math.max(I.r,0),n=I.startAngle,c=I.endAngle,o=I.clockwise,a=Math.cos(n),u=Math.sin(n);M.moveTo(a*y+D,u*y+b),M.lineTo(a*h+D,u*h+b),M.arc(D,b,h,n,c,!o),M.lineTo(Math.cos(c)*y+D,Math.sin(c)*y+b),0!==y&&M.arc(D,b,y,c,n,o),M.closePath()}});j.exports=t},21972:(j,U,i)=>{var T=i(34047),w=i(94896),t=i(66615),M=t.isString,I=t.isFunction,D=t.isObject,b=t.isArrayLike,y=t.indexOf,h=function(){this.animators=[]};function n(u,e,s,r,l,d,v,f){M(r)?(d=l,l=r,r=0):I(l)?(d=l,l="linear",r=0):I(r)?(d=r,r=0):I(s)?(d=s,s=500):s||(s=500),u.stopAnimation(),c(u,"",u,e,s,r,f);var p=u.animators.slice(),S=p.length;function C(){--S||d&&d()}S||d&&d();for(var x=0;x<p.length;x++)p[x].done(C).start(l,v)}function c(u,e,s,r,l,d,v){var f={},p=0;for(var S in r)r.hasOwnProperty(S)&&(null!=s[S]?D(r[S])&&!b(r[S])?c(u,e?e+"."+S:S,s[S],r[S],l,d,v):(v?(f[S]=s[S],o(u,e,S,r[S])):f[S]=r[S],p++):null!=r[S]&&!v&&o(u,e,S,r[S]));p>0&&u.animate(e,!1).when(l??500,f).delay(d||0)}function o(u,e,s,r){if(e){var l={};l[e]={},l[e][s]=r,u.attr(l)}else u.attr(s,r)}h.prototype={constructor:h,animate:function(u,e){var s,r=!1,l=this,d=this.__zr;if(u){var v=u.split("."),f=l;r="shape"===v[0];for(var p=0,S=v.length;p<S;p++)f&&(f=f[v[p]]);f&&(s=f)}else s=l;if(s){var C=l.animators,x=new T(s,e);return x.during(function(g){l.dirty(r)}).done(function(){C.splice(y(C,x),1)}),C.push(x),d&&d.animation.addAnimator(x),x}w('Property "'+u+'" is not existed in element '+l.id)},stopAnimation:function(u){for(var e=this.animators,s=e.length,r=0;r<s;r++)e[r].stop(u);return e.length=0,this},animateTo:function(u,e,s,r,l,d){n(this,u,e,s,r,l,d)},animateFrom:function(u,e,s,r,l,d){n(this,u,e,s,r,l,d,!0)}},j.exports=h},51609:j=>{function U(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function i(w,t){return{target:w,topTarget:t&&t.topTarget}}U.prototype={constructor:U,_dragStart:function(w){for(var t=w.target;t&&!t.draggable;)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=w.offsetX,this._y=w.offsetY,this.dispatchToElement(i(t,w),"dragstart",w.event))},_drag:function(w){var t=this._draggingTarget;if(t){var M=w.offsetX,I=w.offsetY,D=M-this._x,b=I-this._y;this._x=M,this._y=I,t.drift(D,b,w),this.dispatchToElement(i(t,w),"drag",w.event);var y=this.findHover(M,I,t).target,h=this._dropTarget;this._dropTarget=y,t!==y&&(h&&y!==h&&this.dispatchToElement(i(h,w),"dragleave",w.event),y&&y!==h&&this.dispatchToElement(i(y,w),"dragenter",w.event))}},_dragEnd:function(w){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(i(t,w),"dragend",w.event),this._dropTarget&&this.dispatchToElement(i(this._dropTarget,w),"drop",w.event),this._draggingTarget=null,this._dropTarget=null}},j.exports=U},24665:j=>{var U=Array.prototype.slice,i=function(M){this._$handlers={},this._$eventProcessor=M};function w(M,I,D,b,y,h){var n=M._$handlers;if("function"==typeof D&&(y=b,b=D,D=null),!b||!I)return M;D=function T(M,I){var D=M._$eventProcessor;return null!=I&&D&&D.normalizeQuery&&(I=D.normalizeQuery(I)),I}(M,D),n[I]||(n[I]=[]);for(var c=0;c<n[I].length;c++)if(n[I][c].h===b)return M;var o={h:b,one:h,query:D,ctx:y||M,callAtLast:b.zrEventfulCallAtLast},a=n[I].length-1,u=n[I][a];return u&&u.callAtLast?n[I].splice(a,0,o):n[I].push(o),M}i.prototype={constructor:i,one:function(M,I,D,b){return w(this,M,I,D,b,!0)},on:function(M,I,D,b){return w(this,M,I,D,b,!1)},isSilent:function(M){var I=this._$handlers;return!I[M]||!I[M].length},off:function(M,I){var D=this._$handlers;if(!M)return this._$handlers={},this;if(I){if(D[M]){for(var b=[],y=0,h=D[M].length;y<h;y++)D[M][y].h!==I&&b.push(D[M][y]);D[M]=b}D[M]&&0===D[M].length&&delete D[M]}else delete D[M];return this},trigger:function(M){var I=this._$handlers[M],D=this._$eventProcessor;if(I){var b=arguments,y=b.length;y>3&&(b=U.call(b,1));for(var h=I.length,n=0;n<h;){var c=I[n];if(D&&D.filter&&null!=c.query&&!D.filter(M,c.query))n++;else{switch(y){case 1:c.h.call(c.ctx);break;case 2:c.h.call(c.ctx,b[1]);break;case 3:c.h.call(c.ctx,b[1],b[2]);break;default:c.h.apply(c.ctx,b)}c.one?(I.splice(n,1),h--):n++}}}return D&&D.afterTrigger&&D.afterTrigger(M),this},triggerWithContext:function(M){var I=this._$handlers[M],D=this._$eventProcessor;if(I){var b=arguments,y=b.length;y>4&&(b=U.call(b,1,b.length-1));for(var h=b[b.length-1],n=I.length,c=0;c<n;){var o=I[c];if(D&&D.filter&&null!=o.query&&!D.filter(M,o.query))c++;else{switch(y){case 1:o.h.call(h);break;case 2:o.h.call(h,b[1]);break;case 3:o.h.call(h,b[1],b[2]);break;default:o.h.apply(h,b)}o.one?(I.splice(c,1),n--):c++}}}return D&&D.afterTrigger&&D.afterTrigger(M),this}},j.exports=i},4360:(j,U,i)=>{var T=i(84498),w=i(8544),t=T.identity,M=5e-5;function I(o){return o>M||o<-M}var D=function(o){(o=o||{}).position||(this.position=[0,0]),null==o.rotation&&(this.rotation=0),o.scale||(this.scale=[1,1]),this.origin=this.origin||null},b=D.prototype;b.transform=null,b.needLocalTransform=function(){return I(this.rotation)||I(this.position[0])||I(this.position[1])||I(this.scale[0]-1)||I(this.scale[1]-1)};var y=[];b.updateTransform=function(){var o=this.parent,a=o&&o.transform,u=this.needLocalTransform(),e=this.transform;if(u||a){e=e||T.create(),u?this.getLocalTransform(e):t(e),a&&(u?T.mul(e,o.transform,e):T.copy(e,o.transform)),this.transform=e;var s=this.globalScaleRatio;if(null!=s&&1!==s){this.getGlobalScale(y);var r=y[0]<0?-1:1,l=y[1]<0?-1:1,d=((y[0]-r)*s+r)/y[0]||0,v=((y[1]-l)*s+l)/y[1]||0;e[0]*=d,e[1]*=d,e[2]*=v,e[3]*=v}this.invTransform=this.invTransform||T.create(),T.invert(this.invTransform,e)}else e&&t(e)},b.getLocalTransform=function(o){return D.getLocalTransform(this,o)},b.setTransform=function(o){var a=this.transform,u=o.dpr||1;a?o.setTransform(u*a[0],u*a[1],u*a[2],u*a[3],u*a[4],u*a[5]):o.setTransform(u,0,0,u,0,0)},b.restoreTransform=function(o){var a=o.dpr||1;o.setTransform(a,0,0,a,0,0)};var h=[],n=T.create();b.setLocalTransform=function(o){if(o){var a=o[0]*o[0]+o[1]*o[1],u=o[2]*o[2]+o[3]*o[3],e=this.position,s=this.scale;I(a-1)&&(a=Math.sqrt(a)),I(u-1)&&(u=Math.sqrt(u)),o[0]<0&&(a=-a),o[3]<0&&(u=-u),e[0]=o[4],e[1]=o[5],s[0]=a,s[1]=u,this.rotation=Math.atan2(-o[1]/u,o[0]/a)}},b.decomposeTransform=function(){if(this.transform){var o=this.parent,a=this.transform;o&&o.transform&&(T.mul(h,o.invTransform,a),a=h);var u=this.origin;u&&(u[0]||u[1])&&(n[4]=u[0],n[5]=u[1],T.mul(h,a,n),h[4]-=u[0],h[5]-=u[1],a=h),this.setLocalTransform(a)}},b.getGlobalScale=function(o){var a=this.transform;return o=o||[],a?(o[0]=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o[1]=Math.sqrt(a[2]*a[2]+a[3]*a[3]),a[0]<0&&(o[0]=-o[0]),a[3]<0&&(o[1]=-o[1]),o):(o[0]=1,o[1]=1,o)},b.transformCoordToLocal=function(o,a){var u=[o,a],e=this.invTransform;return e&&w.applyTransform(u,u,e),u},b.transformCoordToGlobal=function(o,a){var u=[o,a],e=this.transform;return e&&w.applyTransform(u,u,e),u},D.getLocalTransform=function(o,a){t(a=a||[]);var u=o.origin,e=o.scale||[1,1],s=o.rotation||0,r=o.position||[0,0];return u&&(a[4]-=u[0],a[5]-=u[1]),T.scale(a,a,e),s&&T.rotate(a,a,s),u&&(a[4]+=u[0],a[5]+=u[1]),a[4]+=r[0],a[5]+=r[1],a},j.exports=D},44111:(j,U,i)=>{var w=i(6932).createElement,t=i(66615),M=i(94896),I=i(40465),D=i(48418),b=i(62018),y=i(59390),h=i(3560),n=i(91042),c=i(83045),o=i(26711),a=o.path,u=o.image,e=o.text;function s(m){return parseInt(m,10)}function r(m){return m instanceof I?a:m instanceof D?u:m instanceof b?e:a}function l(m,A){return A&&m&&A.parentNode!==m}function d(m,A,L){if(l(m,A)&&L){var E=L.nextSibling;E?m.insertBefore(A,E):m.appendChild(A)}}function v(m,A){if(l(m,A)){var L=m.firstChild;L?m.insertBefore(A,L):m.appendChild(A)}}function f(m,A){A&&m&&A.parentNode===m&&m.removeChild(A)}function p(m){return m.__textSvgEl}function S(m){return m.__svgEl}var C=function(m,A,L,E){this.root=m,this.storage=A,this._opts=L=t.extend({},L||{});var N=w("svg");N.setAttribute("xmlns","http://www.w3.org/2000/svg"),N.setAttribute("version","1.1"),N.setAttribute("baseProfile","full"),N.style.cssText="user-select:none;position:absolute;left:0;top:0;";var R=w("g");N.appendChild(R);var F=w("g");N.appendChild(F),this.gradientManager=new h(E,F),this.clipPathManager=new n(E,F),this.shadowManager=new c(E,F);var H=document.createElement("div");H.style.cssText="overflow:hidden;position:relative",this._svgDom=N,this._svgRoot=F,this._backgroundRoot=R,this._viewport=H,m.appendChild(H),H.appendChild(N),this.resize(L.width,L.height),this._visibleList=[]};C.prototype={constructor:C,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getSvgDom:function(){return this._svgDom},getSvgRoot:function(){return this._svgRoot},getViewportRootOffset:function(){var m=this.getViewportRoot();if(m)return{offsetLeft:m.offsetLeft||0,offsetTop:m.offsetTop||0}},refresh:function(){var m=this.storage.getDisplayList(!0);this._paintList(m)},setBackgroundColor:function(m){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var A=w("rect");A.setAttribute("width",this.getWidth()),A.setAttribute("height",this.getHeight()),A.setAttribute("x",0),A.setAttribute("y",0),A.setAttribute("id",0),A.style.fill=m,this._backgroundRoot.appendChild(A),this._backgroundNode=A},_paintList:function(m){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var R,A=this._svgRoot,L=this._visibleList,E=m.length,N=[];for(R=0;R<E;R++){var H=r(F=m[R]),B=S(F)||p(F);F.invisible||(F.__dirty&&(H&&H.brush(F),this.clipPathManager.update(F),F.style&&(this.gradientManager.update(F.style.fill),this.gradientManager.update(F.style.stroke),this.shadowManager.update(B,F)),F.__dirty=!1),N.push(F))}var W,Z=y(L,N);for(R=0;R<Z.length;R++)if(($=Z[R]).removed)for(var Y=0;Y<$.count;Y++){B=S(F=L[$.indices[Y]]);var V=p(F);f(A,B),f(A,V)}for(R=0;R<Z.length;R++){var $;if(($=Z[R]).added)for(Y=0;Y<$.count;Y++)B=S(F=N[$.indices[Y]]),V=p(F),W?d(A,B,W):v(A,B),B?d(A,V,B):W?d(A,V,W):v(A,V),d(A,V,B),W=V||B||W,this.gradientManager.addWithoutUpdate(B||V,F),this.shadowManager.addWithoutUpdate(B||V,F),this.clipPathManager.markUsed(F);else if(!$.removed)for(Y=0;Y<$.count;Y++){var F;B=S(F=N[$.indices[Y]]),V=p(F),B=S(F),V=p(F),this.gradientManager.markUsed(F),this.gradientManager.addWithoutUpdate(B||V,F),this.shadowManager.markUsed(F),this.shadowManager.addWithoutUpdate(B||V,F),this.clipPathManager.markUsed(F),V&&d(A,V,B),W=B||V||W}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=N},_getDefs:function(m){var L,A=this._svgDom;return 0===(L=A.getElementsByTagName("defs")).length?m?((L=A.insertBefore(w("defs"),A.firstChild)).contains||(L.contains=function(N){var R=L.children;if(!R)return!1;for(var F=R.length-1;F>=0;--F)if(R[F]===N)return!0;return!1}),L):null:L[0]},resize:function(m,A){var L=this._viewport;L.style.display="none";var E=this._opts;if(null!=m&&(E.width=m),null!=A&&(E.height=A),m=this._getSize(0),A=this._getSize(1),L.style.display="",this._width!==m||this._height!==A){this._width=m,this._height=A;var N=L.style;N.width=m+"px",N.height=A+"px";var R=this._svgDom;R.setAttribute("width",m),R.setAttribute("height",A)}this._backgroundNode&&(this._backgroundNode.setAttribute("width",m),this._backgroundNode.setAttribute("height",A))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(m){var A=this._opts,L=["width","height"][m],E=["clientWidth","clientHeight"][m],N=["paddingLeft","paddingTop"][m],R=["paddingRight","paddingBottom"][m];if(null!=A[L]&&"auto"!==A[L])return parseFloat(A[L]);var F=this.root,H=document.defaultView.getComputedStyle(F);return(F[E]||s(H[L])||s(F.style[L]))-(s(H[N])||0)-(s(H[R])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},toDataURL:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(this._svgDom.outerHTML.replace(/></g,">\n\r<"))}},t.each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","pathToImage"],function(m){C.prototype[m]=function x(m){return function(){M('In SVG mode painter not support method "'+m+'"')}}(m)}),j.exports=C},6932:(j,U)=>{U.createElement=function T(w){return document.createElementNS("http://www.w3.org/2000/svg",w)}},26711:(j,U,i)=>{var w=i(6932).createElement,t=i(87034),M=i(94525),I=i(84498),D=i(50585),b=i(12322),y=i(62018),h=t.CMD,n=Array.prototype.join,c="none",o=Math.round,a=Math.sin,u=Math.cos,e=Math.PI,s=2*Math.PI,r=180/e,l=1e-4;function d(V){return o(1e4*V)/1e4}function v(V){return V<l&&V>-l}function S(V,z){z&&C(V,"transform","matrix("+n.call(z,",")+")")}function C(V,z,k){(!k||"linear"!==k.type&&"radial"!==k.type)&&V.setAttribute(z,k)}function g(V,z,k,X){if(function f(V,z){var k=z?V.textFill:V.fill;return null!=k&&k!==c}(z,k)){var q=k?z.textFill:z.fill;C(V,"fill",q="transparent"===q?c:q),C(V,"fill-opacity",null!=z.fillOpacity?z.fillOpacity*z.opacity:z.opacity)}else C(V,"fill",c);if(function p(V,z){var k=z?V.textStroke:V.stroke;return null!=k&&k!==c}(z,k)){var et=k?z.textStroke:z.stroke;C(V,"stroke",et="transparent"===et?c:et),C(V,"stroke-width",(k?z.textStrokeWidth:z.lineWidth)/(!k&&z.strokeNoScale?X.getLineScale():1)),C(V,"paint-order",k?"stroke":"fill"),C(V,"stroke-opacity",null!=z.strokeOpacity?z.strokeOpacity:z.opacity),z.lineDash?(C(V,"stroke-dasharray",z.lineDash.join(",")),C(V,"stroke-dashoffset",o(z.lineDashOffset||0))):C(V,"stroke-dasharray",""),z.lineCap&&C(V,"stroke-linecap",z.lineCap),z.lineJoin&&C(V,"stroke-linejoin",z.lineJoin),z.miterLimit&&C(V,"stroke-miterlimit",z.miterLimit)}else C(V,"stroke",c)}var A={brush:function(V){var z=V.style,k=V.__svgEl;k||(k=w("path"),V.__svgEl=k),V.path||V.createPathProxy();var X=V.path;if(V.__dirtyPath){X.beginPath(),X.subPixelOptimize=!1,V.buildPath(X,V.shape),V.__dirtyPath=!1;var q=function m(V){for(var z=[],k=V.data,X=V.len(),q=0;q<X;){var rt="",it=0;switch(k[q++]){case h.M:rt="M",it=2;break;case h.L:rt="L",it=2;break;case h.Q:rt="Q",it=4;break;case h.C:rt="C",it=6;break;case h.A:var lt=k[q++],dt=k[q++],ht=k[q++],gt=k[q++],at=k[q++],ut=k[q++],Ct=k[q++],_t=k[q++],bt=Math.abs(ut),Rt=v(bt-s)||(_t?ut>=s:-ut>=s),yt=ut>0?ut%s:ut%s+s,Tt=!1;Tt=!!Rt||!v(bt)&&yt>=e==!!_t;var Pt=d(lt+ht*u(at)),Zt=d(dt+gt*a(at));Rt&&(ut=_t?s-1e-4:1e-4-s,Tt=!0,9===q&&z.push("M",Pt,Zt));var Vt=d(lt+ht*u(at+ut)),ft=d(dt+gt*a(at+ut));z.push("A",d(ht),d(gt),o(Ct*r),+Tt,+_t,Vt,ft);break;case h.Z:rt="Z";break;case h.R:Vt=d(k[q++]),ft=d(k[q++]);var xt=d(k[q++]),wt=d(k[q++]);z.push("M",Vt,ft,"L",Vt+xt,ft,"L",Vt+xt,ft+wt,"L",Vt,ft+wt,"L",Vt,ft)}rt&&z.push(rt);for(var Nt=0;Nt<it;Nt++)z.push(d(k[q++]))}return z.join(" ")}(X);q.indexOf("NaN")<0&&C(k,"d",q)}g(k,z,!1,V),S(k,V.transform),null!=z.text?B(V,V.getBoundingRect()):Y(V)}},L={brush:function(V){var z=V.style,k=z.image;if(k instanceof HTMLImageElement&&(k=k.src),k){var q=z.x||0,et=z.y||0,rt=z.width,it=z.height,lt=V.__svgEl;lt||(lt=w("image"),V.__svgEl=lt),k!==V.__imageSrc&&(function x(V,z,k){V.setAttributeNS("http://www.w3.org/1999/xlink",z,k)}(lt,"href",k),V.__imageSrc=k),C(lt,"width",rt),C(lt,"height",it),C(lt,"x",q),C(lt,"y",et),S(lt,V.transform),null!=z.text?B(V,V.getBoundingRect()):Y(V)}}},E={},N=new M,R={},F=[],H={left:"start",right:"end",center:"middle",middle:"middle"},B=function(V,z){var k=V.style,X=V.transform,q=V instanceof y||k.transformText;V.__dirty&&b.normalizeTextStyle(k,!0);var et=k.text;if(null!=et&&(et+=""),b.needDrawText(et,k)){null==et&&(et=""),!q&&X&&(N.copy(z),N.applyTransform(X),z=N);var rt=V.__textSvgEl;rt||(rt=w("text"),V.__textSvgEl=rt);var it=rt.style,lt=k.font||D.DEFAULT_FONT,dt=rt.__computedFont;lt!==rt.__styleFont&&(it.font=rt.__styleFont=lt,dt=rt.__computedFont=it.font);var ht=k.textPadding,at=V.__textCotentBlock;(!at||V.__dirtyText)&&(at=V.__textCotentBlock=D.parsePlainText(et,dt,ht,k.textLineHeight,k.truncate));var ut=at.outerHeight,Ct=at.lineHeight;b.getBoxPosition(R,V,k,z);var _t=R.baseX,bt=R.baseY,Rt=R.textAlign||"left",yt=R.textVerticalAlign;!function Z(V,z,k,X,q,et,rt){I.identity(F),z&&k&&I.copy(F,k);var it=X.textRotation;if(q&&it){var lt=X.textOrigin;"center"===lt?(et=q.width/2+q.x,rt=q.height/2+q.y):lt&&(et=lt[0]+q.x,rt=lt[1]+q.y),F[4]-=et,F[5]-=rt,I.rotate(F,F,it),F[4]+=et,F[5]+=rt}S(V,F)}(rt,q,X,k,z,_t,bt);var Pt=_t,Zt=D.adjustTextY(bt,ut,yt);ht&&(Pt=function W(V,z,k){return"right"===z?V-k[1]:"center"===z?V+k[3]/2-k[1]/2:V+k[3]}(_t,Rt,ht),Zt+=ht[0]),Zt+=Ct/2,g(rt,k,!0,V);var Vt=at.canCacheByTextString,ft=V.__tspanList||(V.__tspanList=[]),xt=ft.length;if(Vt&&V.__canCacheByTextString&&V.__text===et){if(V.__dirtyText&&xt)for(var wt=0;wt<xt;++wt)$(ft[wt],Rt,Pt,Zt+wt*Ct)}else{V.__text=et,V.__canCacheByTextString=Vt;var Nt=at.lines,Ot=Nt.length;for(wt=0;wt<Ot;wt++){var It=ft[wt],Ft=Nt[wt];It?It.__zrText!==Ft&&(It.innerHTML="",It.appendChild(document.createTextNode(Ft))):(It=ft[wt]=w("tspan"),rt.appendChild(It),It.appendChild(document.createTextNode(Ft))),$(It,Rt,Pt,Zt+wt*Ct)}if(xt>Ot){for(;wt<xt;wt++)rt.removeChild(ft[wt]);ft.length=Ot}}}};function $(V,z,k,X){C(V,"dominant-baseline","middle"),C(V,"text-anchor",H[z]),C(V,"x",k),C(V,"y",X)}function Y(V){V&&V.__textSvgEl&&(V.__textSvgEl.parentNode&&V.__textSvgEl.parentNode.removeChild(V.__textSvgEl),V.__textSvgEl=null,V.__tspanList=[],V.__text=null)}E.drawRectText=B,E.brush=function(V){null!=V.style.text?B(V,!1):Y(V)},U.path=A,U.image=L,U.text=E},91042:(j,U,i)=>{var T=i(36356),w=i(66615),t=i(84498);function M(D,b){T.call(this,D,b,"clipPath","__clippath_in_use__")}w.inherits(M,T),M.prototype.update=function(D){var b=this.getSvgElement(D);b&&this.updateDom(b,D.__clipPaths,!1);var y=this.getTextSvgElement(D);y&&this.updateDom(y,D.__clipPaths,!0),this.markUsed(D)},M.prototype.updateDom=function(D,b,y){if(b&&b.length>0){var c,o,h=this.getDefs(!0),n=b[0],a=y?"_textDom":"_dom";n[a]?(o=n[a].getAttribute("id"),h.contains(c=n[a])||h.appendChild(c)):(o="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(c=this.createElement("clipPath")).setAttribute("id",o),h.appendChild(c),n[a]=c);var u=this.getSvgProxy(n);if(n.transform&&n.parent.invTransform&&!y){var e=Array.prototype.slice.call(n.transform);t.mul(n.transform,n.parent.invTransform,n.transform),u.brush(n),n.transform=e}else u.brush(n);var s=this.getSvgElement(n);c.innerHTML="",c.appendChild(s.cloneNode()),D.setAttribute("clip-path","url(#"+o+")"),b.length>1&&this.updateDom(c,b.slice(1),y)}else D&&D.setAttribute("clip-path","none")},M.prototype.markUsed=function(D){var b=this;D.__clipPaths&&w.each(D.__clipPaths,function(y){y._dom&&T.prototype.markUsed.call(b,y._dom),y._textDom&&T.prototype.markUsed.call(b,y._textDom)})},j.exports=M},36356:(j,U,i)=>{var w=i(6932).createElement,t=i(66615),M=i(40465),I=i(48418),D=i(62018),b=i(26711),y=b.path,h=b.image,n=b.text;function a(e,s,r,l,d){this._zrId=e,this._svgRoot=s,this._tagNames="string"==typeof r?[r]:r,this._markLabel=l,this._domName=d||"_dom",this.nextId=0}a.prototype.createElement=w,a.prototype.getDefs=function(e){var s=this._svgRoot,r=this._svgRoot.getElementsByTagName("defs");return 0===r.length?e?((r=s.insertBefore(this.createElement("defs"),s.firstChild)).contains||(r.contains=function(l){var d=r.children;if(!d)return!1;for(var v=d.length-1;v>=0;--v)if(d[v]===l)return!0;return!1}),r):null:r[0]},a.prototype.update=function(e,s){if(e){var r=this.getDefs(!1);if(e[this._domName]&&r.contains(e[this._domName]))"function"==typeof s&&s(e);else{var l=this.add(e);l&&(e[this._domName]=l)}}},a.prototype.addDom=function(e){this.getDefs(!0).appendChild(e)},a.prototype.removeDom=function(e){var s=this.getDefs(!1);s&&e[this._domName]&&(s.removeChild(e[this._domName]),e[this._domName]=null)},a.prototype.getDoms=function(){var e=this.getDefs(!1);if(!e)return[];var s=[];return t.each(this._tagNames,function(r){var l=e.getElementsByTagName(r);s=s.concat([].slice.call(l))}),s},a.prototype.markAllUnused=function(){var e=this.getDoms(),s=this;t.each(e,function(r){r[s._markLabel]="0"})},a.prototype.markUsed=function(e){e&&(e[this._markLabel]="1")},a.prototype.removeUnused=function(){var e=this.getDefs(!1);if(e){var s=this.getDoms(),r=this;t.each(s,function(l){"1"!==l[r._markLabel]&&e.removeChild(l)})}},a.prototype.getSvgProxy=function(e){return e instanceof M?y:e instanceof I?h:e instanceof D?n:y},a.prototype.getTextSvgElement=function(e){return e.__textSvgEl},a.prototype.getSvgElement=function(e){return e.__svgEl},j.exports=a},3560:(j,U,i)=>{var T=i(36356),w=i(66615),t=i(94896),M=i(10754);function I(b,y){T.call(this,b,y,["linearGradient","radialGradient"],"__gradient_in_use__")}w.inherits(I,T),I.prototype.addWithoutUpdate=function(b,y){if(y&&y.style){var h=this;w.each(["fill","stroke"],function(n){if(y.style[n]&&("linear"===y.style[n].type||"radial"===y.style[n].type)){var a,c=y.style[n],o=h.getDefs(!0);c._dom?(a=c._dom,o.contains(c._dom)||h.addDom(a)):a=h.add(c),h.markUsed(y);var u=a.getAttribute("id");b.setAttribute(n,"url(#"+u+")")}})}},I.prototype.add=function(b){var y;if("linear"===b.type)y=this.createElement("linearGradient");else{if("radial"!==b.type)return t("Illegal gradient type."),null;y=this.createElement("radialGradient")}return b.id=b.id||this.nextId++,y.setAttribute("id","zr"+this._zrId+"-gradient-"+b.id),this.updateDom(b,y),this.addDom(y),y},I.prototype.update=function(b){var y=this;T.prototype.update.call(this,b,function(){var h=b.type,n=b._dom.tagName;"linear"===h&&"linearGradient"===n||"radial"===h&&"radialGradient"===n?y.updateDom(b,b._dom):(y.removeDom(b),y.add(b))})},I.prototype.updateDom=function(b,y){if("linear"===b.type)y.setAttribute("x1",b.x),y.setAttribute("y1",b.y),y.setAttribute("x2",b.x2),y.setAttribute("y2",b.y2);else{if("radial"!==b.type)return void t("Illegal gradient type.");y.setAttribute("cx",b.x),y.setAttribute("cy",b.y),y.setAttribute("r",b.r)}y.setAttribute("gradientUnits",b.global?"userSpaceOnUse":"objectBoundingBox"),y.innerHTML="";for(var h=b.colorStops,n=0,c=h.length;n<c;++n){var o=this.createElement("stop");o.setAttribute("offset",100*h[n].offset+"%");var a=h[n].color;if(a.indexOf("rgba")>-1){var u=M.parse(a)[3],e=M.toHex(a);o.setAttribute("stop-color","#"+e),o.setAttribute("stop-opacity",u)}else o.setAttribute("stop-color",h[n].color);y.appendChild(o)}b._dom=y},I.prototype.markUsed=function(b){if(b.style){var y=b.style.fill;y&&y._dom&&T.prototype.markUsed.call(this,y._dom),(y=b.style.stroke)&&y._dom&&T.prototype.markUsed.call(this,y._dom)}},j.exports=I},83045:(j,U,i)=>{var T=i(36356);function t(D,b){T.call(this,D,b,["filter"],"__filter_in_use__","_shadowDom")}function M(D){return D&&(D.shadowBlur||D.shadowOffsetX||D.shadowOffsetY||D.textShadowBlur||D.textShadowOffsetX||D.textShadowOffsetY)}i(66615).inherits(t,T),t.prototype.addWithoutUpdate=function(D,b){if(b&&M(b.style)){var y;b._shadowDom?(y=b._shadowDom,this.getDefs(!0).contains(b._shadowDom)||this.addDom(y)):y=this.add(b),this.markUsed(b);var n=y.getAttribute("id");D.style.filter="url(#"+n+")"}},t.prototype.add=function(D){var b=this.createElement("filter");return D._shadowDomId=D._shadowDomId||this.nextId++,b.setAttribute("id","zr"+this._zrId+"-shadow-"+D._shadowDomId),this.updateDom(D,b),this.addDom(b),b},t.prototype.update=function(D,b){if(M(b.style)){var h=this;T.prototype.update.call(this,b,function(){h.updateDom(b,b._shadowDom)})}else this.remove(D,b)},t.prototype.remove=function(D,b){null!=b._shadowDomId&&(this.removeDom(D),D.style.filter="")},t.prototype.updateDom=function(D,b){var y=b.getElementsByTagName("feDropShadow");y=0===y.length?this.createElement("feDropShadow"):y[0];var o,a,u,e,h=D.style,n=D.scale&&D.scale[0]||1,c=D.scale&&D.scale[1]||1;if(h.shadowBlur||h.shadowOffsetX||h.shadowOffsetY)o=h.shadowOffsetX||0,a=h.shadowOffsetY||0,u=h.shadowBlur,e=h.shadowColor;else{if(!h.textShadowBlur)return void this.removeDom(b,h);o=h.textShadowOffsetX||0,a=h.textShadowOffsetY||0,u=h.textShadowBlur,e=h.textShadowColor}y.setAttribute("dx",o/n),y.setAttribute("dy",a/c),y.setAttribute("flood-color",e),y.setAttribute("stdDeviation",u/2/n+" "+u/2/c),b.setAttribute("x","-100%"),b.setAttribute("y","-100%"),b.setAttribute("width",Math.ceil(u/2*200)+"%"),b.setAttribute("height",Math.ceil(u/2*200)+"%"),b.appendChild(y),D._shadowDom=b},t.prototype.markUsed=function(D){D._shadowDom&&T.prototype.markUsed.call(this,D._shadowDom)},j.exports=t},58794:(j,U,i)=>{i(26711),(0,i(47540).registerPainter)("svg",i(44111))},10754:(j,U,i)=>{var T=i(39286),w={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function t(m){return(m=Math.round(m))<0?0:m>255?255:m}function I(m){return m<0?0:m>1?1:m}function D(m){return m.length&&"%"===m.charAt(m.length-1)?t(parseFloat(m)/100*255):t(parseInt(m,10))}function b(m){return m.length&&"%"===m.charAt(m.length-1)?I(parseFloat(m)/100):I(parseFloat(m))}function y(m,A,L){return L<0?L+=1:L>1&&(L-=1),6*L<1?m+(A-m)*L*6:2*L<1?A:3*L<2?m+(A-m)*(2/3-L)*6:m}function h(m,A,L){return m+(A-m)*L}function n(m,A,L,E,N){return m[0]=A,m[1]=L,m[2]=E,m[3]=N,m}function c(m,A){return m[0]=A[0],m[1]=A[1],m[2]=A[2],m[3]=A[3],m}var o=new T(20),a=null;function u(m,A){a&&c(a,A),a=o.put(m,a||A.slice())}function e(m,A){if(m){A=A||[];var L=o.get(m);if(L)return c(A,L);var N,E=(m+="").replace(/ /g,"").toLowerCase();if(E in w)return c(A,w[E]),u(m,A),A;if("#"===E.charAt(0))return 4===E.length?(N=parseInt(E.substr(1),16))>=0&&N<=4095?(n(A,(3840&N)>>4|(3840&N)>>8,240&N|(240&N)>>4,15&N|(15&N)<<4,1),u(m,A),A):void n(A,0,0,0,1):7===E.length?(N=parseInt(E.substr(1),16))>=0&&N<=16777215?(n(A,(16711680&N)>>16,(65280&N)>>8,255&N,1),u(m,A),A):void n(A,0,0,0,1):void 0;var R=E.indexOf("("),F=E.indexOf(")");if(-1!==R&&F+1===E.length){var H=E.substr(0,R),B=E.substr(R+1,F-(R+1)).split(","),Z=1;switch(H){case"rgba":if(4!==B.length)return void n(A,0,0,0,1);Z=b(B.pop());case"rgb":return 3!==B.length?void n(A,0,0,0,1):(n(A,D(B[0]),D(B[1]),D(B[2]),Z),u(m,A),A);case"hsla":return 4!==B.length?void n(A,0,0,0,1):(B[3]=b(B[3]),s(B,A),u(m,A),A);case"hsl":return 3!==B.length?void n(A,0,0,0,1):(s(B,A),u(m,A),A);default:return}}n(A,0,0,0,1)}}function s(m,A){var L=(parseFloat(m[0])%360+360)%360/360,E=b(m[1]),N=b(m[2]),R=N<=.5?N*(E+1):N+E-N*E,F=2*N-R;return n(A=A||[],t(255*y(F,R,L+1/3)),t(255*y(F,R,L)),t(255*y(F,R,L-1/3)),1),4===m.length&&(A[3]=m[3]),A}function v(m,A,L){if(A&&A.length&&m>=0&&m<=1){L=L||[];var E=m*(A.length-1),N=Math.floor(E),R=Math.ceil(E),F=A[N],H=A[R],B=E-N;return L[0]=t(h(F[0],H[0],B)),L[1]=t(h(F[1],H[1],B)),L[2]=t(h(F[2],H[2],B)),L[3]=I(h(F[3],H[3],B)),L}}var f=v;function p(m,A,L){if(A&&A.length&&m>=0&&m<=1){var E=m*(A.length-1),N=Math.floor(E),R=Math.ceil(E),F=e(A[N]),H=e(A[R]),B=E-N,Z=g([t(h(F[0],H[0],B)),t(h(F[1],H[1],B)),t(h(F[2],H[2],B)),I(h(F[3],H[3],B))],"rgba");return L?{color:Z,leftIndex:N,rightIndex:R,value:E}:Z}}var S=p;function g(m,A){if(m&&m.length){var L=m[0]+","+m[1]+","+m[2];return("rgba"===A||"hsva"===A||"hsla"===A)&&(L+=","+m[3]),A+"("+L+")"}}U.parse=e,U.lift=function l(m,A){var L=e(m);if(L){for(var E=0;E<3;E++)L[E]=A<0?L[E]*(1-A)|0:(255-L[E])*A+L[E]|0,L[E]>255?L[E]=255:m[E]<0&&(L[E]=0);return g(L,4===L.length?"rgba":"rgb")}},U.toHex=function d(m){var A=e(m);if(A)return((1<<24)+(A[0]<<16)+(A[1]<<8)+ +A[2]).toString(16).slice(1)},U.fastLerp=v,U.fastMapToColor=f,U.lerp=p,U.mapToColor=S,U.modifyHSL=function C(m,A,L,E){if(m=e(m))return m=function r(m){if(m){var B,Z,A=m[0]/255,L=m[1]/255,E=m[2]/255,N=Math.min(A,L,E),R=Math.max(A,L,E),F=R-N,H=(R+N)/2;if(0===F)B=0,Z=0;else{Z=H<.5?F/(R+N):F/(2-R-N);var W=((R-A)/6+F/2)/F,$=((R-L)/6+F/2)/F,Y=((R-E)/6+F/2)/F;A===R?B=Y-$:L===R?B=1/3+W-Y:E===R&&(B=2/3+$-W),B<0&&(B+=1),B>1&&(B-=1)}var V=[360*B,Z,H];return null!=m[3]&&V.push(m[3]),V}}(m),null!=A&&(m[0]=function M(m){return(m=Math.round(m))<0?0:m>360?360:m}(A)),null!=L&&(m[1]=b(L)),null!=E&&(m[2]=b(E)),g(s(m),"rgba")},U.modifyAlpha=function x(m,A){if((m=e(m))&&null!=A)return m[3]=I(A),g(m,"rgba")},U.stringify=g},10990:(j,U,i)=>{var T=i(29367),w=i(48418),t=i(62018),M=i(27610),I=i(68341),D=i(23572),b=i(60541),y=i(40465),h=i(78015),n=i(73628),c=i(98481),o=i(300),a=i(84498),e=i(37561).createFromString,s=i(66615),r=s.isString,l=s.extend,d=s.defaults,v=s.trim,f=s.each,p=/[\s,]+/;function S(V){for(r(V)&&(V=(new DOMParser).parseFromString(V,"text/xml")),9===V.nodeType&&(V=V.firstChild);"svg"!==V.nodeName.toLowerCase()||1!==V.nodeType;)V=V.nextSibling;return V}function C(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}C.prototype.parse=function(V,z){z=z||{};var k=S(V);if(!k)throw new Error("Illegal svg");var X=new T;this._root=X;var lt,dt,q=k.getAttribute("viewBox")||"",et=parseFloat(k.getAttribute("width")||z.width),rt=parseFloat(k.getAttribute("height")||z.height);isNaN(et)&&(et=null),isNaN(rt)&&(rt=null),N(k,X,null,!0);for(var it=k.firstChild;it;)this._parseNode(it,X),it=it.nextSibling;if(q){var ht=v(q).split(p);ht.length>=4&&(lt={x:parseFloat(ht[0]||0),y:parseFloat(ht[1]||0),width:parseFloat(ht[2]),height:parseFloat(ht[3])})}if(lt&&null!=et&&null!=rt&&(dt=$(lt,et,rt),!z.ignoreViewBox)){var gt=X;(X=new T).add(gt),gt.scale=dt.scale.slice(),gt.position=dt.position.slice()}return!z.ignoreRootClip&&null!=et&&null!=rt&&X.setClipPath(new I({shape:{x:0,y:0,width:et,height:rt}})),{root:X,width:et,height:rt,viewBoxRect:lt,viewBoxTransform:dt}},C.prototype._parseNode=function(V,z){var X,q,k=V.nodeName.toLowerCase();if("defs"===k?this._isDefine=!0:"text"===k&&(this._isText=!0),this._isDefine){if(q=g[k]){var et=q.call(this,V),rt=V.getAttribute("id");rt&&(this._defs[rt]=et)}}else(q=x[k])&&(X=q.call(this,V,z),z.add(X));for(var it=V.firstChild;it;)1===it.nodeType&&this._parseNode(it,X),3===it.nodeType&&this._isText&&this._parseText(it,X),it=it.nextSibling;"defs"===k?this._isDefine=!1:"text"===k&&(this._isText=!1)},C.prototype._parseText=function(V,z){if(1===V.nodeType){var k=V.getAttribute("dx")||0,X=V.getAttribute("dy")||0;this._textX+=parseFloat(k),this._textY+=parseFloat(X)}var q=new t({style:{text:V.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});A(z,q),N(V,q,this._defs);var et=q.style.fontSize;et&&et<9&&(q.style.fontSize=9,q.scale=q.scale||[1,1],q.scale[0]*=et/9,q.scale[1]*=et/9);var rt=q.getBoundingRect();return this._textX+=rt.width,z.add(q),q};var x={g:function(V,z){var k=new T;return A(z,k),N(V,k,this._defs),k},rect:function(V,z){var k=new I;return A(z,k),N(V,k,this._defs),k.setShape({x:parseFloat(V.getAttribute("x")||0),y:parseFloat(V.getAttribute("y")||0),width:parseFloat(V.getAttribute("width")||0),height:parseFloat(V.getAttribute("height")||0)}),k},circle:function(V,z){var k=new M;return A(z,k),N(V,k,this._defs),k.setShape({cx:parseFloat(V.getAttribute("cx")||0),cy:parseFloat(V.getAttribute("cy")||0),r:parseFloat(V.getAttribute("r")||0)}),k},line:function(V,z){var k=new b;return A(z,k),N(V,k,this._defs),k.setShape({x1:parseFloat(V.getAttribute("x1")||0),y1:parseFloat(V.getAttribute("y1")||0),x2:parseFloat(V.getAttribute("x2")||0),y2:parseFloat(V.getAttribute("y2")||0)}),k},ellipse:function(V,z){var k=new D;return A(z,k),N(V,k,this._defs),k.setShape({cx:parseFloat(V.getAttribute("cx")||0),cy:parseFloat(V.getAttribute("cy")||0),rx:parseFloat(V.getAttribute("rx")||0),ry:parseFloat(V.getAttribute("ry")||0)}),k},polygon:function(V,z){var k=V.getAttribute("points");k&&(k=L(k));var X=new h({shape:{points:k||[]}});return A(z,X),N(V,X,this._defs),X},polyline:function(V,z){var k=new y;A(z,k),N(V,k,this._defs);var X=V.getAttribute("points");return X&&(X=L(X)),new n({shape:{points:X||[]}})},image:function(V,z){var k=new w;return A(z,k),N(V,k,this._defs),k.setStyle({image:V.getAttribute("xlink:href"),x:V.getAttribute("x"),y:V.getAttribute("y"),width:V.getAttribute("width"),height:V.getAttribute("height")}),k},text:function(V,z){var k=V.getAttribute("x")||0,X=V.getAttribute("y")||0,q=V.getAttribute("dx")||0,et=V.getAttribute("dy")||0;this._textX=parseFloat(k)+parseFloat(q),this._textY=parseFloat(X)+parseFloat(et);var rt=new T;return A(z,rt),N(V,rt,this._defs),rt},tspan:function(V,z){var k=V.getAttribute("x"),X=V.getAttribute("y");null!=k&&(this._textX=parseFloat(k)),null!=X&&(this._textY=parseFloat(X));var q=V.getAttribute("dx")||0,et=V.getAttribute("dy")||0,rt=new T;return A(z,rt),N(V,rt,this._defs),this._textX+=q,this._textY+=et,rt},path:function(V,z){var k=V.getAttribute("d")||"",X=e(k);return A(z,X),N(V,X,this._defs),X}},g={lineargradient:function(V){var z=parseInt(V.getAttribute("x1")||0,10),k=parseInt(V.getAttribute("y1")||0,10),X=parseInt(V.getAttribute("x2")||10,10),q=parseInt(V.getAttribute("y2")||0,10),et=new c(z,k,X,q);return function m(V,z){for(var k=V.firstChild;k;){if(1===k.nodeType){var X=k.getAttribute("offset");X=X.indexOf("%")>0?parseInt(X,10)/100:X?parseFloat(X):0;var q=k.getAttribute("stop-color")||"#000000";z.addColorStop(X,q)}k=k.nextSibling}}(V,et),et},radialgradient:function(V){}};function A(V,z){V&&V.__inheritedStyle&&(z.__inheritedStyle||(z.__inheritedStyle={}),d(z.__inheritedStyle,V.__inheritedStyle))}function L(V){for(var z=v(V).split(p),k=[],X=0;X<z.length;X+=2){var q=parseFloat(z[X]),et=parseFloat(z[X+1]);k.push([q,et])}return k}var E={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function N(V,z,k,X){var q=z.__inheritedStyle||{},et="text"===z.type;if(1===V.nodeType&&(function B(V,z){var k=V.getAttribute("transform");if(k){k=k.replace(/,/g," ");var X=null,q=[];k.replace(H,function(lt,dt,ht){q.push(dt,ht)});for(var et=q.length-1;et>0;et-=2){var rt=q[et],it=q[et-1];switch(X=X||a.create(),it){case"translate":rt=v(rt).split(p),a.translate(X,X,[parseFloat(rt[0]),parseFloat(rt[1]||0)]);break;case"scale":rt=v(rt).split(p),a.scale(X,X,[parseFloat(rt[0]),parseFloat(rt[1]||rt[0])]);break;case"rotate":rt=v(rt).split(p),a.rotate(X,X,parseFloat(rt[0]));break;case"skew":rt=v(rt).split(p),console.warn("Skew transform is not supported yet");break;case"matrix":rt=v(rt).split(p),X[0]=parseFloat(rt[0]),X[1]=parseFloat(rt[1]),X[2]=parseFloat(rt[2]),X[3]=parseFloat(rt[3]),X[4]=parseFloat(rt[4]),X[5]=parseFloat(rt[5])}}z.setLocalTransform(X)}}(V,z),l(q,function W(V){var z=V.getAttribute("style"),k={};if(!z)return k;var q,X={};for(Z.lastIndex=0;null!=(q=Z.exec(z));)X[q[1]]=q[2];for(var et in E)E.hasOwnProperty(et)&&null!=X[et]&&(k[E[et]]=X[et]);return k}(V)),!X))for(var rt in E)if(E.hasOwnProperty(rt)){var it=V.getAttribute(rt);null!=it&&(q[E[rt]]=it)}var lt=et?"textFill":"fill",dt=et?"textStroke":"stroke";z.style=z.style||new o;var ht=z.style;null!=q.fill&&ht.set(lt,F(q.fill,k)),null!=q.stroke&&ht.set(dt,F(q.stroke,k)),f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(gt){null!=q[gt]&&ht.set("lineWidth"===gt&&et?"textStrokeWidth":gt,parseFloat(q[gt]))}),(!q.textBaseline||"auto"===q.textBaseline)&&(q.textBaseline="alphabetic"),"alphabetic"===q.textBaseline&&(q.textBaseline="bottom"),"start"===q.textAlign&&(q.textAlign="left"),"end"===q.textAlign&&(q.textAlign="right"),f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(gt){null!=q[gt]&&ht.set(gt,q[gt])}),q.lineDash&&(z.style.lineDash=v(q.lineDash).split(p)),ht[dt]&&"none"!==ht[dt]&&(z[dt]=!0),z.__inheritedStyle=q}var R=/url\(\s*#(.*?)\)/;function F(V,z){var k=z&&V&&V.match(R);return k?z[v(k[1])]:V}var H=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,Z=/([^\s:;]+)\s*:\s*([^:;]+)/g;function $(V,z,k){var et=Math.min(z/V.width,k/V.height);return{scale:[et,et],position:[-(V.x+V.width/2)*et+z/2,-(V.y+V.height/2)*et+k/2]}}U.parseXML=S,U.makeViewBoxTransform=$,U.parseSVG=function Y(V,z){return(new C).parse(V,z)}},37561:(j,U,i)=>{var T=i(40465),w=i(87034),t=i(36816),M=Math.sqrt,I=Math.sin,D=Math.cos,b=Math.PI,y=function(d){return Math.sqrt(d[0]*d[0]+d[1]*d[1])},h=function(d,v){return(d[0]*v[0]+d[1]*v[1])/(y(d)*y(v))},n=function(d,v){return(d[0]*v[1]<d[1]*v[0]?-1:1)*Math.acos(h(d,v))};function c(d,v,f,p,S,C,x,g,m,A,L){var E=m*(b/180),N=D(E)*(d-f)/2+I(E)*(v-p)/2,R=-1*I(E)*(d-f)/2+D(E)*(v-p)/2,F=N*N/(x*x)+R*R/(g*g);F>1&&(x*=M(F),g*=M(F));var H=(S===C?-1:1)*M((x*x*(g*g)-x*x*(R*R)-g*g*(N*N))/(x*x*(R*R)+g*g*(N*N)))||0,B=H*x*R/g,Z=H*-g*N/x,W=(d+f)/2+D(E)*B-I(E)*Z,$=(v+p)/2+I(E)*B+D(E)*Z,Y=n([1,0],[(N-B)/x,(R-Z)/g]),V=[(N-B)/x,(R-Z)/g],z=[(-1*N-B)/x,(-1*R-Z)/g],k=n(V,z);h(V,z)<=-1&&(k=b),h(V,z)>=1&&(k=0),0===C&&k>0&&(k-=2*b),1===C&&k<0&&(k+=2*b),L.addData(A,W,$,x,g,Y,k,E,C)}var o=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,a=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function e(d,v){var f=function u(d){if(!d)return new w;for(var C,v=0,f=0,p=v,S=f,x=new w,g=w.CMD,m=d.match(o),A=0;A<m.length;A++){for(var N,L=m[A],E=L.charAt(0),R=L.match(a)||[],F=R.length,H=0;H<F;H++)R[H]=parseFloat(R[H]);for(var B=0;B<F;){var Z,W,$,Y,V,z,k,X=v,q=f;switch(E){case"l":v+=R[B++],f+=R[B++],x.addData(N=g.L,v,f);break;case"L":v=R[B++],f=R[B++],x.addData(N=g.L,v,f);break;case"m":v+=R[B++],f+=R[B++],x.addData(N=g.M,v,f),p=v,S=f,E="l";break;case"M":v=R[B++],f=R[B++],x.addData(N=g.M,v,f),p=v,S=f,E="L";break;case"h":v+=R[B++],x.addData(N=g.L,v,f);break;case"H":v=R[B++],x.addData(N=g.L,v,f);break;case"v":f+=R[B++],x.addData(N=g.L,v,f);break;case"V":f=R[B++],x.addData(N=g.L,v,f);break;case"C":x.addData(N=g.C,R[B++],R[B++],R[B++],R[B++],R[B++],R[B++]),v=R[B-2],f=R[B-1];break;case"c":x.addData(N=g.C,R[B++]+v,R[B++]+f,R[B++]+v,R[B++]+f,R[B++]+v,R[B++]+f),v+=R[B-2],f+=R[B-1];break;case"S":Z=v,W=f;var et=x.len(),rt=x.data;C===g.C&&(Z+=v-rt[et-4],W+=f-rt[et-3]),X=R[B++],q=R[B++],v=R[B++],f=R[B++],x.addData(N=g.C,Z,W,X,q,v,f);break;case"s":Z=v,W=f,et=x.len(),rt=x.data,C===g.C&&(Z+=v-rt[et-4],W+=f-rt[et-3]),X=v+R[B++],q=f+R[B++],v+=R[B++],f+=R[B++],x.addData(N=g.C,Z,W,X,q,v,f);break;case"Q":X=R[B++],q=R[B++],v=R[B++],f=R[B++],x.addData(N=g.Q,X,q,v,f);break;case"q":X=R[B++]+v,q=R[B++]+f,v+=R[B++],f+=R[B++],x.addData(N=g.Q,X,q,v,f);break;case"T":Z=v,W=f,et=x.len(),rt=x.data,C===g.Q&&(Z+=v-rt[et-4],W+=f-rt[et-3]),v=R[B++],f=R[B++],x.addData(N=g.Q,Z,W,v,f);break;case"t":Z=v,W=f,et=x.len(),rt=x.data,C===g.Q&&(Z+=v-rt[et-4],W+=f-rt[et-3]),v+=R[B++],f+=R[B++],x.addData(N=g.Q,Z,W,v,f);break;case"A":$=R[B++],Y=R[B++],V=R[B++],z=R[B++],k=R[B++],c(X=v,q=f,v=R[B++],f=R[B++],z,k,$,Y,V,N=g.A,x);break;case"a":$=R[B++],Y=R[B++],V=R[B++],z=R[B++],k=R[B++],c(X=v,q=f,v+=R[B++],f+=R[B++],z,k,$,Y,V,N=g.A,x)}}("z"===E||"Z"===E)&&(x.addData(N=g.Z),v=p,f=S),C=N}return x.toStatic(),x}(d);return(v=v||{}).buildPath=function(p){var S;p.setData?(p.setData(f.data),(S=p.getContext())&&p.rebuildPath(S)):f.rebuildPath(S=p)},v.applyTransform=function(p){t(f,p),this.dirty(!0)},v}U.createFromString=function s(d,v){return new T(e(d,v))},U.extendFromString=function r(d,v){return T.extend(e(d,v))},U.mergePath=function l(d,v){for(var f=[],p=d.length,S=0;S<p;S++){var C=d[S];C.path||C.createPathProxy(),C.__dirtyPath&&C.buildPath(C.path,C.shape,!0),f.push(C.path)}var x=new T(v);return x.createPathProxy(),x.buildPath=function(g){g.appendPath(f);var m=g.getContext();m&&g.rebuildPath(m)},x}},36816:(j,U,i)=>{var T=i(87034),t=i(8544).applyTransform,M=T.CMD,I=[[],[],[]],D=Math.sqrt,b=Math.atan2;j.exports=function y(h,n){var o,a,u,e,s,c=h.data,l=M.M,d=M.C,v=M.L,f=M.R,p=M.A,S=M.Q;for(u=0,e=0;u<c.length;){switch(o=c[u++],e=u,a=0,o){case l:case v:a=1;break;case d:a=3;break;case S:a=2;break;case p:var C=n[4],x=n[5],g=D(n[0]*n[0]+n[1]*n[1]),m=D(n[2]*n[2]+n[3]*n[3]),A=b(-n[1]/m,n[0]/g);c[u]*=g,c[u++]+=C,c[u]*=m,c[u++]+=x,c[u++]*=g,c[u++]*=m,c[u++]+=A,c[u++]+=A,e=u+=2;break;case f:r[0]=c[u++],r[1]=c[u++],t(r,r,n),c[e++]=r[0],c[e++]=r[1],r[0]+=c[u++],r[1]+=c[u++],t(r,r,n),c[e++]=r[0],c[e++]=r[1]}for(s=0;s<a;s++){var r;(r=I[s])[0]=c[u++],r[1]=c[u++],t(r,r,n),c[e++]=r[0],c[e++]=r[1]}}}},67274:(j,U,i)=>{var T=i(94896),w=i(98822),M=i(66615).each;function I(h){return parseInt(h,10)}function D(h,n){w.initVML(),this.root=h,this.storage=n;var c=document.createElement("div"),o=document.createElement("div");c.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",o.style.cssText="position:absolute;left:0;top:0;",h.appendChild(c),this._vmlRoot=o,this._vmlViewport=c,this.resize();var a=n.delFromStorage,u=n.addToStorage;n.delFromStorage=function(e){a.call(n,e),e&&e.onRemove&&e.onRemove(o)},n.addToStorage=function(e){e.onAdd&&e.onAdd(o),u.call(n,e)},this._firstPaint=!0}D.prototype={constructor:D,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var h=this.getViewportRoot();if(h)return{offsetLeft:h.offsetLeft||0,offsetTop:h.offsetTop||0}},refresh:function(){var h=this.storage.getDisplayList(!0,!0);this._paintList(h)},_paintList:function(h){for(var n=this._vmlRoot,c=0;c<h.length;c++){var o=h[c];o.invisible||o.ignore?(o.__alreadyNotVisible||o.onRemove(n),o.__alreadyNotVisible=!0):(o.__alreadyNotVisible&&o.onAdd(n),o.__alreadyNotVisible=!1,o.__dirty&&(o.beforeBrush&&o.beforeBrush(),(o.brushVML||o.brush).call(o,n),o.afterBrush&&o.afterBrush())),o.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(n),this._firstPaint=!1)},resize:function(c,o){if(c=c??this._getWidth(),o=o??this._getHeight(),this._width!==c||this._height!==o){this._width=c,this._height=o;var a=this._vmlViewport.style;a.width=c+"px",a.height=o+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var h=this.root,n=h.currentStyle;return(h.clientWidth||I(n.width))-I(n.paddingLeft)-I(n.paddingRight)|0},_getHeight:function(){var h=this.root,n=h.currentStyle;return(h.clientHeight||I(n.height))-I(n.paddingTop)-I(n.paddingBottom)|0}},M(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(h){D.prototype[h]=function b(h){return function(){T('In IE8.0 VML mode painter not support method "'+h+'"')}}(h)}),j.exports=D},98822:(j,U,i)=>{var b,T=i(71156),w="urn:schemas-microsoft-com:vml",t=typeof window>"u"?null:window,M=!1,I=t&&t.document;if(I&&!T.canvasSupported)try{!I.namespaces.zrvml&&I.namespaces.add("zrvml",w),b=function(h){return I.createElement("<zrvml:"+h+' class="zrvml">')}}catch{b=function(n){return I.createElement("<"+n+' xmlns="'+w+'" class="zrvml">')}}U.doc=I,U.createNode=function D(h){return b(h)},U.initVML=function y(){if(!M&&I){M=!0;var h=I.styleSheets;h.length<31?I.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):h[0].addRule(".zrvml","behavior:url(#default#VML)")}}},41412:(j,U,i)=>{var T=i(71156),t=i(8544).applyTransform,M=i(94525),I=i(10754),D=i(50585),b=i(12322),y=i(68434),h=i(84081),n=i(48418),c=i(62018),o=i(40465),a=i(87034),u=i(40808),e=i(98822),s=a.CMD,r=Math.round,l=Math.sqrt,d=Math.abs,v=Math.cos,f=Math.sin,p=Math.max;if(!T.canvasSupported){var S=",",C="progid:DXImageTransform.Microsoft",x=21600,g=x/2,L=function(yt){yt.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",yt.coordsize=x+","+x,yt.coordorigin="0,0"},N=function(yt,Tt,Pt){return"rgb("+[yt,Tt,Pt].join(",")+")"},R=function(yt,Tt){Tt&&yt&&Tt.parentNode!==yt&&yt.appendChild(Tt)},F=function(yt,Tt){Tt&&yt&&Tt.parentNode===yt&&yt.removeChild(Tt)},H=function(yt,Tt,Pt){return 1e5*(parseFloat(yt)||0)+1e3*(parseFloat(Tt)||0)+Pt},B=b.parsePercent,Z=function(yt,Tt,Pt){var Zt=I.parse(Tt);Pt=+Pt,isNaN(Pt)&&(Pt=1),Zt&&(yt.color=N(Zt[0],Zt[1],Zt[2]),yt.opacity=Pt*Zt[3])},W=function(yt){var Tt=I.parse(yt);return[N(Tt[0],Tt[1],Tt[2]),Tt[3]]},V=function(yt,Tt,Pt,Zt){var Vt="fill"===Tt,ft=yt.getElementsByTagName(Tt)[0];null!=Pt[Tt]&&"none"!==Pt[Tt]&&(Vt||!Vt&&Pt.lineWidth)?(yt[Vt?"filled":"stroked"]="true",Pt[Tt]instanceof u&&F(yt,ft),ft||(ft=e.createNode(Tt)),Vt?function(yt,Tt,Pt){var Zt=Tt.fill;if(null!=Zt)if(Zt instanceof u){var Vt,ft=0,xt=[0,0],wt=0,Nt=1,Ot=Pt.getBoundingRect(),It=Ot.width,Ft=Ot.height;if("linear"===Zt.type){Vt="gradient";var qt=[Zt.x*It,Zt.y*Ft],te=[Zt.x2*It,Zt.y2*Ft];(Jt=Pt.transform)&&(t(qt,qt,Jt),t(te,te,Jt)),(ft=180*Math.atan2(te[0]-qt[0],te[1]-qt[1])/Math.PI)<0&&(ft+=360),ft<1e-6&&(ft=0)}else{Vt="gradientradial";var Jt,Ce=Pt.scale,Se=It,Be=Ft;xt=[((qt=[Zt.x*It,Zt.y*Ft])[0]-Ot.x)/Se,(qt[1]-Ot.y)/Be],(Jt=Pt.transform)&&t(qt,qt,Jt);var ze=p(Se/=Ce[0]*x,Be/=Ce[1]*x);Nt=2*Zt.r/ze-(wt=0/ze)}var ue=Zt.colorStops.slice();ue.sort(function(He,tr){return He.offset-tr.offset});for(var he=ue.length,Ie=[],we=[],Ae=0;Ae<he;Ae++){var Oe=ue[Ae],rr=W(Oe.color);we.push(Oe.offset*Nt+wt+" "+rr[0]),(0===Ae||Ae===he-1)&&Ie.push(rr)}if(he>=2){var vr=Ie[0][0],ae=Ie[1][0],ar=Ie[0][1]*Tt.opacity,Je=Ie[1][1]*Tt.opacity;yt.type=Vt,yt.method="none",yt.focus="100%",yt.angle=ft,yt.color=vr,yt.color2=ae,yt.colors=we.join(","),yt.opacity=Je,yt.opacity2=ar}"radial"===Vt&&(yt.focusposition=xt.join(","))}else Z(yt,Zt,Tt.opacity)}(ft,Pt,Zt):function(yt,Tt){Tt.lineDash&&(yt.dashstyle=Tt.lineDash.join(" ")),null!=Tt.stroke&&!(Tt.stroke instanceof u)&&Z(yt,Tt.stroke,Tt.opacity)}(ft,Pt),R(yt,ft)):(yt[Vt?"filled":"stroked"]="false",F(yt,ft))},z=[[],[],[]];o.prototype.brushVML=function(yt){var Tt=this.style,Pt=this._vmlEl;Pt||(Pt=e.createNode("shape"),L(Pt),this._vmlEl=Pt),V(Pt,"fill",Tt,this),V(Pt,"stroke",Tt,this);var Zt=this.transform,Vt=null!=Zt,ft=Pt.getElementsByTagName("stroke")[0];if(ft){var xt=Tt.lineWidth;Vt&&!Tt.strokeNoScale&&(xt*=l(d(Zt[0]*Zt[3]-Zt[1]*Zt[2]))),ft.weight=xt+"px"}var Nt=this.path||(this.path=new a);this.__dirtyPath&&(Nt.beginPath(),Nt.subPixelOptimize=!1,this.buildPath(Nt,this.shape),Nt.toStatic(),this.__dirtyPath=!1),Pt.path=function(yt,Tt){var Nt,Ot,It,Ft,Jt,qt,Pt=s.M,Zt=s.C,Vt=s.L,ft=s.A,xt=s.Q,wt=[],te=yt.data,se=yt.len();for(Ft=0;Ft<se;){switch(Ot="",Nt=0,It=te[Ft++]){case Pt:Ot=" m ",Nt=1,Jt=te[Ft++],qt=te[Ft++],z[0][0]=Jt,z[0][1]=qt;break;case Vt:Ot=" l ",Nt=1,Jt=te[Ft++],qt=te[Ft++],z[0][0]=Jt,z[0][1]=qt;break;case xt:case Zt:Ot=" c ",Nt=3;var Se,Be,pt=te[Ft++],Mt=te[Ft++],ge=te[Ft++],Ce=te[Ft++];It===xt?(Se=ge,Be=Ce,ge=(ge+2*pt)/3,Ce=(Ce+2*Mt)/3,pt=(Jt+2*pt)/3,Mt=(qt+2*Mt)/3):(Se=te[Ft++],Be=te[Ft++]),z[0][0]=pt,z[0][1]=Mt,z[1][0]=ge,z[1][1]=Ce,z[2][0]=Se,z[2][1]=Be,Jt=Se,qt=Be;break;case ft:var ze=0,ue=0,he=1,Ie=1,we=0;Tt&&(ze=Tt[4],ue=Tt[5],he=l(Tt[0]*Tt[0]+Tt[1]*Tt[1]),Ie=l(Tt[2]*Tt[2]+Tt[3]*Tt[3]),we=Math.atan2(-Tt[1]/Ie,Tt[0]/he));var Ae=te[Ft++],Oe=te[Ft++],rr=te[Ft++],vr=te[Ft++],ae=te[Ft++]+we,ar=te[Ft++]+ae+we;Ft++;var Je=te[Ft++],He=Ae+v(ae)*rr,tr=Oe+f(ae)*vr,kt=(pt=Ae+v(ar)*rr,Mt=Oe+f(ar)*vr,Je?" wa ":" at ");Math.abs(He-pt)<1e-4&&(Math.abs(ar-ae)>.01?Je&&(He+=270/x):Math.abs(tr-Oe)<1e-4?Je&&He<Ae||!Je&&He>Ae?Mt-=270/x:Mt+=270/x:Je&&tr<Oe||!Je&&tr>Oe?pt+=270/x:pt-=270/x),wt.push(kt,r(((Ae-rr)*he+ze)*x-g),S,r(((Oe-vr)*Ie+ue)*x-g),S,r(((Ae+rr)*he+ze)*x-g),S,r(((Oe+vr)*Ie+ue)*x-g),S,r((He*he+ze)*x-g),S,r((tr*Ie+ue)*x-g),S,r((pt*he+ze)*x-g),S,r((Mt*Ie+ue)*x-g)),Jt=pt,qt=Mt;break;case s.R:var Ht=z[0],Qt=z[1];Ht[0]=te[Ft++],Ht[1]=te[Ft++],Qt[0]=Ht[0]+te[Ft++],Qt[1]=Ht[1]+te[Ft++],Tt&&(t(Ht,Ht,Tt),t(Qt,Qt,Tt)),Ht[0]=r(Ht[0]*x-g),Qt[0]=r(Qt[0]*x-g),Ht[1]=r(Ht[1]*x-g),Qt[1]=r(Qt[1]*x-g),wt.push(" m ",Ht[0],S,Ht[1]," l ",Qt[0],S,Ht[1]," l ",Qt[0],S,Qt[1]," l ",Ht[0],S,Qt[1]);break;case s.Z:wt.push(" x ")}if(Nt>0){wt.push(Ot);for(var ce=0;ce<Nt;ce++){var Re=z[ce];Tt&&t(Re,Re,Tt),wt.push(r(Re[0]*x-g),S,r(Re[1]*x-g),ce<Nt-1?S:"")}}}return wt.join("")}(Nt,this.transform),Pt.style.zIndex=H(this.zlevel,this.z,this.z2),R(yt,Pt),null!=Tt.text?this.drawRectText(yt,this.getBoundingRect()):this.removeRectText(yt)},o.prototype.onRemove=function(yt){F(yt,this._vmlEl),this.removeRectText(yt)},o.prototype.onAdd=function(yt){R(yt,this._vmlEl),this.appendRectText(yt)},n.prototype.brushVML=function(yt){var Zt,Vt,Tt=this.style,Pt=Tt.image;if(function(yt){return"object"==typeof yt&&yt.tagName&&"IMG"===yt.tagName.toUpperCase()}(Pt)){var ft=Pt.src;if(ft===this._imageSrc)Zt=this._imageWidth,Vt=this._imageHeight;else{var xt=Pt.runtimeStyle,wt=xt.width,Nt=xt.height;xt.width="auto",xt.height="auto",Zt=Pt.width,Vt=Pt.height,xt.width=wt,xt.height=Nt,this._imageSrc=ft,this._imageWidth=Zt,this._imageHeight=Vt}Pt=ft}else Pt===this._imageSrc&&(Zt=this._imageWidth,Vt=this._imageHeight);if(Pt){var Ot=Tt.x||0,It=Tt.y||0,Ft=Tt.width,Jt=Tt.height,qt=Tt.sWidth,te=Tt.sHeight,se=Tt.sx||0,ge=Tt.sy||0,Ce=qt&&te,Se=this._vmlEl;Se||(Se=e.doc.createElement("div"),L(Se),this._vmlEl=Se);var ue,Be=Se.style,ze=!1,he=1,Ie=1;if(this.transform&&(he=l((ue=this.transform)[0]*ue[0]+ue[1]*ue[1]),Ie=l(ue[2]*ue[2]+ue[3]*ue[3]),ze=ue[1]||ue[2]),ze){var we=[Ot,It],Ae=[Ot+Ft,It],Oe=[Ot,It+Jt],rr=[Ot+Ft,It+Jt];t(we,we,ue),t(Ae,Ae,ue),t(Oe,Oe,ue),t(rr,rr,ue);var vr=p(we[0],Ae[0],Oe[0],rr[0]),ae=p(we[1],Ae[1],Oe[1],rr[1]),ar=[];ar.push("M11=",ue[0]/he,S,"M12=",ue[2]/Ie,S,"M21=",ue[1]/he,S,"M22=",ue[3]/Ie,S,"Dx=",r(Ot*he+ue[4]),S,"Dy=",r(It*Ie+ue[5])),Be.padding="0 "+r(vr)+"px "+r(ae)+"px 0",Be.filter=C+".Matrix("+ar.join("")+", SizingMethod=clip)"}else ue&&(Ot=Ot*he+ue[4],It=It*Ie+ue[5]),Be.filter="",Be.left=r(Ot)+"px",Be.top=r(It)+"px";var Je=this._imageEl,He=this._cropEl;Je||(Je=e.doc.createElement("div"),this._imageEl=Je);var tr=Je.style;if(Ce){if(Zt&&Vt)tr.width=r(he*Zt*Ft/qt)+"px",tr.height=r(Ie*Vt*Jt/te)+"px";else{var pt=new Image,Mt=this;pt.onload=function(){pt.onload=null,Vt=pt.height,tr.width=r(he*(Zt=pt.width)*Ft/qt)+"px",tr.height=r(Ie*Vt*Jt/te)+"px",Mt._imageWidth=Zt,Mt._imageHeight=Vt,Mt._imageSrc=Pt},pt.src=Pt}He||((He=e.doc.createElement("div")).style.overflow="hidden",this._cropEl=He);var kt=He.style;kt.width=r((Ft+se*Ft/qt)*he),kt.height=r((Jt+ge*Jt/te)*Ie),kt.filter=C+".Matrix(Dx="+-se*Ft/qt*he+",Dy="+-ge*Jt/te*Ie+")",He.parentNode||Se.appendChild(He),Je.parentNode!==He&&He.appendChild(Je)}else tr.width=r(he*Ft)+"px",tr.height=r(Ie*Jt)+"px",Se.appendChild(Je),He&&He.parentNode&&(Se.removeChild(He),this._cropEl=null);var Ht="",Qt=Tt.opacity;Qt<1&&(Ht+=".Alpha(opacity="+r(100*Qt)+") "),tr.filter=Ht+=C+".AlphaImageLoader(src="+Pt+", SizingMethod=scale)",Se.style.zIndex=H(this.zlevel,this.z,this.z2),R(yt,Se),null!=Tt.text&&this.drawRectText(yt,this.getBoundingRect())}},n.prototype.onRemove=function(yt){F(yt,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(yt)},n.prototype.onAdd=function(yt){R(yt,this._vmlEl),this.appendRectText(yt)};var ht,q="normal",et={},rt=0,lt=document.createElement("div");D.$override("measureText",function(yt,Tt){var Pt=e.doc;ht||((ht=Pt.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",e.doc.body.appendChild(ht));try{ht.style.font=Tt}catch{}return ht.innerHTML="",ht.appendChild(Pt.createTextNode(yt)),{width:ht.offsetWidth}});for(var gt=new M,at=function(yt,Tt,Pt,Zt){var Vt=this.style;this.__dirty&&b.normalizeTextStyle(Vt,!0);var ft=Vt.text;if(null!=ft&&(ft+=""),ft){if(Vt.rich){var xt=D.parseRichText(ft,Vt);ft=[];for(var wt=0;wt<xt.lines.length;wt++){for(var Nt=xt.lines[wt].tokens,Ot=[],It=0;It<Nt.length;It++)Ot.push(Nt[It].text);ft.push(Ot.join(""))}ft=ft.join("\n")}var Ft,Jt,qt=Vt.textAlign,te=Vt.textVerticalAlign,se=function(yt){var Tt=et[yt];if(!Tt){rt>100&&(rt=0,et={});var Zt,Pt=lt.style;try{Pt.font=yt,Zt=Pt.fontFamily.split(",")[0]}catch{}Tt={style:Pt.fontStyle||q,variant:Pt.fontVariant||q,weight:Pt.fontWeight||q,size:0|parseFloat(Pt.fontSize||12),family:Zt||"Microsoft YaHei"},et[yt]=Tt,rt++}return Tt}(Vt.font),ge=se.style+" "+se.variant+" "+se.weight+" "+se.size+'px "'+se.family+'"';Pt=Pt||D.getBoundingRect(ft,ge,qt,te,Vt.textPadding,Vt.textLineHeight);var Ce=this.transform;if(Ce&&!Zt&&(gt.copy(Tt),gt.applyTransform(Ce),Tt=gt),Zt)Ft=Tt.x,Jt=Tt.y;else{var Se=Vt.textPosition;if(Se instanceof Array)Ft=Tt.x+B(Se[0],Tt.width),Jt=Tt.y+B(Se[1],Tt.height),qt=qt||"left";else{var Be=this.calculateTextPosition?this.calculateTextPosition({},Vt,Tt):D.calculateTextPosition({},Vt,Tt);Ft=Be.x,Jt=Be.y,qt=qt||Be.textAlign,te=te||Be.textVerticalAlign}}Ft=D.adjustTextX(Ft,Pt.width,qt),Jt=D.adjustTextY(Jt,Pt.height,te),Jt+=Pt.height/2;var he,Ie,we,ze=e.createNode,ue=this._textVmlEl;ue?Ie=(he=(we=ue.firstChild).nextSibling).nextSibling:(ue=ze("line"),he=ze("path"),Ie=ze("textpath"),we=ze("skew"),Ie.style["v-text-align"]="left",L(ue),he.textpathok=!0,Ie.on=!0,ue.from="0 0",ue.to="1000 0.05",R(ue,we),R(ue,he),R(ue,Ie),this._textVmlEl=ue);var Ae=[Ft,Jt],Oe=ue.style;Ce&&Zt?(t(Ae,Ae,Ce),we.on=!0,we.matrix=Ce[0].toFixed(3)+S+Ce[2].toFixed(3)+S+Ce[1].toFixed(3)+S+Ce[3].toFixed(3)+",0,0",we.offset=(r(Ae[0])||0)+","+(r(Ae[1])||0),we.origin="0 0",Oe.left="0px",Oe.top="0px"):(we.on=!1,Oe.left=r(Ft)+"px",Oe.top=r(Jt)+"px"),Ie.string=function(yt){return String(yt).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}(ft);try{Ie.style.font=ge}catch{}V(ue,"fill",{fill:Vt.textFill,opacity:Vt.opacity},this),V(ue,"stroke",{stroke:Vt.textStroke,opacity:Vt.opacity,lineDash:Vt.lineDash||null},this),ue.style.zIndex=H(this.zlevel,this.z,this.z2),R(yt,ue)}},ut=function(yt){F(yt,this._textVmlEl),this._textVmlEl=null},Ct=function(yt){R(yt,this._textVmlEl)},_t=[y,h,n,o,c],bt=0;bt<_t.length;bt++){var Rt=_t[bt].prototype;Rt.drawRectText=at,Rt.removeRectText=ut,Rt.appendRectText=Ct}c.prototype.brushVML=function(yt){var Tt=this.style;null!=Tt.text?this.drawRectText(yt,{x:Tt.x||0,y:Tt.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(yt)},c.prototype.onRemove=function(yt){this.removeRectText(yt)},c.prototype.onAdd=function(yt){this.appendRectText(yt)}}},41545:(j,U,i)=>{i(41412),(0,i(47540).registerPainter)("vml",i(67274))},47540:(j,U,i)=>{var T=i(77369),w=i(71156),t=i(66615),M=i(28718),I=i(61760),D=i(63598),b=i(57849),y=i(225),h=!w.canvasSupported,n={canvas:D},c={},l=function(d,v,f){f=f||{},this.dom=v,this.id=d;var p=this,S=new I,C=f.renderer;if(h){if(!n.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");C="vml"}else(!C||!n[C])&&(C="canvas");var x=new n[C](v,S,f,d);this.storage=S,this.painter=x;var g=w.node||w.worker?null:new y(x.getViewportRoot(),x.root);this.handler=new M(S,x,g,x.root),this.animation=new b({stage:{update:t.bind(this.flush,this)}}),this.animation.start();var m=S.delFromStorage,A=S.addToStorage;S.delFromStorage=function(L){m.call(S,L),L&&L.removeSelfFromZr(p)},S.addToStorage=function(L){A.call(S,L),L.addSelfToZr(p)}};l.prototype={constructor:l,getId:function(){return this.id},add:function(d){this.storage.addRoot(d),this._needsRefresh=!0},remove:function(d){this.storage.delRoot(d),this._needsRefresh=!0},configLayer:function(d,v){this.painter.configLayer&&this.painter.configLayer(d,v),this._needsRefresh=!0},setBackgroundColor:function(d){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(d),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var d;this._needsRefresh&&(d=!0,this.refreshImmediately()),this._needsRefreshHover&&(d=!0,this.refreshHoverImmediately()),d&&this.trigger("rendered")},addHover:function(d,v){if(this.painter.addHover){var f=this.painter.addHover(d,v);return this.refreshHover(),f}},removeHover:function(d){this.painter.removeHover&&(this.painter.removeHover(d),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(d){this.painter.resize((d=d||{}).width,d.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(d,v){return this.painter.pathToImage(d,v)},setCursorStyle:function(d){this.handler.setCursorStyle(d)},findHover:function(d,v){return this.handler.findHover(d,v)},on:function(d,v,f){this.handler.on(d,v,f)},off:function(d,v){this.handler.off(d,v)},trigger:function(d,v){this.handler.trigger(d,v)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function r(d){delete c[d]}(this.id)}},U.version="4.3.2",U.init=function a(d,v){var f=new l(T(),d,v);return c[f.id]=f,f},U.dispose=function u(d){if(d)d.dispose();else{for(var v in c)c.hasOwnProperty(v)&&c[v].dispose();c={}}return this},U.getInstance=function e(d){return c[d]},U.registerPainter=function s(d,v){n[d]=v}}}]);